/**
 * Tutorial Page - W3Schools Style Interactive Learning
 * Features: Sidebar navigation, lesson content, Try It Yourself editor, quizzes
 */

import React, { useState, useEffect, useMemo } from 'react';
import {
  Box, Typography, Paper, Button, IconButton, Chip, Grid, List, ListItem,
  ListItemText, Collapse, Divider, Drawer, useMediaQuery, useTheme,
  LinearProgress, Tooltip, TextField, Dialog, DialogTitle, DialogContent,
  DialogActions, Radio, RadioGroup, FormControlLabel, FormControl,
} from '@mui/material';
import { styled, alpha } from '@mui/material/styles';
import { useParams, useNavigate } from 'react-router-dom';
import ArrowBackIcon from '@mui/icons-material/ArrowBack';
import ArrowForwardIcon from '@mui/icons-material/ArrowForward';
import MenuIcon from '@mui/icons-material/Menu';
import ExpandMoreIcon from '@mui/icons-material/ExpandMore';
import ExpandLessIcon from '@mui/icons-material/ExpandLess';
import ChevronLeftIcon from '@mui/icons-material/ChevronLeft';
import ChevronRightIcon from '@mui/icons-material/ChevronRight';
import CheckCircleIcon from '@mui/icons-material/CheckCircle';
import RadioButtonUncheckedIcon from '@mui/icons-material/RadioButtonUnchecked';
import PlayArrowIcon from '@mui/icons-material/PlayArrow';
import QuizIcon from '@mui/icons-material/Quiz';
import CodeIcon from '@mui/icons-material/Code';
import EmojiEventsIcon from '@mui/icons-material/EmojiEvents';
import WorkspacePremiumIcon from '@mui/icons-material/WorkspacePremium';
import LightModeIcon from '@mui/icons-material/LightMode';
import DarkModeIcon from '@mui/icons-material/DarkMode';
import ContentCopyIcon from '@mui/icons-material/ContentCopy';
import RefreshIcon from '@mui/icons-material/Refresh';
import FullscreenIcon from '@mui/icons-material/Fullscreen';
import HomeIcon from '@mui/icons-material/Home';
import { getTutorialBySlug, Tutorial, Chapter, Lesson } from '../../data/curriculum';

// Styled Components
const PageContainer = styled(Box)({
  display: 'flex',
  minHeight: '100%',
  backgroundColor: '#f8fafc',
});

const Sidebar = styled(Box)<{ tutorialColor: string; collapsed?: boolean }>(({ tutorialColor, collapsed }) => ({
  width: collapsed ? 0 : 280,
  minWidth: collapsed ? 0 : 280,
  backgroundColor: '#fff',
  borderRight: collapsed ? 'none' : '1px solid #e2e8f0',
  position: 'fixed',
  left: 0,
  top: 64, // Right below header
  bottom: 80, // Above bottom nav
  overflowX: 'hidden',
  overflowY: 'auto',
  transition: 'all 0.3s ease',
  opacity: collapsed ? 0 : 1,
  display: 'flex',
  flexDirection: 'column',
  zIndex: 10,
  '& .sidebar-header': {
    padding: 16,
    borderBottom: '1px solid #e2e8f0',
    backgroundColor: tutorialColor,
    color: '#fff',
    flexShrink: 0,
  },
  '& .sidebar-list': {
    flex: 1,
    overflowY: 'auto',
    backgroundColor: '#fff',
  },
}));

const SidebarToggle = styled(IconButton)<{ tutorialColor?: string; sidebarVisible?: boolean }>(({ tutorialColor, sidebarVisible = true }) => ({
  position: 'fixed',
  left: sidebarVisible ? 264 : 8,
  top: 72,
  zIndex: 1200,
  backgroundColor: tutorialColor || '#0d47a1',
  color: '#fff',
  width: 32,
  height: 32,
  boxShadow: '0 2px 8px rgba(0,0,0,0.15)',
  transition: 'left 0.3s ease',
  '&:hover': {
    backgroundColor: tutorialColor || '#0d47a1',
    opacity: 0.9,
  },
}));

const MainContent = styled(Box)<{ sidebarVisible?: boolean }>(({ sidebarVisible = true }) => ({
  flex: 1,
  display: 'flex',
  flexDirection: 'column',
  marginLeft: sidebarVisible ? 280 : 0,
  transition: 'margin-left 0.3s ease',
}));

const LessonContent = styled(Box)({
  flex: 1,
  padding: '24px 40px',
  width: '100%',
});

const ChapterItem = styled(ListItem)<{ active?: boolean }>(({ active }) => ({
  cursor: 'pointer',
  backgroundColor: active ? alpha('#0d47a1', 0.05) : 'transparent',
  '&:hover': {
    backgroundColor: alpha('#0d47a1', 0.03),
  },
}));

const LessonItem = styled(ListItem)<{ active?: boolean; completed?: boolean; color?: string }>(
  ({ active, completed, color }) => ({
    paddingLeft: 32,
    cursor: 'pointer',
    backgroundColor: active ? alpha(color || '#0d47a1', 0.1) : 'transparent',
    borderLeft: active ? `3px solid ${color || '#0d47a1'}` : '3px solid transparent',
    '&:hover': {
      backgroundColor: alpha(color || '#0d47a1', 0.05),
    },
  })
);

const CodeEditor = styled(Box)<{ darkMode?: boolean }>(({ darkMode }) => ({
  fontFamily: '"Fira Code", "Monaco", "Consolas", monospace',
  fontSize: 14,
  lineHeight: 1.6,
  padding: 20,
  borderRadius: 8,
  backgroundColor: darkMode ? '#1e1e1e' : '#f5f5f5',
  color: darkMode ? '#d4d4d4' : '#333',
  overflow: 'auto',
  whiteSpace: 'pre-wrap',
  border: `1px solid ${darkMode ? '#333' : '#e0e0e0'}`,
}));

const TryItEditor = styled(Box)<{ darkMode?: boolean }>(({ darkMode }) => ({
  backgroundColor: darkMode ? '#1e1e1e' : '#fff',
  borderRadius: 12,
  overflow: 'hidden',
  border: `1px solid ${darkMode ? '#333' : '#e0e0e0'}`,
  boxShadow: '0 4px 20px rgba(0,0,0,0.1)',
}));

const EditorHeader = styled(Box)<{ color?: string }>(({ color }) => ({
  backgroundColor: color || '#0d47a1',
  color: '#fff',
  padding: '10px 16px',
  display: 'flex',
  alignItems: 'center',
  justifyContent: 'space-between',
}));

const ResultFrame = styled(Box)({
  backgroundColor: '#fff',
  minHeight: 200,
  padding: 20,
  borderTop: '1px solid #e0e0e0',
});

const NavigationBar = styled(Box)<{ color?: string }>(({ color }) => ({
  position: 'sticky',
  bottom: 0,
  backgroundColor: '#fff',
  borderTop: '1px solid #e2e8f0',
  padding: '12px 24px',
  display: 'flex',
  justifyContent: 'space-between',
  alignItems: 'center',
  zIndex: 10,
}));

const ProgressBar = styled(LinearProgress)<{ barColor?: string }>(({ barColor }) => ({
  height: 4,
  backgroundColor: alpha(barColor || '#0d47a1', 0.1),
  '& .MuiLinearProgress-bar': {
    backgroundColor: barColor || '#0d47a1',
  },
}));

// Comprehensive HTML lesson content generator
const generateHTMLLessonContent = (lessonSlug: string) => {
  const htmlLessons: Record<string, any> = {
    editors: {
      title: 'HTML Editors',
      content: `
# HTML Editors

Learn HTML using a professional code editor.

## Write HTML Using Notepad or TextEdit

Web pages can be created using simple text editors.

We recommend using a professional code editor to learn HTML:

- **Visual Studio Code** (Recommended) - Free, powerful, and widely used
- **Sublime Text** - Fast and lightweight
- **Atom** - Open source and customizable
- **Notepad++** - Simple and effective for Windows

## Why VS Code?

- Free and open source
- Great syntax highlighting
- Built-in terminal
- Extensions for HTML, CSS, JavaScript
- Live preview support
- IntelliSense (code completion)

## Step 1: Open VS Code

After installing VS Code, open it and create a new file.

## Step 2: Write Some HTML

<pre><code class="html">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;My First Page&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Hello World!&lt;/h1&gt;
    &lt;p&gt;This is my first web page.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

## Step 3: Save the File

Save the file with a **.html** extension (e.g., <code>index.html</code>).

## Step 4: View in Browser

Open the HTML file in your web browser to see the result!
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
    <title>My First Page</title>
</head>
<body>
    <h1>Hello World!</h1>
    <p>This is my first web page.</p>
    <p>I created this using an HTML editor!</p>
</body>
</html>`,
    },
    basic: {
      title: 'HTML Basic Examples',
      content: `
# HTML Basic Examples

Let's look at some basic HTML examples.

## HTML Documents

All HTML documents must start with a document type declaration:

<pre><code class="html">
&lt;!DOCTYPE html&gt;
</code></pre>

The HTML document itself begins with <code><html></code> and ends with <code></html></code>.

The visible part is between <code><body></code> and <code></body></code>.

## HTML Headings

HTML headings are defined with <code><h1></code> to <code><h6></code> tags:

<pre><code class="html">
&lt;h1&gt;This is heading 1&lt;/h1&gt;
&lt;h2&gt;This is heading 2&lt;/h2&gt;
&lt;h3&gt;This is heading 3&lt;/h3&gt;
</code></pre>

## HTML Paragraphs

HTML paragraphs are defined with the <code><p></code> tag:

<pre><code class="html">
&lt;p&gt;This is a paragraph.&lt;/p&gt;
&lt;p&gt;This is another paragraph.&lt;/p&gt;
</code></pre>

## HTML Links

HTML links are defined with the <code><a></code> tag:

<pre><code class="html">
&lt;a href="https://www.vertechie.com"&gt;Visit VerTechie&lt;/a&gt;
</code></pre>

## HTML Images

HTML images are defined with the <code><img></code> tag:

<pre><code class="html">
&lt;img src="image.jpg" alt="Description" width="300" height="200"&gt;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h1>My First Heading</h1>
<h2>My Second Heading</h2>

<p>My first paragraph.</p>
<p>My second paragraph.</p>

<a href="https://www.vertechie.com" target="_blank">Visit VerTechie</a>

<br><br>

<img src="https://via.placeholder.com/300x200" alt="Placeholder Image">

</body>
</html>`,
    },
    attributes: {
      title: 'HTML Attributes',
      content: `
# HTML Attributes

HTML attributes provide additional information about elements.

## Key Points About Attributes

- All HTML elements can have **attributes**
- Attributes provide **additional information** about elements
- Attributes are always specified in the **start tag**
- Attributes usually come in **name/value pairs** like: <code>name="value"</code>

## The href Attribute

The <code><a></code> tag defines a hyperlink. The <code>href</code> attribute specifies the URL:

<pre><code class="html">
&lt;a href="https://www.vertechie.com"&gt;Visit VerTechie&lt;/a&gt;
</code></pre>

## The src Attribute

The <code><img></code> tag embeds an image. The <code>src</code> attribute specifies the path:

<pre><code class="html">
&lt;img src="image.jpg"&gt;
</code></pre>

## The width and height Attributes

The <code><img></code> tag should also have <code>width</code> and <code>height</code> attributes:

<pre><code class="html">
&lt;img src="image.jpg" width="500" height="300"&gt;
</code></pre>

## The alt Attribute

The <code>alt</code> attribute provides alternate text for an image:

<pre><code class="html">
&lt;img src="image.jpg" alt="A beautiful sunset"&gt;
</code></pre>

## The style Attribute

The <code>style</code> attribute adds styles to an element:

<pre><code class="html">
&lt;p style="color:red;"&gt;This is a red paragraph.&lt;/p&gt;
</code></pre>

## The title Attribute

The <code>title</code> attribute provides extra information (shown as a tooltip):

<pre><code class="html">
&lt;p title="I'm a tooltip"&gt;Hover over me!&lt;/p&gt;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>HTML Attributes Example</h2>

<a href="https://www.vertechie.com" title="Go to VerTechie">Visit VerTechie</a>

<br><br>

<img src="https://via.placeholder.com/400x200" alt="Placeholder" width="400" height="200">

<p style="color: blue; font-size: 18px;">This paragraph has inline styles.</p>

<p title="This is a tooltip - hover to see!">Hover over this text to see the tooltip.</p>

</body>
</html>`,
    },
    headings: {
      title: 'HTML Headings',
      content: `
# HTML Headings

HTML headings are titles or subtitles that you want to display on a webpage.

## HTML Headings

Headings are defined with the <code><h1></code> to <code><h6></code> tags.

<code><h1></code> defines the most important heading. <code><h6></code> defines the least important heading.

<pre><code class="html">
&lt;h1&gt;Heading 1&lt;/h1&gt;
&lt;h2&gt;Heading 2&lt;/h2&gt;
&lt;h3&gt;Heading 3&lt;/h3&gt;
&lt;h4&gt;Heading 4&lt;/h4&gt;
&lt;h5&gt;Heading 5&lt;/h5&gt;
&lt;h6&gt;Heading 6&lt;/h6&gt;
</code></pre>

## Headings Are Important

- Search engines use the headings to index the structure and content of your web pages
- Users often skim a page by its headings
- Use <code><h1></code> for main headings, followed by <code><h2></code>, then <code><h3></code>, and so on

## Bigger Headings

Each HTML heading has a default size. However, you can specify the size:

<pre><code class="html">
&lt;h1 style="font-size:60px;"&gt;Heading 1&lt;/h1&gt;
</code></pre>

## Best Practices

- Use only ONE <code><h1></code> per page - the main title
- Don't skip heading levels (don't go from h1 to h3)
- Use headings for structure, not just to make text big
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h1>This is Heading 1 (Main Title)</h1>
<h2>This is Heading 2</h2>
<h3>This is Heading 3</h3>
<h4>This is Heading 4</h4>
<h5>This is Heading 5</h5>
<h6>This is Heading 6</h6>

<hr>

<h1 style="font-size: 50px; color: navy;">Custom Sized Heading</h1>

<h2 style="color: darkgreen;">Colored Heading</h2>

</body>
</html>`,
    },
    paragraphs: {
      title: 'HTML Paragraphs',
      content: `
# HTML Paragraphs

A paragraph always starts on a new line and is usually a block of text.

## HTML Paragraphs

The HTML <code><p></code> element defines a paragraph.

A paragraph always starts on a new line, and browsers automatically add some white space before and after.

<pre><code class="html">
&lt;p&gt;This is a paragraph.&lt;/p&gt;
&lt;p&gt;This is another paragraph.&lt;/p&gt;
</code></pre>

## HTML Display

You cannot be sure how HTML will be displayed.

Large or small screens, and resized windows will create different results.

With HTML, you cannot change the display by adding extra spaces or extra lines.

## HTML Line Breaks

The HTML <code><br></code> element defines a line break.

Use <code><br></code> if you want a line break without starting a new paragraph:

<pre><code class="html">
&lt;p&gt;This is&lt;br&gt;a paragraph&lt;br&gt;with line breaks.&lt;/p&gt;
</code></pre>

## The Poem Problem

This poem will display on a single line:

<pre><code class="html">
&lt;p&gt;
  Roses are red,
  Violets are blue,
  HTML is cool,
  And so are you!
&lt;/p&gt;
</code></pre>

## The pre Element

The <code><pre></code> element preserves both spaces and line breaks:

<pre><code class="html">
&lt;pre&gt;
  Roses are red,
  Violets are blue,
  HTML is cool,
  And so are you!
&lt;/pre&gt;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>HTML Paragraphs</h2>

<p>This is a paragraph. It contains some text that will wrap according to the browser width.</p>

<p>This is another paragraph. Notice the automatic spacing between paragraphs.</p>

<h2>Line Breaks</h2>

<p>This text has a<br>line break<br>in the middle.</p>

<h2>Preformatted Text</h2>

<pre>
  Roses are red,
    Violets are blue,
      HTML is cool,
        And so are you!
</pre>

</body>
</html>`,
    },
    styles: {
      title: 'HTML Styles',
      content: `
# HTML Styles

The HTML <code>style</code> attribute is used to add styles to an element.

## The HTML Style Attribute

Setting the style of an HTML element can be done with the <code>style</code> attribute.

The syntax is:

<pre><code class="html">
&lt;tagname style="property:value;"&gt;
</code></pre>

## Background Color

The CSS <code>background-color</code> property defines the background color:

<pre><code class="html">
&lt;body style="background-color:powderblue;"&gt;
&lt;h1&gt;This is a heading&lt;/h1&gt;
&lt;p&gt;This is a paragraph.&lt;/p&gt;
&lt;/body&gt;
</code></pre>

## Text Color

The CSS <code>color</code> property defines the text color:

<pre><code class="html">
&lt;h1 style="color:blue;"&gt;This is a heading&lt;/h1&gt;
&lt;p style="color:red;"&gt;This is a paragraph.&lt;/p&gt;
</code></pre>

## Fonts

The CSS <code>font-family</code> property defines the font:

<pre><code class="html">
&lt;h1 style="font-family:verdana;"&gt;This is a heading&lt;/h1&gt;
&lt;p style="font-family:courier;"&gt;This is a paragraph.&lt;/p&gt;
</code></pre>

## Text Size

The CSS <code>font-size</code> property defines the text size:

<pre><code class="html">
&lt;h1 style="font-size:300%;"&gt;Big Heading&lt;/h1&gt;
&lt;p style="font-size:160%;"&gt;Big paragraph.&lt;/p&gt;
</code></pre>

## Text Alignment

The CSS <code>text-align</code> property defines the horizontal alignment:

<pre><code class="html">
&lt;h1 style="text-align:center;"&gt;Centered Heading&lt;/h1&gt;
&lt;p style="text-align:center;"&gt;Centered paragraph.&lt;/p&gt;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<body style="background-color: #f0f8ff;">

<h1 style="color: navy; text-align: center; font-family: Georgia;">
    Welcome to HTML Styles
</h1>

<p style="color: darkgreen; font-size: 18px; font-family: Arial;">
    This paragraph has green text with Arial font.
</p>

<p style="background-color: yellow; padding: 10px;">
    This paragraph has a yellow background.
</p>

<p style="color: white; background-color: black; padding: 15px; text-align: center;">
    White text on black background, centered!
</p>

</body>
</html>`,
    },
    formatting: {
      title: 'HTML Text Formatting',
      content: `
# HTML Text Formatting

HTML contains several elements for formatting text.

## Formatting Elements

- <code><b></code> - Bold text
- <code><strong></code> - Important text
- <code><i></code> - Italic text
- <code><em></code> - Emphasized text
- <code><mark></code> - Marked/highlighted text
- <code><small></code> - Smaller text
- <code><del></code> - Deleted text
- <code><ins></code> - Inserted text
- <code><sub></code> - Subscript text
- <code><sup></code> - Superscript text

## Bold and Strong

<pre><code class="html">
&lt;b&gt;This text is bold&lt;/b&gt;
&lt;strong&gt;This text is important!&lt;/strong&gt;
</code></pre>

## Italic and Emphasized

<pre><code class="html">
&lt;i&gt;This text is italic&lt;/i&gt;
&lt;em&gt;This text is emphasized&lt;/em&gt;
</code></pre>

## Marked Text

<pre><code class="html">
&lt;p&gt;Do not forget to buy &lt;mark&gt;milk&lt;/mark&gt; today.&lt;/p&gt;
</code></pre>

## Deleted and Inserted

<pre><code class="html">
&lt;p&gt;My favorite color is &lt;del&gt;blue&lt;/del&gt; &lt;ins&gt;red&lt;/ins&gt;.&lt;/p&gt;
</code></pre>

## Subscript and Superscript

<pre><code class="html">
&lt;p&gt;H&lt;sub&gt;2&lt;/sub&gt;O is water.&lt;/p&gt;
&lt;p&gt;2&lt;sup&gt;10&lt;/sup&gt; = 1024&lt;/p&gt;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Text Formatting Examples</h2>

<p><b>Bold text</b> and <strong>Strong text</strong></p>

<p><i>Italic text</i> and <em>Emphasized text</em></p>

<p>This is <mark>highlighted</mark> text.</p>

<p>This is <small>smaller</small> text.</p>

<p>My favorite color is <del>blue</del> <ins>red</ins>.</p>

<p>Chemical formula for water: H<sub>2</sub>O</p>

<p>Mathematical expression: 2<sup>10</sup> = 1024</p>

<p>You can <b><i>combine</i></b> formatting elements!</p>

</body>
</html>`,
    },
    quotations: {
      title: 'HTML Quotations',
      content: `
# HTML Quotations

HTML has elements for quotations and citations.

## Blockquote

The <code><blockquote></code> element defines a section quoted from another source:

<pre><code class="html">
&lt;blockquote cite="http://www.worldwildlife.org"&gt;
    For 50 years, WWF has been protecting the future of nature.
&lt;/blockquote&gt;
</code></pre>

## Short Quotations

The <code><q></code> tag defines a short inline quotation:

<pre><code class="html">
&lt;p&gt;WWF's goal is to: &lt;q&gt;Build a future where people live in harmony with nature.&lt;/q&gt;&lt;/p&gt;
</code></pre>

## Abbreviations

The <code><abbr></code> tag defines an abbreviation or acronym:

<pre><code class="html">
&lt;p&gt;The &lt;abbr title="World Health Organization"&gt;WHO&lt;/abbr&gt; was founded in 1948.&lt;/p&gt;
</code></pre>

## Contact Information

The <code><address></code> tag defines contact information:

<pre><code class="html">
&lt;address&gt;
    Written by John Doe.&lt;br&gt;
    Visit us at: Example.com&lt;br&gt;
    Box 564, Disneyland
&lt;/address&gt;
</code></pre>

## Citations

The <code><cite></code> tag defines the title of a creative work:

<pre><code class="html">
&lt;p&gt;&lt;cite&gt;The Scream&lt;/cite&gt; by Edvard Munch. Painted in 1893.&lt;/p&gt;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Blockquote Example</h2>
<blockquote style="border-left: 4px solid #ccc; padding-left: 16px; margin-left: 0;">
    The only way to do great work is to love what you do.
    - Steve Jobs
</blockquote>

<h2>Short Quote</h2>
<p>Einstein said: <q>Imagination is more important than knowledge.</q></p>

<h2>Abbreviation</h2>
<p>The <abbr title="HyperText Markup Language">HTML</abbr> is essential for web development.</p>

<h2>Contact Information</h2>
<address>
    VerTechie Learning Platform<br>
    123 Tech Street<br>
    Silicon Valley, CA 94000<br>
    Email: hello@vertechie.com
</address>

<h2>Citation</h2>
<p><cite>Clean Code</cite> by Robert C. Martin is a must-read for developers.</p>

</body>
</html>`,
    },
    comments: {
      title: 'HTML Comments',
      content: `
# HTML Comments

Comments are not displayed in the browser, but they can help document your HTML source code.

## HTML Comment Tag

You can add comments to your HTML source by using the following syntax:

<pre><code class="html">
&lt;!-- This is a comment --&gt;
</code></pre>

Notice that there is an exclamation point (!) in the start tag, but not in the end tag.

## Why Use Comments?

Comments are useful for:

- **Documentation**: Explain sections of code
- **Debugging**: Temporarily disable code
- **Collaboration**: Leave notes for other developers
- **Organization**: Mark different sections

## Hide Content

Comments can be used to hide content: <pre><code class="html">
&lt;p&gt;This is visible.&lt;/p&gt;
&lt;!-- &lt;p&gt;This is hidden.&lt;/p&gt; --&gt;
&lt;p&gt;This is also visible.&lt;/p&gt;
</code></pre>

## Multi-line Comments

Comments can span multiple lines:

<pre><code class="html">
&lt;!--
  This is a multi-line comment.
  It can span across several lines.
  Very useful for longer explanations.
--&gt;
</code></pre>

## Conditional Comments

Conditional comments were used for Internet Explorer (now deprecated):

<pre><code class="html">
&lt;!--[if IE 9]&gt;
    Special content for IE9
&lt;![endif]--&gt;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<!-- This is the main heading -->
<h1>Welcome to HTML Comments</h1>

<!-- 
    This paragraph explains comments.
    Comments are invisible to users!
-->
<p>This text is visible in the browser.</p>

<!-- The following paragraph is commented out
<p>This text will NOT be displayed!</p>
-->

<!-- Navigation Section -->
<nav>
    <a href="#home">Home</a> |
    <a href="#about">About</a> |
    <a href="#contact">Contact</a>
</nav>

<!-- TODO: Add more content here -->

<p>View the page source to see the comments!</p>

</body>
</html>`,
    },
    colors: {
      title: 'HTML Colors',
      content: `
# HTML Colors

HTML colors are specified with predefined color names or with RGB, HEX, HSL values.

## Color Names

HTML supports 140 standard color names:

<pre><code class="html">
&lt;h1 style="color:Tomato;"&gt;Tomato&lt;/h1&gt;
&lt;h1 style="color:DodgerBlue;"&gt;DodgerBlue&lt;/h1&gt;
&lt;h1 style="color:MediumSeaGreen;"&gt;MediumSeaGreen&lt;/h1&gt;
</code></pre>

## Background Color

<pre><code class="html">
&lt;p style="background-color:Tomato;"&gt;Tomato Background&lt;/p&gt;
</code></pre>

## RGB Values

RGB values: <code>rgb(red, green, blue)</code>

<pre><code class="html">
&lt;h1 style="color:rgb(255, 99, 71);"&gt;RGB Color&lt;/h1&gt;
</code></pre>

## HEX Values

Hexadecimal: <code>#rrggbb</code>

<pre><code class="html">
&lt;h1 style="color:#ff6347;"&gt;HEX Color&lt;/h1&gt;
</code></pre>

## HSL Values

HSL: <code>hsl(hue, saturation, lightness)</code>

<pre><code class="html">
&lt;h1 style="color:hsl(9, 100%, 64%);"&gt;HSL Color&lt;/h1&gt;
</code></pre>

## RGBA and HSLA

Add alpha channel for transparency:

<pre><code class="html">
&lt;h1 style="color:rgba(255, 99, 71, 0.5);"&gt;50% Transparent&lt;/h1&gt;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Color Names</h2>
<p style="background-color:Tomato; color:white; padding:10px;">Tomato</p>
<p style="background-color:DodgerBlue; color:white; padding:10px;">DodgerBlue</p>
<p style="background-color:MediumSeaGreen; color:white; padding:10px;">MediumSeaGreen</p>

<h2>RGB Colors</h2>
<p style="background-color:rgb(255, 99, 71); color:white; padding:10px;">rgb(255, 99, 71)</p>

<h2>HEX Colors</h2>
<p style="background-color:#ff6347; color:white; padding:10px;">#ff6347</p>

<h2>HSL Colors</h2>
<p style="background-color:hsl(9, 100%, 64%); color:white; padding:10px;">hsl(9, 100%, 64%)</p>

<h2>Transparency (RGBA)</h2>
<div style="background-color:rgba(255, 99, 71, 1); padding:10px; color:white;">100% opacity</div>
<div style="background-color:rgba(255, 99, 71, 0.6); padding:10px; color:white;">60% opacity</div>
<div style="background-color:rgba(255, 99, 71, 0.3); padding:10px;">30% opacity</div>

</body>
</html>`,
    },
    links: {
      title: 'HTML Links',
      content: `
# HTML Links

Links are found in nearly all web pages. Links allow users to navigate between pages.

## HTML Links - Hyperlinks

HTML links are hyperlinks. You can click on a link and jump to another document.

The HTML <code><a></code> tag defines a hyperlink:

<pre><code class="html">
&lt;a href="url"&gt;link text&lt;/a&gt;
</code></pre>

## The href Attribute

The most important attribute of <code><a></code> is <code>href</code>, which indicates the link's destination:

<pre><code class="html">
&lt;a href="https://www.vertechie.com"&gt;Visit VerTechie&lt;/a&gt;
</code></pre>

## The target Attribute

The <code>target</code> attribute specifies where to open the linked document:

- <code>_self</code> - Default. Opens in the same window/tab
- <code>_blank</code> - Opens in a new window/tab
- <code>_parent</code> - Opens in the parent frame
- <code>_top</code> - Opens in the full body of the window

<pre><code class="html">
&lt;a href="https://www.vertechie.com" target="_blank"&gt;Visit VerTechie&lt;/a&gt;
</code></pre>

## Link to Email

Use <code>mailto:</code> inside the href attribute:

<pre><code class="html">
&lt;a href="mailto:someone@example.com"&gt;Send Email&lt;/a&gt;
</code></pre>

## Link to Phone

Use <code>tel:</code> inside the href attribute:

<pre><code class="html">
&lt;a href="tel:+1234567890"&gt;Call Us&lt;/a&gt;
</code></pre>

## Link Styling

By default, links appear as:
- Unvisited: underlined and blue
- Visited: underlined and purple
- Active: underlined and red
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>HTML Links Examples</h2>

<h3>Basic Link</h3>
<a href="https://www.vertechie.com">Visit VerTechie</a>

<h3>Open in New Tab</h3>
<a href="https://www.google.com" target="_blank">Open Google in New Tab</a>

<h3>Link with Title</h3>
<a href="https://www.vertechie.com" title="Go to VerTechie Learning Platform">Hover for Title</a>

<h3>Email Link</h3>
<a href="mailto:hello@vertechie.com">Send us an Email</a>

<h3>Phone Link</h3>
<a href="tel:+1234567890">Call Us: +1 234 567 890</a>

<h3>Styled Link</h3>
<a href="#" style="color: green; text-decoration: none; font-weight: bold;">Custom Styled Link</a>

<h3>Image as Link</h3>
<a href="https://www.vertechie.com">
    <img src="https://via.placeholder.com/150x50?text=Click+Me" alt="Click me">
</a>

</body>
</html>`,
    },
    images: {
      title: 'HTML Images',
      content: `
# HTML Images

Images can improve the design and appearance of a web page.

## HTML Images Syntax

The HTML <code><img></code> tag is used to embed an image in a web page.

The <code><img></code> tag is empty - it contains attributes only and does not have a closing tag.

<pre><code class="html">
&lt;img src="url" alt="alternatetext"&gt;
</code></pre>

## Required Attributes

Two required attributes:

- **src** - Specifies the path to the image
- **alt** - Specifies alternate text for the image

<pre><code class="html">
&lt;img src="flower.jpg" alt="A beautiful flower"&gt;
</code></pre>

## Image Size - Width and Height

Use <code>width</code> and <code>height</code> attributes to specify size:

<pre><code class="html">
&lt;img src="flower.jpg" alt="Flower" width="500" height="300"&gt;
</code></pre>

Or use the <code>style</code> attribute:

<pre><code class="html">
&lt;img src="flower.jpg" alt="Flower" style="width:500px;height:300px;"&gt;
</code></pre>

## Image Floating

Use CSS <code>float</code> to let an image float:

<pre><code class="html">
&lt;img src="flower.jpg" alt="Flower" style="float:right;"&gt;
</code></pre>

## Common Image Formats

- **.jpg/.jpeg** - Good for photographs
- **.png** - Good for graphics with transparency
- **.gif** - Good for animations
- **.svg** - Scalable vector graphics
- **.webp** - Modern format, smaller file size
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>HTML Images Examples</h2>

<h3>Basic Image</h3>
<img src="https://via.placeholder.com/300x200" alt="Placeholder Image">

<h3>Image with Custom Size</h3>
<img src="https://via.placeholder.com/600x400" alt="Large Image" width="300" height="200">

<h3>Floating Image</h3>
<img src="https://via.placeholder.com/150x150" alt="Float Right" style="float:right; margin-left:15px;">
<p>This text will wrap around the floating image. Lorem ipsum dolor sit amet, consectetur adipiscing elit. The image is floating to the right side.</p>
<p style="clear:both;"></p>

<h3>Rounded Image</h3>
<img src="https://via.placeholder.com/150x150" alt="Rounded" style="border-radius:50%;">

<h3>Image with Border</h3>
<img src="https://via.placeholder.com/200x150" alt="Bordered" style="border:5px solid #333;">

</body>
</html>`,
    },
    favicon: {
      title: 'HTML Favicon',
      content: `
# HTML Favicon

A favicon is a small image displayed next to the page title in the browser tab.

## What is a Favicon?

A favicon is a small 16x16 pixel icon used in web browsers to represent a website.

## How to Add a Favicon

You can add a favicon to your website using the <code><link></code> element in the <code><head></code> section:

<pre><code class="html">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;My Page Title&lt;/title&gt;
    &lt;link rel="icon" type="image/x-icon" href="/images/favicon.ico"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;My Page&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

## Favicon File Formats

Common favicon formats include:

- **.ico** - Traditional format, works everywhere
- **.png** - Modern browsers support this
- **.svg** - Scalable, modern browsers
- **.gif** - Animated favicons (limited support)

## Modern Favicon Tags

For better browser support, use multiple sizes:

<pre><code class="html">
&lt;link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"&gt;
&lt;link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"&gt;
&lt;link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"&gt;
</code></pre>

## Creating a Favicon

You can create a favicon using:
- Online favicon generators
- Image editing software like Photoshop or GIMP
- Convert any image to .ico format online
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
    <title>Favicon Example</title>
    <!-- Note: This won't show the favicon in the preview, 
         but shows the correct HTML structure -->
    <link rel="icon" type="image/png" href="https://via.placeholder.com/16x16">
</head>
<body>

<h1>HTML Favicon</h1>

<p>A favicon appears in the browser tab next to your page title.</p>

<h2>How to Add a Favicon</h2>
<pre>
&lt;head&gt;
    &lt;link rel="icon" type="image/x-icon" href="/favicon.ico"&gt;
&lt;/head&gt;
</pre>

<h2>Common Favicon Sizes</h2>
<ul>
    <li>16x16 - Browser tabs</li>
    <li>32x32 - Taskbar shortcut</li>
    <li>48x48 - Desktop shortcut</li>
    <li>180x180 - Apple touch icon</li>
</ul>

</body>
</html>`,
    },
    tables: {
      title: 'HTML Tables',
      content: `
# HTML Tables

HTML tables allow you to arrange data into rows and columns.

## Define an HTML Table

A table in HTML consists of table cells inside rows and columns.

<pre><code class="html">
&lt;table&gt;
  &lt;tr&gt;
    &lt;th&gt;Company&lt;/th&gt;
    &lt;th&gt;Contact&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;Apple&lt;/td&gt;
    &lt;td&gt;Tim Cook&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
</code></pre>

## Table Elements

- <code><table></code> - Defines a table
- <code><tr></code> - Defines a table row
- <code><th></code> - Defines a table header cell
- <code><td></code> - Defines a table data cell
- <code><caption></code> - Defines a table caption
- <code><thead></code> - Groups header content
- <code><tbody></code> - Groups body content
- <code><tfoot></code> - Groups footer content

## Table Borders

Add a border using CSS:

<pre><code class="html">
&lt;style&gt;
table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}
&lt;/style&gt;
</code></pre>

## Column Span and Row Span

Cells can span multiple columns or rows:

<pre><code class="html">
&lt;td colspan="2"&gt;Spans 2 columns&lt;/td&gt;
&lt;td rowspan="2"&gt;Spans 2 rows&lt;/td&gt;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
table {
  width: 100%;
  border-collapse: collapse;
}
th, td {
  border: 1px solid #ddd;
  padding: 12px;
  text-align: left;
}
th {
  background-color: #4CAF50;
  color: white;
}
tr:nth-child(even) {
  background-color: #f2f2f2;
}
tr:hover {
  background-color: #ddd;
}
</style>
</head>
<body>

<h2>Styled HTML Table</h2>

<table>
  <caption>Employee Information</caption>
  <thead>
    <tr>
      <th>Name</th>
      <th>Position</th>
      <th>Office</th>
      <th>Salary</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>John Doe</td>
      <td>Developer</td>
      <td>New York</td>
      <td>$85,000</td>
    </tr>
    <tr>
      <td>Jane Smith</td>
      <td>Designer</td>
      <td>London</td>
      <td>$75,000</td>
    </tr>
    <tr>
      <td>Mike Johnson</td>
      <td>Manager</td>
      <td colspan="2">San Francisco - $95,000</td>
    </tr>
  </tbody>
</table>

</body>
</html>`,
    },
    lists: {
      title: 'HTML Lists',
      content: `
# HTML Lists

HTML lists allow you to group a set of related items.

## Unordered HTML List

An unordered list uses the <code><ul></code> tag. List items use <code><li></code>:

<pre><code class="html">
&lt;ul&gt;
  &lt;li&gt;Coffee&lt;/li&gt;
  &lt;li&gt;Tea&lt;/li&gt;
  &lt;li&gt;Milk&lt;/li&gt;
&lt;/ul&gt;
</code></pre>

## Ordered HTML List

An ordered list uses the <code><ol></code> tag:

<pre><code class="html">
&lt;ol&gt;
  &lt;li&gt;First item&lt;/li&gt;
  &lt;li&gt;Second item&lt;/li&gt;
  &lt;li&gt;Third item&lt;/li&gt;
&lt;/ol&gt;
</code></pre>

## Description Lists

A description list uses <code><dl></code>, <code><dt></code>, and <code><dd></code>:

<pre><code class="html">
&lt;dl&gt;
  &lt;dt&gt;Coffee&lt;/dt&gt;
  &lt;dd&gt;- hot drink&lt;/dd&gt;
  &lt;dt&gt;Milk&lt;/dt&gt;
  &lt;dd&gt;- cold drink&lt;/dd&gt;
&lt;/dl&gt;
</code></pre>

## List Style Types

Unordered list markers:
- <code>disc</code> (default)
- <code>circle</code>
- <code>square</code>
- <code>none</code>

Ordered list types:
- <code>1</code> - Numbers (default)
- <code>A</code> - Uppercase letters
- <code>a</code> - Lowercase letters
- <code>I</code> - Uppercase Roman numerals
- <code>i</code> - Lowercase Roman numerals

## Nested Lists

Lists can be nested inside each other:

<pre><code class="html">
&lt;ul&gt;
  &lt;li&gt;Coffee&lt;/li&gt;
  &lt;li&gt;Tea
    &lt;ul&gt;
      &lt;li&gt;Black tea&lt;/li&gt;
      &lt;li&gt;Green tea&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Unordered List</h2>
<ul>
  <li>Coffee</li>
  <li>Tea</li>
  <li>Milk</li>
</ul>

<h2>Ordered List</h2>
<ol>
  <li>Wake up</li>
  <li>Code</li>
  <li>Sleep</li>
  <li>Repeat</li>
</ol>

<h2>Different List Types</h2>
<ol type="A">
  <li>Apple</li>
  <li>Banana</li>
  <li>Cherry</li>
</ol>

<ol type="I">
  <li>First</li>
  <li>Second</li>
  <li>Third</li>
</ol>

<h2>Nested List</h2>
<ul>
  <li>Frontend
    <ul>
      <li>HTML</li>
      <li>CSS</li>
      <li>JavaScript</li>
    </ul>
  </li>
  <li>Backend
    <ul>
      <li>Python</li>
      <li>Node.js</li>
    </ul>
  </li>
</ul>

<h2>Custom Style List</h2>
<ul style="list-style-type: square;">
  <li>Square bullets</li>
  <li>Look different</li>
</ul>

</body>
</html>`,
    },
    forms: {
      title: 'HTML Forms',
      content: `
# HTML Forms

An HTML form is used to collect user input.

## The <form> Element

The HTML <code><form></code> element defines a form:

<pre><code class="html">
&lt;form action="/submit" method="post"&gt;
  form elements...
&lt;/form&gt;
</code></pre>

## Form Attributes

- **action** - Where to send form data
- **method** - HTTP method (GET or POST)
- **target** - Where to display response
- **autocomplete** - Enable/disable autocomplete

## The <input> Element

The most used form element:

<pre><code class="html">
&lt;input type="text" name="username"&gt;
&lt;input type="password" name="password"&gt;
&lt;input type="submit" value="Submit"&gt;
</code></pre>

## Common Input Types

- <code>text</code> - Single-line text input
- <code>password</code> - Password field (masked)
- <code>email</code> - Email address
- <code>number</code> - Numeric input
- <code>checkbox</code> - Checkbox
- <code>radio</code> - Radio button
- <code>submit</code> - Submit button
- <code>reset</code> - Reset button
- <code>file</code> - File upload
- <code>date</code> - Date picker
- <code>color</code> - Color picker

## The <label> Element

The <code><label></code> element defines a label for form elements:

<pre><code class="html">
&lt;label for="username"&gt;Username:&lt;/label&gt;
&lt;input type="text" id="username" name="username"&gt;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
form {
  max-width: 400px;
  margin: 20px auto;
  padding: 20px;
  border: 1px solid #ddd;
  border-radius: 8px;
}
label {
  display: block;
  margin-top: 15px;
  font-weight: bold;
}
input[type="text"],
input[type="email"],
input[type="password"] {
  width: 100%;
  padding: 10px;
  margin-top: 5px;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-sizing: border-box;
}
input[type="submit"] {
  margin-top: 20px;
  padding: 12px 24px;
  background-color: #4CAF50;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}
input[type="submit"]:hover {
  background-color: #45a049;
}
</style>
</head>
<body>

<h2>Registration Form</h2>

<form action="/submit" method="post">
  <label for="name">Full Name:</label>
  <input type="text" id="name" name="name" placeholder="Enter your name" required>

  <label for="email">Email:</label>
  <input type="email" id="email" name="email" placeholder="Enter your email" required>

  <label for="password">Password:</label>
  <input type="password" id="password" name="password" placeholder="Enter password" required>

  <label>Gender:</label>
  <input type="radio" name="gender" value="male" id="male">
  <label for="male" style="display:inline;">Male</label>
  <input type="radio" name="gender" value="female" id="female">
  <label for="female" style="display:inline;">Female</label>

  <label>
    <input type="checkbox" name="newsletter" value="yes">
    Subscribe to newsletter
  </label>

  <input type="submit" value="Register">
</form>

</body>
</html>`,
    },
    'form-elements': {
      title: 'HTML Form Elements',
      content: `
# HTML Form Elements

HTML forms contain form elements for user input.

## The <input> Element

The most important form element. Can be displayed in many ways:

<pre><code class="html">
&lt;input type="text"&gt;
&lt;input type="checkbox"&gt;
&lt;input type="radio"&gt;
&lt;input type="submit"&gt;
</code></pre>

## The <select> Element

Defines a drop-down list:

<pre><code class="html">
&lt;select name="cars"&gt;
  &lt;option value="volvo"&gt;Volvo&lt;/option&gt;
  &lt;option value="bmw"&gt;BMW&lt;/option&gt;
  &lt;option value="mercedes"&gt;Mercedes&lt;/option&gt;
&lt;/select&gt;
</code></pre>

## The <textarea> Element

Defines a multi-line text input area:

<pre><code class="html">
&lt;textarea name="message" rows="4" cols="50"&gt;
Enter text here...
&lt;/textarea&gt;
</code></pre>

## The <button> Element

Defines a clickable button:

<pre><code class="html">
&lt;button type="button"&gt;Click Me!&lt;/button&gt;
&lt;button type="submit"&gt;Submit&lt;/button&gt;
&lt;button type="reset"&gt;Reset&lt;/button&gt;
</code></pre>

## The <fieldset> and <legend> Elements

Group related form elements:

<pre><code class="html">
&lt;fieldset&gt;
  &lt;legend&gt;Personal Info&lt;/legend&gt;
  &lt;label for="name"&gt;Name:&lt;/label&gt;
  &lt;input type="text" id="name"&gt;
&lt;/fieldset&gt;
</code></pre>

## The <datalist> Element

Provides pre-defined options for an input:

<pre><code class="html">
&lt;input list="browsers"&gt;
&lt;datalist id="browsers"&gt;
  &lt;option value="Chrome"&gt;
  &lt;option value="Firefox"&gt;
  &lt;option value="Safari"&gt;
&lt;/datalist&gt;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
fieldset {
  margin: 15px 0;
  padding: 15px;
  border: 1px solid #ddd;
  border-radius: 8px;
}
legend {
  font-weight: bold;
  color: #333;
}
label { display: block; margin: 10px 0 5px; }
input, select, textarea { padding: 8px; margin-bottom: 10px; width: 100%; box-sizing: border-box; }
button { padding: 10px 20px; margin: 5px; cursor: pointer; }
</style>
</head>
<body>

<h2>HTML Form Elements</h2>

<form>
  <fieldset>
    <legend>Personal Information</legend>
    
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" placeholder="Your name">
    
    <label for="country">Country:</label>
    <select id="country" name="country">
      <option value="">Select a country</option>
      <option value="usa">United States</option>
      <option value="uk">United Kingdom</option>
      <option value="india">India</option>
      <option value="germany">Germany</option>
    </select>
    
    <label for="browser">Favorite Browser:</label>
    <input type="text" id="browser" name="browser" list="browsers" placeholder="Type or select">
    <datalist id="browsers">
      <option value="Chrome">
      <option value="Firefox">
      <option value="Safari">
      <option value="Edge">
    </datalist>
  </fieldset>

  <fieldset>
    <legend>Your Message</legend>
    <label for="message">Message:</label>
    <textarea id="message" name="message" rows="4" placeholder="Enter your message here..."></textarea>
  </fieldset>

  <button type="submit">Submit</button>
  <button type="reset">Reset</button>
  <button type="button" onclick="alert('Button clicked!')">Click Me</button>
</form>

</body>
</html>`,
    },
    'input-types': {
      title: 'HTML Input Types',
      content: `
# HTML Input Types

HTML supports various input types for different data.

## Text Input Types

<pre><code class="html">
&lt;input type="text"&gt;      &lt;!-- Single-line text --&gt;
&lt;input type="password"&gt;  &lt;!-- Password (masked) --&gt;
&lt;input type="email"&gt;     &lt;!-- Email address --&gt;
&lt;input type="url"&gt;       &lt;!-- URL --&gt;
&lt;input type="tel"&gt;       &lt;!-- Telephone number --&gt;
&lt;input type="search"&gt;    &lt;!-- Search field --&gt;
</code></pre>

## Number Input Types

<pre><code class="html">
&lt;input type="number" min="1" max="100"&gt;
&lt;input type="range" min="0" max="100"&gt;
</code></pre>

## Date and Time Types

<pre><code class="html">
&lt;input type="date"&gt;           &lt;!-- Date picker --&gt;
&lt;input type="time"&gt;           &lt;!-- Time picker --&gt;
&lt;input type="datetime-local"&gt; &lt;!-- Date and time --&gt;
&lt;input type="month"&gt;          &lt;!-- Month and year --&gt;
&lt;input type="week"&gt;           &lt;!-- Week and year --&gt;
</code></pre>

## Selection Types

<pre><code class="html">
&lt;input type="checkbox"&gt;  &lt;!-- Checkbox --&gt;
&lt;input type="radio"&gt;     &lt;!-- Radio button --&gt;
&lt;input type="color"&gt;     &lt;!-- Color picker --&gt;
&lt;input type="file"&gt;      &lt;!-- File upload --&gt;
</code></pre>

## Button Types

<pre><code class="html">
&lt;input type="submit"&gt;  &lt;!-- Submit form --&gt;
&lt;input type="reset"&gt;   &lt;!-- Reset form --&gt;
&lt;input type="button"&gt;  &lt;!-- Clickable button --&gt;
&lt;input type="image"&gt;   &lt;!-- Image as submit button --&gt;
</code></pre>

## Special Types

<pre><code class="html">
&lt;input type="hidden"&gt;  &lt;!-- Hidden field --&gt;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
.input-group { margin: 15px 0; }
label { display: block; font-weight: bold; margin-bottom: 5px; }
input { padding: 8px; margin-bottom: 5px; }
</style>
</head>
<body>

<h2>HTML Input Types Demo</h2>

<form>
  <div class="input-group">
    <label>Text:</label>
    <input type="text" placeholder="Enter text">
  </div>

  <div class="input-group">
    <label>Password:</label>
    <input type="password" placeholder="Enter password">
  </div>

  <div class="input-group">
    <label>Email:</label>
    <input type="email" placeholder="email@example.com">
  </div>

  <div class="input-group">
    <label>Number (1-100):</label>
    <input type="number" min="1" max="100" value="50">
  </div>

  <div class="input-group">
    <label>Range:</label>
    <input type="range" min="0" max="100" value="50">
  </div>

  <div class="input-group">
    <label>Date:</label>
    <input type="date">
  </div>

  <div class="input-group">
    <label>Time:</label>
    <input type="time">
  </div>

  <div class="input-group">
    <label>Color:</label>
    <input type="color" value="#4CAF50">
  </div>

  <div class="input-group">
    <label>File:</label>
    <input type="file">
  </div>

  <div class="input-group">
    <label>Checkbox:</label>
    <input type="checkbox" id="agree">
    <label for="agree" style="display:inline; font-weight:normal;">I agree to terms</label>
  </div>

  <input type="submit" value="Submit Form">
</form>

</body>
</html>`,
    },
    'input-attributes': {
      title: 'HTML Input Attributes',
      content: `
# HTML Input Attributes

HTML input elements have many useful attributes.

## The value Attribute

Specifies the initial value:

<pre><code class="html">
&lt;input type="text" value="John"&gt;
</code></pre>

## The placeholder Attribute

Specifies a hint that describes the expected value:

<pre><code class="html">
&lt;input type="text" placeholder="Enter your name"&gt;
</code></pre>

## The required Attribute

Specifies that the field must be filled out:

<pre><code class="html">
&lt;input type="text" required&gt;
</code></pre>

## The readonly and disabled Attributes

<pre><code class="html">
&lt;input type="text" value="John" readonly&gt;
&lt;input type="text" value="Jane" disabled&gt;
</code></pre>

## Size and Maxlength

<pre><code class="html">
&lt;input type="text" size="30" maxlength="50"&gt;
</code></pre>

## Min and Max

For number and date inputs:

<pre><code class="html">
&lt;input type="number" min="1" max="100"&gt;
&lt;input type="date" min="2020-01-01" max="2025-12-31"&gt;
</code></pre>

## Pattern Attribute

Specifies a regex pattern:

<pre><code class="html">
&lt;input type="text" pattern="[A-Za-z]{3}" title="Three letters"&gt;
</code></pre>

## Autofocus and Autocomplete

<pre><code class="html">
&lt;input type="text" autofocus&gt;
&lt;input type="text" autocomplete="off"&gt;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
.form-group { margin: 15px 0; }
label { display: block; font-weight: bold; margin-bottom: 5px; color: #333; }
input { padding: 10px; border: 1px solid #ccc; border-radius: 4px; width: 100%; max-width: 300px; box-sizing: border-box; }
input:focus { border-color: #4CAF50; outline: none; }
input:invalid { border-color: #f44336; }
.hint { font-size: 12px; color: #666; margin-top: 5px; }
</style>
</head>
<body>

<h2>Input Attributes Demo</h2>

<form>
  <div class="form-group">
    <label>With Value:</label>
    <input type="text" value="Pre-filled value">
  </div>

  <div class="form-group">
    <label>With Placeholder:</label>
    <input type="text" placeholder="Type something here...">
  </div>

  <div class="form-group">
    <label>Required Field: *</label>
    <input type="text" required placeholder="This field is required">
    <div class="hint">This field must be filled out</div>
  </div>

  <div class="form-group">
    <label>Readonly:</label>
    <input type="text" value="Cannot edit this" readonly>
  </div>

  <div class="form-group">
    <label>Disabled:</label>
    <input type="text" value="Disabled field" disabled>
  </div>

  <div class="form-group">
    <label>Max Length (10 chars):</label>
    <input type="text" maxlength="10" placeholder="Max 10 characters">
  </div>

  <div class="form-group">
    <label>Pattern (3 letters only):</label>
    <input type="text" pattern="[A-Za-z]{3}" title="Exactly 3 letters" placeholder="ABC">
    <div class="hint">Enter exactly 3 letters</div>
  </div>

  <div class="form-group">
    <label>Number with Min/Max:</label>
    <input type="number" min="1" max="100" value="50">
    <div class="hint">Value between 1 and 100</div>
  </div>

  <input type="submit" value="Submit" style="margin-top:20px; padding:12px 24px; background:#4CAF50; color:white; border:none; cursor:pointer;">
</form>

</body>
</html>`,
    },
    semantics: {
      title: 'HTML Semantics',
      content: `
# HTML Semantic Elements

Semantic elements clearly describe their meaning to both the browser and the developer.

## What are Semantic Elements?

- **Semantic elements**: <code><form></code>, <code><table></code>, <code><article></code> - clearly define content
- **Non-semantic elements**: <code><div></code>, <code><span></code> - tell nothing about content

## Semantic Elements in HTML5

- <code><article></code> - Independent, self-contained content
- <code><aside></code> - Content aside from the main content
- <code><details></code> - Additional details user can view/hide
- <code><figcaption></code> - Caption for a <code><figure></code>
- <code><figure></code> - Self-contained content like images
- <code><footer></code> - Footer for a document or section
- <code><header></code> - Header for a document or section
- <code><main></code> - Main content of a document
- <code><mark></code> - Marked/highlighted text
- <code><nav></code> - Navigation links
- <code><section></code> - Section in a document
- <code><summary></code> - Visible heading for a <code><details></code>
- <code><time></code> - Date/time

## Why Use Semantic HTML?

- **Accessibility**: Screen readers understand content better
- **SEO**: Search engines can index content properly
- **Maintainability**: Easier to read and understand code
- **Styling**: Easier to style with CSS
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: Arial, sans-serif; line-height: 1.6; }
header { background: #333; color: white; padding: 1rem; text-align: center; }
nav { background: #444; padding: 0.5rem; }
nav a { color: white; margin: 0 15px; text-decoration: none; }
nav a:hover { text-decoration: underline; }
main { padding: 20px; max-width: 800px; margin: 0 auto; }
article { background: #f9f9f9; padding: 20px; margin: 20px 0; border-radius: 8px; }
aside { background: #e0e0e0; padding: 15px; margin: 20px 0; border-left: 4px solid #333; }
section { margin: 20px 0; }
footer { background: #333; color: white; text-align: center; padding: 1rem; margin-top: 20px; }
</style>
</head>
<body>

<header>
  <h1>Semantic HTML5</h1>
  <p>Building meaningful web pages</p>
</header>

<nav>
  <a href="#home">Home</a>
  <a href="#about">About</a>
  <a href="#services">Services</a>
  <a href="#contact">Contact</a>
</nav>

<main>
  <article>
    <h2>What is Semantic HTML?</h2>
    <p>Semantic HTML uses meaningful tags that describe the content they contain.</p>
    <p>Published on <time datetime="2024-01-15">January 15, 2024</time></p>
  </article>

  <section>
    <h2>Benefits</h2>
    <ul>
      <li>Better accessibility</li>
      <li>Improved SEO</li>
      <li>Cleaner code</li>
    </ul>
  </section>

  <aside>
    <h3>Did you know?</h3>
    <p>Screen readers use semantic elements to help visually impaired users navigate websites!</p>
  </aside>

  <figure>
    <img src="https://via.placeholder.com/400x200" alt="Semantic HTML" style="width:100%;">
    <figcaption>Figure 1: Semantic HTML Structure</figcaption>
  </figure>
</main>

<footer>
  <p>&copy; 2024 VerTechie Learning. All rights reserved.</p>
</footer>

</body>
</html>`,
    },
    layout: {
      title: 'HTML Layout',
      content: `
# HTML Layout Elements

HTML has semantic elements that define different parts of a web page.

## HTML5 Layout Elements

- <code><header></code> - Top section of page/section
- <code><nav></code> - Navigation menu
- <code><main></code> - Main content area
- <code><article></code> - Independent content
- <code><section></code> - Thematic grouping
- <code><aside></code> - Sidebar content
- <code><footer></code> - Bottom section of page/section

## Layout Techniques

### CSS Flexbox

<pre><code class="css">
.container {
  display: flex;
}
</code></pre>

### CSS Grid

<pre><code class="css">
.container {
  display: grid;
  grid-template-columns: 1fr 3fr;
}
</code></pre>

### CSS Float (older method)

<pre><code class="css">
.sidebar {
  float: left;
  width: 25%;
}
</code></pre>

## A Simple Layout Structure

<pre><code class="html">
&lt;header&gt;Header&lt;/header&gt;
&lt;nav&gt;Navigation&lt;/nav&gt;
&lt;main&gt;
  &lt;article&gt;Main Content&lt;/article&gt;
  &lt;aside&gt;Sidebar&lt;/aside&gt;
&lt;/main&gt;
&lt;footer&gt;Footer&lt;/footer&gt;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: Arial, sans-serif; }

header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 20px;
  text-align: center;
}

nav {
  background: #333;
  padding: 10px;
  display: flex;
  justify-content: center;
  gap: 20px;
}
nav a {
  color: white;
  text-decoration: none;
  padding: 5px 15px;
}
nav a:hover {
  background: #555;
  border-radius: 4px;
}

.container {
  display: grid;
  grid-template-columns: 1fr 250px;
  gap: 20px;
  padding: 20px;
  max-width: 1200px;
  margin: 0 auto;
}

main {
  background: #f5f5f5;
  padding: 20px;
  border-radius: 8px;
}

aside {
  background: #e0e0e0;
  padding: 20px;
  border-radius: 8px;
}

footer {
  background: #333;
  color: white;
  text-align: center;
  padding: 20px;
  margin-top: 20px;
}

article {
  background: white;
  padding: 20px;
  margin-bottom: 20px;
  border-radius: 8px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
</style>
</head>
<body>

<header>
  <h1>My Website</h1>
  <p>A Modern CSS Grid Layout</p>
</header>

<nav>
  <a href="#">Home</a>
  <a href="#">About</a>
  <a href="#">Services</a>
  <a href="#">Contact</a>
</nav>

<div class="container">
  <main>
    <article>
      <h2>Welcome!</h2>
      <p>This is a modern HTML layout using CSS Grid. The layout is responsive and organized using semantic HTML5 elements.</p>
    </article>
    <article>
      <h2>Another Article</h2>
      <p>Each article is self-contained and can be styled independently.</p>
    </article>
  </main>

  <aside>
    <h3>Sidebar</h3>
    <p>This is the aside content. Great for navigation, ads, or related links.</p>
    <h4>Quick Links</h4>
    <ul>
      <li>Link 1</li>
      <li>Link 2</li>
      <li>Link 3</li>
    </ul>
  </aside>
</div>

<footer>
  <p>&copy; 2024 VerTechie. All rights reserved.</p>
</footer>

</body>
</html>`,
    },
    responsive: {
      title: 'HTML Responsive',
      content: `
# Responsive Web Design

Responsive web design makes your web page look good on all devices.

## Setting The Viewport

Use the viewport meta tag in your HTML:

<pre><code class="html">
&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
</code></pre>

## Responsive Images

Images should never be larger than their container:

<pre><code class="css">
img {
  max-width: 100%;
  height: auto;
}
</code></pre>

## Responsive Text Size

Use viewport width (vw) for responsive text:

<pre><code class="css">
h1 {
  font-size: 5vw;
}
</code></pre>

## Media Queries

Apply different styles for different screen sizes:

<pre><code class="css">
@media screen and (max-width: 768px) {
  .column {
    width: 100%;
  }
}
</code></pre>

## Common Breakpoints

- **Mobile**: 320px - 480px
- **Tablet**: 481px - 768px
- **Laptop**: 769px - 1024px
- **Desktop**: 1025px - 1200px
- **Large screens**: 1201px and above

## Flexbox for Responsive Layouts

<pre><code class="css">
.container {
  display: flex;
  flex-wrap: wrap;
}
.item {
  flex: 1 1 300px;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: Arial, sans-serif; padding: 20px; }

.container {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

.card {
  flex: 1 1 250px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 20px;
  border-radius: 12px;
  text-align: center;
}

.responsive-img {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
}

h1 {
  font-size: calc(1.5rem + 2vw);
  margin-bottom: 20px;
  color: #333;
}

/* Mobile styles */
@media screen and (max-width: 600px) {
  h1 {
    font-size: 1.5rem;
    text-align: center;
  }
  .card {
    flex: 1 1 100%;
  }
}

.info-box {
  background: #f0f0f0;
  padding: 15px;
  margin: 20px 0;
  border-radius: 8px;
}
</style>
</head>
<body>

<h1>Responsive Design Demo</h1>

<div class="info-box">
  <strong>Resize the window</strong> to see responsive behavior!
</div>

<div class="container">
  <div class="card">
    <h2> Mobile First</h2>
    <p>Design for mobile, then scale up</p>
  </div>
  <div class="card">
    <h2> Desktop</h2>
    <p>Looks great on large screens</p>
  </div>
  <div class="card">
    <h2> Flexible</h2>
    <p>Adapts to any screen size</p>
  </div>
</div>

<h2 style="margin: 30px 0 15px;">Responsive Image</h2>
<img src="https://via.placeholder.com/800x400" alt="Responsive" class="responsive-img">

</body>
</html>`,
    },
    head: {
      title: 'HTML Head',
      content: `
# HTML Head Element

The <code><head></code> element contains meta information about the document.

## The HTML <head> Element

The <code><head></code> element is a container for metadata:

<pre><code class="html">
&lt;head&gt;
  &lt;title&gt;Page Title&lt;/title&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;link rel="stylesheet" href="styles.css"&gt;
&lt;/head&gt;
</code></pre>

## The <title> Element

Defines the document title shown in the browser tab:

<pre><code class="html">
&lt;title&gt;My Website - Home Page&lt;/title&gt;
</code></pre>

## The <meta> Element

Specifies metadata about the HTML document:

<pre><code class="html">
&lt;!-- Character encoding --&gt;
&lt;meta charset="UTF-8"&gt;

&lt;!-- Viewport for responsive design --&gt;
&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;

&lt;!-- Page description for SEO --&gt;
&lt;meta name="description" content="Free web tutorials"&gt;

&lt;!-- Keywords for SEO --&gt;
&lt;meta name="keywords" content="HTML, CSS, JavaScript"&gt;

&lt;!-- Author --&gt;
&lt;meta name="author" content="John Doe"&gt;
</code></pre>

## The <link> Element

Links external resources like stylesheets:

<pre><code class="html">
&lt;link rel="stylesheet" href="styles.css"&gt;
&lt;link rel="icon" href="favicon.ico"&gt;
</code></pre>

## The <style> Element

Defines internal CSS styles:

<pre><code class="html">
&lt;style&gt;
  body { background-color: #f0f0f0; }
&lt;/style&gt;
</code></pre>

## The <script> Element

Links JavaScript files:

<pre><code class="html">
&lt;script src="script.js"&gt;&lt;/script&gt;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Character Encoding -->
  <meta charset="UTF-8">
  
  <!-- Viewport for Responsive Design -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="Learn about the HTML head element">
  <meta name="keywords" content="HTML, Head, Meta, SEO">
  <meta name="author" content="VerTechie">
  
  <!-- Open Graph for Social Media -->
  <meta property="og:title" content="HTML Head Element">
  <meta property="og:description" content="Learn about HTML head">
  
  <!-- Page Title -->
  <title>HTML Head Element | VerTechie Tutorial</title>
  
  <!-- Internal Styles -->
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      padding: 20px;
      max-width: 800px;
      margin: 0 auto;
      background: #f5f5f5;
    }
    h1 { color: #333; border-bottom: 2px solid #4CAF50; padding-bottom: 10px; }
    .code-block {
      background: #2d2d2d;
      color: #f8f8f2;
      padding: 15px;
      border-radius: 8px;
      overflow-x: auto;
    }
    .meta-tag { color: #66d9ef; }
    .attr { color: #a6e22e; }
    .value { color: #e6db74; }
  </style>
</head>
<body>

<h1>The HTML &lt;head&gt; Element</h1>

<p>Look at this page's source code to see all the meta tags in the &lt;head&gt; section!</p>

<h2>What's in the Head?</h2>
<ul>
  <li><strong>&lt;title&gt;</strong> - Page title (shown in browser tab)</li>
  <li><strong>&lt;meta charset&gt;</strong> - Character encoding</li>
  <li><strong>&lt;meta viewport&gt;</strong> - Responsive settings</li>
  <li><strong>&lt;meta description&gt;</strong> - SEO description</li>
  <li><strong>&lt;link&gt;</strong> - External resources</li>
  <li><strong>&lt;style&gt;</strong> - Internal CSS</li>
  <li><strong>&lt;script&gt;</strong> - JavaScript</li>
</ul>

<h2>Example Head Section</h2>
<div class="code-block">
<pre>
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta name="viewport" content="width=device-width"&gt;
  &lt;title&gt;My Page&lt;/title&gt;
  &lt;link rel="stylesheet" href="styles.css"&gt;
&lt;/head&gt;
</pre>
</div>

</body>
</html>`,
    },
  };

  return htmlLessons[lessonSlug] || {
    title: 'Lesson',
    content: '# Coming Soon\n\nThis lesson content is being prepared.',
    tryItCode: '<!-- Code example coming soon -->',
  };
};

// Comprehensive CSS lesson content generator
const generateCSSLessonContent = (lessonSlug: string) => {
  const cssLessons: Record<string, any> = {
    // Core lessons - Colors & Backgrounds
    colors: {
      title: 'CSS Colors',
      content: `
# CSS Colors

CSS colors can be specified in many ways.

## Color Values

<pre><code class="css">
/* Named colors */
color: red;
color: blue;
color: tomato;

/* Hex colors */
color: #ff0000;    /* red */
color: #0000ff;    /* blue */
color: #ff6347;    /* tomato */

/* RGB */
color: rgb(255, 0, 0);
color: rgb(0, 0, 255);

/* RGBA (with transparency) */
color: rgba(255, 0, 0, 0.5);

/* HSL */
color: hsl(0, 100%, 50%);    /* red */

/* HSLA */
color: hsla(0, 100%, 50%, 0.5);
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }
.color-box {
  padding: 20px;
  margin: 10px 0;
  color: white;
  border-radius: 5px;
}
.named { background-color: tomato; }
.hex { background-color: #3498db; }
.rgb { background-color: rgb(46, 204, 113); }
.rgba { background-color: rgba(155, 89, 182, 0.8); }
.hsl { background-color: hsl(48, 100%, 50%); color: black; }
</style>
</head>
<body>

<h1>CSS Color Values</h1>

<div class="color-box named">Named: tomato</div>
<div class="color-box hex">Hex: #3498db</div>
<div class="color-box rgb">RGB: rgb(46, 204, 113)</div>
<div class="color-box rgba">RGBA: rgba(155, 89, 182, 0.8)</div>
<div class="color-box hsl">HSL: hsl(48, 100%, 50%)</div>

</body>
</html>`,
    },
    backgrounds: {
      title: 'CSS Backgrounds',
      content: `
# CSS Backgrounds

Control element backgrounds with CSS.

## Background Properties

<pre><code class="css">
/* Background color */
background-color: lightblue;

/* Background image */
background-image: url('image.jpg');

/* No repeat */
background-repeat: no-repeat;

/* Position */
background-position: center;

/* Size */
background-size: cover;

/* Fixed attachment */
background-attachment: fixed;

/* Shorthand */
background: #f5f5f5 url('bg.jpg') no-repeat center/cover;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

.box {
  height: 150px;
  margin: 15px 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: bold;
  border-radius: 10px;
}

.solid { background-color: #3498db; }

.gradient {
  background: linear-gradient(135deg, #667eea, #764ba2);
}

.radial {
  background: radial-gradient(circle, #f093fb, #f5576c);
}

.image {
  background: url('https://picsum.photos/400/200') center/cover;
}

.pattern {
  background-color: #1abc9c;
  background-image: 
    linear-gradient(45deg, rgba(255,255,255,0.1) 25%, transparent 25%),
    linear-gradient(-45deg, rgba(255,255,255,0.1) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, rgba(255,255,255,0.1) 75%),
    linear-gradient(-45deg, transparent 75%, rgba(255,255,255,0.1) 75%);
  background-size: 20px 20px;
}
</style>
</head>
<body>

<h1>CSS Backgrounds</h1>

<div class="box solid">Solid Color</div>
<div class="box gradient">Linear Gradient</div>
<div class="box radial">Radial Gradient</div>
<div class="box image">Background Image</div>
<div class="box pattern">Pattern</div>

</body>
</html>`,
    },
    borders: {
      title: 'CSS Borders',
      content: `
# CSS Borders

Style element borders.

## Border Properties

<pre><code class="css">
/* Individual properties */
border-width: 2px;
border-style: solid;
border-color: black;

/* Shorthand */
border: 2px solid black;

/* Border sides */
border-top: 2px solid red;
border-right: 2px dashed blue;
border-bottom: 2px dotted green;
border-left: 2px double orange;

/* Border radius */
border-radius: 10px;
border-radius: 50%;  /* circle */
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

.box {
  padding: 20px;
  margin: 15px 0;
  text-align: center;
}

.solid { border: 3px solid #3498db; }
.dashed { border: 3px dashed #e74c3c; }
.dotted { border: 3px dotted #2ecc71; }
.double { border: 5px double #9b59b6; }
.groove { border: 5px groove #f39c12; }
.ridge { border: 5px ridge #1abc9c; }

.mixed {
  border-top: 4px solid #e74c3c;
  border-right: 4px dashed #3498db;
  border-bottom: 4px dotted #2ecc71;
  border-left: 4px double #f39c12;
}

.rounded { border: 3px solid #3498db; border-radius: 15px; }
.pill { border: 3px solid #e74c3c; border-radius: 50px; }
.circle { 
  width: 100px; 
  height: 100px; 
  border: 3px solid #2ecc71; 
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 15px auto;
}
</style>
</head>
<body>

<h1>CSS Borders</h1>

<div class="box solid">solid</div>
<div class="box dashed">dashed</div>
<div class="box dotted">dotted</div>
<div class="box double">double</div>
<div class="box groove">groove</div>
<div class="box mixed">mixed borders</div>

<h2>Border Radius</h2>
<div class="box rounded">Rounded Corners</div>
<div class="box pill">Pill Shape</div>
<div class="circle">Circle</div>

</body>
</html>`,
    },
    margins: {
      title: 'CSS Margins',
      content: `
# CSS Margins

Margins create space outside elements.

## Margin Syntax

<pre><code class="css">
/* Individual sides */
margin-top: 20px;
margin-right: 15px;
margin-bottom: 20px;
margin-left: 15px;

/* Shorthand */
margin: 20px;                    /* all sides */
margin: 20px 15px;               /* top/bottom, left/right */
margin: 10px 15px 20px;          /* top, left/right, bottom */
margin: 10px 15px 20px 25px;     /* top, right, bottom, left */

/* Auto margin (centering) */
margin: 0 auto;

/* Negative margins */
margin-top: -10px;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

.container {
  background: #f5f5f5;
  padding: 10px;
  margin: 20px 0;
}

.box {
  background: #3498db;
  color: white;
  padding: 15px;
  text-align: center;
}

.m-0 { margin: 0; }
.m-20 { margin: 20px; }
.m-tb { margin: 30px 0; }
.m-lr { margin: 0 50px; }

.centered {
  width: 200px;
  margin: 20px auto;
  background: #e74c3c;
}

.overlap {
  background: #2ecc71;
  margin-top: -20px;
  position: relative;
}
</style>
</head>
<body>

<h1>CSS Margins</h1>

<h2>margin: 0</h2>
<div class="container">
  <div class="box m-0">No margin</div>
</div>

<h2>margin: 20px</h2>
<div class="container">
  <div class="box m-20">20px all sides</div>
</div>

<h2>margin: 30px 0 (top/bottom only)</h2>
<div class="container">
  <div class="box m-tb">Vertical margins</div>
</div>

<h2>margin: 0 auto (centering)</h2>
<div class="container">
  <div class="box centered">Centered</div>
</div>

<h2>Negative margin</h2>
<div class="container">
  <div class="box">First box</div>
  <div class="box overlap">Overlaps above (margin-top: -20px)</div>
</div>

</body>
</html>`,
    },
    padding: {
      title: 'CSS Padding',
      content: `
# CSS Padding

Padding creates space inside elements.

## Padding Syntax

<pre><code class="css">
/* Individual sides */
padding-top: 20px;
padding-right: 15px;
padding-bottom: 20px;
padding-left: 15px;

/* Shorthand */
padding: 20px;                   /* all sides */
padding: 20px 15px;              /* top/bottom, left/right */
padding: 10px 15px 20px;         /* top, left/right, bottom */
padding: 10px 15px 20px 25px;    /* top, right, bottom, left */
</code></pre>

## Padding vs Margin

- **Padding**: Space INSIDE the element
- **Margin**: Space OUTSIDE the element
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

.demo {
  background: #3498db;
  color: white;
  margin: 15px 0;
  display: inline-block;
}

.p-0 { padding: 0; }
.p-10 { padding: 10px; }
.p-20 { padding: 20px; }
.p-40 { padding: 40px; }
.p-mixed { padding: 10px 30px 40px 60px; }

.comparison {
  display: flex;
  gap: 20px;
  margin: 20px 0;
}

.box {
  width: 150px;
  text-align: center;
}

.padding-box {
  background: #e74c3c;
  color: white;
  padding: 30px;
}

.margin-box {
  background: #f5f5f5;
}

.margin-box .inner {
  background: #2ecc71;
  color: white;
  margin: 30px;
  padding: 10px;
}
</style>
</head>
<body>

<h1>CSS Padding</h1>

<h2>Padding Sizes</h2>
<div class="demo p-0">padding: 0</div>
<div class="demo p-10">padding: 10px</div>
<div class="demo p-20">padding: 20px</div>
<div class="demo p-40">padding: 40px</div>

<h2>Mixed Padding (top: 10, right: 30, bottom: 40, left: 60)</h2>
<div class="demo p-mixed">Mixed padding</div>

<h2>Padding vs Margin</h2>
<div class="comparison">
  <div class="box">
    <p>Padding (inside)</p>
    <div class="padding-box">30px padding</div>
  </div>
  <div class="box">
    <p>Margin (outside)</p>
    <div class="margin-box">
      <div class="inner">30px margin</div>
    </div>
  </div>
</div>

</body>
</html>`,
    },
    'height-width': {
      title: 'CSS Height and Width',
      content: `
# CSS Height and Width

Control element dimensions.

## Syntax

<pre><code class="css">
/* Fixed size */
width: 200px;
height: 100px;

/* Percentage */
width: 50%;
height: 100%;

/* Viewport units */
width: 100vw;
height: 100vh;

/* Min/Max */
min-width: 100px;
max-width: 800px;
min-height: 50px;
max-height: 500px;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

.box {
  background: #3498db;
  color: white;
  margin: 15px 0;
  padding: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.fixed { width: 200px; height: 80px; }
.percent { width: 50%; height: 60px; }
.auto { width: auto; height: auto; }

.min-max {
  min-width: 100px;
  max-width: 400px;
  width: 80%;
  height: 60px;
  background: #e74c3c;
}

.aspect {
  width: 200px;
  aspect-ratio: 16/9;
  background: #2ecc71;
}

h2 { margin-top: 25px; }
</style>
</head>
<body>

<h1>CSS Height and Width</h1>

<h2>Fixed: 200px  80px</h2>
<div class="box fixed">200px  80px</div>

<h2>Percentage: 50% width</h2>
<div class="box percent">50% width</div>

<h2>Auto (fits content)</h2>
<div class="box auto">Auto sizing</div>

<h2>Min/Max Width</h2>
<div class="box min-max">min: 100px, max: 400px, width: 80%</div>

<h2>Aspect Ratio: 16/9</h2>
<div class="box aspect">16:9 ratio</div>

</body>
</html>`,
    },
    boxmodel: {
      title: 'CSS Box Model',
      content: `
# CSS Box Model

Every element is a rectangular box.

## Box Model Components

1. **Content** - The actual content
2. **Padding** - Space inside, around content
3. **Border** - Around the padding
4. **Margin** - Space outside, around border

## Box Sizing

<pre><code class="css">
/* Default: content-box */
box-sizing: content-box;
/* Width = content only */

/* Recommended: border-box */
box-sizing: border-box;
/* Width = content + padding + border */
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

.box-model-demo {
  width: 300px;
  padding: 30px;
  border: 15px solid #3498db;
  margin: 20px;
  background: #ecf0f1;
  position: relative;
}

.content {
  background: #e74c3c;
  color: white;
  padding: 20px;
  text-align: center;
}

/* Labels */
.label {
  position: absolute;
  font-size: 12px;
  color: #666;
}
.l-margin { top: -15px; left: 50%; transform: translateX(-50%); }
.l-border { top: 5px; left: 50%; transform: translateX(-50%); color: white; }
.l-padding { top: 50px; left: 50%; transform: translateX(-50%); }

/* Box sizing comparison */
.comparison {
  display: flex;
  gap: 20px;
  margin: 30px 0;
}

.size-box {
  width: 200px;
  padding: 20px;
  border: 10px solid #3498db;
  background: #ecf0f1;
  text-align: center;
}

.content-box { box-sizing: content-box; }
.border-box { box-sizing: border-box; }

code { background: #f5f5f5; padding: 2px 6px; }
</style>
</head>
<body>

<h1>CSS Box Model</h1>

<div class="box-model-demo">
  <span class="label l-margin"> margin: 20px </span>
  <span class="label l-border"> border: 15px </span>
  <span class="label l-padding"> padding: 30px </span>
  <div class="content">Content Area</div>
</div>

<h2>box-sizing Comparison</h2>
<p>Both boxes have <code>width: 200px</code>, <code>padding: 20px</code>, <code>border: 10px</code></p>

<div class="comparison">
  <div>
    <h3>content-box (default)</h3>
    <div class="size-box content-box">
      Total width: 260px<br>
      (200 + 40 + 20)
    </div>
  </div>
  <div>
    <h3>border-box</h3>
    <div class="size-box border-box">
      Total width: 200px<br>
      (as specified)
    </div>
  </div>
</div>

</body>
</html>`,
    },
    outline: {
      title: 'CSS Outline',
      content: `
# CSS Outline

Outlines are drawn outside the border.

## Outline vs Border

- **Border**: Part of box model (affects layout)
- **Outline**: Drawn outside (doesn't affect layout)

## Syntax

<pre><code class="css">
outline: 2px solid red;

/* Individual properties */
outline-width: 2px;
outline-style: solid;
outline-color: red;
outline-offset: 5px;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

.box {
  padding: 20px;
  margin: 25px 10px;
  background: #f5f5f5;
  display: inline-block;
}

.solid { outline: 3px solid #3498db; }
.dashed { outline: 3px dashed #e74c3c; }
.dotted { outline: 3px dotted #2ecc71; }
.double { outline: 5px double #9b59b6; }

.offset {
  outline: 3px solid #3498db;
  outline-offset: 10px;
}

.focus-demo {
  padding: 15px 30px;
  font-size: 16px;
  border: 2px solid #3498db;
  background: white;
  cursor: pointer;
  margin: 20px 0;
}

.focus-demo:focus {
  outline: 3px solid #e74c3c;
  outline-offset: 3px;
}
</style>
</head>
<body>

<h1>CSS Outline</h1>

<h2>Outline Styles</h2>
<div class="box solid">solid</div>
<div class="box dashed">dashed</div>
<div class="box dotted">dotted</div>
<div class="box double">double</div>

<h2>Outline Offset</h2>
<div class="box offset">10px offset</div>

<h2>Focus Outline (click the button)</h2>
<button class="focus-demo">Focus Me</button>
<p>Outlines are commonly used for keyboard focus indicators.</p>

</body>
</html>`,
    },
    text: {
      title: 'CSS Text',
      content: `
# CSS Text

Style text content.

## Text Properties

<pre><code class="css">
/* Color */
color: blue;

/* Alignment */
text-align: center;
text-align: left;
text-align: right;
text-align: justify;

/* Decoration */
text-decoration: underline;
text-decoration: line-through;
text-decoration: none;

/* Transform */
text-transform: uppercase;
text-transform: lowercase;
text-transform: capitalize;

/* Spacing */
letter-spacing: 2px;
word-spacing: 5px;
line-height: 1.6;

/* Indentation */
text-indent: 50px;

/* Shadow */
text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

.demo { margin: 15px 0; padding: 15px; background: #f5f5f5; }

.center { text-align: center; }
.right { text-align: right; }
.justify { text-align: justify; }

.underline { text-decoration: underline; }
.strike { text-decoration: line-through; }
.overline { text-decoration: overline; }

.upper { text-transform: uppercase; }
.lower { text-transform: lowercase; }
.cap { text-transform: capitalize; }

.spacing { letter-spacing: 3px; }
.line-height { line-height: 2; }
.indent { text-indent: 50px; }

.shadow { 
  font-size: 32px;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

.glow {
  font-size: 32px;
  color: #3498db;
  text-shadow: 0 0 10px #3498db, 0 0 20px #3498db;
}
</style>
</head>
<body>

<h1>CSS Text Styling</h1>

<h2>Text Alignment</h2>
<div class="demo center">text-align: center</div>
<div class="demo right">text-align: right</div>

<h2>Text Decoration</h2>
<div class="demo underline">text-decoration: underline</div>
<div class="demo strike">text-decoration: line-through</div>

<h2>Text Transform</h2>
<div class="demo upper">uppercase text</div>
<div class="demo lower">LOWERCASE TEXT</div>
<div class="demo cap">capitalize each word</div>

<h2>Spacing & Indentation</h2>
<div class="demo spacing">letter-spacing: 3px</div>
<div class="demo indent">This paragraph has a 50px text-indent on the first line only.</div>

<h2>Text Shadow</h2>
<div class="demo shadow">Shadow Effect</div>
<div class="demo glow">Glow Effect</div>

</body>
</html>`,
    },
    fonts: {
      title: 'CSS Fonts',
      content: `
# CSS Fonts

Control typography with CSS.

## Font Properties

<pre><code class="css">
/* Font family */
font-family: Arial, sans-serif;
font-family: 'Times New Roman', serif;
font-family: 'Courier New', monospace;

/* Size */
font-size: 16px;
font-size: 1.2em;
font-size: 1.2rem;

/* Weight */
font-weight: normal;   /* 400 */
font-weight: bold;     /* 700 */
font-weight: 100-900;

/* Style */
font-style: italic;
font-style: normal;

/* Shorthand */
font: italic bold 16px/1.5 Arial, sans-serif;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Playfair+Display&display=swap" rel="stylesheet">
<style>
body { font-family: Arial; padding: 20px; }

.demo { margin: 15px 0; padding: 15px; background: #f5f5f5; }

.serif { font-family: 'Playfair Display', Georgia, serif; font-size: 24px; }
.sans { font-family: 'Roboto', Arial, sans-serif; }
.mono { font-family: 'Courier New', monospace; }

.light { font-weight: 300; }
.normal { font-weight: 400; }
.bold { font-weight: 700; }

.italic { font-style: italic; }

.size-sm { font-size: 14px; }
.size-md { font-size: 18px; }
.size-lg { font-size: 24px; }
.size-xl { font-size: 36px; }

.combined {
  font: italic 700 24px/1.5 'Roboto', sans-serif;
  color: #3498db;
}
</style>
</head>
<body>

<h1>CSS Fonts</h1>

<h2>Font Families</h2>
<div class="demo serif">Serif Font (Playfair Display)</div>
<div class="demo sans">Sans-serif Font (Roboto)</div>
<div class="demo mono">Monospace Font (Courier)</div>

<h2>Font Weights</h2>
<div class="demo sans light">font-weight: 300 (light)</div>
<div class="demo sans normal">font-weight: 400 (normal)</div>
<div class="demo sans bold">font-weight: 700 (bold)</div>

<h2>Font Sizes</h2>
<div class="demo size-sm">14px</div>
<div class="demo size-md">18px</div>
<div class="demo size-lg">24px</div>
<div class="demo size-xl">36px</div>

<h2>Combined (Shorthand)</h2>
<div class="demo combined">font: italic 700 24px/1.5 'Roboto'</div>

</body>
</html>`,
    },
    icons: {
      title: 'CSS Icons',
      content: `
# CSS Icons

Add icons to your web pages.

## Icon Libraries

### Font Awesome

<pre><code class="html">
&lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"&gt;

&lt;i class="fa fa-home"&gt;&lt;/i&gt;
&lt;i class="fas fa-user"&gt;&lt;/i&gt;
&lt;i class="fab fa-github"&gt;&lt;/i&gt;
</code></pre>

### Bootstrap Icons

<pre><code class="html">
&lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"&gt;

&lt;i class="bi bi-house"&gt;&lt;/i&gt;
</code></pre>

### Material Icons

<pre><code class="html">
&lt;link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"&gt;

&lt;span class="material-icons"&gt;home&lt;/span&gt;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<style>
body { font-family: Arial; padding: 20px; }

.icon-demo {
  display: flex;
  gap: 20px;
  flex-wrap: wrap;
  margin: 20px 0;
}

.icon-box {
  text-align: center;
  padding: 20px;
  background: #f5f5f5;
  border-radius: 10px;
  min-width: 100px;
}

.icon-box i, .icon-box span {
  font-size: 32px;
  color: #3498db;
  display: block;
  margin-bottom: 10px;
}

.icon-box p { font-size: 12px; color: #666; margin: 0; }

/* Styling icons */
.styled-icons i {
  font-size: 48px;
  margin: 10px;
  transition: all 0.3s;
}

.styled-icons i:hover {
  transform: scale(1.2);
}

.icon-red { color: #e74c3c !important; }
.icon-green { color: #2ecc71 !important; }
.icon-blue { color: #3498db !important; }
.icon-gold { color: #f1c40f !important; }
</style>
</head>
<body>

<h1>CSS Icons</h1>

<h2>Font Awesome Icons</h2>
<div class="icon-demo">
  <div class="icon-box"><i class="fas fa-home"></i><p>fa-home</p></div>
  <div class="icon-box"><i class="fas fa-user"></i><p>fa-user</p></div>
  <div class="icon-box"><i class="fas fa-heart"></i><p>fa-heart</p></div>
  <div class="icon-box"><i class="fas fa-star"></i><p>fa-star</p></div>
  <div class="icon-box"><i class="fas fa-cog"></i><p>fa-cog</p></div>
</div>

<h2>Material Icons</h2>
<div class="icon-demo">
  <div class="icon-box"><span class="material-icons">home</span><p>home</p></div>
  <div class="icon-box"><span class="material-icons">favorite</span><p>favorite</p></div>
  <div class="icon-box"><span class="material-icons">settings</span><p>settings</p></div>
</div>

<h2>Styled Icons (Hover Me!)</h2>
<div class="styled-icons">
  <i class="fas fa-heart icon-red"></i>
  <i class="fas fa-leaf icon-green"></i>
  <i class="fas fa-cloud icon-blue"></i>
  <i class="fas fa-star icon-gold"></i>
</div>

</body>
</html>`,
    },
    display: {
      title: 'CSS Display',
      content: `
# CSS Display

The display property controls how elements are rendered.

## Display Values

<pre><code class="css">
display: block;        /* Takes full width, stacks vertically */
display: inline;       /* Flows with text, no width/height */
display: inline-block; /* Inline + respects width/height */
display: none;         /* Completely hidden */
display: flex;         /* Flexbox container */
display: grid;         /* Grid container */
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

.container { background: #f5f5f5; padding: 10px; margin: 15px 0; }

/* Block elements */
.block { 
  display: block; 
  background: #3498db; 
  color: white; 
  padding: 10px; 
  margin: 5px 0;
}

/* Inline elements */
.inline { 
  display: inline; 
  background: #e74c3c; 
  color: white; 
  padding: 5px;
}

/* Inline-block elements */
.inline-block { 
  display: inline-block; 
  background: #2ecc71; 
  color: white; 
  padding: 15px 30px;
  margin: 5px;
}

/* None (hidden) */
.hidden { display: none; }

/* Flex */
.flex-container {
  display: flex;
  gap: 10px;
}
.flex-item {
  background: #9b59b6;
  color: white;
  padding: 20px;
  flex: 1;
}
</style>
</head>
<body>

<h1>CSS Display Property</h1>

<h2>display: block</h2>
<div class="container">
  <div class="block">Block 1</div>
  <div class="block">Block 2</div>
  <div class="block">Block 3</div>
</div>

<h2>display: inline</h2>
<div class="container">
  <span class="inline">Inline 1</span>
  <span class="inline">Inline 2</span>
  <span class="inline">Inline 3</span>
</div>

<h2>display: inline-block</h2>
<div class="container">
  <div class="inline-block">Inline-block 1</div>
  <div class="inline-block">Inline-block 2</div>
  <div class="inline-block">Inline-block 3</div>
</div>

<h2>display: flex</h2>
<div class="flex-container">
  <div class="flex-item">Flex 1</div>
  <div class="flex-item">Flex 2</div>
  <div class="flex-item">Flex 3</div>
</div>

</body>
</html>`,
    },
    position: {
      title: 'CSS Position',
      content: `
# CSS Position

Control how elements are positioned.

## Position Values

<pre><code class="css">
position: static;    /* Default, normal flow */
position: relative;  /* Relative to normal position */
position: absolute;  /* Relative to nearest positioned ancestor */
position: fixed;     /* Relative to viewport */
position: sticky;    /* Hybrid of relative and fixed */
</code></pre>

## Offset Properties

<pre><code class="css">
top: 20px;
right: 20px;
bottom: 20px;
left: 20px;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

.container {
  position: relative;
  background: #f5f5f5;
  height: 200px;
  margin: 20px 0;
  border: 2px dashed #ccc;
}

.box {
  padding: 15px;
  color: white;
  text-align: center;
}

/* Static (default) */
.static { background: #3498db; }

/* Relative */
.relative {
  position: relative;
  top: 20px;
  left: 30px;
  background: #e74c3c;
}

/* Absolute */
.absolute {
  position: absolute;
  top: 10px;
  right: 10px;
  background: #2ecc71;
}

/* Fixed (stays on scroll) */
.fixed {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: #9b59b6;
  padding: 15px 25px;
  border-radius: 30px;
  z-index: 100;
}

/* Sticky */
.sticky-container {
  height: 150px;
  overflow-y: scroll;
  background: #f5f5f5;
  padding: 10px;
}

.sticky {
  position: sticky;
  top: 0;
  background: #f39c12;
  color: white;
  padding: 10px;
}
</style>
</head>
<body>

<h1>CSS Position</h1>

<h2>Static (default)</h2>
<div class="container">
  <div class="box static">Static - normal flow</div>
</div>

<h2>Relative (offset from normal position)</h2>
<div class="container">
  <div class="box relative">Relative: top: 20px, left: 30px</div>
</div>

<h2>Absolute (relative to container)</h2>
<div class="container">
  <div class="box absolute">Absolute: top-right</div>
</div>

<h2>Sticky (scroll to see)</h2>
<div class="sticky-container">
  <div class="sticky">I'm sticky!</div>
  <p>Scroll down...</p>
  <p>Keep scrolling...</p>
  <p>More content...</p>
  <p>Even more...</p>
  <p>Almost there...</p>
  <p>The header stays!</p>
</div>

<div class="fixed">Fixed Button</div>

</body>
</html>`,
    },
    'z-index': {
      title: 'CSS Z-index',
      content: `
# CSS Z-index

Control stacking order of positioned elements.

## Rules

- Only works on positioned elements (relative, absolute, fixed, sticky)
- Higher z-index = on top
- Same z-index = order in HTML

<pre><code class="css">
.back { z-index: 1; }
.middle { z-index: 2; }
.front { z-index: 3; }
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

.stack-demo {
  position: relative;
  height: 250px;
}

.box {
  position: absolute;
  width: 120px;
  height: 120px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: bold;
  border-radius: 10px;
  transition: z-index 0.3s, transform 0.3s;
  cursor: pointer;
}

.box1 {
  background: #e74c3c;
  top: 20px;
  left: 20px;
  z-index: 1;
}

.box2 {
  background: #3498db;
  top: 60px;
  left: 80px;
  z-index: 2;
}

.box3 {
  background: #2ecc71;
  top: 100px;
  left: 140px;
  z-index: 3;
}

.box:hover {
  z-index: 10;
  transform: scale(1.1);
}

/* Negative z-index */
.behind {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #f5f5f5;
  z-index: -1;
}
</style>
</head>
<body>

<h1>CSS Z-index</h1>
<p>Hover over boxes to bring them to front</p>

<div class="stack-demo">
  <div class="behind">z-index: -1 (behind)</div>
  <div class="box box1">z-index: 1</div>
  <div class="box box2">z-index: 2</div>
  <div class="box box3">z-index: 3</div>
</div>

<h2>Remember</h2>
<ul>
  <li>z-index only works on positioned elements</li>
  <li>Higher number = on top</li>
  <li>Negative values go behind</li>
</ul>

</body>
</html>`,
    },
    overflow: {
      title: 'CSS Overflow',
      content: `
# CSS Overflow

Control what happens when content overflows.

## Overflow Values

<pre><code class="css">
overflow: visible;  /* Default, content shows outside */
overflow: hidden;   /* Content is clipped */
overflow: scroll;   /* Always show scrollbars */
overflow: auto;     /* Scrollbars when needed */

/* Individual axes */
overflow-x: scroll;
overflow-y: hidden;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

.container {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

.box {
  width: 200px;
  height: 120px;
  background: #f5f5f5;
  border: 2px solid #3498db;
  padding: 10px;
}

.visible { overflow: visible; }
.hidden { overflow: hidden; }
.scroll { overflow: scroll; }
.auto { overflow: auto; }

.overflow-x {
  overflow-x: scroll;
  overflow-y: hidden;
  white-space: nowrap;
}

h3 { margin-top: 0; color: #3498db; font-size: 14px; }
</style>
</head>
<body>

<h1>CSS Overflow</h1>

<div class="container">
  <div class="box visible">
    <h3>overflow: visible</h3>
    <p>This content overflows and is visible outside the box. Default behavior.</p>
  </div>
  
  <div class="box hidden">
    <h3>overflow: hidden</h3>
    <p>This content overflows but is hidden. No scrollbars are shown.</p>
  </div>
  
  <div class="box scroll">
    <h3>overflow: scroll</h3>
    <p>This content overflows with scrollbars always shown even if not needed.</p>
  </div>
  
  <div class="box auto">
    <h3>overflow: auto</h3>
    <p>This content shows scrollbars only when content overflows the container.</p>
  </div>
</div>

<h2>Horizontal Scroll</h2>
<div class="box overflow-x">
  <h3>overflow-x: scroll</h3>
  This is a very long line of text that will cause horizontal scrolling. Keep going...
</div>

</body>
</html>`,
    },
    float: {
      title: 'CSS Float',
      content: `
# CSS Float

Float elements left or right.

## Float Values

<pre><code class="css">
float: left;
float: right;
float: none;

/* Clear floats */
clear: left;
clear: right;
clear: both;
</code></pre>

## Clearfix Hack

<pre><code class="css">
.clearfix::after {
  content: "";
  display: table;
  clear: both;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

.container {
  background: #f5f5f5;
  padding: 20px;
  margin: 20px 0;
}

/* Clearfix */
.clearfix::after {
  content: "";
  display: table;
  clear: both;
}

.float-left {
  float: left;
  background: #3498db;
  color: white;
  padding: 20px;
  margin: 0 15px 10px 0;
}

.float-right {
  float: right;
  background: #e74c3c;
  color: white;
  padding: 20px;
  margin: 0 0 10px 15px;
}

/* Image with text wrap */
.article-img {
  float: left;
  width: 150px;
  height: 100px;
  background: #2ecc71;
  margin: 0 15px 10px 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
}
</style>
</head>
<body>

<h1>CSS Float</h1>

<h2>Float Left</h2>
<div class="container clearfix">
  <div class="float-left">Float Left</div>
  <p>Text wraps around the floated element. Float is commonly used for wrapping text around images.</p>
</div>

<h2>Float Right</h2>
<div class="container clearfix">
  <div class="float-right">Float Right</div>
  <p>Text wraps around the floated element on the left side when the element is floated right.</p>
</div>

<h2>Image with Text Wrap</h2>
<div class="container clearfix">
  <div class="article-img">Image</div>
  <p>This is how you typically use float to wrap text around an image in an article. The text flows naturally around the floated element. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore.</p>
</div>

</body>
</html>`,
    },
    'inline-block': {
      title: 'CSS Inline-block',
      content: `
# CSS Inline-block

Combines inline flow with block features.

## Comparison

| Feature | Block | Inline | Inline-block |
|---------|-------|--------|--------------|
| Width/Height |  |  |  |
| Padding/Margin |  | Horizontal only |  |
| Line break |  |  |  |

<pre><code class="css">
display: inline-block;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

.demo { background: #f5f5f5; padding: 10px; margin: 15px 0; }

.block-item {
  display: block;
  background: #3498db;
  color: white;
  padding: 15px;
  margin: 5px;
  width: 150px;
}

.inline-item {
  display: inline;
  background: #e74c3c;
  color: white;
  padding: 15px;
  margin: 5px;
  /* width/height won't work */
}

.inline-block-item {
  display: inline-block;
  background: #2ecc71;
  color: white;
  padding: 15px;
  margin: 5px;
  width: 120px;
  height: 60px;
  text-align: center;
  vertical-align: middle;
}

/* Practical example: nav menu */
.nav {
  background: #2c3e50;
  padding: 0;
}

.nav a {
  display: inline-block;
  color: white;
  padding: 15px 25px;
  text-decoration: none;
  transition: background 0.3s;
}

.nav a:hover {
  background: #34495e;
}
</style>
</head>
<body>

<h1>CSS Inline-block</h1>

<h2>display: block</h2>
<div class="demo">
  <div class="block-item">Block 1</div>
  <div class="block-item">Block 2</div>
  <div class="block-item">Block 3</div>
</div>

<h2>display: inline</h2>
<div class="demo">
  <span class="inline-item">Inline 1</span>
  <span class="inline-item">Inline 2</span>
  <span class="inline-item">Inline 3</span>
</div>

<h2>display: inline-block</h2>
<div class="demo">
  <div class="inline-block-item">IB 1</div>
  <div class="inline-block-item">IB 2</div>
  <div class="inline-block-item">IB 3</div>
</div>

<h2>Practical Example: Navigation</h2>
<div class="nav">
  <a href="#">Home</a>
  <a href="#">About</a>
  <a href="#">Services</a>
  <a href="#">Contact</a>
</div>

</body>
</html>`,
    },
    align: {
      title: 'CSS Align',
      content: `
# CSS Alignment

Center and align elements.

## Horizontal Centering

<pre><code class="css">
/* Block element */
margin: 0 auto;

/* Text */
text-align: center;

/* Flexbox */
justify-content: center;
</code></pre>

## Vertical Centering

<pre><code class="css">
/* Flexbox */
align-items: center;

/* Grid */
place-items: center;

/* Transform */
position: absolute;
top: 50%;
transform: translateY(-50%);
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

.container {
  background: #f5f5f5;
  height: 150px;
  margin: 15px 0;
  display: flex;
  align-items: center;
}

.box {
  background: #3498db;
  color: white;
  padding: 20px 40px;
}

/* Horizontal: margin auto */
.h-margin {
  margin: 0 auto;
}

/* Horizontal: flexbox */
.h-flex { justify-content: center; }

/* Both: flexbox */
.both-flex {
  justify-content: center;
  align-items: center;
}

/* Both: grid */
.grid-center {
  display: grid;
  place-items: center;
  background: #f5f5f5;
  height: 150px;
  margin: 15px 0;
}

/* Vertical: transform */
.transform-center {
  position: relative;
  background: #f5f5f5;
  height: 150px;
  margin: 15px 0;
}
.transform-center .box {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}

h2 { margin-top: 25px; }
</style>
</head>
<body>

<h1>CSS Alignment</h1>

<h2>Horizontal: margin: 0 auto</h2>
<div class="container">
  <div class="box h-margin">Centered</div>
</div>

<h2>Horizontal: Flexbox justify-content</h2>
<div class="container h-flex">
  <div class="box">Centered</div>
</div>

<h2>Both: Flexbox</h2>
<div class="container both-flex">
  <div class="box">Centered</div>
</div>

<h2>Both: Grid place-items</h2>
<div class="grid-center">
  <div class="box">Centered</div>
</div>

<h2>Both: Transform</h2>
<div class="transform-center">
  <div class="box">Centered</div>
</div>

</body>
</html>`,
    },
    'max-width': {
      title: 'CSS Max-width',
      content: `
# CSS Max-width

Limit element width for responsive design.

## Syntax

<pre><code class="css">
max-width: 800px;    /* Maximum 800px */
max-width: 100%;     /* Never exceed parent */
max-width: 50vw;     /* 50% of viewport */

/* Common pattern */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; margin: 0; padding: 20px; }

.box {
  background: #3498db;
  color: white;
  padding: 20px;
  margin: 15px 0;
}

/* No max-width */
.full-width {
  width: 100%;
}

/* With max-width */
.limited {
  max-width: 500px;
}

/* Responsive container pattern */
.container {
  max-width: 800px;
  margin: 0 auto;
  padding: 20px;
  background: #2ecc71;
}

/* Responsive image */
.responsive-img {
  max-width: 100%;
  height: auto;
  display: block;
}

h2 { margin-top: 30px; }
</style>
</head>
<body>

<h1>CSS Max-width</h1>

<h2>No max-width (100% width)</h2>
<div class="box full-width">Takes full width of parent</div>

<h2>max-width: 500px</h2>
<div class="box limited">Limited to 500px maximum</div>

<h2>Responsive Container Pattern</h2>
<div class="container">
  <p>This container has:</p>
  <ul>
    <li>max-width: 800px</li>
    <li>margin: 0 auto (centered)</li>
    <li>padding: 20px (side gutters)</li>
  </ul>
</div>

<h2>Responsive Image</h2>
<img src="https://picsum.photos/800/400" alt="Responsive" class="responsive-img">
<p><code>max-width: 100%</code> makes images responsive</p>

</body>
</html>`,
    },
    combinators: {
      title: 'CSS Combinators',
      content: `
# CSS Combinators

Select elements based on their relationship.

## Combinator Types

<pre><code class="css">
/* Descendant (space) */
div p { }      /* Any p inside div */

/* Child (&gt;) */
div &gt; p { }    /* Direct p children only */

/* Adjacent sibling (+) */
h1 + p { }     /* First p after h1 */

/* General sibling (~) */
h1 ~ p { }     /* All p siblings after h1 */
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

.container { background: #f5f5f5; padding: 20px; margin: 15px 0; }

/* Descendant selector */
.desc p { color: #3498db; font-weight: bold; }

/* Child selector */
.child > p { color: #e74c3c; font-weight: bold; }

/* Adjacent sibling */
h3 + p { color: #2ecc71; font-weight: bold; }

/* General sibling */
h3 ~ p.general { color: #9b59b6; font-weight: bold; }

code { background: #eee; padding: 2px 6px; border-radius: 3px; }
</style>
</head>
<body>

<h1>CSS Combinators</h1>

<h2>Descendant Selector (space): <code>.desc p</code></h2>
<div class="container desc">
  <p>Direct paragraph (matched)</p>
  <div>
    <p>Nested paragraph (also matched)</p>
  </div>
</div>

<h2>Child Selector (>): <code>.child > p</code></h2>
<div class="container child">
  <p>Direct child (matched)</p>
  <div>
    <p>Nested paragraph (NOT matched)</p>
  </div>
</div>

<h2>Adjacent Sibling (+): <code>h3 + p</code></h2>
<div class="container">
  <h3>Heading</h3>
  <p>First paragraph after h3 (matched)</p>
  <p>Second paragraph (NOT matched)</p>
</div>

<h2>General Sibling (~): <code>h3 ~ p</code></h2>
<div class="container">
  <p>Before heading (NOT matched)</p>
  <h3>Heading</h3>
  <p class="general">First sibling (matched)</p>
  <p class="general">Second sibling (matched)</p>
  <p class="general">Third sibling (matched)</p>
</div>

</body>
</html>`,
    },
    'pseudo-classes': {
      title: 'CSS Pseudo-classes',
      content: `
# CSS Pseudo-classes

Select elements based on their state.

## Common Pseudo-classes

<pre><code class="css">
/* Link states */
a:link { }      /* Unvisited */
a:visited { }   /* Visited */
a:hover { }     /* Mouse over */
a:active { }    /* Being clicked */

/* Form states */
input:focus { }
input:disabled { }
input:checked { }
input:valid { }
input:invalid { }

/* Position */
:first-child { }
:last-child { }
:nth-child(n) { }
:nth-child(odd) { }
:nth-child(even) { }

/* Negation */
:not(.class) { }
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

/* Link states */
a:link { color: #3498db; }
a:visited { color: #9b59b6; }
a:hover { color: #e74c3c; }
a:active { color: #2ecc71; }

/* List child selectors */
.list li { padding: 10px; margin: 5px 0; background: #f5f5f5; }
.list li:first-child { background: #3498db; color: white; }
.list li:last-child { background: #e74c3c; color: white; }
.list li:nth-child(odd) { background: #ecf0f1; }
.list li:nth-child(3) { border: 2px solid #2ecc71; }

/* Form states */
input, button { padding: 10px; margin: 5px; font-size: 16px; }
input:focus { outline: 3px solid #3498db; }
input:valid { border: 2px solid #2ecc71; }
input:invalid { border: 2px solid #e74c3c; }

/* Hover effects */
.card {
  padding: 20px;
  background: white;
  border-radius: 10px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  transition: all 0.3s;
  margin: 10px 0;
}
.card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 20px rgba(0,0,0,0.2);
}

/* Not selector */
.tags span { display: inline-block; padding: 5px 15px; margin: 5px; background: #3498db; color: white; border-radius: 20px; }
.tags span:not(.active) { background: #bdc3c7; color: #333; }
</style>
</head>
<body>

<h1>CSS Pseudo-classes</h1>

<h2>Link States</h2>
<p><a href="#">Hover, click, and visit me!</a></p>

<h2>Child Selectors</h2>
<ul class="list">
  <li>First child (blue)</li>
  <li>Second child</li>
  <li>Third child (green border)</li>
  <li>Fourth child</li>
  <li>Last child (red)</li>
</ul>

<h2>Form States</h2>
<input type="email" placeholder="Enter valid email" required>
<input type="text" placeholder="Focus me">

<h2>Hover Effect</h2>
<div class="card">Hover over this card!</div>

<h2>:not() Selector</h2>
<div class="tags">
  <span class="active">Active</span>
  <span>Inactive</span>
  <span>Inactive</span>
  <span class="active">Active</span>
</div>

</body>
</html>`,
    },
    'pseudo-elements': {
      title: 'CSS Pseudo-elements',
      content: `
# CSS Pseudo-elements

Style specific parts of elements.

## Common Pseudo-elements

<pre><code class="css">
/* Before and After */
::before { content: ""; }
::after { content: ""; }

/* First letter/line */
::first-letter { }
::first-line { }

/* Selection */
::selection { }

/* Placeholder */
::placeholder { }
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

/* Before and After */
.quote {
  position: relative;
  padding: 20px 30px;
  background: #f5f5f5;
  font-style: italic;
  margin: 20px 0;
}
.quote::before {
  content: """;
  position: absolute;
  left: 10px;
  top: 0;
  font-size: 48px;
  color: #3498db;
}
.quote::after {
  content: """;
  position: absolute;
  right: 10px;
  bottom: -20px;
  font-size: 48px;
  color: #3498db;
}

/* First letter */
.drop-cap::first-letter {
  font-size: 3em;
  float: left;
  line-height: 1;
  margin-right: 10px;
  color: #e74c3c;
  font-weight: bold;
}

/* First line */
.first-line::first-line {
  font-weight: bold;
  color: #3498db;
  font-size: 1.2em;
}

/* Selection */
.custom-selection::selection {
  background: #2ecc71;
  color: white;
}

/* Placeholder */
.styled-input::placeholder {
  color: #9b59b6;
  font-style: italic;
}

/* Required indicator */
.required-label::after {
  content: " *";
  color: #e74c3c;
}

input { padding: 10px; font-size: 16px; margin: 10px 0; display: block; width: 250px; }
</style>
</head>
<body>

<h1>CSS Pseudo-elements</h1>

<h2>::before and ::after</h2>
<div class="quote">
  The only way to do great work is to love what you do.
</div>

<h2>::first-letter (Drop Cap)</h2>
<p class="drop-cap">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>

<h2>::first-line</h2>
<p class="first-line">The first line of this paragraph is styled differently. Try resizing the window to see how the first line changes based on the container width.</p>

<h2>::selection (Try selecting this text)</h2>
<p class="custom-selection">Select this text to see custom selection colors! The background will be green and text will be white.</p>

<h2>::placeholder</h2>
<input type="text" class="styled-input" placeholder="Styled placeholder text">

<h2>::after for Required Indicator</h2>
<label class="required-label">Email Address</label>
<input type="email" placeholder="Enter email">

</body>
</html>`,
    },
    'attr-selectors': {
      title: 'CSS Attribute Selectors',
      content: `
# CSS Attribute Selectors

Select elements based on their attributes.

## Syntax

<pre><code class="css">
/* Has attribute */
[disabled] { }

/* Exact value */
[type="text"] { }

/* Contains word */
[class~="box"] { }

/* Starts with */
[href^="https"] { }

/* Ends with */
[href$=".pdf"] { }

/* Contains */
[href*="google"] { }

/* Case insensitive */
[type="submit" i] { }
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

/* Has attribute */
[disabled] {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Exact match */
[type="text"] {
  border: 2px solid #3498db;
}

[type="email"] {
  border: 2px solid #9b59b6;
}

/* Starts with (external links) */
a[href^="https"] {
  color: #2ecc71;
}
a[href^="https"]::after {
  content: " ";
}

/* Ends with (file types) */
a[href$=".pdf"] {
  color: #e74c3c;
}
a[href$=".pdf"]::after {
  content: " ";
}

/* Contains */
a[href*="google"] {
  font-weight: bold;
}

/* Styling */
input, button {
  padding: 12px;
  margin: 8px 0;
  font-size: 16px;
  display: block;
  width: 250px;
  border-radius: 5px;
  border: 2px solid #ccc;
}

button {
  background: #3498db;
  color: white;
  border: none;
  cursor: pointer;
}

a { display: block; margin: 8px 0; }
</style>
</head>
<body>

<h1>CSS Attribute Selectors</h1>

<h2>[type="..."]</h2>
<input type="text" placeholder="type=text (blue border)">
<input type="email" placeholder="type=email (purple border)">
<button type="submit">Submit Button</button>
<button disabled>Disabled Button</button>

<h2>Link Selectors</h2>
<a href="https://google.com">External link (https) - green with </a>
<a href="https://www.google.com/search">Contains "google" - bold</a>
<a href="/files/document.pdf">PDF download - red with </a>
<a href="/about">Internal link</a>

</body>
</html>`,
    },
    links: {
      title: 'CSS Links',
      content: `
# CSS Links

Style hyperlinks for different states.

## Link States

<pre><code class="css">
/* Order matters: LVHA */
a:link { }     /* Unvisited */
a:visited { }  /* Visited */
a:hover { }    /* Mouse over */
a:active { }   /* Being clicked */

/* Remove underline */
a {
  text-decoration: none;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

/* Basic link styling */
a {
  text-decoration: none;
  transition: all 0.3s;
}

/* Default link */
.basic a:link { color: #3498db; }
.basic a:visited { color: #9b59b6; }
.basic a:hover { color: #e74c3c; text-decoration: underline; }
.basic a:active { color: #2ecc71; }

/* Button link */
.btn-link {
  display: inline-block;
  padding: 12px 24px;
  background: #3498db;
  color: white !important;
  border-radius: 5px;
  margin: 5px;
}
.btn-link:hover {
  background: #2980b9;
  transform: translateY(-2px);
}

/* Underline animation */
.animated-link {
  position: relative;
  color: #3498db;
}
.animated-link::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 0;
  height: 2px;
  background: #3498db;
  transition: width 0.3s;
}
.animated-link:hover::after {
  width: 100%;
}

/* Icon link */
.icon-link::before {
  content: " ";
  transition: padding 0.3s;
}
.icon-link:hover::before {
  padding-right: 8px;
}

.demo { margin: 20px 0; }
</style>
</head>
<body>

<h1>CSS Links</h1>

<div class="demo basic">
  <h2>Basic Link States</h2>
  <a href="#">Hover, click, and test me!</a>
</div>

<div class="demo">
  <h2>Button Links</h2>
  <a href="#" class="btn-link">Primary Button</a>
  <a href="#" class="btn-link" style="background:#2ecc71;">Success Button</a>
</div>

<div class="demo">
  <h2>Animated Underline</h2>
  <a href="#" class="animated-link">Hover for animated underline</a>
</div>

<div class="demo">
  <h2>Icon Animation</h2>
  <a href="#" class="icon-link">Hover to see arrow animate</a>
</div>

</body>
</html>`,
    },
    lists: {
      title: 'CSS Lists',
      content: `
# CSS Lists

Style ordered and unordered lists.

## List Properties

<pre><code class="css">
/* List style type */
list-style-type: disc;
list-style-type: circle;
list-style-type: square;
list-style-type: decimal;
list-style-type: none;

/* List style position */
list-style-position: inside;
list-style-position: outside;

/* Custom marker */
list-style-image: url('marker.png');

/* Shorthand */
list-style: square inside;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

ul, ol { margin: 15px 0; padding-left: 40px; }
li { padding: 5px 0; }

/* Different bullet types */
.disc { list-style-type: disc; }
.circle { list-style-type: circle; }
.square { list-style-type: square; }
.none { list-style-type: none; padding-left: 0; }

.decimal { list-style-type: decimal; }
.roman { list-style-type: upper-roman; }
.alpha { list-style-type: lower-alpha; }

/* Custom bullets with ::before */
.custom-list {
  list-style: none;
  padding-left: 0;
}
.custom-list li {
  padding-left: 25px;
  position: relative;
}
.custom-list li::before {
  content: "";
  position: absolute;
  left: 0;
  color: #2ecc71;
  font-weight: bold;
}

/* Styled list */
.styled-list {
  list-style: none;
  padding: 0;
}
.styled-list li {
  background: #f5f5f5;
  margin: 5px 0;
  padding: 15px 20px;
  border-left: 4px solid #3498db;
  transition: all 0.3s;
}
.styled-list li:hover {
  background: #3498db;
  color: white;
  padding-left: 30px;
}

h2 { margin-top: 25px; }
</style>
</head>
<body>

<h1>CSS Lists</h1>

<h2>Unordered List Types</h2>
<ul class="disc"><li>Disc (default)</li><li>Item</li></ul>
<ul class="circle"><li>Circle</li><li>Item</li></ul>
<ul class="square"><li>Square</li><li>Item</li></ul>

<h2>Ordered List Types</h2>
<ol class="decimal"><li>Decimal</li><li>Item</li></ol>
<ol class="roman"><li>Roman</li><li>Item</li></ol>
<ol class="alpha"><li>Alpha</li><li>Item</li></ol>

<h2>Custom Checkmarks</h2>
<ul class="custom-list">
  <li>Completed task</li>
  <li>Another task done</li>
  <li>All finished!</li>
</ul>

<h2>Styled List</h2>
<ul class="styled-list">
  <li>Hover over me!</li>
  <li>Interactive list items</li>
  <li>With smooth transitions</li>
</ul>

</body>
</html>`,
    },
    tables: {
      title: 'CSS Tables',
      content: `
# CSS Tables

Style HTML tables with CSS.

## Table Properties

<pre><code class="css">
/* Border collapse */
border-collapse: collapse;
border-collapse: separate;

/* Border spacing */
border-spacing: 10px;

/* Cell padding */
th, td {
  padding: 12px;
}

/* Text alignment */
text-align: left;
vertical-align: middle;

/* Zebra stripes */
tr:nth-child(even) {
  background: #f2f2f2;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

/* Basic table */
table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
}

th, td {
  border: 1px solid #ddd;
  padding: 12px;
  text-align: left;
}

th {
  background: #3498db;
  color: white;
}

/* Zebra stripes */
tr:nth-child(even) {
  background: #f5f5f5;
}

/* Hover effect */
tr:hover {
  background: #e8f4fd;
}

/* Modern table */
.modern-table {
  border: none;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  border-radius: 10px;
  overflow: hidden;
}

.modern-table th, .modern-table td {
  border: none;
  border-bottom: 1px solid #eee;
}

.modern-table th {
  background: linear-gradient(135deg, #667eea, #764ba2);
}

.modern-table tr:last-child td {
  border-bottom: none;
}
</style>
</head>
<body>

<h1>CSS Tables</h1>

<h2>Basic Styled Table</h2>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Role</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>John Doe</td>
      <td>Developer</td>
      <td>Active</td>
    </tr>
    <tr>
      <td>Jane Smith</td>
      <td>Designer</td>
      <td>Active</td>
    </tr>
    <tr>
      <td>Bob Wilson</td>
      <td>Manager</td>
      <td>Away</td>
    </tr>
  </tbody>
</table>

<h2>Modern Table</h2>
<table class="modern-table">
  <thead>
    <tr>
      <th>Product</th>
      <th>Price</th>
      <th>Stock</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Widget A</td>
      <td>$29.99</td>
      <td>150</td>
    </tr>
    <tr>
      <td>Widget B</td>
      <td>$49.99</td>
      <td>89</td>
    </tr>
    <tr>
      <td>Widget C</td>
      <td>$19.99</td>
      <td>200</td>
    </tr>
  </tbody>
</table>

</body>
</html>`,
    },
    home: {
      title: 'CSS Tutorial',
      content: `
# Welcome to CSS Tutorial

CSS is the language we use to style an HTML document.

CSS describes how HTML elements should be displayed.

## What You Will Learn

In this tutorial, you will learn CSS from basic to advanced:

- **CSS Basics** - Syntax, Selectors, Colors, Backgrounds
- **Box Model** - Margins, Padding, Borders, Width/Height
- **Text & Fonts** - Typography, Icons, Custom Fonts
- **Layout** - Display, Position, Float, Flexbox, Grid
- **Advanced** - Transitions, Animations, Transforms
- **Responsive** - Media Queries, Mobile-First Design

## Why Learn CSS?

CSS is one of the core languages of the web. Here's why you should learn it:

- **Control Visual Design** - Make your websites beautiful
- **Responsive Layouts** - Build sites that work on any device
- **Animations** - Add interactive visual effects
- **Career Opportunity** - Every web developer needs CSS skills

## Example

<pre><code class="css">
body {
  background-color: lightblue;
}

h1 {
  color: white;
  text-align: center;
}

p {
  font-family: verdana;
  font-size: 20px;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body {
  background-color: lightblue;
}

h1 {
  color: white;
  text-align: center;
}

p {
  font-family: verdana;
  font-size: 20px;
}
</style>
</head>
<body>

<h1>My First CSS Example</h1>
<p>This is a paragraph.</p>

</body>
</html>`,
    },
    introduction: {
      title: 'CSS Introduction',
      content: `
# CSS Introduction

CSS stands for **Cascading Style Sheets**.

CSS describes how HTML elements are to be displayed on screen, paper, or in other media.

## What is CSS?

- **CSS** stands for Cascading Style Sheets
- CSS describes how HTML elements are to be displayed
- CSS saves a lot of work - it can control the layout of multiple web pages all at once
- External stylesheets are stored in CSS files

## Why Use CSS?

CSS is used to define styles for your web pages, including the design, layout and variations in display for different devices and screen sizes.

## CSS Solved a Big Problem

HTML was NEVER intended to contain tags for formatting a web page!

HTML was created to describe the content of a web page, like:

<pre><code class="html">
&lt;h1&gt;This is a heading&lt;/h1&gt;
&lt;p&gt;This is a paragraph.&lt;/p&gt;
</code></pre>

When tags like <code><font></code> and color attributes were added to the HTML 3.2 specification, it started a nightmare for web developers. Development of large websites became a long, expensive process.

To solve this problem, the World Wide Web Consortium (W3C) created CSS.

## CSS Saves a Lot of Work!

The style definitions are normally saved in external .css files.

With an external stylesheet file, you can change the look of an entire website by changing just one file!
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body {
  background-color: #f0f0f0;
  font-family: Arial, sans-serif;
}

h1 {
  color: #333;
  text-align: center;
  padding: 20px;
  background-color: #4CAF50;
  color: white;
}

p {
  color: #666;
  line-height: 1.6;
  padding: 0 20px;
}
</style>
</head>
<body>

<h1>CSS Makes Styling Easy</h1>
<p>CSS separates content from presentation. This paragraph is styled with CSS.</p>
<p>You can change colors, fonts, spacing, and much more!</p>

</body>
</html>`,
    },
    syntax: {
      title: 'CSS Syntax',
      content: `
# CSS Syntax

A CSS rule consists of a selector and a declaration block.

## CSS Syntax

<pre><code class="css">
selector {
  property: value;
}
</code></pre>

The selector points to the HTML element you want to style.

The declaration block contains one or more declarations separated by semicolons.

Each declaration includes a CSS property name and a value, separated by a colon.

## Example Explained

<pre><code class="css">
p {
  color: red;
  text-align: center;
}
</code></pre>

- <code>p</code> is a selector (it selects the <code><p></code> element)
- <code>color</code> is a property, and <code>red</code> is the property value
- <code>text-align</code> is a property, and <code>center</code> is the property value

## Multiple Declarations

<pre><code class="css">
h1 {
  color: blue;
  font-size: 24px;
  font-family: Arial;
  text-transform: uppercase;
}
</code></pre>

## CSS Comments

Comments are used to explain your code:

<pre><code class="css">
/* This is a single-line comment */

/* This is
a multi-line
comment */

p {
  color: red; /* This is also a comment */
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
/* Style for paragraphs */
p {
  color: red;
  text-align: center;
}

/* Style for headings */
h1 {
  color: blue;
  font-size: 32px;
  font-family: Arial, sans-serif;
  text-transform: uppercase;
  border-bottom: 2px solid blue;
}
</style>
</head>
<body>

<h1>CSS Syntax Example</h1>
<p>This paragraph is styled with CSS.</p>
<p>Multiple CSS properties can be applied to each element.</p>

</body>
</html>`,
    },
    selectors: {
      title: 'CSS Selectors',
      content: `
# CSS Selectors

CSS selectors are used to "find" (or select) the HTML elements you want to style.

## Types of CSS Selectors

We can divide CSS selectors into five categories:

1. **Simple selectors** - select elements based on name, id, class
2. **Combinator selectors** - select elements based on a relationship
3. **Pseudo-class selectors** - select elements based on a state
4. **Pseudo-elements selectors** - select and style a part of an element
5. **Attribute selectors** - select elements based on an attribute

## The Element Selector

The element selector selects HTML elements based on the element name:

<pre><code class="css">
p {
  color: red;
  text-align: center;
}
</code></pre>

## The ID Selector

The id selector uses the id attribute of an HTML element. Use a hash (#) character:

<pre><code class="css">
#para1 {
  text-align: center;
  color: red;
}
</code></pre>

## The Class Selector

The class selector selects elements with a specific class attribute. Use a period (.) character:

<pre><code class="css">
.center {
  text-align: center;
  color: red;
}
</code></pre>

## The Universal Selector

The universal selector (*) selects all HTML elements:

<pre><code class="css">
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
</code></pre>

## The Grouping Selector

Group selectors to minimize code:

<pre><code class="css">
h1, h2, p {
  text-align: center;
  color: red;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
/* Element selector */
p {
  font-size: 16px;
}

/* ID selector */
#special {
  color: green;
  font-weight: bold;
}

/* Class selector */
.highlight {
  background-color: yellow;
  padding: 5px;
}

/* Universal selector */
* {
  font-family: Arial, sans-serif;
}

/* Grouping selector */
h1, h2, h3 {
  color: navy;
}
</style>
</head>
<body>

<h1>CSS Selectors Demo</h1>
<h2>Different Ways to Select Elements</h2>

<p id="special">This paragraph has an ID selector applied.</p>
<p class="highlight">This paragraph has a class selector applied.</p>
<p>This is a regular paragraph with element selector.</p>

</body>
</html>`,
    },
    howto: {
      title: 'How To Add CSS',
      content: `
# How To Add CSS

There are three ways to insert CSS:

1. **External CSS** - Using an external stylesheet file
2. **Internal CSS** - Using a <code><style></code> element in the <code><head></code> section
3. **Inline CSS** - Using the <code>style</code> attribute on individual elements

## External CSS

With an external style sheet, you can change the look of an entire website by changing just one file!

Each HTML page must include a reference to the external style sheet file inside the <code><link></code> element:

<pre><code class="html">
&lt;head&gt;
  &lt;link rel="stylesheet" href="styles.css"&gt;
&lt;/head&gt;
</code></pre>

The external .css file:

<pre><code class="css">
body {
  background-color: lightblue;
}

h1 {
  color: navy;
  margin-left: 20px;
}
</code></pre>

## Internal CSS

An internal style sheet may be used if one single HTML page has a unique style:

<pre><code class="html">
&lt;head&gt;
&lt;style&gt;
body {
  background-color: linen;
}

h1 {
  color: maroon;
  margin-left: 40px;
}
&lt;/style&gt;
&lt;/head&gt;
</code></pre>

## Inline CSS

An inline style may be used to apply a unique style for a single element:

<pre><code class="html">
&lt;h1 style="color:blue;text-align:center;"&gt;This is a heading&lt;/h1&gt;
&lt;p style="color:red;"&gt;This is a paragraph.&lt;/p&gt;
</code></pre>

## Cascading Order

What style will be used when there is more than one style specified?

All the styles will "cascade" into a new "virtual" style sheet by this priority (highest to lowest):

1. Inline style (inside an HTML element)
2. External and internal style sheets (in the head section)
3. Browser default
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
/* Internal CSS */
body {
  background-color: #f5f5f5;
  font-family: Arial, sans-serif;
}

h1 {
  color: #333;
}

.internal-style {
  color: purple;
  font-size: 18px;
}
</style>
</head>
<body>

<h1>How To Add CSS</h1>

<p class="internal-style">This uses Internal CSS (style tag in head).</p>

<p style="color: blue; font-weight: bold;">This uses Inline CSS (style attribute).</p>

<p>External CSS would be in a separate .css file linked with a link tag.</p>

</body>
</html>`,
    },
    'flexbox-intro': {
      title: 'Flexbox Introduction',
      content: `
# CSS Flexbox

Flexbox is a one-dimensional layout method for arranging items in rows or columns.

## Why Flexbox?

Before Flexbox, we used floats and positioning which were difficult for:
- Vertically centering content
- Making children take up equal space
- Making columns equal height

Flexbox makes these layouts easy!

## Flex Container

To use Flexbox, create a flex container:

<pre><code class="css">
.container {
  display: flex;
}
</code></pre>

## Flex Direction

<pre><code class="css">
.container {
  flex-direction: row;          /* default - horizontal */
  flex-direction: row-reverse;  /* horizontal reversed */
  flex-direction: column;       /* vertical */
  flex-direction: column-reverse;
}
</code></pre>

## Justify Content (Main Axis)

<pre><code class="css">
.container {
  justify-content: flex-start;    /* default */
  justify-content: flex-end;      /* end of container */
  justify-content: center;        /* center items */
  justify-content: space-between; /* equal space between */
  justify-content: space-around;  /* equal space around */
  justify-content: space-evenly;  /* equal space everywhere */
}
</code></pre>

## Align Items (Cross Axis)

<pre><code class="css">
.container {
  align-items: stretch;     /* default - fill container */
  align-items: flex-start;  /* align to start */
  align-items: flex-end;    /* align to end */
  align-items: center;      /* center vertically */
  align-items: baseline;    /* align text baselines */
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
.flex-container {
  display: flex;
  background-color: #2c3e50;
  padding: 10px;
  margin: 10px 0;
}

.flex-item {
  background-color: #3498db;
  color: white;
  padding: 20px;
  margin: 5px;
  text-align: center;
}

.justify-center {
  justify-content: center;
}

.justify-between {
  justify-content: space-between;
}

.justify-around {
  justify-content: space-around;
}

.align-center {
  height: 150px;
  align-items: center;
}

.column {
  flex-direction: column;
  height: 300px;
}
</style>
</head>
<body>

<h1>CSS Flexbox</h1>

<h2>Default (flex-start)</h2>
<div class="flex-container">
  <div class="flex-item">1</div>
  <div class="flex-item">2</div>
  <div class="flex-item">3</div>
</div>

<h2>justify-content: center</h2>
<div class="flex-container justify-center">
  <div class="flex-item">1</div>
  <div class="flex-item">2</div>
  <div class="flex-item">3</div>
</div>

<h2>justify-content: space-between</h2>
<div class="flex-container justify-between">
  <div class="flex-item">1</div>
  <div class="flex-item">2</div>
  <div class="flex-item">3</div>
</div>

<h2>align-items: center (with height)</h2>
<div class="flex-container align-center">
  <div class="flex-item">Centered</div>
  <div class="flex-item">Vertically</div>
</div>

</body>
</html>`,
    },
    'grid-intro': {
      title: 'CSS Grid Introduction',
      content: `
# CSS Grid Layout

CSS Grid Layout is a two-dimensional layout system for the web.

## Why CSS Grid?

Grid lets you create complex layouts with rows AND columns simultaneously.

- **Flexbox** = 1D (row OR column)
- **Grid** = 2D (rows AND columns)

## Creating a Grid

<pre><code class="css">
.container {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;  /* 3 equal columns */
  grid-template-rows: 100px 200px;      /* 2 rows */
  gap: 10px;                            /* gap between items */
}
</code></pre>

## Grid Template Columns

<pre><code class="css">
/* Fixed widths */
grid-template-columns: 100px 200px 100px;

/* Fractional units */
grid-template-columns: 1fr 2fr 1fr;

/* Mixed */
grid-template-columns: 200px 1fr 1fr;

/* Repeat function */
grid-template-columns: repeat(3, 1fr);
grid-template-columns: repeat(4, 100px);
</code></pre>

## Gap (Gutters)

<pre><code class="css">
.container {
  gap: 20px;              /* row and column gap */
  row-gap: 20px;          /* only row gap */
  column-gap: 10px;       /* only column gap */
}
</code></pre>

## Grid Item Placement

<pre><code class="css">
.item {
  grid-column: 1 / 3;     /* span from line 1 to 3 */
  grid-row: 1 / 2;        /* span from line 1 to 2 */
}

/* Shorthand */
.item {
  grid-column: span 2;    /* span 2 columns */
  grid-row: span 3;       /* span 3 rows */
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
.grid-container {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  background-color: #2c3e50;
  padding: 10px;
}

.grid-item {
  background-color: #3498db;
  color: white;
  padding: 20px;
  text-align: center;
  font-size: 18px;
}

.span-2 {
  grid-column: span 2;
  background-color: #e74c3c;
}

.span-row {
  grid-row: span 2;
  background-color: #2ecc71;
}

.grid-12 {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 5px;
  margin-top: 20px;
}

.col-4 { grid-column: span 4; }
.col-6 { grid-column: span 6; }
.col-8 { grid-column: span 8; }
.col-12 { grid-column: span 12; }
</style>
</head>
<body>

<h1>CSS Grid Layout</h1>

<h2>Basic 3-Column Grid</h2>
<div class="grid-container">
  <div class="grid-item">1</div>
  <div class="grid-item">2</div>
  <div class="grid-item">3</div>
  <div class="grid-item span-2">4 (span 2 columns)</div>
  <div class="grid-item">5</div>
  <div class="grid-item span-row">6 (span 2 rows)</div>
  <div class="grid-item">7</div>
  <div class="grid-item">8</div>
</div>

<h2>12-Column Grid System</h2>
<div class="grid-12">
  <div class="grid-item col-4">4 cols</div>
  <div class="grid-item col-4">4 cols</div>
  <div class="grid-item col-4">4 cols</div>
  <div class="grid-item col-6">6 cols</div>
  <div class="grid-item col-6">6 cols</div>
  <div class="grid-item col-12">12 cols (full width)</div>
</div>

</body>
</html>`,
    },
    animations: {
      title: 'CSS Animations',
      content: `
# CSS Animations

CSS animations allow you to animate HTML elements without JavaScript.

## @keyframes Rule

To create an animation, you need to define keyframes:

<pre><code class="css">
@keyframes slidein {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(0);
  }
}

/* Or with percentages */
@keyframes colorchange {
  0%   { background-color: red; }
  25%  { background-color: yellow; }
  50%  { background-color: blue; }
  100% { background-color: green; }
}
</code></pre>

## Animation Properties

<pre><code class="css">
.element {
  animation-name: slidein;
  animation-duration: 2s;
  animation-timing-function: ease-in-out;
  animation-delay: 0.5s;
  animation-iteration-count: infinite;
  animation-direction: alternate;
  animation-fill-mode: forwards;
}
</code></pre>

## Animation Shorthand

<pre><code class="css">
.element {
  animation: slidein 2s ease-in-out 0.5s infinite alternate;
}
</code></pre>

## Timing Functions

- <code>linear</code> - constant speed
- <code>ease</code> - slow start, fast middle, slow end
- <code>ease-in</code> - slow start
- <code>ease-out</code> - slow end
- <code>ease-in-out</code> - slow start and end
- <code>cubic-bezier(n,n,n,n)</code> - custom curve
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
@keyframes slide {
  0% { transform: translateX(0); }
  100% { transform: translateX(200px); }
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); }
}

@keyframes colorChange {
  0% { background-color: #3498db; }
  33% { background-color: #e74c3c; }
  66% { background-color: #2ecc71; }
  100% { background-color: #3498db; }
}

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-30px); }
}

.box {
  width: 100px;
  height: 100px;
  background-color: #3498db;
  margin: 20px;
  display: inline-block;
  color: white;
  text-align: center;
  line-height: 100px;
}

.slide { animation: slide 2s ease-in-out infinite alternate; }
.pulse { animation: pulse 1s ease-in-out infinite; }
.color { animation: colorChange 3s linear infinite; }
.bounce { animation: bounce 0.8s ease infinite; }

body { font-family: Arial; padding: 20px; }
</style>
</head>
<body>

<h1>CSS Animations</h1>

<div class="box slide">Slide</div>
<div class="box pulse">Pulse</div>
<div class="box color">Colors</div>
<div class="box bounce">Bounce</div>

</body>
</html>`,
    },
    transitions: {
      title: 'CSS Transitions',
      content: `
# CSS Transitions

Transitions allow you to change property values smoothly over a duration.

## Transition Properties

<pre><code class="css">
.element {
  transition-property: background-color;
  transition-duration: 0.5s;
  transition-timing-function: ease;
  transition-delay: 0s;
}
</code></pre>

## Shorthand

<pre><code class="css">
.element {
  transition: property duration timing-function delay;
  transition: background-color 0.5s ease;
}

/* Multiple transitions */
.element {
  transition: background-color 0.5s, transform 0.3s, opacity 0.2s;
}

/* All properties */
.element {
  transition: all 0.3s ease;
}
</code></pre>

## Common Use Cases

<pre><code class="css">
/* Button hover effect */
button {
  background-color: blue;
  transition: background-color 0.3s ease;
}

button:hover {
  background-color: darkblue;
}

/* Scale on hover */
.card {
  transform: scale(1);
  transition: transform 0.2s ease;
}

.card:hover {
  transform: scale(1.05);
}
</code></pre>

## Timing Functions

- <code>ease</code> - default, slow-fast-slow
- <code>linear</code> - constant speed
- <code>ease-in</code> - slow start
- <code>ease-out</code> - slow end
- <code>ease-in-out</code> - slow start and end
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
.box {
  width: 150px;
  height: 100px;
  margin: 15px;
  display: inline-block;
  text-align: center;
  line-height: 100px;
  color: white;
  font-weight: bold;
  cursor: pointer;
}

.color-transition {
  background-color: #3498db;
  transition: background-color 0.5s ease;
}
.color-transition:hover {
  background-color: #e74c3c;
}

.scale-transition {
  background-color: #2ecc71;
  transition: transform 0.3s ease;
}
.scale-transition:hover {
  transform: scale(1.2);
}

.multi-transition {
  background-color: #9b59b6;
  border-radius: 0;
  transition: all 0.4s ease;
}
.multi-transition:hover {
  background-color: #f39c12;
  border-radius: 50px;
  transform: rotate(10deg);
}

.btn {
  padding: 15px 30px;
  background-color: #3498db;
  color: white;
  border: none;
  cursor: pointer;
  font-size: 16px;
  transition: background-color 0.3s, box-shadow 0.3s, transform 0.2s;
}
.btn:hover {
  background-color: #2980b9;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
  transform: translateY(-2px);
}

body { font-family: Arial; padding: 20px; }
</style>
</head>
<body>

<h1>CSS Transitions</h1>

<div class="box color-transition">Color</div>
<div class="box scale-transition">Scale</div>
<div class="box multi-transition">Multiple</div>

<h2>Button Example</h2>
<button class="btn">Hover Me</button>

</body>
</html>`,
    },
    variables: {
      title: 'CSS Variables',
      content: `
# CSS Variables (Custom Properties)

CSS variables allow you to store values that can be reused throughout your stylesheet.

## Declaring Variables

Variables are declared using the <code>--</code> prefix:

<pre><code class="css">
:root {
  --primary-color: #3498db;
  --secondary-color: #2ecc71;
  --font-size: 16px;
  --spacing: 20px;
}
</code></pre>

## Using Variables

Use the <code>var()</code> function to access variables:

<pre><code class="css">
.element {
  color: var(--primary-color);
  font-size: var(--font-size);
  padding: var(--spacing);
}
</code></pre>

## Fallback Values

<pre><code class="css">
.element {
  color: var(--my-color, blue);  /* blue is fallback */
}
</code></pre>

## Scoping Variables

Variables can be scoped to specific elements:

<pre><code class="css">
:root {
  --color: blue;  /* global */
}

.dark-theme {
  --color: white;  /* only in .dark-theme */
}
</code></pre>

## Benefits

- **Maintainability** - Change one value, update everywhere
- **Theming** - Easy to create dark/light themes
- **Readability** - Meaningful names instead of values
- **Dynamic** - Can be changed with JavaScript
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
:root {
  --primary: #3498db;
  --secondary: #2ecc71;
  --accent: #e74c3c;
  --dark: #2c3e50;
  --light: #ecf0f1;
  --spacing: 20px;
  --radius: 8px;
}

body {
  font-family: Arial, sans-serif;
  background-color: var(--light);
  padding: var(--spacing);
}

.card {
  background-color: white;
  padding: var(--spacing);
  margin: var(--spacing) 0;
  border-radius: var(--radius);
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.btn-primary {
  background-color: var(--primary);
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: var(--radius);
  cursor: pointer;
  margin: 5px;
}

.btn-secondary {
  background-color: var(--secondary);
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: var(--radius);
  cursor: pointer;
  margin: 5px;
}

.btn-accent {
  background-color: var(--accent);
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: var(--radius);
  cursor: pointer;
  margin: 5px;
}

h1 { color: var(--dark); }
</style>
</head>
<body>

<h1>CSS Variables Demo</h1>

<div class="card">
  <h2>Using CSS Variables</h2>
  <p>All colors and spacing use CSS variables for easy theming.</p>
  <button class="btn-primary">Primary</button>
  <button class="btn-secondary">Secondary</button>
  <button class="btn-accent">Accent</button>
</div>

<div class="card">
  <h2>Benefits</h2>
  <p>Change --primary in :root and all primary buttons update!</p>
</div>

</body>
</html>`,
    },
    'media-queries': {
      title: 'CSS Media Queries',
      content: `
# CSS Media Queries

Media queries allow you to apply CSS rules based on device characteristics.

## Basic Syntax

<pre><code class="css">
@media screen and (max-width: 600px) {
  body {
    background-color: lightblue;
  }
}
</code></pre>

## Common Breakpoints

<pre><code class="css">
/* Mobile phones */
@media (max-width: 480px) { }

/* Small tablets */
@media (max-width: 768px) { }

/* Tablets */
@media (max-width: 1024px) { }

/* Laptops */
@media (max-width: 1200px) { }

/* Desktop */
@media (min-width: 1201px) { }
</code></pre>

## Mobile-First Approach

<pre><code class="css">
/* Base styles for mobile */
.container {
  width: 100%;
  padding: 10px;
}

/* Tablet and up */
@media (min-width: 768px) {
  .container {
    width: 750px;
    margin: 0 auto;
  }
}

/* Desktop and up */
@media (min-width: 1024px) {
  .container {
    width: 960px;
  }
}
</code></pre>

## Media Types

- <code>all</code> - All devices (default)
- <code>screen</code> - Screens
- <code>print</code> - Printers

## Features

- <code>width</code> / <code>min-width</code> / <code>max-width</code>
- <code>height</code> / <code>min-height</code> / <code>max-height</code>
- <code>orientation</code> - portrait or landscape
- <code>prefers-color-scheme</code> - light or dark mode
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
* {
  box-sizing: border-box;
}

body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
}

.grid {
  display: grid;
  gap: 20px;
  grid-template-columns: 1fr; /* Mobile: 1 column */
}

.card {
  background: #3498db;
  color: white;
  padding: 30px;
  border-radius: 8px;
  text-align: center;
}

/* Tablet: 2 columns */
@media (min-width: 600px) {
  .grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Desktop: 4 columns */
@media (min-width: 900px) {
  .grid {
    grid-template-columns: repeat(4, 1fr);
  }
}

.size-indicator {
  padding: 10px;
  background: #2ecc71;
  color: white;
  text-align: center;
  margin-bottom: 20px;
  border-radius: 5px;
}

.size-indicator::after {
  content: "Mobile (1 column)";
}

@media (min-width: 600px) {
  .size-indicator::after {
    content: "Tablet (2 columns)";
  }
  .size-indicator { background: #f39c12; }
}

@media (min-width: 900px) {
  .size-indicator::after {
    content: "Desktop (4 columns)";
  }
  .size-indicator { background: #e74c3c; }
}
</style>
</head>
<body>

<div class="container">
  <h1>Responsive Media Queries</h1>
  <p>Resize the browser to see the layout change!</p>
  
  <div class="size-indicator"></div>
  
  <div class="grid">
    <div class="card">Card 1</div>
    <div class="card">Card 2</div>
    <div class="card">Card 3</div>
    <div class="card">Card 4</div>
  </div>
</div>

</body>
</html>`,
    },
    gradients: {
      title: 'CSS Gradients',
      content: `
# CSS Gradients

CSS gradients let you display smooth transitions between two or more colors.

## Types of Gradients

1. **Linear Gradients** - goes down/up/left/right/diagonally
2. **Radial Gradients** - radiates from the center
3. **Conic Gradients** - rotates around a center point

## Linear Gradient

<pre><code class="css">
/* Top to bottom (default) */
background: linear-gradient(red, yellow);

/* Left to right */
background: linear-gradient(to right, red, yellow);

/* Diagonal */
background: linear-gradient(to bottom right, red, yellow);

/* Using angles */
background: linear-gradient(90deg, red, yellow);

/* Multiple colors */
background: linear-gradient(red, yellow, green, blue);

/* Color stops */
background: linear-gradient(red 0%, yellow 50%, green 100%);
</code></pre>

## Radial Gradient

<pre><code class="css">
/* Basic radial */
background: radial-gradient(red, yellow);

/* Ellipse shape (default) */
background: radial-gradient(ellipse, red, yellow);

/* Circle shape */
background: radial-gradient(circle, red, yellow);

/* Position */
background: radial-gradient(circle at top left, red, yellow);
</code></pre>

## Conic Gradient

<pre><code class="css">
background: conic-gradient(red, yellow, green);

/* Color wheel */
background: conic-gradient(
  red, yellow, lime, aqua, blue, magenta, red
);
</code></pre>

## Repeating Gradients

<pre><code class="css">
background: repeating-linear-gradient(
  45deg,
  red 0px, red 10px,
  yellow 10px, yellow 20px
);
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
.gradient-box {
  width: 200px;
  height: 100px;
  margin: 10px;
  display: inline-block;
  border-radius: 8px;
  color: white;
  text-align: center;
  line-height: 100px;
  font-weight: bold;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
}

.linear1 {
  background: linear-gradient(#3498db, #2ecc71);
}

.linear2 {
  background: linear-gradient(to right, #e74c3c, #f39c12);
}

.linear3 {
  background: linear-gradient(45deg, #9b59b6, #3498db, #2ecc71);
}

.radial1 {
  background: radial-gradient(circle, #f39c12, #e74c3c);
}

.radial2 {
  background: radial-gradient(circle at top left, #3498db, #9b59b6);
}

.conic1 {
  background: conic-gradient(#e74c3c, #f39c12, #2ecc71, #3498db, #9b59b6, #e74c3c);
}

.repeating {
  background: repeating-linear-gradient(
    45deg,
    #3498db 0px, #3498db 10px,
    #2980b9 10px, #2980b9 20px
  );
}

body { font-family: Arial; padding: 20px; }
</style>
</head>
<body>

<h1>CSS Gradients</h1>

<h2>Linear Gradients</h2>
<div class="gradient-box linear1">TopBottom</div>
<div class="gradient-box linear2">LeftRight</div>
<div class="gradient-box linear3">Diagonal</div>

<h2>Radial Gradients</h2>
<div class="gradient-box radial1">Center</div>
<div class="gradient-box radial2">Top Left</div>

<h2>Conic & Repeating</h2>
<div class="gradient-box conic1">Conic</div>
<div class="gradient-box repeating">Repeating</div>

</body>
</html>`,
    },
    opacity: {
      title: 'CSS Opacity',
      content: `
# CSS Opacity

The <code>opacity</code> property specifies the transparency of an element.

## Syntax

<pre><code class="css">
.element {
  opacity: 0.5;  /* 0 = fully transparent, 1 = fully opaque */
}
</code></pre>

## Hover Effect

<pre><code class="css">
img {
  opacity: 0.5;
}

img:hover {
  opacity: 1.0;
}
</code></pre>

## RGBA Alternative

<pre><code class="css">
/* Only background is transparent */
.element {
  background: rgba(255, 0, 0, 0.5);
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
.box {
  width: 150px;
  height: 100px;
  background: #3498db;
  color: white;
  display: inline-block;
  margin: 10px;
  text-align: center;
  line-height: 100px;
}

.opacity-100 { opacity: 1.0; }
.opacity-75 { opacity: 0.75; }
.opacity-50 { opacity: 0.5; }
.opacity-25 { opacity: 0.25; }

.hover-effect {
  opacity: 0.5;
  transition: opacity 0.3s;
  cursor: pointer;
}
.hover-effect:hover { opacity: 1.0; }

.rgba-box {
  background: rgba(231, 76, 60, 0.5);
  padding: 20px;
  margin: 10px 0;
}

body { font-family: Arial; padding: 20px; }
</style>
</head>
<body>

<h1>CSS Opacity</h1>

<div class="box opacity-100">100%</div>
<div class="box opacity-75">75%</div>
<div class="box opacity-50">50%</div>
<div class="box opacity-25">25%</div>

<h2>Hover Effect</h2>
<div class="box hover-effect">Hover me!</div>

<h2>RGBA (only background transparent)</h2>
<div class="rgba-box">
  <strong>Text stays fully visible!</strong>
</div>

</body>
</html>`,
    },
    'navigation-bars': {
      title: 'CSS Navigation Bars',
      content: `
# CSS Navigation Bars

Navigation bars are important for any website.

## Horizontal Navbar

<pre><code class="css">
.navbar {
  background-color: #333;
  overflow: hidden;
}

.navbar a {
  float: left;
  display: block;
  color: white;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
}

.navbar a:hover {
  background-color: #ddd;
  color: black;
}
</code></pre>

## Vertical Navbar

<pre><code class="css">
.sidenav {
  width: 200px;
  background-color: #f1f1f1;
}

.sidenav a {
  display: block;
  padding: 12px;
  text-decoration: none;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
/* Horizontal Navbar */
.navbar {
  background: linear-gradient(135deg, #2c3e50, #3498db);
  overflow: hidden;
  box-shadow: 0 2px 10px rgba(0,0,0,0.2);
}

.navbar a {
  float: left;
  color: white;
  text-align: center;
  padding: 16px 20px;
  text-decoration: none;
  transition: all 0.3s;
}

.navbar a:hover {
  background: rgba(255,255,255,0.1);
}

.navbar a.active {
  background: #e74c3c;
}

.navbar .right { float: right; }

/* Vertical Sidebar */
.sidenav {
  width: 200px;
  background: #2c3e50;
  margin-top: 20px;
}

.sidenav a {
  display: block;
  color: white;
  padding: 14px 20px;
  text-decoration: none;
  border-left: 3px solid transparent;
  transition: all 0.3s;
}

.sidenav a:hover {
  background: #34495e;
  border-left-color: #3498db;
}

body { font-family: Arial; margin: 0; padding: 20px; }
</style>
</head>
<body>

<h1>CSS Navigation Bars</h1>

<h2>Horizontal Navbar</h2>
<div class="navbar">
  <a class="active" href="#">Home</a>
  <a href="#">About</a>
  <a href="#">Services</a>
  <a href="#">Contact</a>
  <a href="#" class="right">Login</a>
</div>

<h2>Vertical Sidebar</h2>
<div class="sidenav">
  <a href="#">Dashboard</a>
  <a href="#">Profile</a>
  <a href="#">Settings</a>
  <a href="#">Logout</a>
</div>

</body>
</html>`,
    },
    forms: {
      title: 'CSS Forms',
      content: `
# CSS Forms

Style HTML forms to look more professional.

## Input Styling

<pre><code class="css">
input[type="text"] {
  width: 100%;
  padding: 12px 20px;
  margin: 8px 0;
  box-sizing: border-box;
  border: 2px solid #ccc;
  border-radius: 4px;
}

input[type="text"]:focus {
  border-color: #3498db;
  outline: none;
}
</code></pre>

## Button Styling

<pre><code class="css">
button {
  background-color: #3498db;
  color: white;
  padding: 14px 20px;
  border: none;
  cursor: pointer;
  border-radius: 4px;
}

button:hover {
  background-color: #2980b9;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
* { box-sizing: border-box; }

.form-container {
  max-width: 400px;
  margin: 0 auto;
  padding: 20px;
  background: #f5f5f5;
  border-radius: 10px;
}

label {
  display: block;
  margin-bottom: 5px;
  font-weight: bold;
  color: #333;
}

input, select, textarea {
  width: 100%;
  padding: 12px;
  margin-bottom: 15px;
  border: 2px solid #ddd;
  border-radius: 5px;
  font-size: 16px;
  transition: border-color 0.3s;
}

input:focus, select:focus, textarea:focus {
  border-color: #3498db;
  outline: none;
  box-shadow: 0 0 5px rgba(52,152,219,0.3);
}

button {
  width: 100%;
  padding: 14px;
  background: linear-gradient(135deg, #3498db, #2980b9);
  color: white;
  border: none;
  border-radius: 5px;
  font-size: 16px;
  cursor: pointer;
  transition: transform 0.2s;
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}

body { font-family: Arial; padding: 20px; }
</style>
</head>
<body>

<h1>CSS Form Styling</h1>

<div class="form-container">
  <form>
    <label>Full Name</label>
    <input type="text" placeholder="John Doe">
    
    <label>Email</label>
    <input type="email" placeholder="john@example.com">
    
    <label>Country</label>
    <select>
      <option>Select country</option>
      <option>USA</option>
      <option>UK</option>
      <option>India</option>
    </select>
    
    <label>Message</label>
    <textarea rows="4" placeholder="Your message..."></textarea>
    
    <button type="submit">Submit</button>
  </form>
</div>

</body>
</html>`,
    },
    units: {
      title: 'CSS Units',
      content: `
# CSS Units

CSS has several different units for expressing length.

## Absolute Units

| Unit | Description |
|------|-------------|
| px | Pixels |
| pt | Points (1/72 inch) |
| cm | Centimeters |
| mm | Millimeters |
| in | Inches |

## Relative Units

| Unit | Description |
|------|-------------|
| em | Relative to parent font-size |
| rem | Relative to root font-size |
| % | Percentage of parent |
| vw | 1% of viewport width |
| vh | 1% of viewport height |
| vmin | 1% of smaller viewport dimension |
| vmax | 1% of larger viewport dimension |

<pre><code class="css">
.responsive {
  font-size: 2rem;
  width: 80%;
  height: 50vh;
  padding: 2em;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
:root { font-size: 16px; }

.box {
  background: #3498db;
  color: white;
  margin: 10px 0;
  padding: 15px;
}

.px { width: 200px; }
.percent { width: 50%; }
.em { width: 20em; font-size: 14px; }
.rem { width: 15rem; }
.vw { width: 50vw; }
.vh { height: 20vh; }

.font-px { font-size: 16px; }
.font-em { font-size: 1.5em; }
.font-rem { font-size: 1.5rem; }
.font-vw { font-size: 3vw; }

body { font-family: Arial; padding: 20px; }
h2 { margin-top: 30px; }
</style>
</head>
<body>

<h1>CSS Units</h1>

<h2>Width Units</h2>
<div class="box px">200px</div>
<div class="box percent">50%</div>
<div class="box em">20em</div>
<div class="box rem">15rem</div>
<div class="box vw">50vw (viewport)</div>

<h2>Font Size Units</h2>
<p class="font-px">16px - Fixed pixels</p>
<p class="font-em">1.5em - Relative to parent</p>
<p class="font-rem">1.5rem - Relative to root (16px  1.5 = 24px)</p>
<p class="font-vw">3vw - Resize window!</p>

</body>
</html>`,
    },
    specificity: {
      title: 'CSS Specificity',
      content: `
# CSS Specificity

Specificity determines which CSS rule is applied when multiple rules match.

## Hierarchy (Lowest to Highest)

1. **Type selectors** (h1, div, p) - 0,0,1
2. **Class selectors** (.class) - 0,1,0
3. **ID selectors** (#id) - 1,0,0
4. **Inline styles** - 1,0,0,0
5. **!important** - Highest priority

## Calculating Specificity

<pre><code class="css">
p { }                    /* 0,0,1 */
.class { }               /* 0,1,0 */
#id { }                  /* 1,0,0 */
div p { }                /* 0,0,2 */
div.class p { }          /* 0,1,2 */
#id .class p { }         /* 1,1,1 */
</code></pre>

## Tips

- Avoid !important when possible
- Use classes over IDs for styling
- Keep selectors simple
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
/* Specificity: 0,0,1 */
p { color: black; }

/* Specificity: 0,1,0 (wins over element) */
.text { color: blue; }

/* Specificity: 1,0,0 (wins over class) */
#special { color: green; }

/* Specificity: 0,1,1 */
p.text { color: purple; }

/* Specificity: 1,1,0 (higher than #special alone? No!) */
.text#special { color: orange; }

/* !important overrides everything */
.important { color: red !important; }

.demo {
  padding: 10px;
  margin: 5px 0;
  background: #f5f5f5;
}

body { font-family: Arial; padding: 20px; }
</style>
</head>
<body>

<h1>CSS Specificity</h1>

<div class="demo">
  <p>Just p selector - Black</p>
</div>

<div class="demo">
  <p class="text">p.text selector - Purple (0,1,1)</p>
</div>

<div class="demo">
  <p class="text" id="special">With #special ID - Green (1,0,0)</p>
</div>

<div class="demo">
  <p class="text important" id="special">With !important - Red (overrides all!)</p>
</div>

<h2>Specificity Values</h2>
<ul>
  <li>p { }  0,0,1</li>
  <li>.class { }  0,1,0</li>
  <li>#id { }  1,0,0</li>
  <li>p.class { }  0,1,1</li>
  <li>#id .class p { }  1,1,1</li>
</ul>

</body>
</html>`,
    },
    shadows: {
      title: 'CSS Shadows',
      content: `
# CSS Shadows

Add shadow effects to elements and text.

## Box Shadow

<pre><code class="css">
.box {
  box-shadow: h-offset v-offset blur spread color;
  box-shadow: 10px 10px 5px 0px rgba(0,0,0,0.5);
}
</code></pre>

## Multiple Shadows

<pre><code class="css">
.box {
  box-shadow: 
    3px 3px 5px rgba(0,0,0,0.2),
    -3px -3px 5px rgba(255,255,255,0.5);
}
</code></pre>

## Inset Shadow

<pre><code class="css">
.box {
  box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
}
</code></pre>

## Text Shadow

<pre><code class="css">
h1 {
  text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
.box {
  width: 200px;
  height: 100px;
  background: white;
  margin: 20px;
  display: inline-block;
  border-radius: 10px;
  text-align: center;
  line-height: 100px;
}

.shadow1 { box-shadow: 5px 5px 10px rgba(0,0,0,0.3); }
.shadow2 { box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
.shadow3 { box-shadow: 0 0 20px #3498db; }
.shadow-inset { box-shadow: inset 0 0 20px rgba(0,0,0,0.3); }
.shadow-multi {
  box-shadow: 
    5px 5px 0 #3498db,
    10px 10px 0 #2ecc71,
    15px 15px 0 #e74c3c;
}

.text-shadow1 {
  font-size: 36px;
  color: #333;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

.text-shadow2 {
  font-size: 36px;
  color: white;
  text-shadow: 
    0 0 10px #3498db,
    0 0 20px #3498db,
    0 0 40px #3498db;
}

body { font-family: Arial; padding: 20px; background: #f0f0f0; }
</style>
</head>
<body>

<h1>CSS Shadows</h1>

<h2>Box Shadows</h2>
<div class="box shadow1">Basic</div>
<div class="box shadow2">Soft</div>
<div class="box shadow3">Glow</div>
<div class="box shadow-inset">Inset</div>
<div class="box shadow-multi">Multi</div>

<h2>Text Shadows</h2>
<p class="text-shadow1">Simple Text Shadow</p>
<div style="background:#2c3e50;padding:20px;">
  <p class="text-shadow2">Glowing Text</p>
</div>

</body>
</html>`,
    },
    '2d-transforms': {
      title: 'CSS 2D Transforms',
      content: `
# CSS 2D Transforms

Transform elements in 2D space.

## Transform Functions

<pre><code class="css">
/* Move */
transform: translate(50px, 100px);
transform: translateX(50px);
transform: translateY(100px);

/* Rotate */
transform: rotate(45deg);

/* Scale */
transform: scale(1.5);
transform: scale(2, 0.5);

/* Skew */
transform: skew(20deg, 10deg);

/* Multiple */
transform: translate(50px) rotate(45deg) scale(1.2);
</code></pre>

## Transform Origin

<pre><code class="css">
.box {
  transform-origin: top left;
  transform: rotate(45deg);
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
.container {
  display: inline-block;
  margin: 30px;
  text-align: center;
}

.box {
  width: 100px;
  height: 100px;
  background: #3498db;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.3s;
}

.translate:hover { transform: translate(20px, 20px); }
.rotate:hover { transform: rotate(45deg); }
.scale:hover { transform: scale(1.3); }
.skew:hover { transform: skew(15deg, 5deg); }
.multiple:hover { 
  transform: translateX(10px) rotate(10deg) scale(1.1); 
}

.origin-demo {
  transform-origin: top left;
}
.origin-demo:hover { transform: rotate(45deg); }

body { font-family: Arial; padding: 20px; }
p { margin: 5px 0; font-size: 12px; color: #666; }
</style>
</head>
<body>

<h1>CSS 2D Transforms</h1>
<p>Hover over the boxes!</p>

<div class="container">
  <div class="box translate">Translate</div>
  <p>translate(20px, 20px)</p>
</div>

<div class="container">
  <div class="box rotate">Rotate</div>
  <p>rotate(45deg)</p>
</div>

<div class="container">
  <div class="box scale">Scale</div>
  <p>scale(1.3)</p>
</div>

<div class="container">
  <div class="box skew">Skew</div>
  <p>skew(15deg, 5deg)</p>
</div>

<div class="container">
  <div class="box multiple">Multiple</div>
  <p>Combined transforms</p>
</div>

</body>
</html>`,
    },
    '3d-transforms': {
      title: 'CSS 3D Transforms',
      content: `
# CSS 3D Transforms

Transform elements in 3D space.

## 3D Functions

<pre><code class="css">
/* Rotate in 3D */
transform: rotateX(45deg);
transform: rotateY(45deg);
transform: rotateZ(45deg);
transform: rotate3d(1, 1, 0, 45deg);

/* Translate in 3D */
transform: translateZ(50px);
transform: translate3d(x, y, z);

/* Perspective */
perspective: 500px;
transform: perspective(500px) rotateY(45deg);
</code></pre>

## Preserve 3D

<pre><code class="css">
.container {
  transform-style: preserve-3d;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
.scene {
  perspective: 600px;
  display: inline-block;
  margin: 30px;
}

.box {
  width: 120px;
  height: 120px;
  background: linear-gradient(135deg, #3498db, #2980b9);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  transition: transform 0.5s;
}

.rotateX:hover { transform: rotateX(60deg); }
.rotateY:hover { transform: rotateY(60deg); }
.rotateZ:hover { transform: rotateZ(60deg); }

/* 3D Card Flip */
.card {
  width: 150px;
  height: 200px;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.6s;
}

.card:hover { transform: rotateY(180deg); }

.card-face {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 10px;
  font-weight: bold;
}

.card-front { background: #3498db; color: white; }
.card-back {
  background: #e74c3c;
  color: white;
  transform: rotateY(180deg);
}

body { font-family: Arial; padding: 20px; }
</style>
</head>
<body>

<h1>CSS 3D Transforms</h1>

<h2>Rotate (hover)</h2>
<div class="scene"><div class="box rotateX">RotateX</div></div>
<div class="scene"><div class="box rotateY">RotateY</div></div>
<div class="scene"><div class="box rotateZ">RotateZ</div></div>

<h2>3D Card Flip</h2>
<div class="scene">
  <div class="card">
    <div class="card-face card-front">FRONT</div>
    <div class="card-face card-back">BACK</div>
  </div>
</div>

</body>
</html>`,
    },
    buttons: {
      title: 'CSS Buttons',
      content: `
# CSS Buttons

Learn how to style buttons with CSS.

## Basic Button

<pre><code class="css">
.btn {
  background-color: #3498db;
  color: white;
  padding: 10px 20px;
  border: none;
  cursor: pointer;
  font-size: 16px;
}

.btn:hover {
  background-color: #2980b9;
}
</code></pre>

## Button Variations

<pre><code class="css">
/* Rounded */
.btn-rounded { border-radius: 25px; }

/* Outline */
.btn-outline {
  background: transparent;
  border: 2px solid #3498db;
  color: #3498db;
}

/* Shadow */
.btn-shadow {
  box-shadow: 0 4px 6px rgba(0,0,0,0.3);
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
.btn {
  padding: 12px 24px;
  font-size: 16px;
  border: none;
  cursor: pointer;
  margin: 5px;
  transition: all 0.3s;
}

/* Colors */
.btn-primary { background: #3498db; color: white; }
.btn-success { background: #2ecc71; color: white; }
.btn-danger { background: #e74c3c; color: white; }
.btn-warning { background: #f39c12; color: white; }
.btn-dark { background: #2c3e50; color: white; }

/* Hover effects */
.btn:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
.btn:active { transform: translateY(0); }

/* Styles */
.btn-rounded { border-radius: 25px; }
.btn-outline {
  background: transparent;
  border: 2px solid #3498db;
  color: #3498db;
}
.btn-outline:hover { background: #3498db; color: white; }

/* Sizes */
.btn-sm { padding: 8px 16px; font-size: 14px; }
.btn-lg { padding: 16px 32px; font-size: 18px; }

/* Icon button */
.btn-icon { display: inline-flex; align-items: center; gap: 8px; }

/* Loading */
.btn-loading { position: relative; color: transparent; }
.btn-loading::after {
  content: "";
  position: absolute;
  width: 16px;
  height: 16px;
  border: 2px solid white;
  border-top-color: transparent;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

body { font-family: Arial; padding: 20px; }
h2 { margin-top: 30px; }
</style>
</head>
<body>

<h1>CSS Buttons</h1>

<h2>Colors</h2>
<button class="btn btn-primary">Primary</button>
<button class="btn btn-success">Success</button>
<button class="btn btn-danger">Danger</button>
<button class="btn btn-warning">Warning</button>
<button class="btn btn-dark">Dark</button>

<h2>Styles</h2>
<button class="btn btn-primary btn-rounded">Rounded</button>
<button class="btn btn-outline">Outline</button>

<h2>Sizes</h2>
<button class="btn btn-primary btn-sm">Small</button>
<button class="btn btn-primary">Normal</button>
<button class="btn btn-primary btn-lg">Large</button>

<h2>Special</h2>
<button class="btn btn-primary btn-icon"> Download</button>
<button class="btn btn-primary btn-loading">Loading</button>

</body>
</html>`,
    },
    'flex-container': {
      title: 'Flex Container',
      content: `
# Flex Container Properties

Properties applied to the flex container (parent).

## Display

<pre><code class="css">
.container {
  display: flex;
}
</code></pre>

## Flex Direction

<pre><code class="css">
flex-direction: row;           /* default */
flex-direction: row-reverse;
flex-direction: column;
flex-direction: column-reverse;
</code></pre>

## Flex Wrap

<pre><code class="css">
flex-wrap: nowrap;    /* default */
flex-wrap: wrap;
flex-wrap: wrap-reverse;
</code></pre>

## Justify Content (Main Axis)

<pre><code class="css">
justify-content: flex-start;
justify-content: flex-end;
justify-content: center;
justify-content: space-between;
justify-content: space-around;
justify-content: space-evenly;
</code></pre>

## Align Items (Cross Axis)

<pre><code class="css">
align-items: stretch;     /* default */
align-items: flex-start;
align-items: flex-end;
align-items: center;
align-items: baseline;
</code></pre>

## Gap

<pre><code class="css">
gap: 20px;
row-gap: 10px;
column-gap: 20px;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
.flex-demo {
  display: flex;
  background: #2c3e50;
  padding: 10px;
  margin: 10px 0;
  min-height: 100px;
}

.item {
  background: #3498db;
  color: white;
  padding: 20px;
  margin: 5px;
  text-align: center;
}

/* Different justify-content values */
.jc-start { justify-content: flex-start; }
.jc-center { justify-content: center; }
.jc-end { justify-content: flex-end; }
.jc-between { justify-content: space-between; }
.jc-around { justify-content: space-around; }
.jc-evenly { justify-content: space-evenly; }

/* Align items */
.ai-stretch .item { padding: 10px; }
.ai-center { align-items: center; height: 120px; }
.ai-end { align-items: flex-end; height: 120px; }

/* Direction */
.direction-column { flex-direction: column; height: 200px; }
.direction-reverse { flex-direction: row-reverse; }

/* Gap */
.with-gap { gap: 20px; }

body { font-family: Arial; padding: 20px; }
h3 { margin: 20px 0 5px; }
</style>
</head>
<body>

<h1>Flex Container Properties</h1>

<h3>justify-content: flex-start (default)</h3>
<div class="flex-demo jc-start">
  <div class="item">1</div><div class="item">2</div><div class="item">3</div>
</div>

<h3>justify-content: center</h3>
<div class="flex-demo jc-center">
  <div class="item">1</div><div class="item">2</div><div class="item">3</div>
</div>

<h3>justify-content: space-between</h3>
<div class="flex-demo jc-between">
  <div class="item">1</div><div class="item">2</div><div class="item">3</div>
</div>

<h3>align-items: center</h3>
<div class="flex-demo ai-center">
  <div class="item">1</div><div class="item">2</div><div class="item">3</div>
</div>

<h3>flex-direction: column</h3>
<div class="flex-demo direction-column">
  <div class="item">1</div><div class="item">2</div><div class="item">3</div>
</div>

</body>
</html>`,
    },
    'flex-items': {
      title: 'Flex Items',
      content: `
# Flex Items Properties

Properties applied to flex items (children).

## Order

<pre><code class="css">
.item { order: 2; }  /* default is 0 */
</code></pre>

## Flex Grow

<pre><code class="css">
.item { flex-grow: 1; }  /* take available space */
</code></pre>

## Flex Shrink

<pre><code class="css">
.item { flex-shrink: 0; }  /* don't shrink */
</code></pre>

## Flex Basis

<pre><code class="css">
.item { flex-basis: 200px; }  /* initial size */
</code></pre>

## Flex Shorthand

<pre><code class="css">
.item {
  flex: 1;           /* grow:1, shrink:1, basis:0% */
  flex: 1 1 200px;   /* grow, shrink, basis */
}
</code></pre>

## Align Self

<pre><code class="css">
.item {
  align-self: flex-start;
  align-self: center;
  align-self: flex-end;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
.flex-demo {
  display: flex;
  background: #2c3e50;
  padding: 10px;
  margin: 10px 0;
  height: 120px;
}

.item {
  background: #3498db;
  color: white;
  padding: 20px;
  margin: 5px;
  text-align: center;
}

/* Flex grow */
.grow-demo .grow-1 { flex-grow: 1; background: #e74c3c; }
.grow-demo .grow-2 { flex-grow: 2; background: #2ecc71; }

/* Order */
.order-demo .order-3 { order: 3; }
.order-demo .order-1 { order: 1; }
.order-demo .order-2 { order: 2; }

/* Flex basis */
.basis-demo .item { flex-basis: 100px; }
.basis-demo .basis-200 { flex-basis: 200px; background: #9b59b6; }

/* Align self */
.align-demo { align-items: flex-start; }
.align-demo .self-center { align-self: center; background: #e74c3c; }
.align-demo .self-end { align-self: flex-end; background: #2ecc71; }

body { font-family: Arial; padding: 20px; }
h3 { margin: 20px 0 5px; }
</style>
</head>
<body>

<h1>Flex Items Properties</h1>

<h3>flex-grow</h3>
<div class="flex-demo grow-demo">
  <div class="item">Normal</div>
  <div class="item grow-1">grow: 1</div>
  <div class="item grow-2">grow: 2</div>
</div>

<h3>order (reordering items)</h3>
<div class="flex-demo order-demo">
  <div class="item order-3">A (order:3)</div>
  <div class="item order-1">B (order:1)</div>
  <div class="item order-2">C (order:2)</div>
</div>

<h3>flex-basis</h3>
<div class="flex-demo basis-demo">
  <div class="item">100px</div>
  <div class="item basis-200">200px</div>
  <div class="item">100px</div>
</div>

<h3>align-self</h3>
<div class="flex-demo align-demo">
  <div class="item">Start</div>
  <div class="item self-center">Center</div>
  <div class="item self-end">End</div>
</div>

</body>
</html>`,
    },
    'grid-container': {
      title: 'Grid Container',
      content: `
# Grid Container Properties

Properties applied to the grid container.

## Display Grid

<pre><code class="css">
.container {
  display: grid;
}
</code></pre>

## Grid Template Columns/Rows

<pre><code class="css">
grid-template-columns: 100px 200px 100px;
grid-template-columns: 1fr 2fr 1fr;
grid-template-columns: repeat(3, 1fr);
grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));

grid-template-rows: 100px 200px;
</code></pre>

## Gap

<pre><code class="css">
gap: 20px;
row-gap: 10px;
column-gap: 20px;
</code></pre>

## Justify/Align Items

<pre><code class="css">
justify-items: start | end | center | stretch;
align-items: start | end | center | stretch;
</code></pre>

## Justify/Align Content

<pre><code class="css">
justify-content: start | end | center | space-between;
align-content: start | end | center | space-between;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
.grid {
  display: grid;
  gap: 10px;
  background: #2c3e50;
  padding: 10px;
  margin: 10px 0;
}

.item {
  background: #3498db;
  color: white;
  padding: 20px;
  text-align: center;
}

/* Column examples */
.grid-fixed { grid-template-columns: 100px 150px 100px; }
.grid-fr { grid-template-columns: 1fr 2fr 1fr; }
.grid-repeat { grid-template-columns: repeat(4, 1fr); }
.grid-auto { grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); }

/* With rows */
.grid-rows {
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: 80px 120px;
}

body { font-family: Arial; padding: 20px; }
h3 { margin: 20px 0 5px; }
</style>
</head>
<body>

<h1>Grid Container Properties</h1>

<h3>Fixed widths: 100px 150px 100px</h3>
<div class="grid grid-fixed">
  <div class="item">1</div><div class="item">2</div><div class="item">3</div>
</div>

<h3>Fractional: 1fr 2fr 1fr</h3>
<div class="grid grid-fr">
  <div class="item">1fr</div><div class="item">2fr</div><div class="item">1fr</div>
</div>

<h3>Repeat: repeat(4, 1fr)</h3>
<div class="grid grid-repeat">
  <div class="item">1</div><div class="item">2</div><div class="item">3</div><div class="item">4</div>
</div>

<h3>Auto-fit: minmax(100px, 1fr) - Resize window!</h3>
<div class="grid grid-auto">
  <div class="item">1</div><div class="item">2</div><div class="item">3</div>
  <div class="item">4</div><div class="item">5</div><div class="item">6</div>
</div>

<h3>With defined rows</h3>
<div class="grid grid-rows">
  <div class="item">1</div><div class="item">2</div><div class="item">3</div>
  <div class="item">4</div><div class="item">5</div><div class="item">6</div>
</div>

</body>
</html>`,
    },
    'grid-items': {
      title: 'Grid Items',
      content: `
# Grid Items Properties

Properties applied to grid items.

## Grid Column/Row

<pre><code class="css">
.item {
  grid-column: 1 / 3;      /* start / end */
  grid-column: span 2;      /* span 2 columns */
  
  grid-row: 1 / 3;
  grid-row: span 2;
}
</code></pre>

## Grid Area

<pre><code class="css">
.item {
  grid-area: 1 / 1 / 3 / 3;  /* row-start / col-start / row-end / col-end */
}
</code></pre>

## Named Grid Areas

<pre><code class="css">
.container {
  grid-template-areas:
    "header header"
    "sidebar content"
    "footer footer";
}

.header { grid-area: header; }
.sidebar { grid-area: sidebar; }
.content { grid-area: content; }
.footer { grid-area: footer; }
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
.grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: repeat(3, 80px);
  gap: 10px;
  background: #2c3e50;
  padding: 10px;
}

.item {
  background: #3498db;
  color: white;
  padding: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.span-2-cols { grid-column: span 2; background: #e74c3c; }
.span-2-rows { grid-row: span 2; background: #2ecc71; }
.span-area { grid-column: 3 / 5; grid-row: 2 / 4; background: #9b59b6; }

/* Named areas example */
.named-grid {
  display: grid;
  grid-template-columns: 200px 1fr;
  grid-template-rows: 60px 1fr 50px;
  grid-template-areas:
    "header header"
    "sidebar content"
    "footer footer";
  gap: 10px;
  height: 300px;
  margin-top: 20px;
}

.header { grid-area: header; background: #e74c3c; }
.sidebar { grid-area: sidebar; background: #3498db; }
.content { grid-area: content; background: #2ecc71; }
.footer { grid-area: footer; background: #f39c12; }

.named-grid > div {
  color: white;
  padding: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
}

body { font-family: Arial; padding: 20px; }
</style>
</head>
<body>

<h1>Grid Items Properties</h1>

<h2>Spanning Columns and Rows</h2>
<div class="grid">
  <div class="item span-2-cols">span 2 cols</div>
  <div class="item">3</div>
  <div class="item">4</div>
  <div class="item span-2-rows">span 2 rows</div>
  <div class="item">6</div>
  <div class="item span-area">Grid Area</div>
  <div class="item">8</div>
</div>

<h2>Named Grid Areas</h2>
<div class="named-grid">
  <div class="header">Header</div>
  <div class="sidebar">Sidebar</div>
  <div class="content">Content</div>
  <div class="footer">Footer</div>
</div>

</body>
</html>`,
    },
    'rwd-intro': {
      title: 'Responsive Web Design Intro',
      content: `
# Responsive Web Design

Responsive web design makes web pages look good on all devices.

## What is RWD?

- Uses HTML and CSS
- Resizes, hides, shrinks, enlarges, or moves content
- Looks good on desktops, tablets, and phones

## The Viewport

<pre><code class="html">
&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
</code></pre>

## Key Techniques

1. **Fluid Grids** - Use percentages, not fixed widths
2. **Flexible Images** - Images that scale
3. **Media Queries** - Apply different styles for different screen sizes

<pre><code class="css">
/* Mobile first */
.container { width: 100%; }

/* Tablet */
@media (min-width: 768px) {
  .container { width: 750px; }
}

/* Desktop */
@media (min-width: 1024px) {
  .container { width: 960px; }
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
* { box-sizing: border-box; }

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}

.header {
  background: #3498db;
  color: white;
  padding: 20px;
  text-align: center;
}

.grid {
  display: grid;
  gap: 20px;
  padding: 20px 0;
}

.card {
  background: #f5f5f5;
  padding: 20px;
  border-radius: 8px;
}

/* Mobile: 1 column */
.grid { grid-template-columns: 1fr; }

/* Tablet: 2 columns */
@media (min-width: 600px) {
  .grid { grid-template-columns: repeat(2, 1fr); }
}

/* Desktop: 3 columns */
@media (min-width: 900px) {
  .grid { grid-template-columns: repeat(3, 1fr); }
}

body { font-family: Arial; margin: 0; }
</style>
</head>
<body>

<div class="header">
  <h1>Responsive Web Design</h1>
  <p>Resize the browser to see the layout change!</p>
</div>

<div class="container">
  <div class="grid">
    <div class="card">
      <h3>Card 1</h3>
      <p>This layout responds to screen size.</p>
    </div>
    <div class="card">
      <h3>Card 2</h3>
      <p>Mobile: 1 column, Tablet: 2, Desktop: 3</p>
    </div>
    <div class="card">
      <h3>Card 3</h3>
      <p>Built with CSS Grid and media queries.</p>
    </div>
  </div>
</div>

</body>
</html>`,
    },
    comments: {
      title: 'CSS Comments',
      content: `
# CSS Comments

Comments are used to explain your code.

## Syntax

<pre><code class="css">
/* This is a single-line comment */

/* This is
a multi-line
comment */

p {
  color: red; /* Set text color to red */
}
</code></pre>

## Tips

- Comments are ignored by browsers
- Use comments to explain complex code
- Use comments to temporarily disable code during testing
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
/* ============================
   Main Styles
   ============================ */

body {
  font-family: Arial, sans-serif;
  background-color: #f5f5f5; /* Light gray background */
}

/* Heading styles */
h1 {
  color: #3498db;
  /* text-transform: uppercase; -- temporarily disabled */
}

/* 
   This paragraph style uses:
   - Blue color
   - Larger font size
   - Extra line height for readability
*/
p {
  color: #2c3e50;
  font-size: 18px;
  line-height: 1.6;
}
</style>
</head>
<body>

<h1>CSS Comments Demo</h1>
<p>Comments help explain your CSS code!</p>

</body>
</html>`,
    },
    errors: {
      title: 'CSS Errors',
      content: `
# Common CSS Errors

Learn to avoid and fix common CSS mistakes.

## Common Errors

### 1. Missing Semicolons

<pre><code class="css">
/* Wrong */
p {
  color: red
  font-size: 16px;
}

/* Correct */
p {
  color: red;
  font-size: 16px;
}
</code></pre>

### 2. Missing Closing Braces

<pre><code class="css">
/* Wrong */
p {
  color: red;

h1 {
  color: blue;
}

/* Correct */
p {
  color: red;
}

h1 {
  color: blue;
}
</code></pre>

### 3. Typos in Properties

<pre><code class="css">
/* Wrong */
p {
  colr: red;       /* typo */
  font-sise: 16px; /* typo */
}
</code></pre>

### 4. Invalid Values

<pre><code class="css">
/* Wrong */
p {
  width: 100;      /* missing unit */
  color: redd;     /* invalid color */
}

/* Correct */
p {
  width: 100px;
  color: red;
}
</code></pre>

## Debugging Tips

1. Use browser DevTools (F12)
2. Check the Console for errors
3. Validate your CSS online
4. Check specificity issues
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
/* CORRECT CSS - Compare with errors above */

body {
  font-family: Arial, sans-serif;
  padding: 20px;
}

/* Correct: semicolons after each property */
h1 {
  color: #3498db;
  font-size: 32px;
  margin-bottom: 20px;
}

/* Correct: closing brace present */
p {
  color: #2c3e50;
  line-height: 1.6;
}

/* Correct: proper units and values */
.box {
  width: 200px;       /* has unit */
  height: 100px;      /* has unit */
  background-color: #e74c3c;  /* valid color */
  margin: 20px 0;
}

/* Correct: properly nested */
.container {
  max-width: 800px;
  margin: 0 auto;
}
</style>
</head>
<body>

<div class="container">
  <h1>CSS Error Prevention</h1>
  <p>This CSS is error-free! Always check for:</p>
  <ul>
    <li>Missing semicolons</li>
    <li>Missing closing braces</li>
    <li>Typos in properties</li>
    <li>Missing units (px, %, em)</li>
  </ul>
  <div class="box"></div>
</div>

</body>
</html>`,
    },
    dropdowns: {
      title: 'CSS Dropdowns',
      content: `
# CSS Dropdown Menus

Create dropdown menus with pure CSS.

## Basic Dropdown

<pre><code class="css">
.dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
  min-width: 160px;
  box-shadow: 0px 8px 16px rgba(0,0,0,0.2);
  z-index: 1;
}

.dropdown:hover .dropdown-content {
  display: block;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
/* Dropdown container */
.dropdown {
  position: relative;
  display: inline-block;
}

/* Dropdown button */
.dropbtn {
  background-color: #3498db;
  color: white;
  padding: 16px 20px;
  font-size: 16px;
  border: none;
  cursor: pointer;
}

.dropbtn:hover {
  background-color: #2980b9;
}

/* Dropdown content (hidden by default) */
.dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 180px;
  box-shadow: 0 8px 16px rgba(0,0,0,0.2);
  z-index: 1;
  border-radius: 4px;
  overflow: hidden;
}

/* Links inside dropdown */
.dropdown-content a {
  color: #333;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
  transition: background 0.2s;
}

.dropdown-content a:hover {
  background-color: #f1f1f1;
}

/* Show dropdown on hover */
.dropdown:hover .dropdown-content {
  display: block;
}

/* Navbar with dropdown */
.navbar {
  background: #2c3e50;
  overflow: hidden;
  padding: 0 20px;
}

.navbar a, .navbar .dropbtn {
  background: transparent;
}

.navbar a {
  float: left;
  color: white;
  padding: 16px 20px;
  text-decoration: none;
}

.navbar .dropdown { float: left; }

body { font-family: Arial; margin: 0; }
</style>
</head>
<body>

<h1 style="padding:20px;">CSS Dropdowns</h1>

<h2 style="padding:0 20px;">Basic Dropdown</h2>
<div style="padding:20px;">
  <div class="dropdown">
    <button class="dropbtn">Dropdown </button>
    <div class="dropdown-content">
      <a href="#">Link 1</a>
      <a href="#">Link 2</a>
      <a href="#">Link 3</a>
    </div>
  </div>
</div>

<h2 style="padding:0 20px;">Navbar with Dropdown</h2>
<div class="navbar">
  <a href="#">Home</a>
  <a href="#">About</a>
  <div class="dropdown">
    <button class="dropbtn">Services </button>
    <div class="dropdown-content">
      <a href="#">Web Design</a>
      <a href="#">Development</a>
      <a href="#">SEO</a>
    </div>
  </div>
  <a href="#">Contact</a>
</div>

</body>
</html>`,
    },
    tooltips: {
      title: 'CSS Tooltips',
      content: `
# CSS Tooltips

Create tooltips using pure CSS.

## Basic Tooltip

<pre><code class="css">
.tooltip {
  position: relative;
}

.tooltip .tooltiptext {
  visibility: hidden;
  background-color: black;
  color: white;
  text-align: center;
  padding: 5px;
  border-radius: 6px;
  position: absolute;
  z-index: 1;
  bottom: 125%;
  left: 50%;
  transform: translateX(-50%);
}

.tooltip:hover .tooltiptext {
  visibility: visible;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
/* Base tooltip */
.tooltip {
  position: relative;
  display: inline-block;
  cursor: pointer;
  padding: 10px 20px;
  background: #3498db;
  color: white;
  border-radius: 5px;
  margin: 40px 20px;
}

.tooltip .tooltiptext {
  visibility: hidden;
  background-color: #2c3e50;
  color: white;
  text-align: center;
  padding: 8px 12px;
  border-radius: 6px;
  position: absolute;
  z-index: 1;
  opacity: 0;
  transition: opacity 0.3s;
  white-space: nowrap;
}

.tooltip:hover .tooltiptext {
  visibility: visible;
  opacity: 1;
}

/* Top tooltip */
.tooltip-top .tooltiptext {
  bottom: 125%;
  left: 50%;
  transform: translateX(-50%);
}

.tooltip-top .tooltiptext::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 50%;
  margin-left: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: #2c3e50 transparent transparent transparent;
}

/* Bottom tooltip */
.tooltip-bottom .tooltiptext {
  top: 125%;
  left: 50%;
  transform: translateX(-50%);
}

/* Right tooltip */
.tooltip-right .tooltiptext {
  top: 50%;
  left: 110%;
  transform: translateY(-50%);
}

/* Left tooltip */
.tooltip-left .tooltiptext {
  top: 50%;
  right: 110%;
  transform: translateY(-50%);
}

body { font-family: Arial; padding: 20px; }
</style>
</head>
<body>

<h1>CSS Tooltips</h1>

<div class="tooltip tooltip-top">
  Hover (Top)
  <span class="tooltiptext">Top tooltip!</span>
</div>

<div class="tooltip tooltip-bottom">
  Hover (Bottom)
  <span class="tooltiptext">Bottom tooltip!</span>
</div>

<div class="tooltip tooltip-right">
  Hover (Right)
  <span class="tooltiptext">Right tooltip!</span>
</div>

<div class="tooltip tooltip-left">
  Hover (Left)
  <span class="tooltiptext">Left tooltip!</span>
</div>

</body>
</html>`,
    },
    important: {
      title: 'CSS !important',
      content: `
# CSS !important Rule

The <code>!important</code> rule overrides all other declarations.

## Syntax

<pre><code class="css">
p {
  color: red !important;
}
</code></pre>

## When to Use

- Override inline styles
- Override highly specific selectors
- Utility classes (last resort)

## When NOT to Use

- As a first solution
- To fix specificity issues
- In reusable components

## Better Alternatives

1. Increase specificity properly
2. Restructure your CSS
3. Use CSS variables
4. Use cascade layers

<pre><code class="css">
/* Instead of !important */
.btn.btn-primary { color: blue; }

/* Or increase specificity */
body .btn { color: blue; }
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
/* Normal CSS */
p { color: black; }
.text { color: blue; }
#special { color: green; }

/* !important overrides everything */
.important-red {
  color: red !important;
}

/* Even inline styles are overridden by !important in stylesheet */
.force-blue {
  color: blue !important;
}

.demo {
  padding: 10px;
  margin: 5px 0;
  background: #f5f5f5;
}

body { font-family: Arial; padding: 20px; }
</style>
</head>
<body>

<h1>CSS !important</h1>

<div class="demo">
  <p>Normal paragraph (black)</p>
</div>

<div class="demo">
  <p class="text">Class .text (blue)</p>
</div>

<div class="demo">
  <p id="special">ID #special (green)</p>
</div>

<div class="demo">
  <p id="special" class="text important-red">
    Has ID, class, AND !important - RED wins!
  </p>
</div>

<div class="demo">
  <p style="color: purple;" class="force-blue">
    Inline style is purple, but !important makes it BLUE
  </p>
</div>

<h2> Use Sparingly!</h2>
<p>!important makes CSS harder to maintain. Use proper specificity instead.</p>

</body>
</html>`,
    },
    // ============================================
    // NEW COMPREHENSIVE CSS LESSONS
    // ============================================
    'image-gallery': {
      title: 'CSS Image Gallery',
      content: `
# CSS Image Gallery

Create beautiful, responsive image galleries with CSS.

## Basic Grid Gallery

<pre><code class="css">
.gallery {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 15px;
  padding: 20px;
}

.gallery img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  border-radius: 8px;
  transition: transform 0.3s;
}

.gallery img:hover {
  transform: scale(1.05);
}
</code></pre>

## Lightbox Effect

Create a lightbox effect with CSS and minimal JavaScript.

## Masonry Layout

<pre><code class="css">
.masonry {
  columns: 3;
  column-gap: 15px;
}

.masonry img {
  width: 100%;
  margin-bottom: 15px;
  break-inside: avoid;
}
</code></pre>

## Hover Effects

- Scale on hover
- Overlay with text
- Grayscale to color
- Blur effects
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; background: #f0f0f0; margin: 0; }
h1 { text-align: center; color: #333; }

/* Grid Gallery */
.gallery {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 15px;
  padding: 20px;
  max-width: 900px;
  margin: 0 auto;
}

.gallery-item {
  position: relative;
  overflow: hidden;
  border-radius: 10px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.15);
}

.gallery-item img {
  width: 100%;
  height: 180px;
  object-fit: cover;
  display: block;
  transition: transform 0.4s ease, filter 0.4s ease;
}

.gallery-item:hover img {
  transform: scale(1.1);
}

/* Overlay */
.gallery-item .overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(transparent, rgba(0,0,0,0.8));
  color: white;
  padding: 20px 10px 10px;
  transform: translateY(100%);
  transition: transform 0.3s ease;
}

.gallery-item:hover .overlay {
  transform: translateY(0);
}

/* Filter Gallery */
.filter-gallery {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
  max-width: 900px;
  margin: 20px auto;
  padding: 0 20px;
}

.filter-item img {
  width: 100%;
  height: 100px;
  object-fit: cover;
  border-radius: 8px;
  filter: grayscale(100%);
  transition: filter 0.3s, transform 0.3s;
  cursor: pointer;
}

.filter-item img:hover {
  filter: grayscale(0%);
  transform: scale(1.05);
}
</style>
</head>
<body>

<h1>CSS Image Gallery</h1>

<h2 style="text-align:center; color:#666;">Grid Gallery with Hover Overlay</h2>
<div class="gallery">
  <div class="gallery-item">
    <img src="https://picsum.photos/300/300?random=1" alt="Image 1">
    <div class="overlay">Nature Scene</div>
  </div>
  <div class="gallery-item">
    <img src="https://picsum.photos/300/300?random=2" alt="Image 2">
    <div class="overlay">Beautiful View</div>
  </div>
  <div class="gallery-item">
    <img src="https://picsum.photos/300/300?random=3" alt="Image 3">
    <div class="overlay">Landscape</div>
  </div>
  <div class="gallery-item">
    <img src="https://picsum.photos/300/300?random=4" alt="Image 4">
    <div class="overlay">Scenic Photo</div>
  </div>
</div>

<h2 style="text-align:center; color:#666;">Grayscale to Color on Hover</h2>
<div class="filter-gallery">
  <div class="filter-item"><img src="https://picsum.photos/200/200?random=5" alt=""></div>
  <div class="filter-item"><img src="https://picsum.photos/200/200?random=6" alt=""></div>
  <div class="filter-item"><img src="https://picsum.photos/200/200?random=7" alt=""></div>
  <div class="filter-item"><img src="https://picsum.photos/200/200?random=8" alt=""></div>
</div>

</body>
</html>`,
    },
    'image-sprites': {
      title: 'CSS Image Sprites',
      content: `
# CSS Image Sprites

Combine multiple images into one to reduce HTTP requests.

## What are Sprites?

Image sprites combine multiple images into a single image file. CSS is used to display only the portion needed.

## Benefits

- Reduces HTTP requests
- Faster page loading
- Better performance
- Easier to manage icons

## Creating a Sprite

<pre><code class="css">
.icon {
  background-image: url('sprite.png');
  background-repeat: no-repeat;
  display: inline-block;
}

.icon-home {
  width: 32px;
  height: 32px;
  background-position: 0 0;
}

.icon-search {
  width: 32px;
  height: 32px;
  background-position: -32px 0;
}

.icon-settings {
  width: 32px;
  height: 32px;
  background-position: -64px 0;
}
</code></pre>

## Hover States

<pre><code class="css">
.icon-home:hover {
  background-position: 0 -32px;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; background: #f5f5f5; }
h1 { color: #333; }

/* Simulated sprite using CSS gradients and shapes */
.sprite-demo {
  display: flex;
  gap: 20px;
  flex-wrap: wrap;
  padding: 20px;
  background: white;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.icon {
  width: 50px;
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.3s;
  font-size: 24px;
}

.icon:hover {
  transform: scale(1.1);
}

.icon-home { background: linear-gradient(135deg, #667eea, #764ba2); }
.icon-search { background: linear-gradient(135deg, #f093fb, #f5576c); }
.icon-settings { background: linear-gradient(135deg, #4facfe, #00f2fe); }
.icon-user { background: linear-gradient(135deg, #43e97b, #38f9d7); }
.icon-mail { background: linear-gradient(135deg, #fa709a, #fee140); }
.icon-heart { background: linear-gradient(135deg, #ff0844, #ffb199); }

/* Real sprite example using background-position */
.real-sprite {
  margin-top: 30px;
  padding: 20px;
  background: white;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.sprite-icon {
  width: 40px;
  height: 40px;
  display: inline-block;
  margin: 10px;
  /* This would reference a real sprite image */
  background: #3498db;
  border-radius: 8px;
  position: relative;
}

.sprite-icon::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 20px;
  height: 20px;
  background: white;
  border-radius: 4px;
}

.nav-sprite {
  display: flex;
  gap: 5px;
  background: #2c3e50;
  padding: 10px;
  border-radius: 8px;
}

.nav-item {
  padding: 10px 20px;
  color: white;
  text-decoration: none;
  border-radius: 5px;
  transition: background 0.3s;
  display: flex;
  align-items: center;
  gap: 8px;
}

.nav-item:hover {
  background: #34495e;
}

.nav-icon {
  width: 20px;
  height: 20px;
  background: rgba(255,255,255,0.3);
  border-radius: 4px;
}
</style>
</head>
<body>

<h1>CSS Image Sprites</h1>

<h2>Icon Sprites Concept</h2>
<div class="sprite-demo">
  <div class="icon icon-home"></div>
  <div class="icon icon-search"></div>
  <div class="icon icon-settings"></div>
  <div class="icon icon-user"></div>
  <div class="icon icon-mail"></div>
  <div class="icon icon-heart"></div>
</div>

<h2>Navigation with Sprite Icons</h2>
<nav class="nav-sprite">
  <a href="#" class="nav-item"><span class="nav-icon"></span> Home</a>
  <a href="#" class="nav-item"><span class="nav-icon"></span> About</a>
  <a href="#" class="nav-item"><span class="nav-icon"></span> Services</a>
  <a href="#" class="nav-item"><span class="nav-icon"></span> Contact</a>
</nav>

<div class="real-sprite">
  <h3>How Sprites Work:</h3>
  <p>1. Combine all icons into ONE image file</p>
  <p>2. Use background-position to show each icon</p>
  <p>3. Only ONE HTTP request loads all icons!</p>
  <pre style="background:#1e1e1e; color:#d4d4d4; padding:15px; border-radius:8px; overflow-x:auto;">
.icon { 
  background: url('sprites.png'); 
}
.icon-home { background-position: 0 0; }
.icon-search { background-position: -40px 0; }
.icon-settings { background-position: -80px 0; }
  </pre>
</div>

</body>
</html>`,
    },
    counters: {
      title: 'CSS Counters',
      content: `
# CSS Counters

Automatically number elements with CSS counters.

## Counter Properties

<pre><code class="css">
/* Create/Reset a counter */
counter-reset: section;

/* Increment a counter */
counter-increment: section;

/* Display counter value */
content: counter(section);
content: counters(section, ".");
</code></pre>

## Basic Example

<pre><code class="css">
body {
  counter-reset: section;
}

h2::before {
  counter-increment: section;
  content: "Section " counter(section) ": ";
}
</code></pre>

## Nested Counters

<pre><code class="css">
body { counter-reset: chapter; }
h1 { counter-reset: section; }

h1::before {
  counter-increment: chapter;
  content: "Chapter " counter(chapter) ". ";
}

h2::before {
  counter-increment: section;
  content: counter(chapter) "." counter(section) " ";
}
</code></pre>

## Ordered Lists

<pre><code class="css">
ol {
  counter-reset: item;
  list-style: none;
}

li::before {
  counter-increment: item;
  content: counter(item, decimal-leading-zero) ". ";
  color: #3498db;
  font-weight: bold;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body {
  font-family: 'Segoe UI', Arial;
  padding: 20px;
  background: #f5f5f5;
  counter-reset: chapter;
}

.container {
  max-width: 700px;
  margin: 0 auto;
  background: white;
  padding: 30px;
  border-radius: 15px;
  box-shadow: 0 5px 20px rgba(0,0,0,0.1);
}

h1 { color: #2c3e50; margin-bottom: 30px; }

/* Chapter Counter */
h2 {
  counter-reset: section;
  color: #3498db;
  margin-top: 30px;
  padding: 10px 15px;
  background: #ecf0f1;
  border-radius: 8px;
}

h2::before {
  counter-increment: chapter;
  content: "Chapter " counter(chapter) ": ";
  color: #e74c3c;
}

/* Section Counter */
h3 {
  color: #2c3e50;
  margin-left: 20px;
}

h3::before {
  counter-increment: section;
  content: counter(chapter) "." counter(section) " ";
  color: #3498db;
  font-weight: bold;
}

/* Custom Ordered List */
.custom-list {
  counter-reset: item;
  list-style: none;
  padding: 0;
  margin: 20px 0;
}

.custom-list li {
  padding: 10px 15px 10px 50px;
  position: relative;
  margin: 5px 0;
  background: #f8f9fa;
  border-radius: 8px;
  transition: all 0.3s;
}

.custom-list li:hover {
  background: #e8f4fc;
  transform: translateX(5px);
}

.custom-list li::before {
  counter-increment: item;
  content: counter(item, decimal-leading-zero);
  position: absolute;
  left: 10px;
  top: 50%;
  transform: translateY(-50%);
  width: 30px;
  height: 30px;
  background: linear-gradient(135deg, #3498db, #2980b9);
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: bold;
}

/* Steps counter */
.steps {
  counter-reset: step;
  display: flex;
  justify-content: space-between;
  margin: 30px 0;
}

.step {
  text-align: center;
  flex: 1;
  position: relative;
}

.step::before {
  counter-increment: step;
  content: counter(step);
  display: block;
  width: 40px;
  height: 40px;
  margin: 0 auto 10px;
  background: #2ecc71;
  color: white;
  border-radius: 50%;
  line-height: 40px;
  font-weight: bold;
}

.step:not(:last-child)::after {
  content: '';
  position: absolute;
  top: 20px;
  left: 60%;
  width: 80%;
  height: 3px;
  background: #bdc3c7;
}
</style>
</head>
<body>

<div class="container">
  <h1>CSS Counters</h1>
  
  <h2>Introduction</h2>
  <h3>What are Counters?</h3>
  <h3>Why Use Them?</h3>
  
  <h2>Implementation</h2>
  <h3>Counter Reset</h3>
  <h3>Counter Increment</h3>
  <h3>Displaying Values</h3>
  
  <h2>Advanced Usage</h2>
  <h3>Nested Counters</h3>
  
  <h3>Custom Numbered List:</h3>
  <ol class="custom-list">
    <li>Learn counter-reset property</li>
    <li>Understand counter-increment</li>
    <li>Use counter() function</li>
    <li>Style with CSS</li>
    <li>Create amazing lists!</li>
  </ol>
  
  <h3>Step Progress:</h3>
  <div class="steps">
    <div class="step">Start</div>
    <div class="step">Learn</div>
    <div class="step">Practice</div>
    <div class="step">Master</div>
  </div>
</div>

</body>
</html>`,
    },
    inheritance: {
      title: 'CSS Inheritance',
      content: `
# CSS Inheritance

Some CSS properties are inherited by child elements.

## Inherited Properties

These properties are inherited by default:
- color
- font-family, font-size, font-style, font-weight
- letter-spacing, line-height
- text-align, text-indent, text-transform
- visibility
- cursor

## Non-Inherited Properties

These are NOT inherited:
- margin, padding
- border
- background
- width, height
- display, position

## Controlling Inheritance

<pre><code class="css">
/* Force inheritance */
.child {
  border: inherit;
}

/* Reset to initial value */
.element {
  color: initial;
}

/* Use parent's computed value */
.element {
  color: inherit;
}

/* Revert to browser default */
.element {
  all: revert;
}

/* Unset - inherit if naturally inherited, initial otherwise */
.element {
  color: unset;
}
</code></pre>

## The <code>inherit</code> Keyword

<pre><code class="css">
.parent {
  border: 2px solid blue;
}

.child {
  border: inherit; /* Child gets same border */
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; background: #f0f0f0; }

.container {
  max-width: 700px;
  margin: 0 auto;
}

/* Parent with various properties */
.parent {
  color: #2c3e50;
  font-family: 'Georgia', serif;
  font-size: 18px;
  line-height: 1.6;
  background: white;
  padding: 25px;
  border: 3px solid #3498db;
  border-radius: 10px;
  margin-bottom: 20px;
}

.parent h2 {
  color: #3498db;
  margin-top: 0;
}

/* Child inherits text properties automatically */
.child {
  background: #ecf0f1;
  padding: 15px;
  border-radius: 8px;
  margin: 15px 0;
}

.child.with-border {
  border: inherit; /* Explicitly inherit border */
}

/* Comparison boxes */
.comparison {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin: 20px 0;
}

.box {
  background: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.box h3 {
  margin-top: 0;
  padding-bottom: 10px;
  border-bottom: 2px solid #eee;
}

.demo-inherited {
  color: #e74c3c;
  font-size: 20px;
}

.demo-inherited span {
  /* color is inherited automatically */
  background: #ffeaa7;
  padding: 2px 6px;
}

.demo-non-inherited {
  border: 3px dashed #9b59b6;
  padding: 15px;
}

.demo-non-inherited span {
  /* border is NOT inherited - this span has no border */
  background: #dfe6e9;
  padding: 5px;
}

.keyword-demo {
  background: #2c3e50;
  color: white;
  padding: 20px;
  border-radius: 10px;
  margin-top: 20px;
}

.keyword-demo .inherit { color: inherit; }
.keyword-demo .initial { color: initial; }
.keyword-demo .unset { color: unset; }
</style>
</head>
<body>

<div class="container">
  <h1>CSS Inheritance</h1>
  
  <div class="parent">
    <h2>Parent Element</h2>
    <p>This parent has: color, font-family, font-size, line-height (inherited) + background, padding, border (not inherited)</p>
    
    <div class="child">
      <strong>Child Element (auto-inherited):</strong><br>
      I inherit color, font-family, font-size, line-height from parent!
      <br>But NOT background, padding, or border.
    </div>
    
    <div class="child with-border">
      <strong>Child with border: inherit;</strong><br>
      I explicitly inherit the parent's border!
    </div>
  </div>
  
  <div class="comparison">
    <div class="box">
      <h3> Inherited (automatic)</h3>
      <div class="demo-inherited">
        Red text here... <span>and in child spans too!</span>
      </div>
    </div>
    
    <div class="box">
      <h3> Not Inherited</h3>
      <div class="demo-non-inherited">
        I have a border... <span>but my child span doesn't!</span>
      </div>
    </div>
  </div>
  
  <div class="keyword-demo">
    <h3 style="color:white; margin-top:0;">Inheritance Keywords</h3>
    <p class="inherit">inherit - I inherit parent's white color</p>
    <p class="initial">initial - I use initial (browser default, usually black)</p>
    <p class="unset">unset - I'm unset (inherit since color is inheritable)</p>
  </div>
</div>

</body>
</html>`,
    },
    'math-functions': {
      title: 'CSS Math Functions',
      content: `
# CSS Math Functions

Perform calculations directly in CSS.

## calc()

Perform basic math operations:

<pre><code class="css">
.element {
  width: calc(100% - 50px);
  padding: calc(1rem + 5px);
  font-size: calc(16px * 1.5);
  margin: calc(100vh / 4);
}
</code></pre>

## min()

Returns the smallest value:

<pre><code class="css">
.container {
  width: min(100%, 1200px);
  /* Responsive max-width alternative */
}
</code></pre>

## max()

Returns the largest value:

<pre><code class="css">
.element {
  font-size: max(16px, 1.2vw);
  /* Minimum font size of 16px */
}
</code></pre>

## clamp()

Clamps a value between min and max:

<pre><code class="css">
.element {
  /* clamp(min, preferred, max) */
  font-size: clamp(1rem, 2.5vw, 2rem);
  width: clamp(200px, 50%, 600px);
}
</code></pre>

## Combining Functions

<pre><code class="css">
.responsive {
  padding: clamp(1rem, calc(2vw + 0.5rem), 3rem);
  width: min(calc(100% - 2rem), 800px);
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body {
  font-family: 'Segoe UI', Arial;
  padding: 20px;
  background: #f5f5f5;
  margin: 0;
}

h1 { text-align: center; color: #2c3e50; }
h2 { color: #3498db; margin-top: 30px; }

.demo-box {
  background: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 2px 15px rgba(0,0,0,0.1);
  margin: 20px auto;
  max-width: 800px;
}

/* calc() example */
.calc-demo {
  width: calc(100% - 60px);
  margin: 0 auto;
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: white;
  padding: calc(1rem + 10px);
  border-radius: 10px;
  text-align: center;
}

/* min() example */
.min-demo {
  width: min(100%, 500px);
  margin: 20px auto;
  background: linear-gradient(135deg, #11998e, #38ef7d);
  color: white;
  padding: 20px;
  border-radius: 10px;
  text-align: center;
}

/* max() example */
.max-demo {
  font-size: max(16px, 2vw);
  background: linear-gradient(135deg, #ee0979, #ff6a00);
  color: white;
  padding: 20px;
  border-radius: 10px;
  margin: 20px 0;
}

/* clamp() example */
.clamp-demo {
  font-size: clamp(14px, 2.5vw, 28px);
  width: clamp(200px, 80%, 600px);
  margin: 20px auto;
  background: linear-gradient(135deg, #4568dc, #b06ab3);
  color: white;
  padding: 25px;
  border-radius: 10px;
  text-align: center;
}

/* Comparison Grid */
.comparison-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(min(100%, 250px), 1fr));
  gap: 15px;
  margin: 20px 0;
}

.comparison-item {
  background: #fff;
  padding: 20px;
  border-radius: 10px;
  text-align: center;
  box-shadow: 0 2px 10px rgba(0,0,0,0.08);
  border-left: 4px solid #3498db;
}

.comparison-item h3 {
  margin: 0 0 10px;
  color: #3498db;
}

.comparison-item code {
  background: #ecf0f1;
  padding: 5px 10px;
  border-radius: 5px;
  font-size: 14px;
  display: block;
  margin-top: 10px;
}

/* Responsive font size with clamp */
.responsive-text {
  font-size: clamp(1rem, 4vw, 2.5rem);
  line-height: 1.4;
  text-align: center;
  padding: 20px;
  background: #2c3e50;
  color: white;
  border-radius: 10px;
  margin: 20px 0;
}
</style>
</head>
<body>

<h1>CSS Math Functions</h1>

<div class="demo-box">
  <h2>calc() - Calculate Values</h2>
  <div class="calc-demo">
    width: calc(100% - 60px)
  </div>
  
  <h2>min() - Smallest Value</h2>
  <div class="min-demo">
    width: min(100%, 500px)  I won't exceed 500px!
  </div>
  
  <h2>max() - Largest Value</h2>
  <div class="max-demo">
    font-size: max(16px, 2vw)  Resize window to see me grow!
  </div>
  
  <h2>clamp() - Fluid Responsive</h2>
  <div class="clamp-demo">
    font-size: clamp(14px, 2.5vw, 28px)<br>
    width: clamp(200px, 80%, 600px)
  </div>
  
  <h2>Function Comparison</h2>
  <div class="comparison-grid">
    <div class="comparison-item">
      <h3>calc()</h3>
      <p>Math operations</p>
      <code>calc(100% - 50px)</code>
    </div>
    <div class="comparison-item">
      <h3>min()</h3>
      <p>Returns smallest</p>
      <code>min(100%, 800px)</code>
    </div>
    <div class="comparison-item">
      <h3>max()</h3>
      <p>Returns largest</p>
      <code>max(1rem, 2vw)</code>
    </div>
    <div class="comparison-item">
      <h3>clamp()</h3>
      <p>Min/Preferred/Max</p>
      <code>clamp(1rem, 5vw, 3rem)</code>
    </div>
  </div>
  
  <h2>Responsive Typography</h2>
  <div class="responsive-text">
    Resize the window!<br>
    I scale smoothly with clamp()
  </div>
</div>

</body>
</html>`,
    },
    optimization: {
      title: 'CSS Optimization',
      content: `
# CSS Optimization

Best practices for fast, efficient CSS.

## Reduce File Size

<pre><code class="css">
/* Minify CSS - remove whitespace */
/* Use shorthand properties */
margin: 10px 20px 10px 20px; /*  */
margin: 10px 20px;            /*  */

/* Combine selectors */
h1 { color: blue; }
h2 { color: blue; } /*  */

h1, h2 { color: blue; } /*  */
</code></pre>

## Avoid Expensive Selectors

<pre><code class="css">
/* Slow - universal selectors */
* { box-sizing: border-box; }

/* Slow - deep nesting */
div &gt; ul &gt; li &gt; a { }

/* Fast - class selectors */
.nav-link { }
</code></pre>

## Performance Tips

1. **Use transform instead of position**
2. **Use opacity for animations**
3. **Avoid repaints and reflows**
4. **Use will-change sparingly**
5. **Minimize CSS resets**

## Critical CSS

Load above-the-fold CSS inline:

<pre><code class="html">
&lt;style&gt;
  /* Critical CSS here */
&lt;/style&gt;
&lt;link rel="preload" href="styles.css" as="style"&gt;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; background: #f0f0f0; }

.container {
  max-width: 800px;
  margin: 0 auto;
}

.tip-card {
  background: white;
  padding: 20px;
  margin: 15px 0;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  border-left: 4px solid #3498db;
}

.tip-card h3 {
  margin: 0 0 10px;
  color: #2c3e50;
  display: flex;
  align-items: center;
  gap: 10px;
}

.tip-card h3::before {
  content: '';
  background: #2ecc71;
  color: white;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
}

.bad { border-left-color: #e74c3c; }
.bad h3::before { content: ''; background: #e74c3c; }

.code-compare {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin: 20px 0;
}

.code-box {
  background: #1e1e1e;
  color: #d4d4d4;
  padding: 15px;
  border-radius: 8px;
  font-family: monospace;
  font-size: 13px;
  overflow-x: auto;
}

.code-box.good { border: 2px solid #2ecc71; }
.code-box.bad { border: 2px solid #e74c3c; }

.label {
  display: inline-block;
  padding: 4px 10px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: bold;
  margin-bottom: 10px;
}

.label.good { background: #2ecc71; color: white; }
.label.bad { background: #e74c3c; color: white; }

/* Animation performance demo */
.perf-demo {
  display: flex;
  gap: 20px;
  margin: 20px 0;
}

.anim-box {
  width: 80px;
  height: 80px;
  background: linear-gradient(135deg, #667eea, #764ba2);
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 12px;
  text-align: center;
}

.anim-box.good {
  transition: transform 0.3s, opacity 0.3s;
}

.anim-box.good:hover {
  transform: scale(1.1) rotate(5deg);
  opacity: 0.9;
}

.anim-box.bad {
  transition: left 0.3s, top 0.3s;
  position: relative;
}

.anim-box.bad:hover {
  left: 10px;
  top: -10px;
}
</style>
</head>
<body>

<div class="container">
  <h1>CSS Optimization Tips</h1>
  
  <div class="tip-card">
    <h3>Use Shorthand Properties</h3>
    <div class="code-compare">
      <div class="code-box bad">
        <span class="label bad"> Verbose</span><br>
        margin-top: 10px;<br>
        margin-right: 20px;<br>
        margin-bottom: 10px;<br>
        margin-left: 20px;
      </div>
      <div class="code-box good">
        <span class="label good"> Shorthand</span><br>
        margin: 10px 20px;
      </div>
    </div>
  </div>
  
  <div class="tip-card">
    <h3>Use Class Selectors</h3>
    <div class="code-compare">
      <div class="code-box bad">
        <span class="label bad"> Slow</span><br>
        div > ul > li > a { }<br>
        #nav .menu .item { }
      </div>
      <div class="code-box good">
        <span class="label good"> Fast</span><br>
        .nav-link { }<br>
        .menu-item { }
      </div>
    </div>
  </div>
  
  <div class="tip-card">
    <h3>Animate with transform & opacity</h3>
    <p>These properties are GPU-accelerated and don't cause repaints:</p>
    <div class="perf-demo">
      <div class="anim-box good">transform<br>(fast)</div>
      <div class="anim-box bad">left/top<br>(slow)</div>
    </div>
    <p><small>Hover over the boxes to compare animations</small></p>
  </div>
</div>

</body>
</html>`,
    },
    accessibility: {
      title: 'CSS Accessibility',
      content: `
# CSS Accessibility

Make your CSS accessible to all users.

## Focus Styles

Never remove focus outlines without alternatives:

<pre><code class="css">
/*  Bad - removes focus indicator */
*:focus { outline: none; }

/*  Good - custom focus style */
:focus {
  outline: 2px solid #3498db;
  outline-offset: 2px;
}

/*  Modern - visible only for keyboard */
:focus-visible {
  outline: 2px solid #3498db;
}
</code></pre>

## Color Contrast

- Minimum 4.5:1 for normal text
- Minimum 3:1 for large text
- Don't rely on color alone

## Screen Readers

<pre><code class="css">
/* Visually hidden but screen reader accessible */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}
</code></pre>

## Reduced Motion

<pre><code class="css">
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
</code></pre>

## Tips

- Use relative units (rem, em)
- Ensure clickable areas are 44x44px minimum
- Test with keyboard navigation
- Check color contrast ratios
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; background: #f5f5f5; }

.container {
  max-width: 700px;
  margin: 0 auto;
}

.demo-section {
  background: white;
  padding: 25px;
  border-radius: 12px;
  margin: 20px 0;
  box-shadow: 0 2px 15px rgba(0,0,0,0.08);
}

.demo-section h2 {
  margin-top: 0;
  color: #2c3e50;
  border-bottom: 2px solid #ecf0f1;
  padding-bottom: 10px;
}

/* Focus Styles Demo */
.focus-demo {
  display: flex;
  gap: 15px;
  flex-wrap: wrap;
  margin: 15px 0;
}

.focus-btn {
  padding: 12px 24px;
  font-size: 16px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  background: #3498db;
  color: white;
  transition: all 0.2s;
}

/* Good focus style */
.focus-btn:focus {
  outline: 3px solid #2980b9;
  outline-offset: 3px;
}

.focus-btn:focus-visible {
  outline: 3px solid #e74c3c;
  outline-offset: 3px;
}

/* Color Contrast Demo */
.contrast-demo {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
  margin: 15px 0;
}

.contrast-box {
  padding: 20px;
  border-radius: 8px;
  text-align: center;
}

.contrast-bad {
  background: #f1c40f;
  color: white; /* Low contrast! */
}

.contrast-good {
  background: #2c3e50;
  color: white; /* Good contrast! */
}

/* Screen Reader Only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}

/* Touch Target */
.touch-demo {
  display: flex;
  gap: 10px;
  align-items: center;
  margin: 15px 0;
}

.touch-target-small {
  width: 30px;
  height: 30px;
  background: #e74c3c;
  border-radius: 5px;
}

.touch-target-good {
  width: 44px;
  height: 44px;
  background: #2ecc71;
  border-radius: 8px;
}

/* Accessible Form */
.form-group {
  margin: 15px 0;
}

.form-group label {
  display: block;
  margin-bottom: 5px;
  font-weight: bold;
  color: #2c3e50;
}

.form-group input {
  width: 100%;
  padding: 12px;
  font-size: 16px;
  border: 2px solid #ddd;
  border-radius: 8px;
  transition: border-color 0.2s;
}

.form-group input:focus {
  border-color: #3498db;
  outline: none;
  box-shadow: 0 0 0 3px rgba(52,152,219,0.2);
}

.skip-link {
  position: absolute;
  top: -100%;
  left: 0;
  background: #2c3e50;
  color: white;
  padding: 10px 20px;
  z-index: 1000;
  transition: top 0.3s;
}

.skip-link:focus {
  top: 0;
}

/* Animation with reduced motion */
.motion-box {
  width: 100px;
  height: 100px;
  background: linear-gradient(135deg, #667eea, #764ba2);
  border-radius: 10px;
  animation: pulse 2s infinite;
  margin: 20px 0;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

@media (prefers-reduced-motion: reduce) {
  .motion-box {
    animation: none;
  }
}
</style>
</head>
<body>

<a href="#main" class="skip-link">Skip to main content</a>

<div class="container">
  <h1>CSS Accessibility</h1>
  
  <div id="main" class="demo-section">
    <h2>Focus Styles</h2>
    <p>Tab through these buttons to see focus styles:</p>
    <div class="focus-demo">
      <button class="focus-btn">Button 1</button>
      <button class="focus-btn">Button 2</button>
      <button class="focus-btn">Button 3</button>
    </div>
    <p><small>:focus-visible shows only for keyboard navigation</small></p>
  </div>
  
  <div class="demo-section">
    <h2>Color Contrast</h2>
    <div class="contrast-demo">
      <div class="contrast-box contrast-bad">
         Low Contrast<br>
        <small>Hard to read!</small>
      </div>
      <div class="contrast-box contrast-good">
         Good Contrast<br>
        <small>Easy to read!</small>
      </div>
    </div>
  </div>
  
  <div class="demo-section">
    <h2>Touch Targets</h2>
    <div class="touch-demo">
      <div class="touch-target-small" title="Too small (30x30)"></div>
      <span> 3030px (too small)</span>
    </div>
    <div class="touch-demo">
      <div class="touch-target-good" title="Good size (44x44)"></div>
      <span> 4444px (recommended minimum)</span>
    </div>
  </div>
  
  <div class="demo-section">
    <h2>Accessible Forms</h2>
    <form>
      <div class="form-group">
        <label for="email">Email Address</label>
        <input type="email" id="email" placeholder="Enter your email">
      </div>
      <div class="form-group">
        <label for="name">Full Name</label>
        <input type="text" id="name" placeholder="Enter your name">
      </div>
    </form>
  </div>
  
  <div class="demo-section">
    <h2>Reduced Motion</h2>
    <p>This animation respects prefers-reduced-motion:</p>
    <div class="motion-box"></div>
    <p><small>Enable "Reduce motion" in your OS settings to stop animation</small></p>
  </div>
</div>

</body>
</html>`,
    },
    'website-layout': {
      title: 'CSS Website Layout',
      content: `
# CSS Website Layout

Build complete website layouts with CSS.

## Common Layout Patterns

1. **Header + Content + Footer**
2. **Sidebar + Main Content**
3. **Holy Grail Layout**
4. **Card Grid Layout**

## Header-Footer Layout

<pre><code class="css">
body {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

header, footer {
  flex-shrink: 0;
}

main {
  flex: 1; /* Takes remaining space */
}
</code></pre>

## Sidebar Layout

<pre><code class="css">
.wrapper {
  display: grid;
  grid-template-columns: 250px 1fr;
  min-height: 100vh;
}

/* Responsive */
@media (max-width: 768px) {
  .wrapper {
    grid-template-columns: 1fr;
  }
}
</code></pre>

## Holy Grail Layout

<pre><code class="css">
.container {
  display: grid;
  grid-template-areas:
    "header header header"
    "nav main aside"
    "footer footer footer";
  grid-template-columns: 200px 1fr 200px;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Segoe UI', Arial; }

/* Holy Grail Layout */
.page {
  display: grid;
  grid-template-areas:
    "header header header"
    "nav main aside"
    "footer footer footer";
  grid-template-columns: 180px 1fr 180px;
  grid-template-rows: auto 1fr auto;
  min-height: 100vh;
  gap: 1px;
  background: #ddd;
}

header {
  grid-area: header;
  background: linear-gradient(135deg, #2c3e50, #3498db);
  color: white;
  padding: 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

header h1 { font-size: 1.5em; }

.top-nav {
  display: flex;
  gap: 20px;
}

.top-nav a {
  color: white;
  text-decoration: none;
  padding: 8px 15px;
  border-radius: 5px;
  transition: background 0.3s;
}

.top-nav a:hover {
  background: rgba(255,255,255,0.2);
}

nav {
  grid-area: nav;
  background: #34495e;
  padding: 20px;
}

nav a {
  display: block;
  color: #ecf0f1;
  text-decoration: none;
  padding: 12px 15px;
  border-radius: 5px;
  margin-bottom: 5px;
  transition: all 0.3s;
}

nav a:hover {
  background: #3498db;
  transform: translateX(5px);
}

main {
  grid-area: main;
  background: white;
  padding: 30px;
}

main h2 { color: #2c3e50; margin-bottom: 20px; }

.cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
}

.card {
  background: #f8f9fa;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.05);
  transition: transform 0.3s, box-shadow 0.3s;
}

.card:hover {
  transform: translateY(-5px);
  box-shadow: 0 5px 20px rgba(0,0,0,0.1);
}

.card h3 {
  color: #3498db;
  margin-bottom: 10px;
}

aside {
  grid-area: aside;
  background: #ecf0f1;
  padding: 20px;
}

aside h3 {
  color: #2c3e50;
  margin-bottom: 15px;
  font-size: 1em;
}

.widget {
  background: white;
  padding: 15px;
  border-radius: 8px;
  margin-bottom: 15px;
  font-size: 14px;
}

footer {
  grid-area: footer;
  background: #2c3e50;
  color: #95a5a6;
  padding: 20px;
  text-align: center;
}

@media (max-width: 768px) {
  .page {
    grid-template-areas:
      "header"
      "main"
      "nav"
      "aside"
      "footer";
    grid-template-columns: 1fr;
  }
  
  nav { order: 2; }
  aside { order: 3; }
}
</style>
</head>
<body>

<div class="page">
  <header>
    <h1> My Website</h1>
    <nav class="top-nav">
      <a href="#">Home</a>
      <a href="#">About</a>
      <a href="#">Contact</a>
    </nav>
  </header>
  
  <nav>
    <a href="#"> Dashboard</a>
    <a href="#"> Projects</a>
    <a href="#"> Team</a>
    <a href="#"> Analytics</a>
    <a href="#"> Settings</a>
  </nav>
  
  <main>
    <h2>Welcome to the Holy Grail Layout!</h2>
    <p style="margin-bottom: 20px;">This classic layout includes header, footer, sidebar navigation, main content, and aside widget area.</p>
    
    <div class="cards">
      <div class="card">
        <h3>Feature One</h3>
        <p>Responsive grid automatically adjusts columns.</p>
      </div>
      <div class="card">
        <h3>Feature Two</h3>
        <p>Sidebar collapses on mobile devices.</p>
      </div>
      <div class="card">
        <h3>Feature Three</h3>
        <p>Built with CSS Grid for flexibility.</p>
      </div>
    </div>
  </main>
  
  <aside>
    <h3>Widgets</h3>
    <div class="widget">
      <strong>Latest News</strong><br>
      New features released!
    </div>
    <div class="widget">
      <strong>Quick Stats</strong><br>
      Users: 1,234<br>
      Views: 56,789
    </div>
  </aside>
  
  <footer>
    &copy; 2024 My Website. Built with CSS Grid.
  </footer>
</div>

</body>
</html>`,
    },
    'rounded-corners': {
      title: 'CSS Rounded Corners',
      content: `
# CSS Rounded Corners

Create rounded corners with border-radius.

## Basic Syntax

<pre><code class="css">
/* All corners */
border-radius: 10px;

/* Horizontal / Vertical */
border-radius: 20px / 10px;

/* Individual corners */
border-radius: 10px 20px 30px 40px;
/* top-left, top-right, bottom-right, bottom-left */
</code></pre>

## Individual Properties

<pre><code class="css">
border-top-left-radius: 10px;
border-top-right-radius: 20px;
border-bottom-right-radius: 30px;
border-bottom-left-radius: 40px;
</code></pre>

## Special Shapes

<pre><code class="css">
/* Circle */
.circle {
  width: 100px;
  height: 100px;
  border-radius: 50%;
}

/* Pill shape */
.pill {
  border-radius: 50px;
}

/* Oval */
.oval {
  width: 200px;
  height: 100px;
  border-radius: 50%;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; background: #f0f0f0; }

.container {
  max-width: 800px;
  margin: 0 auto;
}

.demo-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 20px;
  margin: 20px 0;
}

.shape {
  height: 120px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: bold;
  text-align: center;
  font-size: 12px;
  transition: transform 0.3s;
}

.shape:hover { transform: scale(1.05); }

/* Different border-radius values */
.r-0 { background: #3498db; border-radius: 0; }
.r-10 { background: #e74c3c; border-radius: 10px; }
.r-20 { background: #2ecc71; border-radius: 20px; }
.r-50 { background: #9b59b6; border-radius: 50px; }
.r-circle { 
  background: #f39c12; 
  border-radius: 50%; 
  width: 120px;
}

/* Asymmetric */
.r-asymmetric {
  background: #1abc9c;
  border-radius: 30px 10px;
}

/* Individual corners */
.r-corners {
  background: #34495e;
  border-radius: 30px 0 30px 0;
}

/* Leaf shape */
.r-leaf {
  background: #27ae60;
  border-radius: 60px 0;
}

/* Card style */
.card-demo {
  background: white;
  padding: 20px;
  border-radius: 15px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.1);
  margin: 30px 0;
}

.card-demo h3 { margin-top: 0; color: #2c3e50; }

/* Pill buttons */
.btn-group {
  display: flex;
  gap: 10px;
  margin: 20px 0;
  flex-wrap: wrap;
}

.pill-btn {
  padding: 12px 30px;
  border: none;
  border-radius: 50px;
  font-size: 14px;
  cursor: pointer;
  transition: transform 0.2s;
}

.pill-btn:hover { transform: translateY(-2px); }
.pill-btn.primary { background: #3498db; color: white; }
.pill-btn.success { background: #2ecc71; color: white; }
.pill-btn.warning { background: #f39c12; color: white; }
.pill-btn.danger { background: #e74c3c; color: white; }

/* Avatar */
.avatars {
  display: flex;
  gap: 15px;
  margin: 20px 0;
}

.avatar {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid white;
  box-shadow: 0 2px 10px rgba(0,0,0,0.2);
}

/* Blob shapes */
.blob {
  width: 100px;
  height: 100px;
  background: linear-gradient(135deg, #667eea, #764ba2);
  border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
  margin: 20px;
  animation: blob 4s ease-in-out infinite;
}

@keyframes blob {
  0%, 100% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
  50% { border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%; }
}
</style>
</head>
<body>

<div class="container">
  <h1>CSS Rounded Corners</h1>
  
  <h2>Border Radius Values</h2>
  <div class="demo-grid">
    <div class="shape r-0">radius: 0</div>
    <div class="shape r-10">radius: 10px</div>
    <div class="shape r-20">radius: 20px</div>
    <div class="shape r-50">radius: 50px</div>
    <div class="shape r-circle">radius: 50%<br>(circle)</div>
    <div class="shape r-asymmetric">30px 10px</div>
    <div class="shape r-corners">30px 0 30px 0</div>
    <div class="shape r-leaf">60px 0<br>(leaf)</div>
  </div>
  
  <div class="card-demo">
    <h3>Card with Rounded Corners</h3>
    <p>Cards typically use border-radius: 10-20px for a modern look.</p>
    
    <h4>Pill Buttons</h4>
    <div class="btn-group">
      <button class="pill-btn primary">Primary</button>
      <button class="pill-btn success">Success</button>
      <button class="pill-btn warning">Warning</button>
      <button class="pill-btn danger">Danger</button>
    </div>
    
    <h4>Circular Avatars</h4>
    <div class="avatars">
      <img class="avatar" src="https://i.pravatar.cc/100?img=1" alt="Avatar">
      <img class="avatar" src="https://i.pravatar.cc/100?img=2" alt="Avatar">
      <img class="avatar" src="https://i.pravatar.cc/100?img=3" alt="Avatar">
    </div>
  </div>
  
  <h2>Animated Blob Shape</h2>
  <div class="blob"></div>
</div>

</body>
</html>`,
    },
    'border-images': {
      title: 'CSS Border Images',
      content: `
# CSS Border Images

Use images as borders.

## Syntax

<pre><code class="css">
border-image: source slice width outset repeat;

/* Example */
border-image: url('border.png') 30 round;
</code></pre>

## Properties

<pre><code class="css">
/* Image source */
border-image-source: url('border.png');
border-image-source: linear-gradient(red, blue);

/* How to slice the image */
border-image-slice: 30;
border-image-slice: 10%;
border-image-slice: 30 fill; /* fill center */

/* Border width */
border-image-width: 10px;
border-image-width: 1; /* relative to border-width */

/* Outset (extends beyond border) */
border-image-outset: 10px;

/* Repeat behavior */
border-image-repeat: stretch;
border-image-repeat: repeat;
border-image-repeat: round;
border-image-repeat: space;
</code></pre>

## Gradient Borders

<pre><code class="css">
.gradient-border {
  border: 4px solid;
  border-image: linear-gradient(45deg, #f06, #9f6) 1;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; background: #f5f5f5; }

.container {
  max-width: 700px;
  margin: 0 auto;
}

.demo-box {
  padding: 30px;
  margin: 20px 0;
  background: white;
  text-align: center;
}

/* Gradient Border */
.gradient-border {
  border: 5px solid;
  border-image: linear-gradient(45deg, #f06, #9f6, #06f) 1;
}

/* Rainbow gradient */
.rainbow-border {
  border: 6px solid;
  border-image: linear-gradient(
    90deg,
    #ff0000, #ff7f00, #ffff00, 
    #00ff00, #0000ff, #4b0082, #9400d3
  ) 1;
}

/* Corner gradient */
.corner-gradient {
  border: 8px solid;
  border-image: conic-gradient(
    #3498db, #9b59b6, #e74c3c, #f39c12, #3498db
  ) 1;
}

/* Animated gradient border */
.animated-border {
  position: relative;
  border: 4px solid transparent;
  background: white;
  background-clip: padding-box;
}

.animated-border::before {
  content: '';
  position: absolute;
  top: -4px; left: -4px; right: -4px; bottom: -4px;
  background: linear-gradient(45deg, #ff0080, #ff8c00, #40e0d0, #ff0080);
  background-size: 300% 300%;
  z-index: -1;
  border-radius: inherit;
  animation: gradient-rotate 3s linear infinite;
}

@keyframes gradient-rotate {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Dotted gradient */
.dotted-gradient {
  border: none;
  background: 
    linear-gradient(white, white) padding-box,
    linear-gradient(45deg, #667eea, #764ba2) border-box;
  border: 4px dashed transparent;
  border-image: repeating-linear-gradient(
    45deg,
    #667eea,
    #667eea 10px,
    transparent 10px,
    transparent 20px
  ) 4;
}

/* Double gradient border */
.double-border {
  border: 8px double;
  border-image: linear-gradient(135deg, #11998e, #38ef7d) 1;
}

/* Comparison grid */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  margin: 30px 0;
}

.grid-item {
  padding: 25px;
  text-align: center;
  background: white;
  min-height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
}

.grid-item h3 {
  margin: 0 0 5px;
  font-size: 14px;
  color: #333;
}

.grid-item code {
  font-size: 11px;
  color: #666;
}

.g1 { border: 4px solid; border-image: linear-gradient(#3498db, #9b59b6) 1; }
.g2 { border: 4px solid; border-image: linear-gradient(90deg, #e74c3c, #f39c12) 1; }
.g3 { border: 4px solid; border-image: radial-gradient(#2ecc71, #27ae60) 1; }
.g4 { border: 6px solid; border-image: conic-gradient(#ff6b6b, #4ecdc4, #ffe66d, #ff6b6b) 1; }
</style>
</head>
<body>

<div class="container">
  <h1>CSS Border Images</h1>
  
  <h2>Gradient Borders</h2>
  
  <div class="demo-box gradient-border">
    <h3>Simple Gradient Border</h3>
    <code>border-image: linear-gradient(45deg, #f06, #9f6) 1;</code>
  </div>
  
  <div class="demo-box rainbow-border">
    <h3>Rainbow Gradient</h3>
    <code>7-color rainbow gradient</code>
  </div>
  
  <div class="demo-box corner-gradient">
    <h3>Conic Gradient Border</h3>
    <code>conic-gradient for corner-to-corner effect</code>
  </div>
  
  <div class="demo-box animated-border">
    <h3>Animated Gradient Border</h3>
    <code>Uses pseudo-element + animation</code>
  </div>
  
  <h2>More Examples</h2>
  <div class="grid">
    <div class="grid-item g1">
      <h3>Vertical Gradient</h3>
      <code>top to bottom</code>
    </div>
    <div class="grid-item g2">
      <h3>Horizontal Gradient</h3>
      <code>left to right</code>
    </div>
    <div class="grid-item g3">
      <h3>Radial Gradient</h3>
      <code>radial-gradient()</code>
    </div>
    <div class="grid-item g4">
      <h3>Conic Gradient</h3>
      <code>conic-gradient()</code>
    </div>
  </div>
</div>

</body>
</html>`,
    },
    'multiple-backgrounds': {
      title: 'CSS Multiple Backgrounds',
      content: `
# CSS Multiple Backgrounds

Layer multiple backgrounds on a single element.

## Syntax

<pre><code class="css">
background: 
  url('top.png') top center,
  url('middle.png') center,
  url('bottom.png') bottom center;
</code></pre>

## Layer Order

- First background is on TOP
- Last background is on BOTTOM

<pre><code class="css">
.element {
  background:
    linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), /* Overlay */
    url('image.jpg') center/cover; /* Image */
}
</code></pre>

## Gradient Combinations

<pre><code class="css">
.layered {
  background:
    linear-gradient(45deg, transparent 49%, #fff 49%, #fff 51%, transparent 51%),
    linear-gradient(-45deg, transparent 49%, #fff 49%, #fff 51%, transparent 51%),
    linear-gradient(#3498db, #9b59b6);
}
</code></pre>

## Individual Properties

<pre><code class="css">
background-image: url('a.png'), url('b.png');
background-position: top left, bottom right;
background-repeat: no-repeat, repeat;
background-size: 50%, cover;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; background: #f0f0f0; }

.container {
  max-width: 800px;
  margin: 0 auto;
}

.demo-box {
  height: 200px;
  margin: 20px 0;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: bold;
  font-size: 18px;
  text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

/* Multiple gradients */
.gradient-layers {
  background:
    linear-gradient(135deg, rgba(102, 126, 234, 0.9), transparent 50%),
    linear-gradient(225deg, rgba(118, 75, 162, 0.9), transparent 50%),
    linear-gradient(45deg, #667eea, #764ba2);
}

/* Pattern overlay */
.pattern-overlay {
  background:
    repeating-linear-gradient(
      45deg,
      rgba(255,255,255,0.05) 0px,
      rgba(255,255,255,0.05) 10px,
      transparent 10px,
      transparent 20px
    ),
    linear-gradient(135deg, #1e3c72, #2a5298);
}

/* Dots pattern */
.dots-pattern {
  background:
    radial-gradient(circle at 20px 20px, rgba(255,255,255,0.2) 2px, transparent 2px),
    linear-gradient(135deg, #11998e, #38ef7d);
  background-size: 40px 40px, 100%;
}

/* Geometric */
.geometric {
  background:
    linear-gradient(60deg, rgba(52, 152, 219, 0.8) 25%, transparent 25%),
    linear-gradient(-60deg, rgba(231, 76, 60, 0.8) 25%, transparent 25%),
    linear-gradient(120deg, rgba(46, 204, 113, 0.8) 25%, transparent 25%),
    linear-gradient(-120deg, rgba(155, 89, 182, 0.8) 25%, transparent 25%),
    #2c3e50;
}

/* Image with overlay */
.image-overlay {
  background:
    linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.6)),
    url('https://picsum.photos/800/400') center/cover;
}

/* Grid pattern */
.grid-pattern {
  background:
    linear-gradient(#ecf0f1 1px, transparent 1px),
    linear-gradient(90deg, #ecf0f1 1px, transparent 1px),
    linear-gradient(135deg, #667eea, #764ba2);
  background-size: 20px 20px, 20px 20px, 100%;
}

/* Mesh gradient simulation */
.mesh-gradient {
  background:
    radial-gradient(circle at 20% 80%, rgba(255, 0, 128, 0.5), transparent 40%),
    radial-gradient(circle at 80% 20%, rgba(0, 200, 255, 0.5), transparent 40%),
    radial-gradient(circle at 50% 50%, rgba(255, 200, 0, 0.3), transparent 50%),
    linear-gradient(#2c3e50, #34495e);
}

.description {
  background: white;
  padding: 15px;
  border-radius: 8px;
  margin: -10px 0 20px;
  font-size: 14px;
  color: #666;
  box-shadow: 0 2px 10px rgba(0,0,0,0.05);
}
</style>
</head>
<body>

<div class="container">
  <h1>CSS Multiple Backgrounds</h1>
  
  <h2>Layered Gradients</h2>
  <div class="demo-box gradient-layers">
    Multiple linear-gradients layered
  </div>
  
  <h2>Pattern Overlay</h2>
  <div class="demo-box pattern-overlay">
    Striped pattern over gradient
  </div>
  
  <h2>Dots Pattern</h2>
  <div class="demo-box dots-pattern">
    Radial gradient creates dots
  </div>
  
  <h2>Geometric Shapes</h2>
  <div class="demo-box geometric">
    Angled gradients for shapes
  </div>
  
  <h2>Image with Overlay</h2>
  <div class="demo-box image-overlay">
    Dark gradient over image
  </div>
  
  <h2>Grid Pattern</h2>
  <div class="demo-box grid-pattern">
    Grid lines over gradient
  </div>
  
  <h2>Mesh Gradient Effect</h2>
  <div class="demo-box mesh-gradient">
    Multiple radial gradients
  </div>
  <p class="description">Mesh gradients create smooth, organic color blends using multiple overlapping radial gradients.</p>
</div>

</body>
</html>`,
    },
    'color-keywords': {
      title: 'CSS Color Keywords',
      content: `
# CSS Color Keywords

CSS supports 147 named color keywords.

## Basic Colors

<pre><code class="css">
color: red;
color: blue;
color: green;
color: yellow;
color: orange;
color: purple;
color: pink;
color: brown;
color: gray;
color: black;
color: white;
</code></pre>

## Extended Colors

Popular extended keywords:
- **Blues**: navy, steelblue, dodgerblue, skyblue
- **Greens**: forestgreen, seagreen, limegreen, springgreen
- **Reds**: crimson, firebrick, indianred, salmon
- **Purples**: indigo, violet, orchid, plum
- **Browns**: sienna, chocolate, saddlebrown, peru

## Special Keywords

<pre><code class="css">
color: transparent;    /* Fully transparent */
color: currentColor;   /* Inherits from color property */
</code></pre>

## System Colors

<pre><code class="css">
color: Canvas;         /* Background */
color: CanvasText;     /* Text on Canvas */
color: LinkText;       /* Unvisited links */
color: VisitedText;    /* Visited links */
color: AccentColor;    /* Accent color */
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; background: #f8f9fa; }

.container {
  max-width: 900px;
  margin: 0 auto;
}

h1 { color: #2c3e50; text-align: center; }
h2 { color: #34495e; margin-top: 30px; border-bottom: 2px solid #ecf0f1; padding-bottom: 10px; }

.color-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: 10px;
  margin: 20px 0;
}

.color-box {
  height: 70px;
  border-radius: 8px;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  padding-bottom: 8px;
  font-size: 11px;
  font-weight: bold;
  text-shadow: 0 1px 2px rgba(0,0,0,0.5);
  color: white;
  transition: transform 0.2s;
}

.color-box:hover {
  transform: scale(1.05);
}

/* Basic colors */
.red { background: red; }
.blue { background: blue; }
.green { background: green; }
.yellow { background: yellow; color: #333; text-shadow: none; }
.orange { background: orange; }
.purple { background: purple; }
.pink { background: pink; color: #333; text-shadow: none; }
.brown { background: brown; }
.gray { background: gray; }
.black { background: black; }
.white { background: white; color: #333; text-shadow: none; border: 1px solid #ddd; }

/* Blues */
.navy { background: navy; }
.steelblue { background: steelblue; }
.dodgerblue { background: dodgerblue; }
.skyblue { background: skyblue; color: #333; text-shadow: none; }
.lightblue { background: lightblue; color: #333; text-shadow: none; }
.aqua { background: aqua; color: #333; text-shadow: none; }
.teal { background: teal; }
.cyan { background: cyan; color: #333; text-shadow: none; }

/* Greens */
.darkgreen { background: darkgreen; }
.forestgreen { background: forestgreen; }
.seagreen { background: seagreen; }
.limegreen { background: limegreen; color: #333; text-shadow: none; }
.springgreen { background: springgreen; color: #333; text-shadow: none; }
.lime { background: lime; color: #333; text-shadow: none; }
.olive { background: olive; }

/* Reds */
.darkred { background: darkred; }
.crimson { background: crimson; }
.firebrick { background: firebrick; }
.indianred { background: indianred; }
.salmon { background: salmon; }
.coral { background: coral; }
.tomato { background: tomato; }

/* Purples */
.indigo { background: indigo; }
.violet { background: violet; }
.orchid { background: orchid; }
.plum { background: plum; color: #333; text-shadow: none; }
.magenta { background: magenta; }
.fuchsia { background: fuchsia; }

/* Browns */
.sienna { background: sienna; }
.chocolate { background: chocolate; }
.saddlebrown { background: saddlebrown; }
.peru { background: peru; }
.tan { background: tan; color: #333; text-shadow: none; }
.wheat { background: wheat; color: #333; text-shadow: none; }

/* Grays */
.darkgray { background: darkgray; }
.silver { background: silver; color: #333; text-shadow: none; }
.lightgray { background: lightgray; color: #333; text-shadow: none; }
.dimgray { background: dimgray; }
.slategray { background: slategray; }
</style>
</head>
<body>

<div class="container">
  <h1>CSS Color Keywords</h1>
  <p style="text-align:center; color:#666;">147 named colors are available in CSS</p>
  
  <h2>Basic Colors</h2>
  <div class="color-grid">
    <div class="color-box red">red</div>
    <div class="color-box blue">blue</div>
    <div class="color-box green">green</div>
    <div class="color-box yellow">yellow</div>
    <div class="color-box orange">orange</div>
    <div class="color-box purple">purple</div>
    <div class="color-box pink">pink</div>
    <div class="color-box brown">brown</div>
    <div class="color-box gray">gray</div>
    <div class="color-box black">black</div>
    <div class="color-box white">white</div>
  </div>
  
  <h2>Blues</h2>
  <div class="color-grid">
    <div class="color-box navy">navy</div>
    <div class="color-box steelblue">steelblue</div>
    <div class="color-box dodgerblue">dodgerblue</div>
    <div class="color-box skyblue">skyblue</div>
    <div class="color-box lightblue">lightblue</div>
    <div class="color-box aqua">aqua</div>
    <div class="color-box teal">teal</div>
    <div class="color-box cyan">cyan</div>
  </div>
  
  <h2>Greens</h2>
  <div class="color-grid">
    <div class="color-box darkgreen">darkgreen</div>
    <div class="color-box forestgreen">forestgreen</div>
    <div class="color-box seagreen">seagreen</div>
    <div class="color-box limegreen">limegreen</div>
    <div class="color-box springgreen">springgreen</div>
    <div class="color-box lime">lime</div>
    <div class="color-box olive">olive</div>
  </div>
  
  <h2>Reds & Oranges</h2>
  <div class="color-grid">
    <div class="color-box darkred">darkred</div>
    <div class="color-box crimson">crimson</div>
    <div class="color-box firebrick">firebrick</div>
    <div class="color-box indianred">indianred</div>
    <div class="color-box salmon">salmon</div>
    <div class="color-box coral">coral</div>
    <div class="color-box tomato">tomato</div>
  </div>
  
  <h2>Purples</h2>
  <div class="color-grid">
    <div class="color-box indigo">indigo</div>
    <div class="color-box violet">violet</div>
    <div class="color-box orchid">orchid</div>
    <div class="color-box plum">plum</div>
    <div class="color-box magenta">magenta</div>
    <div class="color-box fuchsia">fuchsia</div>
  </div>
  
  <h2>Browns & Tans</h2>
  <div class="color-grid">
    <div class="color-box sienna">sienna</div>
    <div class="color-box chocolate">chocolate</div>
    <div class="color-box saddlebrown">saddlebrown</div>
    <div class="color-box peru">peru</div>
    <div class="color-box tan">tan</div>
    <div class="color-box wheat">wheat</div>
  </div>
  
  <h2>Grays</h2>
  <div class="color-grid">
    <div class="color-box dimgray">dimgray</div>
    <div class="color-box gray">gray</div>
    <div class="color-box darkgray">darkgray</div>
    <div class="color-box silver">silver</div>
    <div class="color-box lightgray">lightgray</div>
    <div class="color-box slategray">slategray</div>
  </div>
</div>

</body>
</html>`,
    },
    'text-effects': {
      title: 'CSS Text Effects',
      content: `
# CSS Text Effects

Create stunning text effects with CSS.

## Text Shadow

<pre><code class="css">
/* Basic shadow */
text-shadow: 2px 2px 4px rgba(0,0,0,0.5);

/* Multiple shadows */
text-shadow: 
  1px 1px 0 #fff,
  2px 2px 0 #333;

/* Glow effect */
text-shadow: 0 0 10px #3498db;
</code></pre>

## Text Stroke

<pre><code class="css">
-webkit-text-stroke: 2px black;
-webkit-text-fill-color: transparent;
</code></pre>

## Gradient Text

<pre><code class="css">
.gradient-text {
  background: linear-gradient(45deg, #f06, #9f6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
</code></pre>

## Text Overflow

<pre><code class="css">
.truncate {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Multi-line truncate */
.line-clamp {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { 
  font-family: Arial; 
  padding: 20px; 
  background: #1a1a2e;
  color: white;
}

.container {
  max-width: 800px;
  margin: 0 auto;
}

h1 { text-align: center; margin-bottom: 40px; }
h2 { color: #888; font-size: 14px; margin: 30px 0 15px; text-transform: uppercase; }

.effect-box {
  padding: 40px;
  text-align: center;
  margin: 15px 0;
  border-radius: 12px;
  background: #16213e;
}

/* Text Shadow */
.shadow-basic {
  font-size: 48px;
  font-weight: bold;
  text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
}

/* 3D Text */
.shadow-3d {
  font-size: 48px;
  font-weight: bold;
  color: #e74c3c;
  text-shadow:
    1px 1px 0 #c0392b,
    2px 2px 0 #a93226,
    3px 3px 0 #922b21,
    4px 4px 0 #7b241c,
    5px 5px 10px rgba(0,0,0,0.5);
}

/* Neon Glow */
.neon {
  font-size: 48px;
  font-weight: bold;
  color: #fff;
  text-shadow:
    0 0 5px #fff,
    0 0 10px #fff,
    0 0 20px #0ff,
    0 0 30px #0ff,
    0 0 40px #0ff;
  animation: neon-flicker 1.5s infinite alternate;
}

@keyframes neon-flicker {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.8; }
}

/* Gradient Text */
.gradient-text {
  font-size: 56px;
  font-weight: bold;
  background: linear-gradient(45deg, #f06, #48f, #0ff, #0f0);
  background-size: 300%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: gradient-shift 3s ease infinite;
}

@keyframes gradient-shift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Outline Text */
.outline-text {
  font-size: 56px;
  font-weight: bold;
  -webkit-text-stroke: 2px #3498db;
  -webkit-text-fill-color: transparent;
}

/* Glitch Effect */
.glitch {
  font-size: 48px;
  font-weight: bold;
  position: relative;
}

.glitch::before,
.glitch::after {
  content: 'GLITCH';
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
}

.glitch::before {
  color: #f0f;
  animation: glitch-1 0.3s infinite;
  clip-path: inset(0 0 50% 0);
}

.glitch::after {
  color: #0ff;
  animation: glitch-2 0.3s infinite;
  clip-path: inset(50% 0 0 0);
}

@keyframes glitch-1 {
  0%, 100% { transform: translate(0); }
  20% { transform: translate(-2px, 2px); }
  40% { transform: translate(2px, -2px); }
}

@keyframes glitch-2 {
  0%, 100% { transform: translate(0); }
  20% { transform: translate(2px, -2px); }
  40% { transform: translate(-2px, 2px); }
}

/* Truncate */
.truncate-demo {
  background: #0f3460;
  padding: 20px;
  border-radius: 8px;
  margin: 20px 0;
}

.truncate {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding: 10px;
  background: rgba(255,255,255,0.1);
  border-radius: 5px;
  margin: 10px 0;
}

.line-clamp {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  padding: 10px;
  background: rgba(255,255,255,0.1);
  border-radius: 5px;
}
</style>
</head>
<body>

<div class="container">
  <h1> CSS Text Effects</h1>
  
  <h2>Basic Shadow</h2>
  <div class="effect-box">
    <div class="shadow-basic">Shadow Text</div>
  </div>
  
  <h2>3D Text Effect</h2>
  <div class="effect-box">
    <div class="shadow-3d">3D TEXT</div>
  </div>
  
  <h2>Neon Glow</h2>
  <div class="effect-box" style="background:#000;">
    <div class="neon">NEON</div>
  </div>
  
  <h2>Gradient Text</h2>
  <div class="effect-box">
    <div class="gradient-text">GRADIENT</div>
  </div>
  
  <h2>Outline Text</h2>
  <div class="effect-box">
    <div class="outline-text">OUTLINE</div>
  </div>
  
  <h2>Glitch Effect</h2>
  <div class="effect-box" style="background:#000;">
    <div class="glitch">GLITCH</div>
  </div>
  
  <h2>Text Truncation</h2>
  <div class="truncate-demo">
    <p><strong>Single line:</strong></p>
    <div class="truncate">
      This is a very long text that will be truncated with an ellipsis when it overflows the container width.
    </div>
    <p style="margin-top:15px;"><strong>Multi-line (2 lines):</strong></p>
    <div class="line-clamp">
      This is a longer paragraph that demonstrates multi-line text truncation using the -webkit-line-clamp property. It will show only 2 lines and add an ellipsis at the end.
    </div>
  </div>
</div>

</body>
</html>`,
    },
    'custom-fonts': {
      title: 'CSS Custom Fonts',
      content: `
# CSS Custom Fonts

Use custom fonts in your web pages.

## @font-face

<pre><code class="css">
@font-face {
  font-family: 'MyFont';
  src: url('myfont.woff2') format('woff2'),
       url('myfont.woff') format('woff');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

body {
  font-family: 'MyFont', sans-serif;
}
</code></pre>

## Google Fonts

<pre><code class="html">
&lt;link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&amp;display=swap" rel="stylesheet"&gt;
</code></pre>

<pre><code class="css">
body {
  font-family: 'Roboto', sans-serif;
}
</code></pre>

## Font Properties

<pre><code class="css">
font-family: 'Open Sans', sans-serif;
font-size: 16px;
font-weight: 400; /* 100-900 */
font-style: normal; /* italic, oblique */
font-variant: normal; /* small-caps */
line-height: 1.5;
letter-spacing: 0.5px;
</code></pre>

## Variable Fonts

<pre><code class="css">
@font-face {
  font-family: 'VariableFont';
  src: url('variable.woff2') format('woff2-variations');
  font-weight: 100 900;
}

.text {
  font-variation-settings: 'wght' 500;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;600;700&family=Fira+Code&family=Dancing+Script&display=swap" rel="stylesheet">
<style>
body { 
  padding: 20px; 
  background: #f5f5f5;
  margin: 0;
}

.container {
  max-width: 800px;
  margin: 0 auto;
}

h1 {
  font-family: 'Playfair Display', serif;
  font-size: 48px;
  text-align: center;
  color: #2c3e50;
  margin-bottom: 40px;
}

.font-card {
  background: white;
  padding: 30px;
  margin: 20px 0;
  border-radius: 12px;
  box-shadow: 0 2px 15px rgba(0,0,0,0.08);
}

.font-card h2 {
  font-size: 14px;
  color: #888;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin: 0 0 15px;
  font-family: 'Poppins', sans-serif;
}

.font-demo {
  padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;
  margin: 15px 0;
}

/* Poppins - Modern Sans-serif */
.poppins {
  font-family: 'Poppins', sans-serif;
}

.poppins-light { font-weight: 300; font-size: 24px; }
.poppins-regular { font-weight: 400; font-size: 24px; }
.poppins-semibold { font-weight: 600; font-size: 24px; }
.poppins-bold { font-weight: 700; font-size: 24px; }

/* Playfair Display - Elegant Serif */
.playfair {
  font-family: 'Playfair Display', serif;
  font-size: 36px;
  line-height: 1.4;
}

/* Fira Code - Monospace */
.fira-code {
  font-family: 'Fira Code', monospace;
  font-size: 16px;
  background: #1e1e1e;
  color: #d4d4d4;
  padding: 20px;
  border-radius: 8px;
}

/* Dancing Script - Script/Cursive */
.dancing {
  font-family: 'Dancing Script', cursive;
  font-size: 42px;
  color: #e74c3c;
}

/* Font pairing example */
.pairing-demo {
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: white;
  padding: 40px;
  border-radius: 12px;
  text-align: center;
}

.pairing-demo h3 {
  font-family: 'Playfair Display', serif;
  font-size: 36px;
  margin: 0 0 15px;
}

.pairing-demo p {
  font-family: 'Poppins', sans-serif;
  font-size: 16px;
  font-weight: 300;
  max-width: 500px;
  margin: 0 auto;
  line-height: 1.6;
}

/* Code example */
.code-block {
  background: #1e1e1e;
  color: #d4d4d4;
  padding: 15px;
  border-radius: 8px;
  font-family: 'Fira Code', monospace;
  font-size: 13px;
  overflow-x: auto;
  margin: 15px 0;
}

.code-block .keyword { color: #569cd6; }
.code-block .string { color: #ce9178; }
.code-block .property { color: #9cdcfe; }
</style>
</head>
<body>

<div class="container">
  <h1>Custom Web Fonts</h1>
  
  <div class="font-card">
    <h2>Poppins - Sans-serif Font Weights</h2>
    <div class="font-demo poppins">
      <div class="poppins-light">Light 300 - The quick brown fox</div>
      <div class="poppins-regular">Regular 400 - The quick brown fox</div>
      <div class="poppins-semibold">Semibold 600 - The quick brown fox</div>
      <div class="poppins-bold">Bold 700 - The quick brown fox</div>
    </div>
  </div>
  
  <div class="font-card">
    <h2>Playfair Display - Elegant Serif</h2>
    <div class="font-demo playfair">
      Beautiful Typography Makes All The Difference
    </div>
  </div>
  
  <div class="font-card">
    <h2>Fira Code - Monospace for Code</h2>
    <div class="fira-code">
const greeting = "Hello, World!";<br>
console.log(greeting);
    </div>
  </div>
  
  <div class="font-card">
    <h2>Dancing Script - Decorative</h2>
    <div class="font-demo dancing">
      Elegant & Beautiful
    </div>
  </div>
  
  <div class="font-card">
    <h2>Font Pairing Example</h2>
    <div class="pairing-demo">
      <h3>Playfair Display</h3>
      <p>Paired with Poppins for body text. Serif + Sans-serif is a classic combination that creates visual hierarchy and readability.</p>
    </div>
  </div>
  
  <div class="font-card">
    <h2>How to Include Google Fonts</h2>
    <div class="code-block">
&lt;<span class="keyword">link</span> <span class="property">href</span>=<span class="string">"https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap"</span> <span class="property">rel</span>=<span class="string">"stylesheet"</span>&gt;
    </div>
  </div>
</div>

</body>
</html>`,
    },
    'image-styling': {
      title: 'CSS Image Styling',
      content: `
# CSS Image Styling

Style images with CSS.

## Basic Styling

<pre><code class="css">
img {
  max-width: 100%;
  height: auto;
  display: block;
}
</code></pre>

## Border & Shadow

<pre><code class="css">
img {
  border: 3px solid #3498db;
  border-radius: 10px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}
</code></pre>

## Filters

<pre><code class="css">
img { filter: grayscale(100%); }
img { filter: blur(5px); }
img { filter: brightness(1.2); }
img { filter: contrast(1.5); }
img { filter: saturate(2); }
img { filter: sepia(100%); }
img { filter: hue-rotate(90deg); }
</code></pre>

## Hover Effects

<pre><code class="css">
img {
  transition: transform 0.3s, filter 0.3s;
}

img:hover {
  transform: scale(1.05);
  filter: brightness(1.1);
}
</code></pre>

## Object Fit

<pre><code class="css">
img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  object-position: center;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { 
  font-family: Arial; 
  padding: 20px; 
  background: #f0f0f0;
}

.container {
  max-width: 900px;
  margin: 0 auto;
}

h1 { text-align: center; color: #2c3e50; }
h2 { color: #34495e; margin-top: 30px; }

.demo-section {
  background: white;
  padding: 25px;
  border-radius: 12px;
  margin: 20px 0;
  box-shadow: 0 2px 15px rgba(0,0,0,0.08);
}

/* Basic responsive image */
.basic-img {
  max-width: 100%;
  height: auto;
  display: block;
  border-radius: 10px;
}

/* Styled with border and shadow */
.styled-img {
  border: 4px solid #3498db;
  border-radius: 15px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.15);
}

/* Circular image */
.circular {
  width: 150px;
  height: 150px;
  border-radius: 50%;
  object-fit: cover;
  border: 4px solid #2ecc71;
}

/* Filter Grid */
.filter-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 15px;
  margin: 20px 0;
}

.filter-item {
  text-align: center;
}

.filter-item img {
  width: 100%;
  height: 120px;
  object-fit: cover;
  border-radius: 8px;
  transition: filter 0.3s;
}

.filter-item p {
  margin: 8px 0 0;
  font-size: 12px;
  color: #666;
}

.grayscale img { filter: grayscale(100%); }
.blur img { filter: blur(2px); }
.brightness img { filter: brightness(1.3); }
.contrast img { filter: contrast(1.5); }
.saturate img { filter: saturate(2); }
.sepia img { filter: sepia(100%); }
.hue-rotate img { filter: hue-rotate(90deg); }
.invert img { filter: invert(100%); }

/* Hover Effects */
.hover-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 15px;
}

.hover-item {
  overflow: hidden;
  border-radius: 10px;
}

.hover-item img {
  width: 100%;
  height: 150px;
  object-fit: cover;
  display: block;
}

.zoom-effect img {
  transition: transform 0.4s ease;
}
.zoom-effect:hover img {
  transform: scale(1.2);
}

.grayscale-effect img {
  filter: grayscale(100%);
  transition: filter 0.4s ease;
}
.grayscale-effect:hover img {
  filter: grayscale(0%);
}

.overlay-effect {
  position: relative;
}
.overlay-effect::after {
  content: 'View More';
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.7);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.3s;
  font-weight: bold;
}
.overlay-effect:hover::after {
  opacity: 1;
}
</style>
</head>
<body>

<div class="container">
  <h1>CSS Image Styling</h1>
  
  <div class="demo-section">
    <h2>Basic & Styled Images</h2>
    <div style="display:grid; grid-template-columns:1fr 1fr 1fr; gap:20px; align-items:center;">
      <div style="text-align:center;">
        <img src="https://picsum.photos/200/150?random=1" alt="" class="basic-img">
        <p>Basic responsive</p>
      </div>
      <div style="text-align:center;">
        <img src="https://picsum.photos/200/150?random=2" alt="" class="basic-img styled-img">
        <p>Border + Shadow</p>
      </div>
      <div style="text-align:center;">
        <img src="https://picsum.photos/200/200?random=3" alt="" class="circular">
        <p>Circular</p>
      </div>
    </div>
  </div>
  
  <div class="demo-section">
    <h2>CSS Filters</h2>
    <div class="filter-grid">
      <div class="filter-item">
        <img src="https://picsum.photos/200/200?random=10" alt="">
        <p>Original</p>
      </div>
      <div class="filter-item grayscale">
        <img src="https://picsum.photos/200/200?random=10" alt="">
        <p>grayscale(100%)</p>
      </div>
      <div class="filter-item blur">
        <img src="https://picsum.photos/200/200?random=10" alt="">
        <p>blur(2px)</p>
      </div>
      <div class="filter-item brightness">
        <img src="https://picsum.photos/200/200?random=10" alt="">
        <p>brightness(1.3)</p>
      </div>
      <div class="filter-item contrast">
        <img src="https://picsum.photos/200/200?random=10" alt="">
        <p>contrast(1.5)</p>
      </div>
      <div class="filter-item saturate">
        <img src="https://picsum.photos/200/200?random=10" alt="">
        <p>saturate(2)</p>
      </div>
      <div class="filter-item sepia">
        <img src="https://picsum.photos/200/200?random=10" alt="">
        <p>sepia(100%)</p>
      </div>
      <div class="filter-item hue-rotate">
        <img src="https://picsum.photos/200/200?random=10" alt="">
        <p>hue-rotate(90deg)</p>
      </div>
    </div>
  </div>
  
  <div class="demo-section">
    <h2>Hover Effects</h2>
    <div class="hover-grid">
      <div class="hover-item zoom-effect">
        <img src="https://picsum.photos/300/200?random=20" alt="">
      </div>
      <div class="hover-item grayscale-effect">
        <img src="https://picsum.photos/300/200?random=21" alt="">
      </div>
      <div class="hover-item overlay-effect">
        <img src="https://picsum.photos/300/200?random=22" alt="">
      </div>
    </div>
    <p style="text-align:center; color:#888; margin-top:10px;">Hover over the images!</p>
  </div>
</div>

</body>
</html>`,
    },
    'object-fit': {
      title: 'CSS object-fit',
      content: `
# CSS object-fit

Control how images/videos fit their container.

## Values

<pre><code class="css">
/* Fill container, may distort */
object-fit: fill;

/* Maintain ratio, may leave gaps */
object-fit: contain;

/* Maintain ratio, may crop */
object-fit: cover;

/* Original size */
object-fit: none;

/* Choose smaller of none or contain */
object-fit: scale-down;
</code></pre>

## object-position

<pre><code class="css">
object-position: center;    /* default */
object-position: top;
object-position: bottom;
object-position: left;
object-position: right;
object-position: 25% 75%;
</code></pre>

## Common Use Cases

<pre><code class="css">
/* Fixed-height image container */
.thumbnail {
  width: 100%;
  height: 200px;
  object-fit: cover;
}

/* Avatar */
.avatar {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  object-fit: cover;
}

/* Video background */
video {
  width: 100%;
  height: 100vh;
  object-fit: cover;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { 
  font-family: Arial; 
  padding: 20px; 
  background: #f5f5f5;
}

.container {
  max-width: 900px;
  margin: 0 auto;
}

h1 { text-align: center; color: #2c3e50; }
h2 { color: #34495e; margin-top: 30px; }

.demo-section {
  background: white;
  padding: 25px;
  border-radius: 12px;
  margin: 20px 0;
  box-shadow: 0 2px 15px rgba(0,0,0,0.08);
}

/* Object-fit comparison grid */
.fit-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 15px;
  margin: 20px 0;
}

.fit-item {
  text-align: center;
}

.fit-item .img-container {
  width: 100%;
  height: 150px;
  border: 2px dashed #3498db;
  border-radius: 8px;
  overflow: hidden;
  background: #ecf0f1;
}

.fit-item img {
  width: 100%;
  height: 100%;
}

.fit-item p {
  margin: 10px 0 0;
  font-size: 12px;
  color: #666;
  font-weight: bold;
}

.fit-fill img { object-fit: fill; }
.fit-contain img { object-fit: contain; }
.fit-cover img { object-fit: cover; }
.fit-none img { object-fit: none; }
.fit-scale-down img { object-fit: scale-down; }

/* Object-position grid */
.position-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 15px;
  margin: 20px 0;
}

.position-item {
  text-align: center;
}

.position-item .img-container {
  width: 100%;
  height: 120px;
  border-radius: 8px;
  overflow: hidden;
}

.position-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.position-item p {
  margin: 8px 0 0;
  font-size: 11px;
  color: #888;
}

.pos-center img { object-position: center; }
.pos-top img { object-position: top; }
.pos-bottom img { object-position: bottom; }
.pos-left img { object-position: left; }
.pos-right img { object-position: right; }

/* Practical examples */
.practical-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 20px;
}

.card {
  background: #f8f9fa;
  border-radius: 10px;
  overflow: hidden;
}

.card img {
  width: 100%;
  height: 120px;
  object-fit: cover;
}

.card-body {
  padding: 15px;
}

.card-body h4 {
  margin: 0 0 5px;
  font-size: 14px;
}

.card-body p {
  margin: 0;
  font-size: 12px;
  color: #888;
}

/* Avatars */
.avatar-row {
  display: flex;
  gap: 15px;
  align-items: center;
  margin: 20px 0;
}

.avatar {
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid #3498db;
}

.avatar-sm { width: 40px; height: 40px; }
.avatar-md { width: 60px; height: 60px; }
.avatar-lg { width: 80px; height: 80px; }
</style>
</head>
<body>

<div class="container">
  <h1>CSS object-fit</h1>
  
  <div class="demo-section">
    <h2>Object-fit Values</h2>
    <p style="color:#888;">Same image (landscape) in same-sized containers:</p>
    <div class="fit-grid">
      <div class="fit-item fit-fill">
        <div class="img-container">
          <img src="https://picsum.photos/400/200?random=1" alt="">
        </div>
        <p>fill</p>
      </div>
      <div class="fit-item fit-contain">
        <div class="img-container">
          <img src="https://picsum.photos/400/200?random=1" alt="">
        </div>
        <p>contain</p>
      </div>
      <div class="fit-item fit-cover">
        <div class="img-container">
          <img src="https://picsum.photos/400/200?random=1" alt="">
        </div>
        <p>cover</p>
      </div>
      <div class="fit-item fit-none">
        <div class="img-container">
          <img src="https://picsum.photos/400/200?random=1" alt="">
        </div>
        <p>none</p>
      </div>
      <div class="fit-item fit-scale-down">
        <div class="img-container">
          <img src="https://picsum.photos/400/200?random=1" alt="">
        </div>
        <p>scale-down</p>
      </div>
    </div>
  </div>
  
  <div class="demo-section">
    <h2>Object-position with cover</h2>
    <p style="color:#888;">All images use object-fit: cover with different positions:</p>
    <div class="position-grid">
      <div class="position-item pos-center">
        <div class="img-container">
          <img src="https://picsum.photos/400/600?random=5" alt="">
        </div>
        <p>center</p>
      </div>
      <div class="position-item pos-top">
        <div class="img-container">
          <img src="https://picsum.photos/400/600?random=5" alt="">
        </div>
        <p>top</p>
      </div>
      <div class="position-item pos-bottom">
        <div class="img-container">
          <img src="https://picsum.photos/400/600?random=5" alt="">
        </div>
        <p>bottom</p>
      </div>
      <div class="position-item pos-left">
        <div class="img-container">
          <img src="https://picsum.photos/600/400?random=6" alt="">
        </div>
        <p>left</p>
      </div>
      <div class="position-item pos-right">
        <div class="img-container">
          <img src="https://picsum.photos/600/400?random=6" alt="">
        </div>
        <p>right</p>
      </div>
    </div>
  </div>
  
  <div class="demo-section">
    <h2>Practical: Card Thumbnails</h2>
    <div class="practical-grid">
      <div class="card">
        <img src="https://picsum.photos/400/300?random=10" alt="">
        <div class="card-body">
          <h4>Card Title</h4>
          <p>object-fit: cover</p>
        </div>
      </div>
      <div class="card">
        <img src="https://picsum.photos/200/400?random=11" alt="">
        <div class="card-body">
          <h4>Tall Image</h4>
          <p>Still fits perfectly</p>
        </div>
      </div>
      <div class="card">
        <img src="https://picsum.photos/600/200?random=12" alt="">
        <div class="card-body">
          <h4>Wide Image</h4>
          <p>Cropped to fit</p>
        </div>
      </div>
      <div class="card">
        <img src="https://picsum.photos/400/400?random=13" alt="">
        <div class="card-body">
          <h4>Square Image</h4>
          <p>Works great!</p>
        </div>
      </div>
    </div>
  </div>
  
  <div class="demo-section">
    <h2>Circular Avatars</h2>
    <div class="avatar-row">
      <img class="avatar avatar-sm" src="https://i.pravatar.cc/100?img=1" alt="">
      <img class="avatar avatar-md" src="https://i.pravatar.cc/100?img=2" alt="">
      <img class="avatar avatar-lg" src="https://i.pravatar.cc/100?img=3" alt="">
      <span style="color:#888; margin-left:10px;"> All use object-fit: cover</span>
    </div>
  </div>
</div>

</body>
</html>`,
    },
    'multiple-columns': {
      title: 'CSS Multiple Columns',
      content: `
# CSS Multiple Columns

Create newspaper-style column layouts.

## Column Count

<pre><code class="css">
.text {
  column-count: 3;
}
</code></pre>

## Column Width

<pre><code class="css">
.text {
  column-width: 200px;
  /* Creates as many columns as fit */
}
</code></pre>

## Columns Shorthand

<pre><code class="css">
/* columns: width count */
columns: 200px 3;
columns: auto 3;
columns: 200px auto;
</code></pre>

## Column Gap & Rule

<pre><code class="css">
.text {
  column-gap: 40px;
  column-rule: 1px solid #ccc;
  /* column-rule-width, column-rule-style, column-rule-color */
}
</code></pre>

## Column Span

<pre><code class="css">
h2 {
  column-span: all;
  /* Spans across all columns */
}
</code></pre>

## Prevent Breaking

<pre><code class="css">
.item {
  break-inside: avoid;
  /* Keeps element in one column */
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { 
  font-family: Georgia, serif; 
  padding: 20px; 
  background: #f5f5f5;
  line-height: 1.7;
}

.container {
  max-width: 900px;
  margin: 0 auto;
}

h1 { 
  text-align: center; 
  color: #2c3e50;
  font-family: 'Playfair Display', Georgia, serif;
}

.demo-section {
  background: white;
  padding: 30px;
  border-radius: 12px;
  margin: 25px 0;
  box-shadow: 0 2px 15px rgba(0,0,0,0.08);
}

.demo-section h2 {
  font-family: Arial, sans-serif;
  color: #34495e;
  font-size: 14px;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-top: 0;
  padding-bottom: 10px;
  border-bottom: 2px solid #ecf0f1;
}

/* Basic 3 columns */
.three-columns {
  column-count: 3;
  column-gap: 30px;
}

/* With column rule */
.with-rule {
  column-count: 3;
  column-gap: 40px;
  column-rule: 1px solid #ddd;
}

/* Responsive columns */
.responsive-columns {
  columns: 250px auto;
  column-gap: 30px;
  column-rule: 1px dotted #ccc;
}

/* Column span */
.span-demo {
  column-count: 2;
  column-gap: 30px;
}

.span-demo h3 {
  column-span: all;
  text-align: center;
  color: #3498db;
  margin: 20px 0 10px;
  padding: 10px;
  background: #ecf0f1;
  border-radius: 5px;
}

/* Masonry-style cards */
.masonry {
  column-count: 3;
  column-gap: 20px;
}

.masonry-item {
  break-inside: avoid;
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: white;
  padding: 20px;
  margin-bottom: 20px;
  border-radius: 10px;
}

.masonry-item.tall { min-height: 150px; }
.masonry-item.short { min-height: 80px; }
.masonry-item.medium { min-height: 120px; }

.masonry-item.green { background: linear-gradient(135deg, #11998e, #38ef7d); }
.masonry-item.orange { background: linear-gradient(135deg, #f093fb, #f5576c); }
.masonry-item.blue { background: linear-gradient(135deg, #4facfe, #00f2fe); }

/* Drop cap */
.drop-cap::first-letter {
  float: left;
  font-size: 4em;
  line-height: 0.8;
  padding-right: 10px;
  color: #3498db;
  font-weight: bold;
}

.lorem {
  text-align: justify;
}
</style>
</head>
<body>

<div class="container">
  <h1>CSS Multiple Columns</h1>
  
  <div class="demo-section">
    <h2>Basic 3 Columns</h2>
    <div class="three-columns lorem">
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.</p>
      <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident.</p>
      <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium.</p>
    </div>
  </div>
  
  <div class="demo-section">
    <h2>With Column Rule (Divider)</h2>
    <div class="with-rule lorem">
      <p class="drop-cap">The quick brown fox jumps over the lazy dog. This classic pangram contains every letter of the alphabet and is commonly used for typography testing.</p>
      <p>Multiple columns create a newspaper-like reading experience that can make long text more scannable and easier to read.</p>
      <p>The column-rule property adds a line between columns, similar to a border but specifically for multi-column layouts.</p>
    </div>
  </div>
  
  <div class="demo-section">
    <h2>Column Span</h2>
    <div class="span-demo lorem">
      <p>Text flows into multiple columns automatically. This paragraph appears in the first available column space.</p>
      <h3>This Heading Spans All Columns</h3>
      <p>After the spanning element, text continues to flow into the columns below. This creates a nice visual break in the content.</p>
      <p>Column span is particularly useful for headlines, images, or callout sections that need to stand out.</p>
    </div>
  </div>
  
  <div class="demo-section">
    <h2>Masonry-Style Cards</h2>
    <div class="masonry">
      <div class="masonry-item tall">Card 1 - Tall</div>
      <div class="masonry-item short green">Card 2 - Short</div>
      <div class="masonry-item medium orange">Card 3 - Medium</div>
      <div class="masonry-item short">Card 4 - Short</div>
      <div class="masonry-item tall blue">Card 5 - Tall</div>
      <div class="masonry-item medium">Card 6 - Medium</div>
      <div class="masonry-item short green">Card 7 - Short</div>
      <div class="masonry-item tall orange">Card 8 - Tall</div>
      <div class="masonry-item medium blue">Card 9 - Medium</div>
    </div>
  </div>
</div>

</body>
</html>`,
    },
    'flex-responsive': {
      title: 'Flex Responsive',
      content: `
# Responsive Flexbox Layouts

Build responsive layouts with Flexbox.

## Mobile-First Approach

<pre><code class="css">
/* Mobile: stack vertically */
.container {
  display: flex;
  flex-direction: column;
}

/* Tablet: side by side */
@media (min-width: 768px) {
  .container {
    flex-direction: row;
  }
}
</code></pre>

## Flex Wrap for Cards

<pre><code class="css">
.cards {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

.card {
  flex: 1 1 300px; /* grow, shrink, basis */
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
* { box-sizing: border-box; }

.container {
  display: flex;
  flex-direction: column;
  gap: 20px;
  padding: 20px;
}

/* Cards grid */
.cards {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

.card {
  flex: 1 1 250px;
  background: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

/* Sidebar layout */
.layout {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.sidebar {
  background: #3498db;
  color: white;
  padding: 20px;
  border-radius: 10px;
}

.main {
  background: #2ecc71;
  color: white;
  padding: 20px;
  border-radius: 10px;
  flex: 1;
}

/* Tablet and up */
@media (min-width: 768px) {
  .layout {
    flex-direction: row;
  }
  
  .sidebar {
    width: 250px;
    flex-shrink: 0;
  }
}

body { 
  font-family: Arial; 
  margin: 0; 
  background: #f5f5f5; 
}
</style>
</head>
<body>

<div class="container">
  <h1>Responsive Flexbox</h1>
  
  <h2>Card Grid (auto-wrap)</h2>
  <div class="cards">
    <div class="card"><h3>Card 1</h3><p>Flex: 1 1 250px</p></div>
    <div class="card"><h3>Card 2</h3><p>Auto-wraps</p></div>
    <div class="card"><h3>Card 3</h3><p>Resize to see!</p></div>
  </div>
  
  <h2>Sidebar Layout</h2>
  <div class="layout">
    <div class="sidebar">Sidebar<br>250px on desktop</div>
    <div class="main">Main Content<br>flex: 1</div>
  </div>
</div>

</body>
</html>`,
    },
    'image-filters': {
      title: 'CSS Image Filters',
      content: `
# CSS Image Filters

Apply visual effects to images with CSS filters.

## Filter Functions

<pre><code class="css">
img {
  filter: blur(5px);
  filter: brightness(150%);
  filter: contrast(200%);
  filter: grayscale(100%);
  filter: hue-rotate(90deg);
  filter: invert(100%);
  filter: opacity(50%);
  filter: saturate(200%);
  filter: sepia(100%);
  filter: drop-shadow(5px 5px 10px black);
}
</code></pre>

## Multiple Filters

<pre><code class="css">
img {
  filter: grayscale(100%) brightness(120%);
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
.gallery {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  padding: 20px;
}

.filter-box {
  text-align: center;
}

.filter-box img {
  width: 150px;
  height: 100px;
  object-fit: cover;
  border-radius: 8px;
  transition: filter 0.3s;
}

.filter-box p {
  font-size: 12px;
  color: #666;
  margin-top: 8px;
}

/* Filter effects */
.original img { filter: none; }
.blur img { filter: blur(3px); }
.brightness img { filter: brightness(150%); }
.contrast img { filter: contrast(200%); }
.grayscale img { filter: grayscale(100%); }
.hue-rotate img { filter: hue-rotate(90deg); }
.invert img { filter: invert(100%); }
.saturate img { filter: saturate(300%); }
.sepia img { filter: sepia(100%); }
.drop-shadow img { filter: drop-shadow(5px 5px 5px rgba(0,0,0,0.5)); }

/* Hover effect */
.hover-effect img:hover {
  filter: grayscale(0%) brightness(110%);
}
.hover-effect img {
  filter: grayscale(100%);
}

body { font-family: Arial; }
</style>
</head>
<body>

<h1 style="padding:20px;">CSS Image Filters</h1>

<div class="gallery">
  <div class="filter-box original">
    <img src="https://picsum.photos/150/100?1" alt="original">
    <p>Original</p>
  </div>
  <div class="filter-box blur">
    <img src="https://picsum.photos/150/100?1" alt="blur">
    <p>blur(3px)</p>
  </div>
  <div class="filter-box brightness">
    <img src="https://picsum.photos/150/100?1" alt="brightness">
    <p>brightness(150%)</p>
  </div>
  <div class="filter-box grayscale">
    <img src="https://picsum.photos/150/100?1" alt="grayscale">
    <p>grayscale(100%)</p>
  </div>
  <div class="filter-box sepia">
    <img src="https://picsum.photos/150/100?1" alt="sepia">
    <p>sepia(100%)</p>
  </div>
  <div class="filter-box saturate">
    <img src="https://picsum.photos/150/100?1" alt="saturate">
    <p>saturate(300%)</p>
  </div>
  <div class="filter-box hover-effect">
    <img src="https://picsum.photos/150/100?1" alt="hover">
    <p>Hover me!</p>
  </div>
</div>

</body>
</html>`,
    },
    'image-shapes': {
      title: 'CSS Image Shapes',
      content: `
# CSS Image Shapes

Create interesting shapes with images.

## Circle Image

<pre><code class="css">
.circle {
  border-radius: 50%;
}
</code></pre>

## Clip Path

<pre><code class="css">
.triangle {
  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
}

.hexagon {
  clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
.shapes {
  display: flex;
  flex-wrap: wrap;
  gap: 30px;
  padding: 20px;
  justify-content: center;
}

.shape-box {
  text-align: center;
}

.shape-box img {
  width: 150px;
  height: 150px;
  object-fit: cover;
}

.shape-box p {
  margin-top: 10px;
  font-size: 14px;
}

/* Shapes */
.circle img { border-radius: 50%; }

.rounded img { border-radius: 20px; }

.triangle img {
  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
}

.pentagon img {
  clip-path: polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%);
}

.hexagon img {
  clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
}

.star img {
  clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
}

.diamond img {
  clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
}

.arrow img {
  clip-path: polygon(40% 0%, 40% 20%, 100% 20%, 100% 80%, 40% 80%, 40% 100%, 0% 50%);
}

body { font-family: Arial; background: #f5f5f5; }
h1 { text-align: center; padding: 20px; }
</style>
</head>
<body>

<h1>CSS Image Shapes</h1>

<div class="shapes">
  <div class="shape-box circle">
    <img src="https://picsum.photos/200?1" alt="circle">
    <p>Circle</p>
  </div>
  <div class="shape-box rounded">
    <img src="https://picsum.photos/200?2" alt="rounded">
    <p>Rounded</p>
  </div>
  <div class="shape-box triangle">
    <img src="https://picsum.photos/200?3" alt="triangle">
    <p>Triangle</p>
  </div>
  <div class="shape-box pentagon">
    <img src="https://picsum.photos/200?4" alt="pentagon">
    <p>Pentagon</p>
  </div>
  <div class="shape-box hexagon">
    <img src="https://picsum.photos/200?5" alt="hexagon">
    <p>Hexagon</p>
  </div>
  <div class="shape-box star">
    <img src="https://picsum.photos/200?6" alt="star">
    <p>Star</p>
  </div>
  <div class="shape-box diamond">
    <img src="https://picsum.photos/200?7" alt="diamond">
    <p>Diamond</p>
  </div>
</div>

</body>
</html>`,
    },
    'image-modal': {
      title: 'CSS Image Modal',
      content: `
# CSS Image Modal (Lightbox)

Create image modals/lightboxes with CSS and minimal JavaScript.

## Structure

<pre><code class="html">
&lt;img class="thumbnail" onclick="openModal()" src="..."&gt;

&lt;div id="modal" class="modal"&gt;
  &lt;span class="close"&gt;&amp;times;&lt;/span&gt;
  &lt;img class="modal-content" src="..."&gt;
&lt;/div&gt;
</code></pre>

## CSS

<pre><code class="css">
.modal {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.9);
}

.modal-content {
  max-width: 80%;
  max-height: 80%;
  margin: auto;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
/* Thumbnail gallery */
.gallery {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  padding: 20px;
}

.thumbnail {
  width: 150px;
  height: 100px;
  object-fit: cover;
  cursor: pointer;
  border-radius: 8px;
  transition: transform 0.3s, opacity 0.3s;
}

.thumbnail:hover {
  transform: scale(1.05);
  opacity: 0.8;
}

/* Modal */
.modal {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.9);
  justify-content: center;
  align-items: center;
}

.modal.active { display: flex; }

.modal-content {
  max-width: 90%;
  max-height: 90%;
  border-radius: 8px;
  animation: zoom 0.3s;
}

@keyframes zoom {
  from { transform: scale(0.5); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

.close {
  position: absolute;
  top: 20px;
  right: 30px;
  color: white;
  font-size: 40px;
  cursor: pointer;
}

.close:hover { color: #ccc; }

body { font-family: Arial; margin: 0; }
h1 { padding: 20px 20px 0; }
p { padding: 0 20px; color: #666; }
</style>
</head>
<body>

<h1>Image Modal / Lightbox</h1>
<p>Click any image to enlarge</p>

<div class="gallery">
  <img class="thumbnail" src="https://picsum.photos/400/300?1" onclick="openModal(this)">
  <img class="thumbnail" src="https://picsum.photos/400/300?2" onclick="openModal(this)">
  <img class="thumbnail" src="https://picsum.photos/400/300?3" onclick="openModal(this)">
  <img class="thumbnail" src="https://picsum.photos/400/300?4" onclick="openModal(this)">
</div>

<div id="modal" class="modal" onclick="closeModal()">
  <span class="close">&times;</span>
  <img class="modal-content" id="modalImg">
</div>

<script>
function openModal(img) {
  document.getElementById('modal').classList.add('active');
  document.getElementById('modalImg').src = img.src;
}

function closeModal() {
  document.getElementById('modal').classList.remove('active');
}
</script>

</body>
</html>`,
    },
    'image-centering': {
      title: 'CSS Image Centering',
      content: `
# Center Images with CSS

Multiple ways to center images.

## Horizontal Centering

<pre><code class="css">
/* Block image */
img {
  display: block;
  margin: 0 auto;
}

/* Flexbox */
.container {
  display: flex;
  justify-content: center;
}

/* Text-align (inline image) */
.container {
  text-align: center;
}
</code></pre>

## Both Horizontal & Vertical

<pre><code class="css">
/* Flexbox */
.container {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

/* Grid */
.container {
  display: grid;
  place-items: center;
  height: 100vh;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
.demo {
  border: 2px dashed #3498db;
  margin: 20px;
  padding: 20px;
  min-height: 150px;
}

/* Method 1: margin auto */
.method1 img {
  display: block;
  margin: 0 auto;
}

/* Method 2: text-align */
.method2 {
  text-align: center;
}

/* Method 3: Flexbox */
.method3 {
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Method 4: Grid */
.method4 {
  display: grid;
  place-items: center;
}

/* Method 5: Absolute positioning */
.method5 {
  position: relative;
}
.method5 img {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

img {
  width: 100px;
  height: 80px;
  object-fit: cover;
  border-radius: 8px;
}

body { font-family: Arial; }
h2 { margin: 20px 20px 0; font-size: 16px; }
</style>
</head>
<body>

<h1 style="padding:20px;">Centering Images</h1>

<h2>1. margin: 0 auto (horizontal)</h2>
<div class="demo method1">
  <img src="https://picsum.photos/100/80?1" alt="centered">
</div>

<h2>2. text-align: center (horizontal)</h2>
<div class="demo method2">
  <img src="https://picsum.photos/100/80?2" alt="centered">
</div>

<h2>3. Flexbox (both directions)</h2>
<div class="demo method3">
  <img src="https://picsum.photos/100/80?3" alt="centered">
</div>

<h2>4. Grid place-items (both directions)</h2>
<div class="demo method4">
  <img src="https://picsum.photos/100/80?4" alt="centered">
</div>

<h2>5. Absolute + Transform (both directions)</h2>
<div class="demo method5">
  <img src="https://picsum.photos/100/80?5" alt="centered">
</div>

</body>
</html>`,
    },
    masking: {
      title: 'CSS Masking',
      content: `
# CSS Masking

Apply masks to reveal parts of elements.

## mask-image

<pre><code class="css">
.masked {
  mask-image: url('mask.png');
  -webkit-mask-image: url('mask.png');
}
</code></pre>

## Gradient Masks

<pre><code class="css">
.fade {
  mask-image: linear-gradient(to bottom, black, transparent);
  -webkit-mask-image: linear-gradient(to bottom, black, transparent);
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
.gallery {
  display: flex;
  flex-wrap: wrap;
  gap: 30px;
  padding: 20px;
  justify-content: center;
}

.mask-box {
  text-align: center;
}

.mask-box img {
  width: 200px;
  height: 150px;
  object-fit: cover;
}

/* Gradient fade masks */
.fade-bottom img {
  -webkit-mask-image: linear-gradient(to bottom, black 50%, transparent);
  mask-image: linear-gradient(to bottom, black 50%, transparent);
}

.fade-right img {
  -webkit-mask-image: linear-gradient(to right, black 50%, transparent);
  mask-image: linear-gradient(to right, black 50%, transparent);
}

.fade-radial img {
  -webkit-mask-image: radial-gradient(circle, black 40%, transparent 70%);
  mask-image: radial-gradient(circle, black 40%, transparent 70%);
}

/* Repeat mask */
.dots img {
  -webkit-mask-image: radial-gradient(circle at center, black 30%, transparent 30%);
  -webkit-mask-size: 20px 20px;
  mask-image: radial-gradient(circle at center, black 30%, transparent 30%);
  mask-size: 20px 20px;
}

.stripes img {
  -webkit-mask-image: repeating-linear-gradient(
    90deg,
    black 0px,
    black 10px,
    transparent 10px,
    transparent 20px
  );
  mask-image: repeating-linear-gradient(
    90deg,
    black 0px,
    black 10px,
    transparent 10px,
    transparent 20px
  );
}

body { font-family: Arial; background: #f0f0f0; }
h1 { text-align: center; padding: 20px; }
.mask-box p { margin-top: 10px; font-size: 14px; }
</style>
</head>
<body>

<h1>CSS Masking</h1>

<div class="gallery">
  <div class="mask-box">
    <img src="https://picsum.photos/300/200?1" alt="original">
    <p>Original</p>
  </div>
  <div class="mask-box fade-bottom">
    <img src="https://picsum.photos/300/200?1" alt="fade">
    <p>Fade Bottom</p>
  </div>
  <div class="mask-box fade-right">
    <img src="https://picsum.photos/300/200?1" alt="fade">
    <p>Fade Right</p>
  </div>
  <div class="mask-box fade-radial">
    <img src="https://picsum.photos/300/200?1" alt="radial">
    <p>Radial Fade</p>
  </div>
  <div class="mask-box dots">
    <img src="https://picsum.photos/300/200?1" alt="dots">
    <p>Dots Pattern</p>
  </div>
  <div class="mask-box stripes">
    <img src="https://picsum.photos/300/200?1" alt="stripes">
    <p>Stripes</p>
  </div>
</div>

</body>
</html>`,
    },
    'object-position': {
      title: 'CSS object-position',
      content: `
# CSS object-position

Control image positioning within its container.

## Syntax

<pre><code class="css">
img {
  object-fit: cover;
  object-position: center;      /* default */
  object-position: top;
  object-position: bottom;
  object-position: left;
  object-position: right;
  object-position: 25% 75%;     /* x y */
  object-position: 10px 20px;   /* offset */
}
</code></pre>

## Use Cases

- Profile photos (focus on face)
- Product images
- Banner images
- Thumbnails
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
.gallery {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  padding: 20px;
}

.pos-box {
  text-align: center;
}

.pos-box img {
  width: 150px;
  height: 100px;
  object-fit: cover;
  border: 3px solid #3498db;
  border-radius: 8px;
}

/* Different positions */
.center img { object-position: center; }
.top img { object-position: top; }
.bottom img { object-position: bottom; }
.left img { object-position: left; }
.right img { object-position: right; }
.top-left img { object-position: top left; }
.bottom-right img { object-position: bottom right; }
.custom img { object-position: 25% 75%; }

.pos-box p {
  font-size: 12px;
  margin-top: 8px;
  font-family: monospace;
}

body { font-family: Arial; }
h1 { padding: 20px 20px 0; }
</style>
</head>
<body>

<h1>CSS object-position</h1>
<p style="padding:0 20px; color:#666;">All images use object-fit: cover with different positions</p>

<div class="gallery">
  <div class="pos-box center">
    <img src="https://picsum.photos/400/300?1" alt="">
    <p>center (default)</p>
  </div>
  <div class="pos-box top">
    <img src="https://picsum.photos/400/300?1" alt="">
    <p>top</p>
  </div>
  <div class="pos-box bottom">
    <img src="https://picsum.photos/400/300?1" alt="">
    <p>bottom</p>
  </div>
  <div class="pos-box left">
    <img src="https://picsum.photos/400/300?1" alt="">
    <p>left</p>
  </div>
  <div class="pos-box right">
    <img src="https://picsum.photos/400/300?1" alt="">
    <p>right</p>
  </div>
  <div class="pos-box top-left">
    <img src="https://picsum.photos/400/300?1" alt="">
    <p>top left</p>
  </div>
  <div class="pos-box bottom-right">
    <img src="https://picsum.photos/400/300?1" alt="">
    <p>bottom right</p>
  </div>
  <div class="pos-box custom">
    <img src="https://picsum.photos/400/300?1" alt="">
    <p>25% 75%</p>
  </div>
</div>

</body>
</html>`,
    },
    pagination: {
      title: 'CSS Pagination',
      content: `
# CSS Pagination

Style pagination controls for multi-page content.

## Basic Pagination

<pre><code class="css">
.pagination a {
  display: inline-block;
  padding: 8px 16px;
  text-decoration: none;
  color: black;
}

.pagination a.active {
  background-color: #4CAF50;
  color: white;
}

.pagination a:hover:not(.active) {
  background-color: #ddd;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }
h2 { margin-top: 30px; }

/* Basic pagination */
.pagination {
  display: inline-flex;
}

.pagination a {
  color: #333;
  padding: 10px 16px;
  text-decoration: none;
  transition: background-color 0.2s;
  border: 1px solid #ddd;
}

.pagination a.active {
  background-color: #3498db;
  color: white;
  border-color: #3498db;
}

.pagination a:hover:not(.active) {
  background-color: #f5f5f5;
}

/* Rounded pagination */
.pagination-rounded a {
  border-radius: 5px;
  margin: 0 3px;
}

/* Circle pagination */
.pagination-circle a {
  border-radius: 50%;
  width: 40px;
  height: 40px;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 3px;
}

/* Pill pagination */
.pagination-pill {
  background: #f5f5f5;
  border-radius: 25px;
  padding: 5px;
}

.pagination-pill a {
  border: none;
  border-radius: 20px;
}

/* Breadcrumb-style */
.breadcrumb a {
  border: none;
  padding: 10px 20px;
  background: #e0e0e0;
  clip-path: polygon(0 0, calc(100% - 10px) 0, 100% 50%, calc(100% - 10px) 100%, 0 100%, 10px 50%);
  margin-left: -10px;
}
.breadcrumb a:first-child {
  margin-left: 0;
  clip-path: polygon(0 0, calc(100% - 10px) 0, 100% 50%, calc(100% - 10px) 100%, 0 100%);
}
.breadcrumb a.active {
  background: #3498db;
}
</style>
</head>
<body>

<h1>CSS Pagination Styles</h1>

<h2>Basic Pagination</h2>
<div class="pagination">
  <a href="#">&laquo;</a>
  <a href="#">1</a>
  <a href="#" class="active">2</a>
  <a href="#">3</a>
  <a href="#">4</a>
  <a href="#">5</a>
  <a href="#">&raquo;</a>
</div>

<h2>Rounded Pagination</h2>
<div class="pagination pagination-rounded">
  <a href="#">&laquo;</a>
  <a href="#">1</a>
  <a href="#" class="active">2</a>
  <a href="#">3</a>
  <a href="#">4</a>
  <a href="#">&raquo;</a>
</div>

<h2>Circle Pagination</h2>
<div class="pagination pagination-circle">
  <a href="#">1</a>
  <a href="#" class="active">2</a>
  <a href="#">3</a>
  <a href="#">4</a>
</div>

<h2>Pill Pagination</h2>
<div class="pagination pagination-pill">
  <a href="#">Prev</a>
  <a href="#">1</a>
  <a href="#" class="active">2</a>
  <a href="#">3</a>
  <a href="#">Next</a>
</div>

</body>
</html>`,
    },
    'user-interface': {
      title: 'CSS User Interface',
      content: `
# CSS User Interface Properties

Control user interaction and UI behavior.

## resize

<pre><code class="css">
textarea {
  resize: vertical;   /* vertical only */
  resize: horizontal; /* horizontal only */
  resize: both;       /* both directions */
  resize: none;       /* disable resizing */
}
</code></pre>

## outline-offset

<pre><code class="css">
input:focus {
  outline: 2px solid blue;
  outline-offset: 5px;
}
</code></pre>

## caret-color

<pre><code class="css">
input {
  caret-color: red;
}
</code></pre>

## cursor

<pre><code class="css">
.pointer { cursor: pointer; }
.not-allowed { cursor: not-allowed; }
.grab { cursor: grab; }
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }
.demo { margin: 20px 0; }
label { display: block; margin-bottom: 5px; font-weight: bold; }

/* Resize */
.resize-both {
  resize: both;
  overflow: auto;
  width: 200px;
  height: 100px;
  border: 1px solid #ccc;
  padding: 10px;
}

.resize-vertical {
  resize: vertical;
  overflow: auto;
}

/* Outline offset */
.outline-demo:focus {
  outline: 3px solid #3498db;
  outline-offset: 5px;
}

/* Caret color */
.caret-demo {
  caret-color: #e74c3c;
  font-size: 18px;
  padding: 10px;
}

/* Cursor types */
.cursor-demo {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}
.cursor-demo span {
  padding: 15px 25px;
  background: #f5f5f5;
  border-radius: 5px;
}
.cursor-demo .default { cursor: default; }
.cursor-demo .pointer { cursor: pointer; }
.cursor-demo .wait { cursor: wait; }
.cursor-demo .text { cursor: text; }
.cursor-demo .move { cursor: move; }
.cursor-demo .not-allowed { cursor: not-allowed; }
.cursor-demo .grab { cursor: grab; }
.cursor-demo .crosshair { cursor: crosshair; }
.cursor-demo .help { cursor: help; }
.cursor-demo .zoom-in { cursor: zoom-in; }

input, textarea {
  padding: 10px;
  font-size: 16px;
  width: 100%;
  max-width: 300px;
  box-sizing: border-box;
}
</style>
</head>
<body>

<h1>CSS User Interface</h1>

<div class="demo">
  <label>resize: both</label>
  <div class="resize-both">Drag corner to resize me!</div>
</div>

<div class="demo">
  <label>resize: vertical (textarea)</label>
  <textarea class="resize-vertical" rows="3">Resize vertically only</textarea>
</div>

<div class="demo">
  <label>outline-offset: 5px (click to focus)</label>
  <input type="text" class="outline-demo" placeholder="Focus me!">
</div>

<div class="demo">
  <label>caret-color: red</label>
  <input type="text" class="caret-demo" placeholder="Type here...">
</div>

<div class="demo">
  <label>Cursor Types (hover each)</label>
  <div class="cursor-demo">
    <span class="default">default</span>
    <span class="pointer">pointer</span>
    <span class="wait">wait</span>
    <span class="text">text</span>
    <span class="move">move</span>
    <span class="not-allowed">not-allowed</span>
    <span class="grab">grab</span>
    <span class="crosshair">crosshair</span>
    <span class="help">help</span>
    <span class="zoom-in">zoom-in</span>
  </div>
</div>

</body>
</html>`,
    },
    '@property': {
      title: 'CSS @property',
      content: `
# CSS @property Rule

Register custom properties with type checking and defaults.

## Syntax

<pre><code class="css">
@property --my-color {
  syntax: '&lt;color&gt;';
  inherits: false;
  initial-value: blue;
}
</code></pre>

## Supported Types

- <code><color></code>
- <code><length></code>
- <code><percentage></code>
- <code><number></code>
- <code><integer></code>
- <code><angle></code>
- <code><time></code>
- <code><custom-ident></code>

## Benefits

- Type-safe custom properties
- Animate custom properties
- Define fallback values
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
/* Define custom properties with types */
@property --gradient-angle {
  syntax: '<angle>';
  inherits: false;
  initial-value: 0deg;
}

@property --box-size {
  syntax: '<length>';
  inherits: false;
  initial-value: 100px;
}

@property --main-color {
  syntax: '<color>';
  inherits: false;
  initial-value: #3498db;
}

/* Use the properties */
.animated-gradient {
  width: 200px;
  height: 200px;
  background: linear-gradient(var(--gradient-angle), #3498db, #e74c3c);
  transition: --gradient-angle 1s;
  border-radius: 10px;
  margin: 20px;
}

.animated-gradient:hover {
  --gradient-angle: 180deg;
}

.animated-box {
  width: var(--box-size);
  height: var(--box-size);
  background: var(--main-color);
  transition: --box-size 0.5s, --main-color 0.5s;
  border-radius: 10px;
  margin: 20px;
}

.animated-box:hover {
  --box-size: 150px;
  --main-color: #e74c3c;
}

body { font-family: Arial; padding: 20px; }
h2 { margin-top: 30px; }
p { color: #666; }
</style>
</head>
<body>

<h1>CSS @property</h1>
<p>@property allows animating custom properties!</p>

<h2>Animated Gradient Angle</h2>
<p>Hover to rotate gradient (0deg  180deg)</p>
<div class="animated-gradient"></div>

<h2>Animated Size & Color</h2>
<p>Hover to grow and change color</p>
<div class="animated-box"></div>

<h2>Browser Support</h2>
<p>@property is supported in Chrome, Edge, and Safari 15.4+</p>

</body>
</html>`,
    },
    'mq-examples': {
      title: 'Media Query Examples',
      content: `
# Media Query Examples

Practical responsive design patterns.

## Common Breakpoints

<pre><code class="css">
/* Mobile first approach */
/* Default: mobile styles */

/* Tablets */
@media (min-width: 768px) { }

/* Laptops */
@media (min-width: 1024px) { }

/* Desktops */
@media (min-width: 1200px) { }

/* Large screens */
@media (min-width: 1440px) { }
</code></pre>

## Orientation

<pre><code class="css">
@media (orientation: portrait) { }
@media (orientation: landscape) { }
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
* { box-sizing: border-box; }
body { font-family: Arial; margin: 0; padding: 20px; }

/* Responsive container */
.container {
  max-width: 1200px;
  margin: 0 auto;
}

/* Responsive cards */
.cards {
  display: grid;
  gap: 20px;
  grid-template-columns: 1fr; /* Mobile: 1 column */
}

@media (min-width: 576px) {
  .cards { grid-template-columns: repeat(2, 1fr); } /* Tablet: 2 columns */
}

@media (min-width: 992px) {
  .cards { grid-template-columns: repeat(3, 1fr); } /* Desktop: 3 columns */
}

@media (min-width: 1200px) {
  .cards { grid-template-columns: repeat(4, 1fr); } /* Large: 4 columns */
}

.card {
  background: white;
  border-radius: 10px;
  padding: 20px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

/* Responsive navigation */
.nav {
  display: flex;
  flex-direction: column;
  gap: 10px;
  background: #2c3e50;
  padding: 10px;
  border-radius: 10px;
  margin-bottom: 20px;
}

.nav a {
  color: white;
  text-decoration: none;
  padding: 10px;
  text-align: center;
}

@media (min-width: 768px) {
  .nav {
    flex-direction: row;
    justify-content: center;
  }
}

/* Breakpoint indicator */
.breakpoint {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: #e74c3c;
  color: white;
  padding: 10px 20px;
  border-radius: 20px;
  font-weight: bold;
}

.breakpoint::after { content: 'Mobile'; }

@media (min-width: 576px) {
  .breakpoint { background: #f39c12; }
  .breakpoint::after { content: 'Tablet (576px+)'; }
}

@media (min-width: 992px) {
  .breakpoint { background: #27ae60; }
  .breakpoint::after { content: 'Desktop (992px+)'; }
}

@media (min-width: 1200px) {
  .breakpoint { background: #3498db; }
  .breakpoint::after { content: 'Large (1200px+)'; }
}
</style>
</head>
<body>

<div class="container">
  <h1>Responsive Media Queries</h1>
  <p>Resize the browser to see breakpoints change!</p>
  
  <nav class="nav">
    <a href="#">Home</a>
    <a href="#">About</a>
    <a href="#">Services</a>
    <a href="#">Contact</a>
  </nav>
  
  <div class="cards">
    <div class="card"><h3>Card 1</h3><p>Responsive grid</p></div>
    <div class="card"><h3>Card 2</h3><p>Changes columns</p></div>
    <div class="card"><h3>Card 3</h3><p>At breakpoints</p></div>
    <div class="card"><h3>Card 4</h3><p>Mobile first!</p></div>
  </div>
</div>

<div class="breakpoint"></div>

</body>
</html>`,
    },
    '@supports': {
      title: 'CSS @supports',
      content: `
# CSS @supports (Feature Queries)

Test for CSS feature support before using it.

## Syntax

<pre><code class="css">
@supports (display: grid) {
  .container {
    display: grid;
  }
}

@supports not (display: grid) {
  .container {
    display: flex;
  }
}
</code></pre>

## Operators

<pre><code class="css">
/* AND */
@supports (display: grid) and (gap: 20px) { }

/* OR */
@supports (display: flex) or (display: grid) { }

/* NOT */
@supports not (display: grid) { }
</code></pre>

## Use Cases

- Progressive enhancement
- Fallback styles
- New CSS features
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

.demo-box {
  padding: 20px;
  margin: 20px 0;
  border-radius: 10px;
}

/* Test Grid support */
.grid-test {
  background: #e74c3c;
  color: white;
}
.grid-test::after {
  content: ' CSS Grid NOT supported';
}

@supports (display: grid) {
  .grid-test {
    background: #27ae60;
  }
  .grid-test::after {
    content: ' CSS Grid IS supported!';
  }
}

/* Test backdrop-filter */
.backdrop-test {
  background: rgba(52, 152, 219, 0.8);
  color: white;
}
.backdrop-test::after {
  content: ' backdrop-filter NOT supported';
}

@supports (backdrop-filter: blur(10px)) or (-webkit-backdrop-filter: blur(10px)) {
  .backdrop-test {
    background: rgba(52, 152, 219, 0.3);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }
  .backdrop-test::after {
    content: ' backdrop-filter IS supported!';
  }
}

/* Test aspect-ratio */
.aspect-test {
  background: #9b59b6;
  color: white;
}
.aspect-test::after {
  content: ' aspect-ratio NOT supported';
}

@supports (aspect-ratio: 16/9) {
  .aspect-test {
    background: #2ecc71;
  }
  .aspect-test::after {
    content: ' aspect-ratio IS supported!';
  }
}

/* Test container queries */
.container-test {
  background: #f39c12;
  color: white;
}
.container-test::after {
  content: ' Container Queries NOT supported';
}

@supports (container-type: inline-size) {
  .container-test {
    background: #1abc9c;
  }
  .container-test::after {
    content: ' Container Queries ARE supported!';
  }
}

h2 { margin-top: 30px; }
</style>
</head>
<body>

<h1>CSS @supports (Feature Queries)</h1>
<p>Detect CSS feature support in your browser:</p>

<h2>CSS Grid</h2>
<div class="demo-box grid-test"></div>

<h2>backdrop-filter</h2>
<div class="demo-box backdrop-test"></div>

<h2>aspect-ratio</h2>
<div class="demo-box aspect-test"></div>

<h2>Container Queries</h2>
<div class="demo-box container-test"></div>

<h2>How It Works</h2>
<pre style="background:#f5f5f5; padding:15px; border-radius:5px;">
@supports (display: grid) {
  /* Styles for browsers that support grid */
}

@supports not (display: grid) {
  /* Fallback for older browsers */
}
</pre>

</body>
</html>`,
    },
    'sass-tutorial': {
      title: 'SASS Tutorial',
      content: `
# SASS/SCSS Tutorial

SASS is a CSS preprocessor that adds powerful features.

## What is SASS?

- **S**yntactically **A**wesome **S**tyle**s**heets
- CSS extension language
- Compiles to regular CSS
- Two syntaxes: SASS and SCSS

## SCSS vs SASS

<pre><code class="scss">
// SCSS (Sassy CSS) - uses braces
.button {
  color: blue;
  &amp;:hover {
    color: red;
  }
}
</code></pre>

<pre><code class="sass">
// SASS (indented) - no braces
.button
  color: blue
  &amp;:hover
    color: red
</code></pre>

## Key Features

1. Variables
2. Nesting
3. Mixins
4. Functions
5. Partials & Imports
6. Inheritance
7. Operators
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
/* This is compiled CSS from SCSS */
/* Original SCSS would look like:

$primary: #3498db;
$secondary: #2ecc71;

.card {
  background: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  
  .title {
    color: $primary;
    margin-bottom: 10px;
  }
  
  .content {
    color: #666;
  }
  
  &:hover {
    transform: translateY(-5px);
  }
}
*/

/* Compiled CSS: */
.card {
  background: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s;
}

.card:hover {
  transform: translateY(-5px);
}

.card .title {
  color: #3498db;
  margin-bottom: 10px;
  font-size: 24px;
}

.card .content {
  color: #666;
  line-height: 1.6;
}

.btn {
  display: inline-block;
  padding: 10px 25px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  margin: 5px;
}

.btn-primary {
  background: #3498db;
  color: white;
}

.btn-secondary {
  background: #2ecc71;
  color: white;
}

body { font-family: Arial; padding: 20px; background: #f5f5f5; }
</style>
</head>
<body>

<h1>SASS/SCSS Example</h1>
<p>This CSS was conceptually written in SCSS</p>

<div class="card">
  <div class="title">Card Title</div>
  <div class="content">
    This card uses SCSS features like:
    <ul>
      <li>Variables ($primary, $secondary)</li>
      <li>Nesting (.card .title)</li>
      <li>Parent selector (&:hover)</li>
    </ul>
  </div>
  <button class="btn btn-primary">Primary</button>
  <button class="btn btn-secondary">Secondary</button>
</div>

</body>
</html>`,
    },
    'sass-variables': {
      title: 'SASS Variables',
      content: `
# SASS Variables

Store reusable values in variables.

## Syntax

<pre><code class="scss">
// Define variables
$primary-color: #3498db;
$font-stack: Arial, sans-serif;
$spacing: 20px;

// Use variables
body {
  font-family: $font-stack;
  padding: $spacing;
}

.button {
  background: $primary-color;
  padding: $spacing / 2;
}
</code></pre>

## Variable Scope

<pre><code class="scss">
$color: blue; // Global

.element {
  $color: red; // Local
  color: $color; // red
}
</code></pre>

## Default Values

<pre><code class="scss">
$color: blue !default;
// Only sets if not already defined
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
/* 
SCSS Variables (conceptual):

$primary: #3498db;
$secondary: #e74c3c;
$success: #2ecc71;
$warning: #f39c12;
$dark: #2c3e50;
$light: #ecf0f1;

$font-main: 'Segoe UI', sans-serif;
$font-code: 'Courier New', monospace;

$spacing-sm: 10px;
$spacing-md: 20px;
$spacing-lg: 40px;

$radius: 8px;
$shadow: 0 2px 10px rgba(0,0,0,0.1);
*/

/* Compiled CSS using those variables: */
body {
  font-family: 'Segoe UI', sans-serif;
  padding: 20px;
  background: #ecf0f1;
  color: #2c3e50;
}

.box {
  background: white;
  padding: 20px;
  margin: 10px 0;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.text-primary { color: #3498db; }
.text-secondary { color: #e74c3c; }
.text-success { color: #2ecc71; }
.text-warning { color: #f39c12; }

.bg-primary { background: #3498db; color: white; }
.bg-secondary { background: #e74c3c; color: white; }
.bg-success { background: #2ecc71; color: white; }
.bg-warning { background: #f39c12; color: white; }

.btn {
  display: inline-block;
  padding: 10px 20px;
  border-radius: 8px;
  border: none;
  margin: 5px;
  cursor: pointer;
}

code {
  font-family: 'Courier New', monospace;
  background: #f5f5f5;
  padding: 2px 6px;
  border-radius: 3px;
}

h2 { margin-top: 40px; }
</style>
</head>
<body>

<h1>SASS Variables</h1>

<div class="box">
  <h2>Color Variables</h2>
  <p class="text-primary">$primary: #3498db</p>
  <p class="text-secondary">$secondary: #e74c3c</p>
  <p class="text-success">$success: #2ecc71</p>
  <p class="text-warning">$warning: #f39c12</p>
</div>

<div class="box">
  <h2>Background Colors</h2>
  <span class="btn bg-primary">Primary</span>
  <span class="btn bg-secondary">Secondary</span>
  <span class="btn bg-success">Success</span>
  <span class="btn bg-warning">Warning</span>
</div>

<div class="box">
  <h2>Other Variables</h2>
  <p><code>$spacing-md: 20px</code> - Used for padding</p>
  <p><code>$radius: 8px</code> - Used for border-radius</p>
  <p><code>$shadow</code> - Used for box-shadow</p>
</div>

</body>
</html>`,
    },
    'sass-nesting': {
      title: 'SASS Nesting',
      content: `
# SASS Nesting

Nest selectors for cleaner code.

## Basic Nesting

<pre><code class="scss">
nav {
  background: #333;
  
  ul {
    list-style: none;
    
    li {
      display: inline-block;
      
      a {
        color: white;
        padding: 10px;
      }
    }
  }
}
</code></pre>

## Parent Selector (&)

<pre><code class="scss">
.button {
  background: blue;
  
  &amp;:hover {
    background: darkblue;
  }
  
  &amp;.active {
    background: green;
  }
  
  &amp;-large {
    font-size: 20px;
  }
}
</code></pre>

## Property Nesting

<pre><code class="scss">
.box {
  font: {
    family: Arial;
    size: 16px;
    weight: bold;
  }
  border: {
    width: 1px;
    style: solid;
    color: #ccc;
  }
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
/*
SCSS with nesting:

nav {
  background: #2c3e50;
  padding: 0;
  
  ul {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    
    li {
      a {
        display: block;
        color: white;
        padding: 15px 20px;
        text-decoration: none;
        
        &:hover {
          background: #34495e;
        }
      }
      
      &.active a {
        background: #3498db;
      }
    }
  }
}

.card {
  background: white;
  border-radius: 10px;
  
  &-header {
    padding: 15px;
    border-bottom: 1px solid #eee;
  }
  
  &-body {
    padding: 20px;
  }
  
  &:hover {
    box-shadow: 0 5px 20px rgba(0,0,0,0.1);
  }
}
*/

/* Compiled CSS: */
nav {
  background: #2c3e50;
  padding: 0;
}

nav ul {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
}

nav ul li a {
  display: block;
  color: white;
  padding: 15px 20px;
  text-decoration: none;
  transition: background 0.3s;
}

nav ul li a:hover {
  background: #34495e;
}

nav ul li.active a {
  background: #3498db;
}

.card {
  background: white;
  border-radius: 10px;
  margin: 20px;
  transition: box-shadow 0.3s;
}

.card-header {
  padding: 15px 20px;
  border-bottom: 1px solid #eee;
  font-weight: bold;
}

.card-body {
  padding: 20px;
}

.card:hover {
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
}

body { font-family: Arial; margin: 0; background: #f5f5f5; }
h1 { padding: 20px; }
</style>
</head>
<body>

<nav>
  <ul>
    <li class="active"><a href="#">Home</a></li>
    <li><a href="#">About</a></li>
    <li><a href="#">Services</a></li>
    <li><a href="#">Contact</a></li>
  </ul>
</nav>

<h1>SASS Nesting</h1>

<div class="card">
  <div class="card-header">Card Title</div>
  <div class="card-body">
    <p>This card uses BEM-style naming with SASS nesting:</p>
    <ul>
      <li>.card</li>
      <li>.card-header (using &-header)</li>
      <li>.card-body (using &-body)</li>
      <li>:hover (using &:hover)</li>
    </ul>
  </div>
</div>

</body>
</html>`,
    },
    'sass-mixins': {
      title: 'SASS Mixins',
      content: `
# SASS Mixins

Reusable groups of CSS declarations.

## Basic Mixin

<pre><code class="scss">
@mixin reset-list {
  margin: 0;
  padding: 0;
  list-style: none;
}

ul {
  @include reset-list;
}
</code></pre>

## Mixin with Arguments

<pre><code class="scss">
@mixin button($color) {
  background: $color;
  padding: 10px 20px;
  border: none;
  color: white;
  
  &amp;:hover {
    background: darken($color, 10%);
  }
}

.btn-primary {
  @include button(#3498db);
}

.btn-danger {
  @include button(#e74c3c);
}
</code></pre>

## Default Arguments

<pre><code class="scss">
@mixin shadow($x: 0, $y: 2px, $blur: 10px, $color: rgba(0,0,0,0.1)) {
  box-shadow: $x $y $blur $color;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
/*
SCSS Mixins:

@mixin flex-center {
  display: flex;
  justify-content: center;
  align-items: center;
}

@mixin button($bg, $text: white) {
  background: $bg;
  color: $text;
  padding: 12px 24px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  transition: all 0.3s;
  
  &:hover {
    filter: brightness(110%);
    transform: translateY(-2px);
  }
}

@mixin card($padding: 20px) {
  background: white;
  padding: $padding;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}
*/

/* Compiled CSS: */
.flex-center {
  display: flex;
  justify-content: center;
  align-items: center;
}

.btn {
  padding: 12px 24px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  transition: all 0.3s;
  color: white;
  display: inline-block;
  margin: 5px;
}

.btn:hover {
  filter: brightness(110%);
  transform: translateY(-2px);
}

.btn-primary { background: #3498db; }
.btn-secondary { background: #9b59b6; }
.btn-success { background: #2ecc71; }
.btn-danger { background: #e74c3c; }
.btn-warning { background: #f39c12; }

.card {
  background: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  margin: 20px;
}

.card-compact {
  background: white;
  padding: 10px;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

body { font-family: Arial; padding: 20px; background: #f5f5f5; }
h2 { margin-top: 30px; }
</style>
</head>
<body>

<h1>SASS Mixins</h1>

<div class="card">
  <h2>@mixin button($bg)</h2>
  <p>Buttons generated from a single mixin:</p>
  <button class="btn btn-primary">Primary</button>
  <button class="btn btn-secondary">Secondary</button>
  <button class="btn btn-success">Success</button>
  <button class="btn btn-danger">Danger</button>
  <button class="btn btn-warning">Warning</button>
</div>

<div class="card">
  <h2>@mixin card($padding)</h2>
  <p>This card uses the card mixin with default padding.</p>
  <div class="card-compact" style="margin:10px 0;">
    <p style="margin:0;">Compact card with $padding: 10px</p>
  </div>
</div>

<div class="card">
  <h2>Benefits of Mixins</h2>
  <ul>
    <li>Reusable code blocks</li>
    <li>Accept arguments for customization</li>
    <li>Default values for optional params</li>
    <li>DRY (Don't Repeat Yourself)</li>
  </ul>
</div>

</body>
</html>`,
    },
    frameworks: {
      title: 'CSS Frameworks',
      content: `
# CSS Frameworks

Popular CSS frameworks for rapid development.

## Popular Frameworks

### Bootstrap
- Most popular CSS framework
- Responsive grid system
- Pre-built components
- <code>npm install bootstrap</code>

### Tailwind CSS
- Utility-first framework
- Highly customizable
- JIT compilation
- <code>npm install tailwindcss</code>

### Foundation
- Enterprise-grade
- Flexible grid
- Accessibility focused

### Bulma
- Pure CSS (no JS)
- Flexbox-based
- Modern syntax

## Pros & Cons

**Pros:**
- Faster development
- Consistent design
- Responsive built-in
- Community support

**Cons:**
- Learning curve
- Larger file sizes
- Generic look
- Override complexity
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
/* Mini framework demo */
* { box-sizing: border-box; }
body { font-family: Arial; margin: 0; padding: 20px; }

/* Grid System */
.container { max-width: 1200px; margin: 0 auto; }
.row { display: flex; flex-wrap: wrap; margin: -10px; }
.col { padding: 10px; flex: 1; }
.col-4 { flex: 0 0 33.333%; }
.col-6 { flex: 0 0 50%; }
.col-12 { flex: 0 0 100%; }

/* Buttons */
.btn {
  display: inline-block;
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  margin: 5px;
  text-decoration: none;
  text-align: center;
}
.btn-primary { background: #007bff; color: white; }
.btn-success { background: #28a745; color: white; }
.btn-danger { background: #dc3545; color: white; }

/* Cards */
.card {
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  margin: 10px 0;
}
.card-header { padding: 15px; border-bottom: 1px solid #eee; font-weight: bold; }
.card-body { padding: 20px; }

/* Alerts */
.alert {
  padding: 15px;
  border-radius: 5px;
  margin: 10px 0;
}
.alert-info { background: #e3f2fd; color: #0d47a1; }
.alert-success { background: #e8f5e9; color: #1b5e20; }
.alert-warning { background: #fff3e0; color: #e65100; }

/* Badges */
.badge {
  display: inline-block;
  padding: 3px 8px;
  border-radius: 12px;
  font-size: 12px;
}
.badge-primary { background: #007bff; color: white; }

/* Utility */
.text-center { text-align: center; }
.mt-3 { margin-top: 20px; }
.p-3 { padding: 20px; }
.bg-light { background: #f8f9fa; }
</style>
</head>
<body>

<div class="container">
  <h1>Mini CSS Framework Demo</h1>
  <p>This demonstrates common framework patterns</p>
  
  <div class="alert alert-info">
    <strong> Info:</strong> This is a mini framework example!
  </div>
  
  <h2>Grid System</h2>
  <div class="row">
    <div class="col-4"><div class="p-3 bg-light">.col-4</div></div>
    <div class="col-4"><div class="p-3 bg-light">.col-4</div></div>
    <div class="col-4"><div class="p-3 bg-light">.col-4</div></div>
  </div>
  
  <h2 class="mt-3">Components</h2>
  <div class="row">
    <div class="col-6">
      <div class="card">
        <div class="card-header">Card Title <span class="badge badge-primary">New</span></div>
        <div class="card-body">
          <p>Card content goes here.</p>
          <button class="btn btn-primary">Action</button>
        </div>
      </div>
    </div>
    <div class="col-6">
      <div class="card">
        <div class="card-header">Buttons</div>
        <div class="card-body">
          <button class="btn btn-primary">Primary</button>
          <button class="btn btn-success">Success</button>
          <button class="btn btn-danger">Danger</button>
        </div>
      </div>
    </div>
  </div>
</div>

</body>
</html>`,
    },
    templates: {
      title: 'CSS Templates',
      content: `
# CSS Templates

Pre-built layouts and design patterns.

## Common Templates

### Landing Page
- Hero section
- Features grid
- Testimonials
- CTA sections
- Footer

### Dashboard
- Sidebar navigation
- Top navbar
- Cards grid
- Data tables
- Charts area

### Blog
- Header/nav
- Post list
- Sidebar
- Pagination
- Footer

### E-commerce
- Product grid
- Filters sidebar
- Cart modal
- Product cards

## Where to Find Templates

1. **Free:**
   - HTML5 UP
   - Start Bootstrap
   - Templated.co
   - Creative Tim

2. **Premium:**
   - ThemeForest
   - TemplateMonster
   - Envato Elements
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: 'Segoe UI', sans-serif; }

/* Header */
header {
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: white;
  padding: 80px 20px;
  text-align: center;
}

header h1 { font-size: 48px; margin-bottom: 20px; }
header p { font-size: 20px; opacity: 0.9; max-width: 600px; margin: 0 auto 30px; }

.btn-hero {
  background: white;
  color: #667eea;
  padding: 15px 40px;
  border: none;
  border-radius: 30px;
  font-size: 18px;
  cursor: pointer;
}

/* Features */
.features {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 30px;
  padding: 60px 20px;
  max-width: 1200px;
  margin: 0 auto;
}

.feature {
  text-align: center;
  padding: 30px;
}

.feature-icon {
  font-size: 48px;
  margin-bottom: 20px;
}

.feature h3 { margin-bottom: 10px; color: #333; }
.feature p { color: #666; line-height: 1.6; }

/* CTA */
.cta {
  background: #f8f9fa;
  padding: 60px 20px;
  text-align: center;
}

.cta h2 { margin-bottom: 20px; color: #333; }

.btn-cta {
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: white;
  padding: 15px 40px;
  border: none;
  border-radius: 30px;
  font-size: 16px;
  cursor: pointer;
}

/* Footer */
footer {
  background: #2c3e50;
  color: white;
  padding: 40px 20px;
  text-align: center;
}

footer p { opacity: 0.7; }
</style>
</head>
<body>

<header>
  <h1>Landing Page Template</h1>
  <p>A beautiful, responsive landing page template built with pure CSS.</p>
  <button class="btn-hero">Get Started</button>
</header>

<section class="features">
  <div class="feature">
    <div class="feature-icon"></div>
    <h3>Fast Performance</h3>
    <p>Optimized for speed with minimal CSS footprint.</p>
  </div>
  <div class="feature">
    <div class="feature-icon"></div>
    <h3>Fully Responsive</h3>
    <p>Looks great on all devices and screen sizes.</p>
  </div>
  <div class="feature">
    <div class="feature-icon"></div>
    <h3>Easy to Customize</h3>
    <p>Simple CSS that's easy to modify and extend.</p>
  </div>
</section>

<section class="cta">
  <h2>Ready to Start?</h2>
  <p style="color:#666; margin-bottom:20px;">Join thousands of happy customers today.</p>
  <button class="btn-cta">Sign Up Free</button>
</section>

<footer>
  <p> 2025 VerTechie. All rights reserved.</p>
</footer>

</body>
</html>`,
    },
    'box-sizing': {
      title: 'CSS Box Sizing',
      content: `
# CSS Box Sizing

The <code>box-sizing</code> property controls how element dimensions are calculated.

## The Problem

By default, width and height don't include padding and border:

<pre><code class="css">
/* Default: content-box */
.box {
  width: 200px;
  padding: 20px;
  border: 5px solid black;
}
/* Actual width: 200 + 40 + 10 = 250px */
</code></pre>

## The Solution: border-box

<pre><code class="css">
.box {
  box-sizing: border-box;
  width: 200px;
  padding: 20px;
  border: 5px solid black;
}
/* Actual width: 200px (padding and border included) */
</code></pre>

## Universal Box Sizing Reset

<pre><code class="css">
*, *::before, *::after {
  box-sizing: border-box;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; padding: 20px; }

.comparison {
  display: flex;
  gap: 30px;
  margin: 20px 0;
}

.box {
  width: 200px;
  padding: 20px;
  border: 5px solid #3498db;
  background: #ecf0f1;
}

.content-box {
  box-sizing: content-box;
}

.border-box {
  box-sizing: border-box;
}

.label {
  background: #3498db;
  color: white;
  padding: 5px 10px;
  margin-bottom: 10px;
  font-size: 14px;
}

/* Practical example */
.form-row {
  display: flex;
  gap: 10px;
  margin: 20px 0;
}

.form-row input {
  box-sizing: border-box;
  width: 50%;
  padding: 15px;
  border: 2px solid #3498db;
  border-radius: 5px;
}

code { background: #f5f5f5; padding: 2px 6px; }
</style>
</head>
<body>

<h1>CSS Box Sizing</h1>

<h2>Comparison: Both boxes have width: 200px</h2>
<div class="comparison">
  <div>
    <div class="label">content-box (default)</div>
    <div class="box content-box">
      Actual width: 250px<br>
      (200 + 40 + 10)
    </div>
  </div>
  <div>
    <div class="label">border-box</div>
    <div class="box border-box">
      Actual width: 200px<br>
      (as specified)
    </div>
  </div>
</div>

<h2>Practical: Two 50% Inputs</h2>
<p>With <code>box-sizing: border-box</code>, they fit perfectly:</p>
<div class="form-row">
  <input type="text" placeholder="First Name">
  <input type="text" placeholder="Last Name">
</div>

</body>
</html>`,
    },
    'grid-12-column': {
      title: 'Grid 12-Column Layout',
      content: `
# 12-Column Grid Layout

A 12-column grid system like Bootstrap, built with CSS Grid.

## Why 12 Columns?

12 is divisible by 2, 3, 4, and 6, making it flexible for layouts.

## CSS Grid Implementation

<pre><code class="css">
.row {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 20px;
}

.col-6 { grid-column: span 6; }  /* Half */
.col-4 { grid-column: span 4; }  /* Third */
.col-3 { grid-column: span 3; }  /* Quarter */
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
* { box-sizing: border-box; }
body { font-family: Arial; padding: 20px; }

.row {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 15px;
  margin: 15px 0;
}

/* Column classes */
.col-1 { grid-column: span 1; }
.col-2 { grid-column: span 2; }
.col-3 { grid-column: span 3; }
.col-4 { grid-column: span 4; }
.col-5 { grid-column: span 5; }
.col-6 { grid-column: span 6; }
.col-7 { grid-column: span 7; }
.col-8 { grid-column: span 8; }
.col-9 { grid-column: span 9; }
.col-10 { grid-column: span 10; }
.col-11 { grid-column: span 11; }
.col-12 { grid-column: span 12; }

.box {
  background: #3498db;
  color: white;
  padding: 15px;
  text-align: center;
  border-radius: 5px;
}

.alt { background: #2ecc71; }

h2 { margin-top: 30px; }
</style>
</head>
<body>

<h1>12-Column Grid System</h1>

<h2>Full Width (12 columns)</h2>
<div class="row">
  <div class="col-12 box">col-12</div>
</div>

<h2>Two Halves (6 + 6)</h2>
<div class="row">
  <div class="col-6 box">col-6</div>
  <div class="col-6 box alt">col-6</div>
</div>

<h2>Three Thirds (4 + 4 + 4)</h2>
<div class="row">
  <div class="col-4 box">col-4</div>
  <div class="col-4 box alt">col-4</div>
  <div class="col-4 box">col-4</div>
</div>

<h2>Four Quarters (3 + 3 + 3 + 3)</h2>
<div class="row">
  <div class="col-3 box">col-3</div>
  <div class="col-3 box alt">col-3</div>
  <div class="col-3 box">col-3</div>
  <div class="col-3 box alt">col-3</div>
</div>

<h2>Sidebar Layout (3 + 9)</h2>
<div class="row">
  <div class="col-3 box">Sidebar</div>
  <div class="col-9 box alt">Main Content</div>
</div>

<h2>Complex Layout (2 + 5 + 5)</h2>
<div class="row">
  <div class="col-2 box">col-2</div>
  <div class="col-5 box alt">col-5</div>
  <div class="col-5 box">col-5</div>
</div>

</body>
</html>`,
    },
    'rwd-viewport': {
      title: 'RWD Viewport',
      content: `
# Responsive Viewport

The viewport meta tag controls how your page is displayed on mobile devices.

## The Viewport Meta Tag

<pre><code class="html">
&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
</code></pre>

## Properties

- **width=device-width**: Match device width
- **initial-scale=1.0**: Initial zoom level
- **maximum-scale=1.0**: Max zoom (not recommended)
- **user-scalable=no**: Disable zoom (not recommended)

## Without Viewport

Without the viewport tag, mobile browsers render pages at desktop width (~980px) and then scale down.

## With Viewport

With the viewport tag, the page width matches the device width, enabling proper responsive design.
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
* { box-sizing: border-box; }
body { 
  font-family: Arial; 
  padding: 20px; 
  margin: 0;
}

.info-box {
  background: #3498db;
  color: white;
  padding: 20px;
  border-radius: 10px;
  margin: 15px 0;
}

.code-box {
  background: #2c3e50;
  color: #2ecc71;
  padding: 15px;
  border-radius: 5px;
  font-family: monospace;
  overflow-x: auto;
}

.warning {
  background: #e74c3c;
}

.success {
  background: #2ecc71;
}

/* Responsive test */
.responsive-box {
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: white;
  padding: 30px;
  text-align: center;
  border-radius: 10px;
}

.responsive-box h2 {
  margin: 0 0 10px;
}
</style>
</head>
<body>

<h1>Viewport Meta Tag</h1>

<div class="info-box success">
   This page has the viewport tag set correctly!
</div>

<div class="code-box">
&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
</div>

<h2>What It Does</h2>
<ul>
  <li><strong>width=device-width</strong> - Sets viewport width to device width</li>
  <li><strong>initial-scale=1.0</strong> - Sets initial zoom to 100%</li>
</ul>

<div class="info-box warning">
   Without viewport tag, mobile browsers assume a 980px wide page!
</div>

<h2>Responsive Test</h2>
<div class="responsive-box">
  <h2>Resize Your Browser</h2>
  <p>This box takes full width thanks to the viewport tag.</p>
</div>

</body>
</html>`,
    },
    'rwd-grid-view': {
      title: 'RWD Grid View',
      content: `
# Responsive Grid View

Build a fluid grid that adapts to any screen size.

## Mobile-First Grid

<pre><code class="css">
/* Mobile: stack vertically */
.col {
  width: 100%;
}

/* Tablet: 2 columns */
@media (min-width: 768px) {
  .col-6 { width: 50%; }
}

/* Desktop: flexible */
@media (min-width: 992px) {
  .col-4 { width: 33.33%; }
  .col-3 { width: 25%; }
}
</code></pre>

## Modern CSS Grid Approach

<pre><code class="css">
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
* { box-sizing: border-box; }
body { font-family: Arial; padding: 20px; margin: 0; }

/* Modern auto-fit grid */
.auto-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  margin: 20px 0;
}

.card {
  background: white;
  border-radius: 10px;
  padding: 20px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  text-align: center;
}

.card-icon { font-size: 40px; margin-bottom: 10px; }
.card h3 { margin: 0 0 10px; color: #2c3e50; }
.card p { color: #666; margin: 0; font-size: 14px; }

/* Traditional responsive grid */
.row {
  display: flex;
  flex-wrap: wrap;
  margin: -10px;
}

.col {
  padding: 10px;
  width: 100%;
}

@media (min-width: 576px) {
  .col-sm-6 { width: 50%; }
}

@media (min-width: 768px) {
  .col-md-4 { width: 33.33%; }
}

@media (min-width: 992px) {
  .col-lg-3 { width: 25%; }
}

.box {
  background: #3498db;
  color: white;
  padding: 20px;
  text-align: center;
  border-radius: 5px;
}

h2 { margin-top: 30px; }
</style>
</head>
<body>

<h1>Responsive Grid Views</h1>

<h2>Auto-fit Grid (Modern CSS Grid)</h2>
<p>Cards automatically wrap based on available space</p>
<div class="auto-grid">
  <div class="card">
    <div class="card-icon"></div>
    <h3>Fast</h3>
    <p>Lightning fast performance</p>
  </div>
  <div class="card">
    <div class="card-icon"></div>
    <h3>Responsive</h3>
    <p>Works on all devices</p>
  </div>
  <div class="card">
    <div class="card-icon"></div>
    <h3>Beautiful</h3>
    <p>Modern design</p>
  </div>
  <div class="card">
    <div class="card-icon"></div>
    <h3>Easy</h3>
    <p>Simple to customize</p>
  </div>
</div>

<h2>Traditional Breakpoint Grid</h2>
<p>Resize browser to see columns change</p>
<div class="row">
  <div class="col col-sm-6 col-md-4 col-lg-3">
    <div class="box">1</div>
  </div>
  <div class="col col-sm-6 col-md-4 col-lg-3">
    <div class="box">2</div>
  </div>
  <div class="col col-sm-6 col-md-4 col-lg-3">
    <div class="box">3</div>
  </div>
  <div class="col col-sm-6 col-md-4 col-lg-3">
    <div class="box">4</div>
  </div>
</div>

</body>
</html>`,
    },
    'rwd-media-queries': {
      title: 'RWD Media Queries',
      content: `
# Responsive Media Queries

Apply different styles based on screen size.

## Syntax

<pre><code class="css">
@media (condition) {
  /* styles */
}
</code></pre>

## Common Breakpoints

<pre><code class="css">
/* Extra small (phones) */
@media (max-width: 575px) { }

/* Small (landscape phones) */
@media (min-width: 576px) { }

/* Medium (tablets) */
@media (min-width: 768px) { }

/* Large (desktops) */
@media (min-width: 992px) { }

/* Extra large */
@media (min-width: 1200px) { }
</code></pre>

## Mobile-First Approach

Start with mobile styles, then add larger screens:

<pre><code class="css">
/* Base (mobile) styles */
.nav { flex-direction: column; }

/* Tablet and up */
@media (min-width: 768px) {
  .nav { flex-direction: row; }
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
* { box-sizing: border-box; }
body { font-family: Arial; margin: 0; padding: 20px; }

/* Base (mobile) styles */
.container {
  max-width: 1200px;
  margin: 0 auto;
}

.nav {
  display: flex;
  flex-direction: column;
  background: #2c3e50;
  border-radius: 10px;
  overflow: hidden;
}

.nav a {
  color: white;
  padding: 15px 20px;
  text-decoration: none;
  text-align: center;
  border-bottom: 1px solid #34495e;
}

.nav a:last-child { border-bottom: none; }
.nav a:hover { background: #34495e; }

/* Responsive indicator */
.indicator {
  padding: 20px;
  text-align: center;
  border-radius: 10px;
  margin: 20px 0;
  font-size: 24px;
  font-weight: bold;
}

.indicator { background: #e74c3c; color: white; }
.indicator::after { content: " Mobile (< 576px)"; }

/* Small devices (576px) */
@media (min-width: 576px) {
  .indicator { background: #f39c12; }
  .indicator::after { content: " Small (576px)"; }
}

/* Medium devices (768px) */
@media (min-width: 768px) {
  .nav {
    flex-direction: row;
    justify-content: center;
  }
  .nav a { border-bottom: none; }
  
  .indicator { background: #27ae60; }
  .indicator::after { content: " Tablet (768px)"; }
}

/* Large devices (992px) */
@media (min-width: 992px) {
  .indicator { background: #3498db; }
  .indicator::after { content: " Desktop (992px)"; }
}

/* Extra large (1200px) */
@media (min-width: 1200px) {
  .indicator { background: #9b59b6; }
  .indicator::after { content: " Large Desktop (1200px)"; }
}
</style>
</head>
<body>

<div class="container">
  <h1>Media Queries Demo</h1>
  
  <div class="indicator"></div>
  
  <h2>Responsive Navigation</h2>
  <nav class="nav">
    <a href="#">Home</a>
    <a href="#">About</a>
    <a href="#">Services</a>
    <a href="#">Portfolio</a>
    <a href="#">Contact</a>
  </nav>
  
  <p style="margin-top:20px;color:#666;">
    Resize your browser window to see the breakpoints change!
  </p>
</div>

</body>
</html>`,
    },
    'rwd-images': {
      title: 'RWD Images',
      content: `
# Responsive Images

Make images adapt to different screen sizes.

## Basic Responsive Image

<pre><code class="css">
img {
  max-width: 100%;
  height: auto;
}
</code></pre>

## HTML Picture Element

<pre><code class="html">
&lt;picture&gt;
  &lt;source media="(min-width: 800px)" srcset="large.jpg"&gt;
  &lt;source media="(min-width: 400px)" srcset="medium.jpg"&gt;
  &lt;img src="small.jpg" alt="Description"&gt;
&lt;/picture&gt;
</code></pre>

## Object-fit for Containers

<pre><code class="css">
.image-container img {
  width: 100%;
  height: 300px;
  object-fit: cover;
}
</code></pre>

## Lazy Loading

<pre><code class="html">
&lt;img src="image.jpg" loading="lazy" alt="Description"&gt;
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
* { box-sizing: border-box; }
body { font-family: Arial; padding: 20px; margin: 0; }

/* Basic responsive image */
.responsive-img {
  max-width: 100%;
  height: auto;
  display: block;
  border-radius: 10px;
}

/* Fixed height with object-fit */
.image-container {
  margin: 20px 0;
}

.cover-img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  border-radius: 10px;
}

/* Responsive image grid */
.image-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 15px;
  margin: 20px 0;
}

.image-grid img {
  width: 100%;
  height: 150px;
  object-fit: cover;
  border-radius: 8px;
  transition: transform 0.3s;
}

.image-grid img:hover {
  transform: scale(1.05);
}

/* Background image responsive */
.hero {
  background-image: url('https://picsum.photos/1200/400');
  background-size: cover;
  background-position: center;
  height: 200px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
}

h2 { margin-top: 30px; }
</style>
</head>
<body>

<h1>Responsive Images</h1>

<h2>Basic Responsive Image</h2>
<p>Scales down on small screens, never exceeds original size</p>
<img src="https://picsum.photos/800/400" alt="Responsive" class="responsive-img">

<h2>Fixed Height with object-fit: cover</h2>
<p>Image fills container while maintaining aspect ratio</p>
<div class="image-container">
  <img src="https://picsum.photos/800/600" alt="Cover" class="cover-img">
</div>

<h2>Responsive Image Grid</h2>
<div class="image-grid">
  <img src="https://picsum.photos/300/300?1" alt="1" loading="lazy">
  <img src="https://picsum.photos/300/300?2" alt="2" loading="lazy">
  <img src="https://picsum.photos/300/300?3" alt="3" loading="lazy">
  <img src="https://picsum.photos/300/300?4" alt="4" loading="lazy">
</div>

<h2>Background Image Hero</h2>
<div class="hero">
  <h2 style="margin:0;">Responsive Background</h2>
</div>

</body>
</html>`,
    },
    'rwd-videos': {
      title: 'RWD Videos',
      content: `
# Responsive Videos

Make videos adapt to any screen size.

## Basic Responsive Video

<pre><code class="css">
video {
  max-width: 100%;
  height: auto;
}
</code></pre>

## Responsive iframe (YouTube/Vimeo)

<pre><code class="css">
.video-container {
  position: relative;
  padding-bottom: 56.25%; /* 16:9 ratio */
  height: 0;
  overflow: hidden;
}

.video-container iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
</code></pre>

## Modern Aspect Ratio

<pre><code class="css">
.video-container {
  aspect-ratio: 16 / 9;
}

.video-container iframe {
  width: 100%;
  height: 100%;
}
</code></pre>
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
* { box-sizing: border-box; }
body { font-family: Arial; padding: 20px; margin: 0; }

/* Basic responsive video */
video {
  max-width: 100%;
  height: auto;
  border-radius: 10px;
}

/* Responsive iframe container (classic) */
.video-container-classic {
  position: relative;
  padding-bottom: 56.25%; /* 16:9 */
  height: 0;
  overflow: hidden;
  border-radius: 10px;
  background: #000;
  margin: 20px 0;
}

.video-container-classic iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: none;
}

/* Modern aspect-ratio approach */
.video-container-modern {
  aspect-ratio: 16 / 9;
  border-radius: 10px;
  background: #000;
  margin: 20px 0;
  overflow: hidden;
}

.video-container-modern iframe {
  width: 100%;
  height: 100%;
  border: none;
}

/* Different aspect ratios */
.ratio-4-3 {
  aspect-ratio: 4 / 3;
}

.ratio-21-9 {
  aspect-ratio: 21 / 9;
}

.placeholder {
  background: linear-gradient(135deg, #667eea, #764ba2);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 24px;
}

h2 { margin-top: 30px; }
code { background: #f5f5f5; padding: 2px 6px; border-radius: 3px; }
</style>
</head>
<body>

<h1>Responsive Videos</h1>

<h2>Classic Method (padding-bottom: 56.25%)</h2>
<p>Works in all browsers, uses padding hack for 16:9 ratio</p>
<div class="video-container-classic">
  <div class="placeholder" style="position:absolute;top:0;left:0;width:100%;height:100%;">
     16:9 Video Container
  </div>
</div>

<h2>Modern Method (aspect-ratio: 16/9)</h2>
<p>Cleaner code, modern browser support</p>
<div class="video-container-modern">
  <div class="placeholder" style="height:100%;">
     16:9 Modern
  </div>
</div>

<h2>Different Aspect Ratios</h2>
<div class="video-container-modern ratio-4-3">
  <div class="placeholder" style="height:100%;">
     4:3 Classic TV
  </div>
</div>

<div class="video-container-modern ratio-21-9">
  <div class="placeholder" style="height:100%;">
     21:9 Ultrawide Cinema
  </div>
</div>

</body>
</html>`,
    },
    'rwd-frameworks': {
      title: 'RWD Frameworks',
      content: `
# Responsive CSS Frameworks

Popular frameworks for building responsive websites quickly.

## Bootstrap

The most popular CSS framework.

<pre><code class="html">
&lt;link href="https://cdn.jsdelivr.net/npm/bootstrap@5/dist/css/bootstrap.min.css" rel="stylesheet"&gt;

&lt;div class="container"&gt;
  &lt;div class="row"&gt;
    &lt;div class="col-md-6"&gt;Half on medium+&lt;/div&gt;
    &lt;div class="col-md-6"&gt;Half on medium+&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>

## Tailwind CSS

Utility-first CSS framework.

<pre><code class="html">
&lt;div class="flex flex-col md:flex-row gap-4"&gt;
  &lt;div class="w-full md:w-1/2"&gt;Item 1&lt;/div&gt;
  &lt;div class="w-full md:w-1/2"&gt;Item 2&lt;/div&gt;
&lt;/div&gt;
</code></pre>

## Foundation

Enterprise-grade responsive framework.

## Bulma

Modern CSS framework based on Flexbox.
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
* { box-sizing: border-box; }
body { font-family: Arial; padding: 20px; margin: 0; background: #f5f5f5; }

.framework-card {
  background: white;
  border-radius: 15px;
  padding: 25px;
  margin: 20px 0;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.framework-header {
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 15px;
}

.framework-logo {
  width: 50px;
  height: 50px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
}

.bootstrap { background: #7952b3; color: white; }
.tailwind { background: #06b6d4; color: white; }
.foundation { background: #1779ba; color: white; }
.bulma { background: #00d1b2; color: white; }

.framework-name { font-size: 24px; font-weight: bold; }

.pros-cons {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
  margin-top: 15px;
}

.pros, .cons {
  padding: 15px;
  border-radius: 8px;
}

.pros { background: #e8f5e9; }
.cons { background: #ffebee; }

.pros h4 { color: #2e7d32; margin: 0 0 10px; }
.cons h4 { color: #c62828; margin: 0 0 10px; }

ul { margin: 0; padding-left: 20px; }
li { margin: 5px 0; font-size: 14px; }

@media (max-width: 600px) {
  .pros-cons { grid-template-columns: 1fr; }
}
</style>
</head>
<body>

<h1>CSS Frameworks Comparison</h1>

<div class="framework-card">
  <div class="framework-header">
    <div class="framework-logo bootstrap">B</div>
    <span class="framework-name">Bootstrap</span>
  </div>
  <p>Most popular framework with extensive component library.</p>
  <div class="pros-cons">
    <div class="pros">
      <h4> Pros</h4>
      <ul>
        <li>Huge community</li>
        <li>Extensive docs</li>
        <li>Pre-built components</li>
      </ul>
    </div>
    <div class="cons">
      <h4> Cons</h4>
      <ul>
        <li>Large file size</li>
        <li>Generic look</li>
        <li>Override complexity</li>
      </ul>
    </div>
  </div>
</div>

<div class="framework-card">
  <div class="framework-header">
    <div class="framework-logo tailwind">T</div>
    <span class="framework-name">Tailwind CSS</span>
  </div>
  <p>Utility-first framework for custom designs.</p>
  <div class="pros-cons">
    <div class="pros">
      <h4> Pros</h4>
      <ul>
        <li>Highly customizable</li>
        <li>Small production builds</li>
        <li>No design constraints</li>
      </ul>
    </div>
    <div class="cons">
      <h4> Cons</h4>
      <ul>
        <li>Learning curve</li>
        <li>Verbose HTML</li>
        <li>Build step required</li>
      </ul>
    </div>
  </div>
</div>

<div class="framework-card">
  <div class="framework-header">
    <div class="framework-logo bulma">B</div>
    <span class="framework-name">Bulma</span>
  </div>
  <p>Modern CSS-only framework (no JavaScript).</p>
  <div class="pros-cons">
    <div class="pros">
      <h4> Pros</h4>
      <ul>
        <li>Pure CSS</li>
        <li>Modern flexbox</li>
        <li>Easy syntax</li>
      </ul>
    </div>
    <div class="cons">
      <h4> Cons</h4>
      <ul>
        <li>Smaller community</li>
        <li>No JS components</li>
        <li>Less features</li>
      </ul>
    </div>
  </div>
</div>

</body>
</html>`,
    },
    'rwd-templates': {
      title: 'RWD Templates',
      content: `
# Responsive Templates

Pre-built responsive layouts for common use cases.

## Common Templates

### 1. Holy Grail Layout
Header, footer, main content with two sidebars.

### 2. Landing Page
Hero, features, testimonials, CTA, footer.

### 3. Blog Layout
Header, posts grid, sidebar, pagination.

### 4. Dashboard
Sidebar nav, top bar, content area, cards.

### 5. E-commerce
Product grid, filters, cart.

## Resources

- HTML5 UP (free templates)
- Start Bootstrap
- Tailwind UI
- Creative Tim
      `,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: 'Segoe UI', sans-serif; }

/* Holy Grail Layout */
.holy-grail {
  display: grid;
  grid-template-areas:
    "header header header"
    "nav main aside"
    "footer footer footer";
  grid-template-columns: 200px 1fr 200px;
  grid-template-rows: auto 1fr auto;
  min-height: 100vh;
}

.hg-header {
  grid-area: header;
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: white;
  padding: 20px;
  text-align: center;
}

.hg-nav {
  grid-area: nav;
  background: #2c3e50;
  color: white;
  padding: 20px;
}

.hg-main {
  grid-area: main;
  padding: 20px;
  background: #f5f5f5;
}

.hg-aside {
  grid-area: aside;
  background: #ecf0f1;
  padding: 20px;
}

.hg-footer {
  grid-area: footer;
  background: #2c3e50;
  color: white;
  padding: 20px;
  text-align: center;
}

/* Responsive */
@media (max-width: 768px) {
  .holy-grail {
    grid-template-areas:
      "header"
      "nav"
      "main"
      "aside"
      "footer";
    grid-template-columns: 1fr;
  }
  
  .hg-nav, .hg-aside {
    padding: 15px;
  }
}

/* Cards */
.cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 15px;
}

.card {
  background: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  text-align: center;
}

.card-icon { font-size: 30px; margin-bottom: 10px; }

h2, h3 { margin-bottom: 15px; }
ul { padding-left: 20px; }
li { margin: 5px 0; }
</style>
</head>
<body>

<div class="holy-grail">
  <header class="hg-header">
    <h1>Holy Grail Layout</h1>
    <p>Responsive 3-column template</p>
  </header>
  
  <nav class="hg-nav">
    <h3>Navigation</h3>
    <ul>
      <li>Home</li>
      <li>About</li>
      <li>Services</li>
      <li>Contact</li>
    </ul>
  </nav>
  
  <main class="hg-main">
    <h2>Main Content</h2>
    <p style="margin-bottom:20px;">
      This template adapts to mobile by stacking columns vertically.
    </p>
    <div class="cards">
      <div class="card">
        <div class="card-icon"></div>
        <strong>Mobile</strong>
      </div>
      <div class="card">
        <div class="card-icon"></div>
        <strong>Desktop</strong>
      </div>
      <div class="card">
        <div class="card-icon"></div>
        <strong>Responsive</strong>
      </div>
    </div>
  </main>
  
  <aside class="hg-aside">
    <h3>Sidebar</h3>
    <p>Additional content or ads go here.</p>
  </aside>
  
  <footer class="hg-footer">
    <p> 2025 VerTechie</p>
  </footer>
</div>

</body>
</html>`,
    },
  };

  return cssLessons[lessonSlug] || {
    title: 'Lesson',
    content: '# Coming Soon\n\nThis lesson content is being prepared.',
    tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body {
  font-family: Arial, sans-serif;
  padding: 20px;
  background-color: #f0f0f0;
}

h1 {
  color: #333;
}

p {
  color: #666;
}
</style>
</head>
<body>

<h1>CSS Lesson Coming Soon</h1>
<p>This lesson content is being prepared. Try editing the CSS above!</p>

</body>
</html>`,
  };
};

// Generate JavaScript lesson content
const generateJSLessonContent = (lessonSlug: string) => {
  const jsLessons: Record<string, any> = {
    home: {
      title: 'JavaScript Tutorial',
      content: `## JavaScript Tutorial

JavaScript is the world's most popular programming language.

### What is JavaScript?

- JavaScript is the programming language of the Web
- JavaScript can update and change both HTML and CSS
- JavaScript can calculate, manipulate and validate data

### Why Learn JavaScript?

JavaScript is one of the **3 languages** all web developers must learn:

1. **HTML** to define the content of web pages
2. **CSS** to specify the layout of web pages
3. **JavaScript** to program the behavior of web pages

### JavaScript Can Change HTML Content

One of many JavaScript HTML methods is getElementById().

The example below "finds" an HTML element (with id="demo"), and changes the element content (innerHTML) to "Hello JavaScript":

<pre><code class="javascript">
document.getElementById("demo").innerHTML = "Hello JavaScript!";
</code></pre>

### Learning by Examples

This tutorial supplements all explanations with clarifying "Try it Yourself" examples.`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>What Can JavaScript Do?</h2>

<p id="demo">JavaScript can change HTML content.</p>

<button type="button" onclick='document.getElementById("demo").innerHTML = "Hello JavaScript!"'>Click Me!</button>

</body>
</html>`,
    },
    intro: {
      title: 'JavaScript Introduction',
      content: `## JavaScript Introduction

This page contains some examples of what JavaScript can do.

### JavaScript Can Change HTML Content

<pre><code class="javascript">
document.getElementById("demo").innerHTML = "Hello JavaScript!";
</code></pre>

### JavaScript Can Change HTML Attribute Values

JavaScript can change HTML attribute values. In this example JavaScript changes the value of the src (source) attribute of an img tag.

### JavaScript Can Change HTML Styles (CSS)

<pre><code class="javascript">
document.getElementById("demo").style.fontSize = "35px";
</code></pre>

### JavaScript Can Hide HTML Elements

<pre><code class="javascript">
document.getElementById("demo").style.display = "none";
</code></pre>

### JavaScript Can Show HTML Elements

<pre><code class="javascript">
document.getElementById("demo").style.display = "block";
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>What Can JavaScript Do?</h2>

<p id="demo">JavaScript can change HTML content.</p>

<button type="button" onclick="document.getElementById('demo').innerHTML = 'Hello JavaScript!'">
Click Me!
</button>

<br><br>

<button type="button" onclick="document.getElementById('demo').style.color = 'red'">
Change Color
</button>

<button type="button" onclick="document.getElementById('demo').style.fontSize = '35px'">
Change Size
</button>

</body>
</html>`,
    },
    whereto: {
      title: 'JavaScript Where To',
      content: `## JavaScript Where To

### The &lt;script&gt; Tag

In HTML, JavaScript code is inserted between &lt;script&gt; and &lt;/script&gt; tags.

<pre><code class="html">
&lt;script&gt;
document.getElementById("demo").innerHTML = "My First JavaScript";
&lt;/script&gt;
</code></pre>

### JavaScript in &lt;head&gt; or &lt;body&gt;

You can place any number of scripts in an HTML document.

Scripts can be placed in the &lt;body&gt;, or in the &lt;head&gt; section of an HTML page, or in both.

### External JavaScript

Scripts can also be placed in external files with .js extension.

<pre><code class="html">
&lt;script src="myScript.js"&gt;&lt;/script&gt;
</code></pre>

### External JavaScript Advantages

- It separates HTML and code
- It makes HTML and JavaScript easier to read and maintain
- Cached JavaScript files can speed up page loads`,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<script>
function myFunction() {
  document.getElementById("demo").innerHTML = "Paragraph changed.";
}
</script>
</head>
<body>

<h2>JavaScript in Head</h2>

<p id="demo">A Paragraph.</p>

<button type="button" onclick="myFunction()">Try it</button>

</body>
</html>`,
    },
    output: {
      title: 'JavaScript Output',
      content: `## JavaScript Output

### JavaScript Display Possibilities

JavaScript can "display" data in different ways:

- Writing into an HTML element, using innerHTML
- Writing into the HTML output using document.write()
- Writing into an alert box, using window.alert()
- Writing into the browser console, using console.log()

### Using innerHTML

<pre><code class="javascript">
document.getElementById("demo").innerHTML = 5 + 6;
</code></pre>

### Using document.write()

<pre><code class="javascript">
document.write(5 + 6);
</code></pre>

### Using window.alert()

<pre><code class="javascript">
window.alert(5 + 6);
</code></pre>

### Using console.log()

For debugging purposes, you can call console.log() method in the browser to display data.

<pre><code class="javascript">
console.log(5 + 6);
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Output</h2>

<p id="demo"></p>

<script>
// Using innerHTML
document.getElementById("demo").innerHTML = "Hello using innerHTML!";

// Using document.write()
document.write("<p>Hello using document.write()!</p>");

// Using console.log()
console.log("Hello in console! (Press F12 to see)");
</script>

</body>
</html>`,
    },
    statements: {
      title: 'JavaScript Statements',
      content: `## JavaScript Statements

### JavaScript Programs

A computer program is a list of "instructions" to be "executed" by a computer.

In a programming language, these programming instructions are called statements.

A JavaScript program is a list of programming statements.

### JavaScript Statements

JavaScript statements are composed of: Values, Operators, Expressions, Keywords, and Comments.

<pre><code class="javascript">
let x, y, z;    // Statement 1
x = 5;          // Statement 2
y = 6;          // Statement 3
z = x + y;      // Statement 4
</code></pre>

### Semicolons ;

Semicolons separate JavaScript statements. Add a semicolon at the end of each executable statement.

### JavaScript White Space

JavaScript ignores multiple spaces. You can add white space to your script to make it more readable.

### JavaScript Code Blocks

JavaScript statements can be grouped together in code blocks, inside curly brackets {...}.

<pre><code class="javascript">
function myFunction() {
  document.getElementById("demo1").innerHTML = "Hello Dolly!";
  document.getElementById("demo2").innerHTML = "How are you?";
}
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Statements</h2>

<p>A <b>JavaScript program</b> is a list of <b>statements</b> to be executed by a computer.</p>

<p id="demo"></p>

<script>
let x, y, z;  // Statement 1
x = 5;        // Statement 2
y = 6;        // Statement 3
z = x + y;    // Statement 4

document.getElementById("demo").innerHTML =
"The value of z is " + z + ".";
</script>

</body>
</html>`,
    },
    syntax: {
      title: 'JavaScript Syntax',
      content: `## JavaScript Syntax

JavaScript syntax is the set of rules, how JavaScript programs are constructed.

### JavaScript Values

The JavaScript syntax defines two types of values:

- **Fixed values** (Literals)
- **Variable values** (Variables)

### JavaScript Literals

Numbers are written with or without decimals:

<pre><code class="javascript">
10.50
1001
</code></pre>

Strings are text, written within double or single quotes:

<pre><code class="javascript">
"John Doe"
'John Doe'
</code></pre>

### JavaScript Variables

Variables are used to store data values. JavaScript uses let, const, and var to declare variables.

<pre><code class="javascript">
let x;
x = 6;
</code></pre>

### JavaScript Operators

JavaScript uses arithmetic operators ( + - * / ) to compute values:

<pre><code class="javascript">
(5 + 6) * 10
</code></pre>

### JavaScript Expressions

An expression is a combination of values, variables, and operators, which computes to a value.

### JavaScript Keywords

JavaScript keywords are reserved words. Reserved words cannot be used as names for variables.`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Syntax</h2>

<p id="demo"></p>

<script>
// Literals
let number = 10.50;
let text = "Hello World";

// Variables
let x = 5;
let y = 6;
let z = x + y;

// Expressions
let result = (5 + 6) * 10;

document.getElementById("demo").innerHTML = 
  "Number: " + number + "<br>" +
  "Text: " + text + "<br>" +
  "Sum: " + z + "<br>" +
  "Expression: " + result;
</script>

</body>
</html>`,
    },
    comments: {
      title: 'JavaScript Comments',
      content: `## JavaScript Comments

JavaScript comments can be used to explain JavaScript code, and to make it more readable.

JavaScript comments can also be used to prevent execution, when testing alternative code.

### Single Line Comments

Single line comments start with //.

<pre><code class="javascript">
// Change heading:
document.getElementById("myH").innerHTML = "My First Page";

// Change paragraph:
document.getElementById("myP").innerHTML = "My first paragraph.";
</code></pre>

### Multi-line Comments

Multi-line comments start with /* and end with */.

<pre><code class="javascript">
/*
The code below will change
the heading with id = "myH"
and the paragraph with id = "myP"
*/
document.getElementById("myH").innerHTML = "My First Page";
document.getElementById("myP").innerHTML = "My first paragraph.";
</code></pre>

### Using Comments to Prevent Execution

Using comments to prevent execution of code is suitable for code testing.`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2 id="myH">JavaScript Comments</h2>

<p id="myP">This is a paragraph.</p>

<script>
// This is a single line comment

/*
This is a
multi-line comment
*/

// Change heading:
document.getElementById("myH").innerHTML = "Comments are useful!";

// Change paragraph:
document.getElementById("myP").innerHTML = "Comments explain the code.";
</script>

</body>
</html>`,
    },
    variables: {
      title: 'JavaScript Variables',
      content: `## JavaScript Variables

Variables are Containers for Storing Data.

### JavaScript Variables

JavaScript Variables can be declared in 4 ways:

- Automatically
- Using var
- Using let
- Using const

### When to Use var, let, or const?

1. Always declare variables
2. Always use const if the value should not be changed
3. Always use const if the type should not be changed (Arrays and Objects)
4. Only use let if you can't use const
5. Only use var if you MUST support old browsers

### JavaScript Let

The let keyword was introduced in ES6 (2015). Variables defined with let cannot be Redeclared.

<pre><code class="javascript">
let x = 5;
let y = 6;
let z = x + y;
</code></pre>

### JavaScript Const

The const keyword was introduced in ES6 (2015). Variables defined with const cannot be Redeclared or Reassigned.

<pre><code class="javascript">
const PI = 3.14159265359;
</code></pre>

### Variable Naming Rules

- Names can contain letters, digits, underscores, and dollar signs
- Names must begin with a letter, $ or _
- Names are case sensitive (y and Y are different)
- Reserved words cannot be used as names`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Variables</h2>

<p id="demo"></p>

<script>
// Using let
let x = 5;
let y = 6;
let z = x + y;

// Using const
const PI = 3.14159265359;

// Variable names
let firstName = "John";
let lastName = "Doe";
let _score = 100;
let $price = 99.99;

document.getElementById("demo").innerHTML = 
  "Sum: " + z + "<br>" +
  "PI: " + PI + "<br>" +
  "Name: " + firstName + " " + lastName + "<br>" +
  "Score: " + _score + "<br>" +
  "Price: $" + $price;
</script>

</body>
</html>`,
    },
    let: {
      title: 'JavaScript Let',
      content: `## JavaScript Let

The let keyword was introduced in ES6 (2015).

### Block Scope

Variables declared inside a { } block cannot be accessed from outside the block:

<pre><code class="javascript">
{
  let x = 2;
}
// x can NOT be used here
</code></pre>

### Cannot be Redeclared

Variables defined with let cannot be redeclared in the same scope.

<pre><code class="javascript">
let x = "John Doe";
let x = 0;  // SyntaxError: 'x' has already been declared
</code></pre>

### Redeclaring Variables

With var, you can redeclare a variable anywhere in a program.

With let, redeclaring a variable in the same scope is NOT allowed.

### Let Hoisting

Variables defined with let are hoisted to the top of the block, but not initialized.

Using a let variable before it is declared will result in a ReferenceError.`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Let</h2>

<p id="demo"></p>

<script>
// Block scope demonstration
let x = 10;
{
  let x = 2;  // Different variable inside block
  document.getElementById("demo").innerHTML = "Inside block: x = " + x;
}
document.getElementById("demo").innerHTML += "<br>Outside block: x = " + x;

// Cannot redeclare in same scope
let name = "John";
// let name = "Jane";  // This would cause an error

// But can reassign
name = "Jane";
document.getElementById("demo").innerHTML += "<br>Name changed to: " + name;
</script>

</body>
</html>`,
    },
    const: {
      title: 'JavaScript Const',
      content: `## JavaScript Const

The const keyword was introduced in ES6 (2015).

### Cannot be Reassigned

A const variable cannot be reassigned:

<pre><code class="javascript">
const PI = 3.141592653589793;
PI = 3.14;      // This will give an error
PI = PI + 10;   // This will also give an error
</code></pre>

### Must be Assigned

JavaScript const variables must be assigned a value when they are declared:

<pre><code class="javascript">
// Correct
const PI = 3.14159265359;

// Incorrect
const PI;
PI = 3.14159265359;
</code></pre>

### Constant Objects and Arrays

The keyword const is a little misleading. It does NOT define a constant value. It defines a constant reference to a value.

You CAN change the elements of a constant array and the properties of a constant object.

<pre><code class="javascript">
// You can create a constant array:
const cars = ["Saab", "Volvo", "BMW"];

// You can change an element:
cars[0] = "Toyota";

// You can add an element:
cars.push("Audi");
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Const</h2>

<p id="demo"></p>

<script>
// Constant values
const PI = 3.141592653589793;
const YEAR = 2024;

// Constant array - elements can change
const cars = ["Saab", "Volvo", "BMW"];
cars[0] = "Toyota";
cars.push("Audi");

// Constant object - properties can change
const person = {name: "John", age: 30};
person.age = 31;
person.city = "New York";

document.getElementById("demo").innerHTML = 
  "PI: " + PI + "<br>" +
  "Year: " + YEAR + "<br>" +
  "Cars: " + cars.join(", ") + "<br>" +
  "Person: " + person.name + ", " + person.age + ", " + person.city;
</script>

</body>
</html>`,
    },
    operators: {
      title: 'JavaScript Operators',
      content: `## JavaScript Operators

JavaScript operators are used to assign values, compare values, perform arithmetic operations, and more.

### Arithmetic Operators

<pre><code class="javascript">
+   Addition
-   Subtraction
*   Multiplication
**  Exponentiation (ES2016)
/   Division
%   Modulus (Remainder)
++  Increment
--  Decrement
</code></pre>

### Assignment Operators

<pre><code class="javascript">
=    x = y
+=   x += y  (x = x + y)
-=   x -= y  (x = x - y)
*=   x *= y  (x = x * y)
/=   x /= y  (x = x / y)
%=   x %= y  (x = x % y)
**=  x **= y (x = x ** y)
</code></pre>

### Comparison Operators

<pre><code class="javascript">
==   equal to
===  equal value and equal type
!=   not equal
!==  not equal value or not equal type
>    greater than
<    less than
>=   greater than or equal to
<=   less than or equal to
?    ternary operator
</code></pre>

### Logical Operators

<pre><code class="javascript">
&&   logical and
||   logical or
!    logical not
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Operators</h2>

<p id="demo"></p>

<script>
// Arithmetic Operators
let a = 10;
let b = 3;

let addition = a + b;       // 13
let subtraction = a - b;    // 7
let multiplication = a * b; // 30
let division = a / b;       // 3.33...
let modulus = a % b;        // 1
let exponent = a ** b;      // 1000

// Comparison Operators
let isEqual = (5 == "5");   // true (value only)
let isStrict = (5 === "5"); // false (value and type)
let isGreater = (10 > 5);   // true

// Logical Operators
let andResult = (true && false);  // false
let orResult = (true || false);   // true
let notResult = !true;            // false

document.getElementById("demo").innerHTML = 
  "Addition: " + addition + "<br>" +
  "Subtraction: " + subtraction + "<br>" +
  "Multiplication: " + multiplication + "<br>" +
  "Division: " + division.toFixed(2) + "<br>" +
  "Modulus: " + modulus + "<br>" +
  "Exponent: " + exponent + "<br><br>" +
  "5 == '5': " + isEqual + "<br>" +
  "5 === '5': " + isStrict + "<br>" +
  "10 > 5: " + isGreater;
</script>

</body>
</html>`,
    },
    datatypes: {
      title: 'JavaScript Data Types',
      content: `## JavaScript Data Types

JavaScript has 8 Datatypes:

### Primitive Data Types

1. **String** - Text values
2. **Number** - Integer or floating-point
3. **Bigint** - Large integers
4. **Boolean** - true or false
5. **Undefined** - Variable without value
6. **Null** - Intentional "no value"
7. **Symbol** - Unique identifier

### Reference Data Type

8. **Object** - Collections of data (Arrays, Objects, Functions, Dates, etc.)

### JavaScript Strings

<pre><code class="javascript">
let text = "John Doe";
let text2 = 'Hello World';
</code></pre>

### JavaScript Numbers

<pre><code class="javascript">
let x = 3.14;    // A number with decimals
let y = 34;      // A number without decimals
</code></pre>

### JavaScript Booleans

<pre><code class="javascript">
let x = true;
let y = false;
</code></pre>

### The typeof Operator

You can use the typeof operator to find the data type of a JavaScript variable.

<pre><code class="javascript">
typeof "John"        // Returns "string"
typeof 3.14          // Returns "number"
typeof true          // Returns "boolean"
typeof undefined     // Returns "undefined"
typeof null          // Returns "object"
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Data Types</h2>

<p id="demo"></p>

<script>
// String
let name = "John Doe";

// Number
let age = 25;
let price = 19.99;

// Boolean
let isStudent = true;

// Undefined
let future;

// Null
let empty = null;

// Object
let person = {
  firstName: "John",
  lastName: "Doe"
};

// Array (object)
let colors = ["red", "green", "blue"];

document.getElementById("demo").innerHTML = 
  "name: " + name + " (typeof: " + typeof name + ")<br>" +
  "age: " + age + " (typeof: " + typeof age + ")<br>" +
  "price: " + price + " (typeof: " + typeof price + ")<br>" +
  "isStudent: " + isStudent + " (typeof: " + typeof isStudent + ")<br>" +
  "future: " + future + " (typeof: " + typeof future + ")<br>" +
  "empty: " + empty + " (typeof: " + typeof empty + ")<br>" +
  "person: " + JSON.stringify(person) + " (typeof: " + typeof person + ")<br>" +
  "colors: " + colors + " (typeof: " + typeof colors + ")";
</script>

</body>
</html>`,
    },
    functions: {
      title: 'JavaScript Functions',
      content: `## JavaScript Functions

A JavaScript function is a block of code designed to perform a particular task.

### Function Syntax

A JavaScript function is defined with the function keyword, followed by a name, followed by parentheses ().

<pre><code class="javascript">
function name(parameter1, parameter2) {
  // code to be executed
}
</code></pre>

### Function Invocation

The code inside the function will execute when "something" invokes (calls) the function.

### Function Return

When JavaScript reaches a return statement, the function will stop executing.

<pre><code class="javascript">
function myFunction(a, b) {
  return a * b;
}
</code></pre>

### Why Functions?

- You can reuse code: Define the code once, and use it many times
- You can use the same code many times with different arguments
- Functions make code more readable and maintainable`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Functions</h2>

<p id="demo"></p>

<script>
// Function declaration
function greet(name) {
  return "Hello, " + name + "!";
}

// Function with multiple parameters
function multiply(a, b) {
  return a * b;
}

// Function with default parameter
function welcome(name = "Guest") {
  return "Welcome, " + name;
}

// Call functions
let greeting = greet("World");
let product = multiply(5, 3);
let welcomeMsg = welcome();

document.getElementById("demo").innerHTML = 
  greeting + "<br>" +
  "5 x 3 = " + product + "<br>" +
  welcomeMsg;
</script>

</body>
</html>`,
    },
    arrow: {
      title: 'JavaScript Arrow Functions',
      content: `## JavaScript Arrow Functions

Arrow functions were introduced in ES6.

### Arrow Function Syntax

<pre><code class="javascript">
// Regular function
hello = function() {
  return "Hello World!";
}

// Arrow function
hello = () => {
  return "Hello World!";
}

// Shorter syntax (one statement)
hello = () => "Hello World!";
</code></pre>

### Arrow Functions with Parameters

<pre><code class="javascript">
// One parameter (no parentheses needed)
hello = val => "Hello " + val;

// Multiple parameters
hello = (val1, val2) => "Hello " + val1 + " " + val2;
</code></pre>

### What About this?

In regular functions, the this keyword represents the object that called the function.

With arrow functions, the this keyword always represents the object that defined the arrow function.`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Arrow Functions</h2>

<p id="demo"></p>

<script>
// Arrow function - no parameters
const sayHello = () => "Hello!";

// Arrow function - one parameter
const double = x => x * 2;

// Arrow function - multiple parameters
const add = (a, b) => a + b;

// Arrow function - multiple lines
const greet = (name) => {
  let greeting = "Hello, " + name + "!";
  return greeting.toUpperCase();
};

// Arrow with array methods
const numbers = [1, 2, 3, 4, 5];
const doubled = numbers.map(n => n * 2);
const evens = numbers.filter(n => n % 2 === 0);

document.getElementById("demo").innerHTML = 
  sayHello() + "<br>" +
  "Double 5: " + double(5) + "<br>" +
  "Add 3+4: " + add(3, 4) + "<br>" +
  greet("World") + "<br>" +
  "Doubled: " + doubled.join(", ") + "<br>" +
  "Evens: " + evens.join(", ");
</script>

</body>
</html>`,
    },
    scope: {
      title: 'JavaScript Scope',
      content: `## JavaScript Scope

Scope determines the accessibility (visibility) of variables.

### JavaScript has 3 Types of Scope

- Block scope
- Function scope
- Global scope

### Block Scope

Variables declared inside a { } block cannot be accessed from outside the block.

<pre><code class="javascript">
{
  let x = 2;
}
// x can NOT be used here
</code></pre>

### Function Scope

Variables declared within a JavaScript function are LOCAL to the function.

<pre><code class="javascript">
function myFunction() {
  let carName = "Volvo";
  // code here CAN use carName
}
// code here can NOT use carName
</code></pre>

### Global Scope

A variable declared outside a function becomes GLOBAL.

<pre><code class="javascript">
let carName = "Volvo";
// code here can use carName

function myFunction() {
  // code here can also use carName
}
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Scope</h2>

<p id="demo"></p>

<script>
// Global scope
let globalVar = "I'm global!";

function demonstrateScope() {
  // Function scope
  let functionVar = "I'm in function scope!";
  
  // Block scope
  if (true) {
    let blockVar = "I'm in block scope!";
    var notBlockVar = "var ignores block scope!";
    
    document.getElementById("demo").innerHTML += 
      "Inside block: " + blockVar + "<br>";
  }
  
  // blockVar is NOT accessible here
  // but notBlockVar IS accessible
  document.getElementById("demo").innerHTML += 
    "Function scope: " + functionVar + "<br>" +
    "var (no block scope): " + notBlockVar + "<br>";
}

document.getElementById("demo").innerHTML = 
  "Global: " + globalVar + "<br>";

demonstrateScope();
</script>

</body>
</html>`,
    },
    closures: {
      title: 'JavaScript Closures',
      content: `## JavaScript Closures

A closure is a function having access to the parent scope, even after the parent function has closed.

### JavaScript Closures

<pre><code class="javascript">
const add = (function () {
  let counter = 0;
  return function () {counter += 1; return counter}
})();

add();
add();
add();
// the counter is now 3
</code></pre>

### Explanation

The variable add is assigned to the return value of a self-invoking function.

The self-invoking function only runs once. It sets the counter to zero (0), and returns a function expression.

This way add becomes a function. The "wonderful" part is that it can access the counter in the parent scope.

This is called a JavaScript closure. It makes it possible for a function to have "private" variables.

The counter is protected by the scope of the anonymous function, and can only be changed using the add function.`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Closures</h2>

<p id="demo"></p>

<button onclick="increment()">Increment</button>
<button onclick="decrement()">Decrement</button>
<button onclick="resetCounter()">Reset</button>

<script>
// Closure example - counter
const counter = (function() {
  let count = 0;
  
  return {
    increment: function() { return ++count; },
    decrement: function() { return --count; },
    getCount: function() { return count; },
    reset: function() { count = 0; return count; }
  };
})();

function increment() {
  document.getElementById("demo").innerHTML = 
    "Count: " + counter.increment();
}

function decrement() {
  document.getElementById("demo").innerHTML = 
    "Count: " + counter.decrement();
}

function resetCounter() {
  document.getElementById("demo").innerHTML = 
    "Count: " + counter.reset();
}

document.getElementById("demo").innerHTML = 
  "Count: " + counter.getCount();
</script>

</body>
</html>`,
    },
    strings: {
      title: 'JavaScript Strings',
      content: `## JavaScript Strings

JavaScript strings are for storing and manipulating text.

### String Length

<pre><code class="javascript">
let text = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
let length = text.length;  // 26
</code></pre>

### Extracting String Parts

- slice(start, end)
- substring(start, end)
- substr(start, length)

### String Methods

<pre><code class="javascript">
let text = "Hello World!";
text.toUpperCase()     // HELLO WORLD!
text.toLowerCase()     // hello world!
text.trim()            // Remove whitespace
text.split(" ")        // ["Hello", "World!"]
text.replace("World", "JS")  // "Hello JS!"
text.includes("World") // true
text.startsWith("Hello") // true
text.endsWith("!")     // true
</code></pre>

### Template Literals

Template literals use backticks and allow multiline strings and string interpolation.

<pre><code class="javascript">
let name = "John";
let text = \`Hello \${name}!\`;
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Strings</h2>

<p id="demo"></p>

<script>
let text = "Hello, World!";
let name = "JavaScript";

// String methods
let upper = text.toUpperCase();
let lower = text.toLowerCase();
let length = text.length;
let sliced = text.slice(0, 5);
let replaced = text.replace("World", name);
let includes = text.includes("World");
let split = text.split(", ");

// Template literal
let greeting = \`Welcome to \${name}!
This is a multiline string.\`;

document.getElementById("demo").innerHTML = 
  "Original: " + text + "<br>" +
  "Uppercase: " + upper + "<br>" +
  "Lowercase: " + lower + "<br>" +
  "Length: " + length + "<br>" +
  "Sliced (0-5): " + sliced + "<br>" +
  "Replaced: " + replaced + "<br>" +
  "Includes 'World': " + includes + "<br>" +
  "Split: " + JSON.stringify(split) + "<br><br>" +
  "Template literal:<br>" + greeting.replace("\\n", "<br>");
</script>

</body>
</html>`,
    },
    numbers: {
      title: 'JavaScript Numbers',
      content: `## JavaScript Numbers

JavaScript has only one type of number. Numbers can be written with or without decimals.

### JavaScript Numbers

<pre><code class="javascript">
let x = 3.14;    // A number with decimals
let y = 3;       // A number without decimals
</code></pre>

### Precision

Integers are accurate up to 15 digits. Floating point arithmetic is not always 100% accurate.

### NaN - Not a Number

NaN is a JavaScript reserved word indicating that a number is not a legal number.

<pre><code class="javascript">
let x = 100 / "Apple";  // NaN
isNaN(x);               // true
</code></pre>

### Number Methods

<pre><code class="javascript">
let x = 9.656;
x.toFixed(2);    // "9.66"
x.toPrecision(4); // "9.656"
Number("10");    // 10
parseInt("10.33"); // 10
parseFloat("10.33"); // 10.33
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Numbers</h2>

<p id="demo"></p>

<script>
let x = 3.14159265359;
let y = 100;

// Number methods
let fixed = x.toFixed(2);
let precision = x.toPrecision(4);

// Type conversion
let str = "123.45";
let num1 = Number(str);
let num2 = parseInt(str);
let num3 = parseFloat(str);

// NaN
let invalid = 100 / "Apple";

// Math object
let rounded = Math.round(x);
let ceiling = Math.ceil(x);
let floor = Math.floor(x);
let random = Math.random();

document.getElementById("demo").innerHTML = 
  "Original: " + x + "<br>" +
  "toFixed(2): " + fixed + "<br>" +
  "toPrecision(4): " + precision + "<br><br>" +
  "String '123.45' conversions:<br>" +
  "Number(): " + num1 + "<br>" +
  "parseInt(): " + num2 + "<br>" +
  "parseFloat(): " + num3 + "<br><br>" +
  "100/'Apple' = " + invalid + " (isNaN: " + isNaN(invalid) + ")<br><br>" +
  "Math methods on " + x + ":<br>" +
  "round(): " + rounded + "<br>" +
  "ceil(): " + ceiling + "<br>" +
  "floor(): " + floor + "<br>" +
  "random(): " + random.toFixed(4);
</script>

</body>
</html>`,
    },
    arrays: {
      title: 'JavaScript Arrays',
      content: `## JavaScript Arrays

An array is a special variable, which can hold more than one value.

### Creating an Array

<pre><code class="javascript">
const cars = ["Saab", "Volvo", "BMW"];
const cars = new Array("Saab", "Volvo", "BMW");
</code></pre>

### Accessing Array Elements

<pre><code class="javascript">
const cars = ["Saab", "Volvo", "BMW"];
let car = cars[0];  // "Saab"
</code></pre>

### Array Methods

<pre><code class="javascript">
// Adding/Removing
push()     // Add to end
pop()      // Remove from end
unshift()  // Add to beginning
shift()    // Remove from beginning

// Finding
indexOf()  // Find index of element
includes() // Check if exists
find()     // Find first match
filter()   // Find all matches

// Transforming
map()      // Transform each element
reduce()   // Reduce to single value
sort()     // Sort elements
reverse()  // Reverse order
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Arrays</h2>

<p id="demo"></p>

<script>
// Create array
const fruits = ["Apple", "Banana", "Orange"];

// Array methods
fruits.push("Mango");      // Add to end
fruits.unshift("Grape");   // Add to beginning

// Array iteration methods
const numbers = [1, 2, 3, 4, 5];

const doubled = numbers.map(n => n * 2);
const evens = numbers.filter(n => n % 2 === 0);
const sum = numbers.reduce((acc, n) => acc + n, 0);
const found = numbers.find(n => n > 3);

// Array info
let length = fruits.length;
let indexOf = fruits.indexOf("Orange");
let includes = fruits.includes("Apple");

document.getElementById("demo").innerHTML = 
  "Fruits: " + fruits.join(", ") + "<br>" +
  "Length: " + length + "<br>" +
  "indexOf('Orange'): " + indexOf + "<br>" +
  "includes('Apple'): " + includes + "<br><br>" +
  "Numbers: " + numbers.join(", ") + "<br>" +
  "Doubled: " + doubled.join(", ") + "<br>" +
  "Evens: " + evens.join(", ") + "<br>" +
  "Sum: " + sum + "<br>" +
  "First > 3: " + found;
</script>

</body>
</html>`,
    },
    'array-methods': {
      title: 'JavaScript Array Methods',
      content: `## JavaScript Array Methods

### Transforming Arrays

**map()** - Creates a new array by calling a function for every element.

<pre><code class="javascript">
const numbers = [1, 2, 3, 4];
const doubled = numbers.map(x => x * 2);
// [2, 4, 6, 8]
</code></pre>

**filter()** - Creates a new array with elements that pass a test.

<pre><code class="javascript">
const numbers = [1, 2, 3, 4, 5];
const evens = numbers.filter(x => x % 2 === 0);
// [2, 4]
</code></pre>

**reduce()** - Reduces an array to a single value.

<pre><code class="javascript">
const numbers = [1, 2, 3, 4];
const sum = numbers.reduce((acc, x) => acc + x, 0);
// 10
</code></pre>

### Finding Elements

**find()** - Returns the first element that passes a test.

**findIndex()** - Returns the index of the first element that passes a test.

**some()** - Returns true if any element passes a test.

**every()** - Returns true if all elements pass a test.`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Array Methods</h2>

<p id="demo"></p>

<script>
const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

// map - transform each element
const squared = numbers.map(n => n * n);

// filter - keep elements that pass test
const evens = numbers.filter(n => n % 2 === 0);

// reduce - combine into single value
const sum = numbers.reduce((acc, n) => acc + n, 0);
const product = numbers.reduce((acc, n) => acc * n, 1);

// find - first match
const firstOver5 = numbers.find(n => n > 5);

// findIndex - index of first match
const indexOver5 = numbers.findIndex(n => n > 5);

// some - at least one passes
const hasEvens = numbers.some(n => n % 2 === 0);

// every - all pass
const allPositive = numbers.every(n => n > 0);

document.getElementById("demo").innerHTML = 
  "Original: [" + numbers + "]<br><br>" +
  "squared (map): [" + squared + "]<br>" +
  "evens (filter): [" + evens + "]<br>" +
  "sum (reduce): " + sum + "<br>" +
  "product (reduce): " + product + "<br>" +
  "first > 5 (find): " + firstOver5 + "<br>" +
  "index of first > 5: " + indexOver5 + "<br>" +
  "has evens (some): " + hasEvens + "<br>" +
  "all positive (every): " + allPositive;
</script>

</body>
</html>`,
    },
    objects: {
      title: 'JavaScript Objects',
      content: `## JavaScript Objects

Objects are variables that contain many values.

### Object Definition

<pre><code class="javascript">
const person = {
  firstName: "John",
  lastName: "Doe",
  age: 50,
  eyeColor: "blue"
};
</code></pre>

### Accessing Object Properties

<pre><code class="javascript">
person.lastName;      // Dot notation
person["lastName"];   // Bracket notation
</code></pre>

### Object Methods

<pre><code class="javascript">
const person = {
  firstName: "John",
  lastName: "Doe",
  fullName: function() {
    return this.firstName + " " + this.lastName;
  }
};
</code></pre>

### this Keyword

In an object method, this refers to the object.

### Object Manipulation

<pre><code class="javascript">
Object.keys(obj)    // Array of keys
Object.values(obj)  // Array of values
Object.entries(obj) // Array of [key, value] pairs
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Objects</h2>

<p id="demo"></p>

<script>
// Object creation
const person = {
  firstName: "John",
  lastName: "Doe",
  age: 30,
  email: "john@example.com",
  
  // Method
  fullName: function() {
    return this.firstName + " " + this.lastName;
  },
  
  // Shorthand method
  greet() {
    return "Hello, I'm " + this.firstName;
  }
};

// Accessing properties
let name1 = person.firstName;        // Dot notation
let name2 = person["lastName"];      // Bracket notation

// Modifying properties
person.age = 31;
person["city"] = "New York";

// Object methods
let keys = Object.keys(person);
let values = Object.values(person);

document.getElementById("demo").innerHTML = 
  "Full Name: " + person.fullName() + "<br>" +
  "Greeting: " + person.greet() + "<br>" +
  "Age: " + person.age + "<br>" +
  "City: " + person.city + "<br><br>" +
  "Keys: " + keys.join(", ") + "<br>" +
  "Values: " + values.slice(0, 4).join(", ");
</script>

</body>
</html>`,
    },
    dom: {
      title: 'JavaScript HTML DOM',
      content: `## JavaScript HTML DOM

The HTML DOM (Document Object Model) allows JavaScript to access and change all elements of an HTML document.

### The DOM Programming Interface

The HTML DOM can be accessed with JavaScript. All HTML elements are defined as objects.

### Finding HTML Elements

<pre><code class="javascript">
document.getElementById(id)
document.getElementsByTagName(name)
document.getElementsByClassName(name)
document.querySelectorAll(selector)
</code></pre>

### Changing HTML Elements

<pre><code class="javascript">
element.innerHTML = new content
element.attribute = new value
element.style.property = new style
element.setAttribute(attribute, value)
</code></pre>

### Adding and Deleting Elements

<pre><code class="javascript">
document.createElement(element)
document.removeChild(element)
document.appendChild(element)
document.replaceChild(new, old)
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2 id="title">JavaScript DOM</h2>

<p id="demo">This is a paragraph.</p>

<ul id="list">
  <li>Item 1</li>
  <li>Item 2</li>
</ul>

<button onclick="changeContent()">Change Content</button>
<button onclick="changeStyle()">Change Style</button>
<button onclick="addItem()">Add Item</button>

<script>
function changeContent() {
  document.getElementById("demo").innerHTML = 
    "Content changed by JavaScript!";
}

function changeStyle() {
  let title = document.getElementById("title");
  title.style.color = "blue";
  title.style.fontSize = "2em";
}

function addItem() {
  let list = document.getElementById("list");
  let newItem = document.createElement("li");
  newItem.textContent = "New Item " + (list.children.length + 1);
  list.appendChild(newItem);
}
</script>

</body>
</html>`,
    },
    events: {
      title: 'JavaScript Events',
      content: `## JavaScript Events

HTML events are "things" that happen to HTML elements.

### Common HTML Events

<pre><code class="javascript">
onclick      // User clicks
onmouseover  // Mouse over element
onmouseout   // Mouse leaves element
onchange     // Input value changes
onkeydown    // Key pressed
onload       // Page finished loading
onsubmit     // Form submitted
</code></pre>

### Event Handlers

<pre><code class="html">
&lt;button onclick="myFunction()"&gt;Click&lt;/button&gt;
</code></pre>

### addEventListener

<pre><code class="javascript">
element.addEventListener("click", function() {
  alert("You clicked!");
});
</code></pre>

### Event Object

<pre><code class="javascript">
element.addEventListener("click", function(event) {
  console.log(event.target);  // Element clicked
  console.log(event.type);    // Event type
});
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Events</h2>

<p id="demo">Interact with the elements below!</p>

<button id="btn1">Click Me</button>
<button id="btn2">Hover Me</button>

<input type="text" id="input" placeholder="Type something...">

<script>
// Click event
document.getElementById("btn1").addEventListener("click", function() {
  document.getElementById("demo").innerHTML = "Button clicked!";
});

// Mouseover and mouseout
let btn2 = document.getElementById("btn2");
btn2.addEventListener("mouseover", function() {
  this.style.backgroundColor = "lightblue";
  document.getElementById("demo").innerHTML = "Mouse over!";
});
btn2.addEventListener("mouseout", function() {
  this.style.backgroundColor = "";
  document.getElementById("demo").innerHTML = "Mouse left!";
});

// Input event
document.getElementById("input").addEventListener("input", function(e) {
  document.getElementById("demo").innerHTML = 
    "You typed: " + e.target.value;
});

// Keydown event
document.getElementById("input").addEventListener("keydown", function(e) {
  if (e.key === "Enter") {
    alert("Enter pressed! Value: " + this.value);
  }
});
</script>

</body>
</html>`,
    },
    promises: {
      title: 'JavaScript Promises',
      content: `## JavaScript Promises

A Promise is an object representing the eventual completion or failure of an asynchronous operation.

### Promise Syntax

<pre><code class="javascript">
let myPromise = new Promise(function(resolve, reject) {
  // Producing code (may take some time)
  if (success) {
    resolve(result);
  } else {
    reject(error);
  }
});

// Consuming code
myPromise.then(
  function(value) { /* success */ },
  function(error) { /* error */ }
);
</code></pre>

### Promise States

- **Pending**: Initial state
- **Fulfilled**: Operation completed successfully
- **Rejected**: Operation failed

### Promise Methods

<pre><code class="javascript">
.then()   // Handle success
.catch()  // Handle error
.finally() // Run regardless
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Promises</h2>

<p id="demo">Loading...</p>

<button onclick="loadData()">Load Data</button>
<button onclick="loadError()">Simulate Error</button>

<script>
function simulateAPI(shouldFail = false) {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      if (shouldFail) {
        reject("Error: Failed to load data");
      } else {
        resolve({
          users: ["John", "Jane", "Bob"],
          count: 3
        });
      }
    }, 1500);
  });
}

function loadData() {
  document.getElementById("demo").innerHTML = "Loading...";
  
  simulateAPI()
    .then(data => {
      document.getElementById("demo").innerHTML = 
        "Users: " + data.users.join(", ") + 
        "<br>Count: " + data.count;
    })
    .catch(error => {
      document.getElementById("demo").innerHTML = error;
    })
    .finally(() => {
      console.log("Promise completed");
    });
}

function loadError() {
  document.getElementById("demo").innerHTML = "Loading...";
  
  simulateAPI(true)
    .then(data => {
      document.getElementById("demo").innerHTML = JSON.stringify(data);
    })
    .catch(error => {
      document.getElementById("demo").innerHTML = 
        '<span style="color:red">' + error + '</span>';
    });
}

document.getElementById("demo").innerHTML = "Click a button to test Promises";
</script>

</body>
</html>`,
    },
    'async-await': {
      title: 'JavaScript Async/Await',
      content: `## JavaScript Async/Await

Async/await makes asynchronous code look and behave more like synchronous code.

### Async Function

The async keyword makes a function return a Promise.

<pre><code class="javascript">
async function myFunction() {
  return "Hello";
}
// Same as:
function myFunction() {
  return Promise.resolve("Hello");
}
</code></pre>

### Await

The await keyword can only be used inside an async function. It makes JavaScript wait until the Promise settles.

<pre><code class="javascript">
async function myDisplay() {
  let myPromise = new Promise((resolve) => {
    setTimeout(() => resolve("Done!"), 3000);
  });
  
  let result = await myPromise;
  console.log(result);
}
</code></pre>

### Error Handling

<pre><code class="javascript">
async function myFunction() {
  try {
    let response = await fetch(url);
    let data = await response.json();
    return data;
  } catch (error) {
    console.log(error);
  }
}
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Async/Await</h2>

<p id="demo">Click a button to test</p>

<button onclick="fetchUser()">Fetch User</button>
<button onclick="fetchMultiple()">Fetch Multiple</button>

<script>
// Simulate API call
function simulateFetch(id) {
  return new Promise(resolve => {
    setTimeout(() => {
      resolve({ id, name: "User " + id, email: "user" + id + "@example.com" });
    }, 1000);
  });
}

// Async function
async function fetchUser() {
  document.getElementById("demo").innerHTML = "Loading...";
  
  try {
    const user = await simulateFetch(1);
    document.getElementById("demo").innerHTML = 
      "ID: " + user.id + "<br>" +
      "Name: " + user.name + "<br>" +
      "Email: " + user.email;
  } catch (error) {
    document.getElementById("demo").innerHTML = "Error: " + error;
  }
}

// Fetch multiple in parallel
async function fetchMultiple() {
  document.getElementById("demo").innerHTML = "Loading all users...";
  
  try {
    // Promise.all for parallel execution
    const [user1, user2, user3] = await Promise.all([
      simulateFetch(1),
      simulateFetch(2),
      simulateFetch(3)
    ]);
    
    document.getElementById("demo").innerHTML = 
      "User 1: " + user1.name + "<br>" +
      "User 2: " + user2.name + "<br>" +
      "User 3: " + user3.name;
  } catch (error) {
    document.getElementById("demo").innerHTML = "Error: " + error;
  }
}
</script>

</body>
</html>`,
    },
    fetch: {
      title: 'JavaScript Fetch API',
      content: `## JavaScript Fetch API

The Fetch API provides a modern interface for fetching resources.

### Fetch Syntax

<pre><code class="javascript">
fetch(url)
  .then(response => response.json())
  .then(data => console.log(data))
  .catch(error => console.log(error));
</code></pre>

### Using Async/Await

<pre><code class="javascript">
async function getData() {
  const response = await fetch(url);
  const data = await response.json();
  return data;
}
</code></pre>

### Fetch Options

<pre><code class="javascript">
fetch(url, {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify(data)
});
</code></pre>

### Response Methods

<pre><code class="javascript">
response.json()    // Parse as JSON
response.text()    // Parse as text
response.blob()    // Parse as Blob
response.ok        // true if status 200-299
response.status    // HTTP status code
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Fetch API</h2>

<p id="demo">Click to fetch data</p>

<button onclick="fetchPost()">Fetch Post</button>
<button onclick="fetchUsers()">Fetch Users</button>

<script>
// Fetch a single post
async function fetchPost() {
  document.getElementById("demo").innerHTML = "Loading...";
  
  try {
    const response = await fetch(
      'https://jsonplaceholder.typicode.com/posts/1'
    );
    
    if (!response.ok) {
      throw new Error('Network response was not ok');
    }
    
    const post = await response.json();
    
    document.getElementById("demo").innerHTML = 
      "<strong>Title:</strong> " + post.title + "<br><br>" +
      "<strong>Body:</strong> " + post.body;
  } catch (error) {
    document.getElementById("demo").innerHTML = 
      "Error: " + error.message;
  }
}

// Fetch multiple users
async function fetchUsers() {
  document.getElementById("demo").innerHTML = "Loading...";
  
  try {
    const response = await fetch(
      'https://jsonplaceholder.typicode.com/users?_limit=3'
    );
    const users = await response.json();
    
    let html = "<strong>Users:</strong><ul>";
    users.forEach(user => {
      html += "<li>" + user.name + " (" + user.email + ")</li>";
    });
    html += "</ul>";
    
    document.getElementById("demo").innerHTML = html;
  } catch (error) {
    document.getElementById("demo").innerHTML = 
      "Error: " + error.message;
  }
}
</script>

</body>
</html>`,
    },
    classes: {
      title: 'JavaScript Classes',
      content: `## JavaScript Classes

Classes are a template for creating objects. They encapsulate data with code to work on that data.

### Class Syntax

<pre><code class="javascript">
class ClassName {
  constructor() { ... }
  method1() { ... }
  method2() { ... }
}
</code></pre>

### Creating a Class

<pre><code class="javascript">
class Car {
  constructor(name, year) {
    this.name = name;
    this.year = year;
  }
  
  age() {
    return new Date().getFullYear() - this.year;
  }
}

let myCar = new Car("Ford", 2014);
</code></pre>

### Class Inheritance

<pre><code class="javascript">
class Model extends Car {
  constructor(name, year, model) {
    super(name, year);
    this.model = model;
  }
  
  show() {
    return this.name + " " + this.model;
  }
}
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Classes</h2>

<p id="demo"></p>

<script>
// Base class
class Animal {
  constructor(name) {
    this.name = name;
  }
  
  speak() {
    return this.name + " makes a sound.";
  }
}

// Inheritance
class Dog extends Animal {
  constructor(name, breed) {
    super(name);
    this.breed = breed;
  }
  
  speak() {
    return this.name + " barks!";
  }
  
  info() {
    return this.name + " is a " + this.breed;
  }
}

class Cat extends Animal {
  speak() {
    return this.name + " meows!";
  }
}

// Create instances
const dog = new Dog("Rex", "German Shepherd");
const cat = new Cat("Whiskers");

document.getElementById("demo").innerHTML = 
  "<strong>Dog:</strong><br>" +
  dog.info() + "<br>" +
  dog.speak() + "<br><br>" +
  "<strong>Cat:</strong><br>" +
  cat.speak();
</script>

</body>
</html>`,
    },
    conditions: {
      title: 'JavaScript If Conditions',
      content: `## JavaScript If Conditions

Conditional statements are used to perform different actions based on different conditions.

### The if Statement

<pre><code class="javascript">
if (condition) {
  // block of code to execute if condition is true
}
</code></pre>

### The else Statement

<pre><code class="javascript">
if (condition) {
  // if true
} else {
  // if false
}
</code></pre>

### The else if Statement

<pre><code class="javascript">
if (condition1) {
  // if condition1 is true
} else if (condition2) {
  // if condition2 is true
} else {
  // if neither is true
}
</code></pre>

### Ternary Operator

<pre><code class="javascript">
let result = (condition) ? valueIfTrue : valueIfFalse;
</code></pre>

### Switch Statement

<pre><code class="javascript">
switch(expression) {
  case x:
    // code block
    break;
  case y:
    // code block
    break;
  default:
    // code block
}
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Conditions</h2>

<p id="demo"></p>

<script>
let hour = new Date().getHours();
let greeting;
let timeOfDay;

// if...else if...else
if (hour < 12) {
  greeting = "Good morning!";
  timeOfDay = "morning";
} else if (hour < 18) {
  greeting = "Good afternoon!";
  timeOfDay = "afternoon";
} else {
  greeting = "Good evening!";
  timeOfDay = "evening";
}

// Ternary operator
let isWeekend = (new Date().getDay() === 0 || new Date().getDay() === 6) 
  ? "Yes" : "No";

// Switch statement
let day;
switch (new Date().getDay()) {
  case 0: day = "Sunday"; break;
  case 1: day = "Monday"; break;
  case 2: day = "Tuesday"; break;
  case 3: day = "Wednesday"; break;
  case 4: day = "Thursday"; break;
  case 5: day = "Friday"; break;
  case 6: day = "Saturday"; break;
}

document.getElementById("demo").innerHTML = 
  greeting + "<br><br>" +
  "Current hour: " + hour + ":00<br>" +
  "Time of day: " + timeOfDay + "<br>" +
  "Today is: " + day + "<br>" +
  "Is it weekend? " + isWeekend;
</script>

</body>
</html>`,
    },
    loops: {
      title: 'JavaScript Loops',
      content: `## JavaScript Loops

Loops can execute a block of code a number of times.

### The for Loop

<pre><code class="javascript">
for (let i = 0; i < 5; i++) {
  // code to execute
}
</code></pre>

### The while Loop

<pre><code class="javascript">
while (condition) {
  // code to execute
}
</code></pre>

### The do...while Loop

<pre><code class="javascript">
do {
  // code to execute
} while (condition);
</code></pre>

### The for...in Loop (Objects)

<pre><code class="javascript">
for (let key in object) {
  // code to execute
}
</code></pre>

### The for...of Loop (Arrays)

<pre><code class="javascript">
for (let value of array) {
  // code to execute
}
</code></pre>

### Break and Continue

<pre><code class="javascript">
break;    // Exits the loop
continue; // Skips to next iteration
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Loops</h2>

<p id="demo"></p>

<script>
let output = "";

// for loop
output += "<strong>for loop (1-5):</strong> ";
for (let i = 1; i <= 5; i++) {
  output += i + " ";
}
output += "<br>";

// while loop
output += "<strong>while loop (countdown):</strong> ";
let count = 5;
while (count > 0) {
  output += count + " ";
  count--;
}
output += "Blast off!<br>";

// for...of (arrays)
const fruits = ["Apple", "Banana", "Orange"];
output += "<strong>for...of (fruits):</strong> ";
for (let fruit of fruits) {
  output += fruit + " ";
}
output += "<br>";

// for...in (objects)
const person = {name: "John", age: 30, city: "NY"};
output += "<strong>for...in (person):</strong> ";
for (let key in person) {
  output += key + "=" + person[key] + " ";
}
output += "<br>";

// break and continue
output += "<strong>skip 3, stop at 7:</strong> ";
for (let i = 1; i <= 10; i++) {
  if (i === 3) continue;
  if (i === 7) break;
  output += i + " ";
}

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    dates: {
      title: 'JavaScript Dates',
      content: `## JavaScript Dates

JavaScript Date objects represent a single moment in time.

### Creating Date Objects

<pre><code class="javascript">
new Date()                    // Current date/time
new Date(year, month, day)    // Specific date
new Date(milliseconds)        // From Unix timestamp
new Date(dateString)          // From date string
</code></pre>

### Getting Date Values

<pre><code class="javascript">
date.getFullYear()   // Get year (4 digits)
date.getMonth()      // Get month (0-11)
date.getDate()       // Get day of month (1-31)
date.getDay()        // Get day of week (0-6)
date.getHours()      // Get hours (0-23)
date.getMinutes()    // Get minutes (0-59)
date.getSeconds()    // Get seconds (0-59)
date.getTime()       // Get timestamp (ms)
</code></pre>

### Setting Date Values

<pre><code class="javascript">
date.setFullYear(2025)
date.setMonth(11)     // December
date.setDate(25)
date.setHours(12)
</code></pre>

### Formatting Dates

<pre><code class="javascript">
date.toDateString()      // "Wed Jan 15 2025"
date.toLocaleDateString() // Locale-specific
date.toISOString()       // "2025-01-15T..."
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Dates</h2>

<p id="demo"></p>

<script>
// Current date
const now = new Date();

// Get values
const year = now.getFullYear();
const month = now.getMonth();
const day = now.getDate();
const dayOfWeek = now.getDay();
const hours = now.getHours();
const minutes = now.getMinutes();

// Day names
const days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
const months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];

// Create specific date
const birthday = new Date(2000, 0, 15); // Jan 15, 2000

// Calculate age
const age = Math.floor((now - birthday) / (365.25 * 24 * 60 * 60 * 1000));

// Format time
const timeStr = hours.toString().padStart(2, '0') + ":" + 
                minutes.toString().padStart(2, '0');

document.getElementById("demo").innerHTML = 
  "<strong>Current Date:</strong><br>" +
  "Full: " + now.toDateString() + "<br>" +
  "Year: " + year + "<br>" +
  "Month: " + months[month] + " (" + month + ")<br>" +
  "Day: " + day + "<br>" +
  "Day of Week: " + days[dayOfWeek] + "<br>" +
  "Time: " + timeStr + "<br><br>" +
  "<strong>Birthday (Jan 15, 2000):</strong><br>" +
  birthday.toDateString() + "<br>" +
  "Age: " + age + " years";
</script>

</body>
</html>`,
    },
    regexp: {
      title: 'JavaScript Regular Expressions',
      content: `## JavaScript Regular Expressions

A regular expression is a sequence of characters that forms a search pattern.

### Syntax

<pre><code class="javascript">
/pattern/modifiers;

// Example
/hello/i;  // Case-insensitive search for "hello"
</code></pre>

### Modifiers

<pre><code class="javascript">
i  // Case-insensitive matching
g  // Global match (find all)
m  // Multiline matching
</code></pre>

### Patterns

<pre><code class="javascript">
[abc]    // Any character in brackets
[0-9]    // Any digit
(x|y)    // x or y
\\d       // A digit
\\s       // Whitespace
\\b       // Word boundary
n+       // One or more n
n*       // Zero or more n
n?       // Zero or one n
n{3}     // Exactly 3 n's
</code></pre>

### RegExp Methods

<pre><code class="javascript">
test()   // Returns true/false
exec()   // Returns match array or null
</code></pre>

### String Methods with RegExp

<pre><code class="javascript">
match()    // Returns matches
replace()  // Replace matches
search()   // Returns position
split()    // Split by pattern
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Regular Expressions</h2>

<p id="demo"></p>

<script>
let output = "";

// Test for pattern
let text = "Hello World!";
let pattern = /world/i;
output += "Text: '" + text + "'<br>";
output += "Pattern /world/i test: " + pattern.test(text) + "<br><br>";

// Email validation
const emailPattern = /^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/;
const validEmail = "user@example.com";
const invalidEmail = "not-an-email";
output += "Email validation:<br>";
output += validEmail + ": " + emailPattern.test(validEmail) + "<br>";
output += invalidEmail + ": " + emailPattern.test(invalidEmail) + "<br><br>";

// Find all matches
const sentence = "The rain in Spain stays mainly in the plain.";
const matches = sentence.match(/ain/g);
output += "Find 'ain' in sentence:<br>";
output += "Matches: " + matches.length + " (" + matches.join(", ") + ")<br><br>";

// Replace with regex
const censored = sentence.replace(/ain/g, "***");
output += "Replace 'ain' with '***':<br>";
output += censored + "<br><br>";

// Phone number validation
const phonePattern = /^\\d{3}-\\d{3}-\\d{4}$/;
output += "Phone validation (xxx-xxx-xxxx):<br>";
output += "123-456-7890: " + phonePattern.test("123-456-7890") + "<br>";
output += "1234567890: " + phonePattern.test("1234567890");

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    json: {
      title: 'JavaScript JSON',
      content: `## JavaScript JSON

JSON stands for JavaScript Object Notation. It is a lightweight data-interchange format.

### JSON Syntax Rules

- Data is in name/value pairs
- Data is separated by commas
- Curly braces hold objects
- Square brackets hold arrays

### JSON Example

<pre><code class="javascript">
{
  "employees": [
    {"firstName": "John", "lastName": "Doe"},
    {"firstName": "Anna", "lastName": "Smith"}
  ]
}
</code></pre>

### JSON.parse()

Convert JSON string to JavaScript object.

<pre><code class="javascript">
const jsonString = '{"name":"John","age":30}';
const obj = JSON.parse(jsonString);
console.log(obj.name);  // "John"
</code></pre>

### JSON.stringify()

Convert JavaScript object to JSON string.

<pre><code class="javascript">
const obj = {name: "John", age: 30};
const jsonString = JSON.stringify(obj);
// '{"name":"John","age":30}'
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript JSON</h2>

<p id="demo"></p>

<script>
// JSON string
const jsonString = '{"name":"John","age":30,"city":"New York","skills":["JavaScript","Python","SQL"]}';

// Parse JSON to object
const person = JSON.parse(jsonString);

// Access properties
let output = "<strong>Parsed JSON:</strong><br>";
output += "Name: " + person.name + "<br>";
output += "Age: " + person.age + "<br>";
output += "City: " + person.city + "<br>";
output += "Skills: " + person.skills.join(", ") + "<br><br>";

// Create object and stringify
const product = {
  id: 1,
  name: "Laptop",
  price: 999.99,
  inStock: true,
  tags: ["electronics", "computer"]
};

const productJSON = JSON.stringify(product, null, 2);
output += "<strong>Object to JSON:</strong><br>";
output += "<pre>" + productJSON + "</pre><br>";

// JSON with arrays
const users = [
  {id: 1, name: "Alice"},
  {id: 2, name: "Bob"},
  {id: 3, name: "Charlie"}
];

output += "<strong>Array of objects:</strong><br>";
output += JSON.stringify(users);

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    modules: {
      title: 'JavaScript Modules',
      content: `## JavaScript Modules

Modules allow you to break up your code into separate files and reuse code.

### Export

Named Exports:

<pre><code class="javascript">
// person.js
export const name = "Jesse";
export const age = 40;

// OR
const name = "Jesse";
const age = 40;
export { name, age };
</code></pre>

Default Exports:

<pre><code class="javascript">
// message.js
const message = () => {
  return "Hello World!";
};
export default message;
</code></pre>

### Import

Named Imports:

<pre><code class="javascript">
import { name, age } from "./person.js";
</code></pre>

Default Imports:

<pre><code class="javascript">
import message from "./message.js";
</code></pre>

### Module Features

- Modules are deferred by default
- Modules run in strict mode
- Modules have their own scope
- Each module is only evaluated once`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Modules</h2>

<p id="demo"></p>

<script>
// Note: Modules require a server environment
// Here we demonstrate the concept with regular code

// Simulating module exports
const MathModule = (function() {
  const PI = 3.14159;
  
  function add(a, b) {
    return a + b;
  }
  
  function multiply(a, b) {
    return a * b;
  }
  
  function circleArea(radius) {
    return PI * radius * radius;
  }
  
  // Export public API
  return {
    add,
    multiply,
    circleArea,
    PI
  };
})();

// Simulating module import/usage
const { add, multiply, circleArea, PI } = MathModule;

let output = "<strong>Module Pattern Demo:</strong><br><br>";
output += "PI: " + PI + "<br>";
output += "add(5, 3): " + add(5, 3) + "<br>";
output += "multiply(4, 7): " + multiply(4, 7) + "<br>";
output += "circleArea(5): " + circleArea(5).toFixed(2) + "<br><br>";

output += "<strong>ES6 Module Syntax:</strong><br>";
output += "<pre>";
output += "// math.js\\n";
output += "export const add = (a, b) => a + b;\\n";
output += "export default function multiply(a, b) { return a * b; }\\n\\n";
output += "// main.js\\n";
output += "import multiply, { add } from './math.js';\\n";
output += "</pre>";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    errors: {
      title: 'JavaScript Errors',
      content: `## JavaScript Errors

The try...catch statement handles errors gracefully.

### try...catch Syntax

<pre><code class="javascript">
try {
  // Code to try
} catch (err) {
  // Code to handle errors
} finally {
  // Code that runs regardless
}
</code></pre>

### The Error Object

<pre><code class="javascript">
try {
  throw new Error("Something went wrong");
} catch (err) {
  console.log(err.name);    // "Error"
  console.log(err.message); // "Something went wrong"
}
</code></pre>

### Error Types

<pre><code class="javascript">
EvalError      // Error in eval()
RangeError     // Number out of range
ReferenceError // Illegal reference
SyntaxError    // Syntax error
TypeError      // Wrong type
URIError       // Error in URI handling
</code></pre>

### Throwing Custom Errors

<pre><code class="javascript">
function checkAge(age) {
  if (age < 0) {
    throw new RangeError("Age cannot be negative");
  }
  return age;
}
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Error Handling</h2>

<p id="demo"></p>

<script>
let output = "";

// Basic try...catch
output += "<strong>Basic try...catch:</strong><br>";
try {
  let x = y; // y is not defined
} catch (err) {
  output += "Error caught: " + err.name + "<br>";
  output += "Message: " + err.message + "<br><br>";
}

// Throwing custom error
output += "<strong>Custom error:</strong><br>";
function divide(a, b) {
  if (b === 0) {
    throw new Error("Cannot divide by zero!");
  }
  return a / b;
}

try {
  let result = divide(10, 0);
} catch (err) {
  output += "Error: " + err.message + "<br><br>";
}

// finally block
output += "<strong>try...catch...finally:</strong><br>";
try {
  output += "Trying...<br>";
  // Uncomment to test error: throw new Error("Test error");
  output += "Success!<br>";
} catch (err) {
  output += "Error: " + err.message + "<br>";
} finally {
  output += "Finally block always runs!<br><br>";
}

// Input validation
output += "<strong>Input Validation:</strong><br>";
function validateAge(age) {
  if (isNaN(age)) throw new TypeError("Age must be a number");
  if (age < 0) throw new RangeError("Age cannot be negative");
  if (age > 150) throw new RangeError("Age seems unrealistic");
  return "Valid age: " + age;
}

try {
  output += validateAge(25) + "<br>";
  output += validateAge(-5);
} catch (err) {
  output += err.name + ": " + err.message;
}

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    sets: {
      title: 'JavaScript Sets',
      content: `## JavaScript Sets

A JavaScript Set is a collection of unique values.

### Creating a Set

<pre><code class="javascript">
// Create a Set
const letters = new Set(["a", "b", "c"]);

// Add values
letters.add("d");

// Check if value exists
letters.has("a");  // true

// Size
letters.size;  // 4
</code></pre>

### Set Methods

<pre><code class="javascript">
add(value)     // Add a new element
delete(value)  // Remove an element
has(value)     // Check if exists
clear()        // Remove all elements
forEach()      // Call function for each
values()       // Returns iterator
</code></pre>

### Use Cases

<pre><code class="javascript">
// Remove duplicates from array
const numbers = [1, 2, 2, 3, 3, 3];
const unique = [...new Set(numbers)];
// [1, 2, 3]
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Sets</h2>

<p id="demo"></p>

<script>
let output = "";

// Create a Set
const fruits = new Set(["Apple", "Banana", "Orange"]);
output += "<strong>Initial Set:</strong> " + [...fruits].join(", ") + "<br>";
output += "Size: " + fruits.size + "<br><br>";

// Add elements
fruits.add("Mango");
fruits.add("Apple");  // Duplicate - won't be added
output += "<strong>After adding Mango and Apple:</strong><br>";
output += [...fruits].join(", ") + "<br>";
output += "Size: " + fruits.size + " (Apple not duplicated)<br><br>";

// Check existence
output += "<strong>Checking values:</strong><br>";
output += "Has 'Apple': " + fruits.has("Apple") + "<br>";
output += "Has 'Grape': " + fruits.has("Grape") + "<br><br>";

// Remove duplicates from array
const numbers = [1, 2, 2, 3, 3, 3, 4, 4, 5];
const uniqueNumbers = [...new Set(numbers)];
output += "<strong>Remove duplicates:</strong><br>";
output += "Original: [" + numbers.join(", ") + "]<br>";
output += "Unique: [" + uniqueNumbers.join(", ") + "]<br><br>";

// Set operations
const set1 = new Set([1, 2, 3, 4]);
const set2 = new Set([3, 4, 5, 6]);

// Union
const union = new Set([...set1, ...set2]);

// Intersection
const intersection = new Set([...set1].filter(x => set2.has(x)));

output += "<strong>Set Operations:</strong><br>";
output += "Set1: [" + [...set1].join(", ") + "]<br>";
output += "Set2: [" + [...set2].join(", ") + "]<br>";
output += "Union: [" + [...union].join(", ") + "]<br>";
output += "Intersection: [" + [...intersection].join(", ") + "]";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    maps: {
      title: 'JavaScript Maps',
      content: `## JavaScript Maps

A Map holds key-value pairs where any value can be a key.

### Creating a Map

<pre><code class="javascript">
// Create a Map
const fruits = new Map([
  ["apples", 500],
  ["bananas", 300],
  ["oranges", 200]
]);
</code></pre>

### Map Methods

<pre><code class="javascript">
set(key, value)  // Add/update element
get(key)         // Get value by key
has(key)         // Check if key exists
delete(key)      // Remove element
clear()          // Remove all
size             // Number of elements
</code></pre>

### Map vs Object

<pre><code class="javascript">
// Map advantages:
// - Keys can be any type (objects, functions)
// - Maps are directly iterable
// - Size property available
// - Better performance for frequent adds/removes

const map = new Map();
const objKey = {id: 1};
map.set(objKey, "Object as key");
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Maps</h2>

<p id="demo"></p>

<script>
let output = "";

// Create a Map
const fruits = new Map([
  ["apples", 500],
  ["bananas", 300],
  ["oranges", 200]
]);

output += "<strong>Fruit inventory:</strong><br>";
fruits.forEach((value, key) => {
  output += key + ": " + value + "<br>";
});
output += "Size: " + fruits.size + "<br><br>";

// Add and update
fruits.set("grapes", 400);
fruits.set("apples", 550);  // Update

output += "<strong>After adding grapes, updating apples:</strong><br>";
output += "Apples: " + fruits.get("apples") + "<br>";
output += "Grapes: " + fruits.get("grapes") + "<br>";
output += "Has bananas: " + fruits.has("bananas") + "<br><br>";

// Using objects as keys
const user1 = {id: 1, name: "John"};
const user2 = {id: 2, name: "Jane"};

const userScores = new Map();
userScores.set(user1, 95);
userScores.set(user2, 88);

output += "<strong>Objects as keys:</strong><br>";
output += user1.name + "'s score: " + userScores.get(user1) + "<br>";
output += user2.name + "'s score: " + userScores.get(user2) + "<br><br>";

// Convert to array
const entriesArray = [...fruits.entries()];
output += "<strong>Map to Array:</strong><br>";
output += JSON.stringify(entriesArray);

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    callbacks: {
      title: 'JavaScript Callbacks',
      content: `## JavaScript Callbacks

A callback is a function passed as an argument to another function.

### Callback Example

<pre><code class="javascript">
function myDisplayer(result) {
  console.log(result);
}

function myCalculator(num1, num2, callback) {
  let sum = num1 + num2;
  callback(sum);
}

myCalculator(5, 5, myDisplayer); // 10
</code></pre>

### Asynchronous Callbacks

<pre><code class="javascript">
// setTimeout callback
setTimeout(function() {
  console.log("Hello after 3 seconds");
}, 3000);

// setInterval callback
setInterval(function() {
  console.log("Runs every second");
}, 1000);
</code></pre>

### Callback Hell

<pre><code class="javascript">
// Nested callbacks become hard to read
getData(function(a) {
  getMoreData(a, function(b) {
    getEvenMoreData(b, function(c) {
      // This is "callback hell"
    });
  });
});
</code></pre>

This is why Promises and async/await were introduced.`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Callbacks</h2>

<p id="demo"></p>
<p id="timer"></p>

<button onclick="startTimer()">Start Timer</button>
<button onclick="stopTimer()">Stop Timer</button>

<script>
let output = "";
let intervalId = null;

// Simple callback
function calculate(num1, num2, callback) {
  let result = callback(num1, num2);
  return result;
}

const add = (a, b) => a + b;
const multiply = (a, b) => a * b;

output += "<strong>Callback Functions:</strong><br>";
output += "add(5, 3): " + calculate(5, 3, add) + "<br>";
output += "multiply(5, 3): " + calculate(5, 3, multiply) + "<br><br>";

// Array methods with callbacks
const numbers = [1, 2, 3, 4, 5];

output += "<strong>Array callbacks:</strong><br>";
output += "Original: [" + numbers + "]<br>";
output += "map(x => x*2): [" + numbers.map(x => x * 2) + "]<br>";
output += "filter(x => x>2): [" + numbers.filter(x => x > 2) + "]<br>";
output += "reduce(sum): " + numbers.reduce((a, b) => a + b) + "<br><br>";

document.getElementById("demo").innerHTML = output;

// Timer with callback
let seconds = 0;

function startTimer() {
  if (intervalId) return;
  seconds = 0;
  intervalId = setInterval(function() {
    seconds++;
    document.getElementById("timer").innerHTML = 
      "Timer: " + seconds + " seconds";
  }, 1000);
}

function stopTimer() {
  if (intervalId) {
    clearInterval(intervalId);
    intervalId = null;
    document.getElementById("timer").innerHTML = 
      "Timer stopped at " + seconds + " seconds";
  }
}
</script>

</body>
</html>`,
    },
    destructuring: {
      title: 'JavaScript Destructuring',
      content: `## JavaScript Destructuring

Destructuring makes it easy to extract values from arrays or properties from objects.

### Array Destructuring

<pre><code class="javascript">
const fruits = ["Apple", "Banana", "Orange"];

// Without destructuring
const a = fruits[0];
const b = fruits[1];

// With destructuring
const [x, y, z] = fruits;
// x = "Apple", y = "Banana", z = "Orange"
</code></pre>

### Object Destructuring

<pre><code class="javascript">
const person = {
  firstName: "John",
  lastName: "Doe",
  age: 30
};

// Destructuring
const { firstName, lastName, age } = person;
</code></pre>

### Default Values

<pre><code class="javascript">
const [a = 1, b = 2] = [10];
// a = 10, b = 2 (default)
</code></pre>

### Rest Pattern

<pre><code class="javascript">
const [first, ...rest] = [1, 2, 3, 4, 5];
// first = 1, rest = [2, 3, 4, 5]
</code></pre>

### Nested Destructuring

<pre><code class="javascript">
const user = {
  name: "John",
  address: { city: "NYC", zip: "10001" }
};

const { name, address: { city } } = user;
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Destructuring</h2>

<p id="demo"></p>

<script>
let output = "";

// Array destructuring
const colors = ["red", "green", "blue", "yellow"];
const [first, second, ...rest] = colors;

output += "<strong>Array Destructuring:</strong><br>";
output += "Array: [" + colors.join(", ") + "]<br>";
output += "first: " + first + "<br>";
output += "second: " + second + "<br>";
output += "rest: [" + rest.join(", ") + "]<br><br>";

// Object destructuring
const person = {
  name: "John Doe",
  age: 30,
  email: "john@example.com",
  address: {
    city: "New York",
    country: "USA"
  }
};

const { name, age, email } = person;
const { address: { city, country } } = person;

output += "<strong>Object Destructuring:</strong><br>";
output += "name: " + name + "<br>";
output += "age: " + age + "<br>";
output += "email: " + email + "<br>";
output += "city: " + city + "<br>";
output += "country: " + country + "<br><br>";

// Rename during destructuring
const { name: fullName, age: years } = person;
output += "<strong>Renaming:</strong><br>";
output += "fullName: " + fullName + "<br>";
output += "years: " + years + "<br><br>";

// Function parameter destructuring
function displayUser({ name, age }) {
  return name + " is " + age + " years old";
}

output += "<strong>Function Parameter:</strong><br>";
output += displayUser(person);

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'dom-methods': {
      title: 'JavaScript DOM Methods',
      content: `## JavaScript DOM Methods

The DOM defines methods to access and manipulate HTML elements.

### Finding Elements

<pre><code class="javascript">
// By ID
document.getElementById("id")

// By class name
document.getElementsByClassName("class")

// By tag name
document.getElementsByTagName("tag")

// CSS selectors
document.querySelector("#id")
document.querySelectorAll(".class")
</code></pre>

### Changing Content

<pre><code class="javascript">
element.innerHTML = "New HTML content"
element.textContent = "New text content"
element.innerText = "New text (visible only)"
</code></pre>

### Changing Attributes

<pre><code class="javascript">
element.setAttribute("class", "newClass")
element.getAttribute("class")
element.removeAttribute("class")
element.hasAttribute("class")
</code></pre>

### Creating Elements

<pre><code class="javascript">
const div = document.createElement("div");
div.textContent = "New div";
parent.appendChild(div);
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2 id="title">DOM Methods</h2>

<div id="container">
  <p class="text">Paragraph 1</p>
  <p class="text">Paragraph 2</p>
  <p class="text">Paragraph 3</p>
</div>

<p id="demo"></p>

<button onclick="modifyDOM()">Modify DOM</button>
<button onclick="addElement()">Add Element</button>
<button onclick="removeElement()">Remove Last</button>

<script>
function modifyDOM() {
  // Change title
  document.getElementById("title").style.color = "blue";
  
  // Change all paragraphs
  const paragraphs = document.querySelectorAll(".text");
  paragraphs.forEach((p, i) => {
    p.style.backgroundColor = "lightyellow";
    p.textContent = "Modified paragraph " + (i + 1);
  });
  
  document.getElementById("demo").innerHTML = 
    "DOM modified! " + paragraphs.length + " paragraphs changed.";
}

function addElement() {
  const container = document.getElementById("container");
  const newP = document.createElement("p");
  newP.className = "text";
  newP.textContent = "New paragraph " + (container.children.length + 1);
  newP.style.backgroundColor = "lightgreen";
  container.appendChild(newP);
  
  document.getElementById("demo").innerHTML = 
    "Element added! Total: " + container.children.length;
}

function removeElement() {
  const container = document.getElementById("container");
  if (container.children.length > 0) {
    container.removeChild(container.lastElementChild);
    document.getElementById("demo").innerHTML = 
      "Last element removed! Remaining: " + container.children.length;
  } else {
    document.getElementById("demo").innerHTML = 
      "No elements to remove!";
  }
}
</script>

</body>
</html>`,
    },
    'event-listener': {
      title: 'JavaScript Event Listener',
      content: `## JavaScript addEventListener()

The addEventListener() method attaches an event handler to an element.

### Syntax

<pre><code class="javascript">
element.addEventListener(event, function, useCapture);
</code></pre>

### Common Events

<pre><code class="javascript">
"click"       // Mouse click
"dblclick"    // Double click
"mouseenter"  // Mouse enters element
"mouseleave"  // Mouse leaves element
"keydown"     // Key pressed
"keyup"       // Key released
"submit"      // Form submitted
"change"      // Input value changed
"load"        // Page loaded
"scroll"      // Page scrolled
</code></pre>

### Event Object

<pre><code class="javascript">
element.addEventListener("click", function(e) {
  e.target       // Element that triggered
  e.type         // Event type
  e.preventDefault()   // Prevent default action
  e.stopPropagation() // Stop bubbling
});
</code></pre>

### Remove Event Listener

<pre><code class="javascript">
element.removeEventListener("click", myFunction);
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Event Listeners</h2>

<div id="box" style="width:200px;height:100px;background:lightblue;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all 0.3s;">
  Click or hover me!
</div>

<br>

<input type="text" id="input" placeholder="Type something...">

<p id="demo"></p>

<script>
const box = document.getElementById("box");
const input = document.getElementById("input");
const demo = document.getElementById("demo");

// Click event
box.addEventListener("click", function(e) {
  demo.innerHTML = "Clicked at: " + e.clientX + ", " + e.clientY;
  this.style.backgroundColor = getRandomColor();
});

// Mouse enter/leave
box.addEventListener("mouseenter", function() {
  this.style.transform = "scale(1.1)";
});

box.addEventListener("mouseleave", function() {
  this.style.transform = "scale(1)";
});

// Double click
box.addEventListener("dblclick", function() {
  demo.innerHTML = "Double clicked! Reset color.";
  this.style.backgroundColor = "lightblue";
});

// Input events
input.addEventListener("input", function(e) {
  demo.innerHTML = "Typing: " + e.target.value;
});

input.addEventListener("keydown", function(e) {
  if (e.key === "Enter") {
    demo.innerHTML = "You pressed Enter! Value: " + this.value;
    this.value = "";
  }
});

// Focus/blur
input.addEventListener("focus", function() {
  this.style.boxShadow = "0 0 5px blue";
});

input.addEventListener("blur", function() {
  this.style.boxShadow = "none";
});

function getRandomColor() {
  const colors = ["lightgreen", "lightyellow", "lightpink", "lightcoral", "lightcyan"];
  return colors[Math.floor(Math.random() * colors.length)];
}
</script>

</body>
</html>`,
    },
    hoisting: {
      title: 'JavaScript Hoisting',
      content: `## JavaScript Hoisting

Hoisting is JavaScript's default behavior of moving declarations to the top.

### Variable Hoisting

<pre><code class="javascript">
// What you write:
console.log(x);  // undefined
var x = 5;

// How JavaScript interprets it:
var x;
console.log(x);  // undefined
x = 5;
</code></pre>

### let and const Hoisting

Variables declared with let and const are hoisted but not initialized. They are in a "temporal dead zone" from the start of the block until the declaration.

<pre><code class="javascript">
console.log(x);  // ReferenceError
let x = 5;
</code></pre>

### Function Hoisting

Function declarations are hoisted completely:

<pre><code class="javascript">
sayHello();  // Works!

function sayHello() {
  console.log("Hello!");
}
</code></pre>

Function expressions are not hoisted:

<pre><code class="javascript">
sayHello();  // TypeError

var sayHello = function() {
  console.log("Hello!");
};
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Hoisting</h2>

<p id="demo"></p>

<script>
let output = "";

// Function hoisting - works
output += "<strong>Function Declaration Hoisting:</strong><br>";
output += greet("World") + "<br><br>";

function greet(name) {
  return "Hello, " + name + "!";
}

// var hoisting
output += "<strong>var Hoisting:</strong><br>";
output += "x before declaration: " + x + "<br>";
var x = 5;
output += "x after assignment: " + x + "<br><br>";

// let/const - temporal dead zone
output += "<strong>let/const - Temporal Dead Zone:</strong><br>";
output += "Cannot access let/const before declaration.<br>";
output += "Uncommenting below would cause ReferenceError.<br><br>";
// console.log(y);  // ReferenceError
let y = 10;
output += "y after declaration: " + y + "<br><br>";

// Function expression not hoisted
output += "<strong>Function Expression:</strong><br>";
output += "Function expressions are NOT hoisted.<br>";
output += "var func is undefined until assignment.<br><br>";

var notHoisted = function() {
  return "This won't work if called before!";
};
output += "After assignment: " + notHoisted() + "<br><br>";

// Best practice
output += "<strong>Best Practice:</strong><br>";
output += " Use let/const instead of var<br>";
output += " Declare variables at the top<br>";
output += " Initialize variables when declaring";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    strict: {
      title: 'JavaScript Strict Mode',
      content: `## JavaScript Strict Mode

"use strict" defines that JavaScript code should be executed in strict mode.

### Declaring Strict Mode

<pre><code class="javascript">
"use strict";
// All code is in strict mode

// Or in a function
function myFunction() {
  "use strict";
  // Function code in strict mode
}
</code></pre>

### What Strict Mode Prevents

<pre><code class="javascript">
"use strict";

x = 3.14;  // Error: x is not defined

delete x;  // Error: Cannot delete variables

function x(p1, p1) {}  // Error: Duplicate params

var obj = {};
Object.defineProperty(obj, "x", {value:0, writable:false});
obj.x = 3.14;  // Error: Cannot write to read-only

// Reserved keywords cannot be used as variable names
var let = 1;     // Error
var private = 1; // Error
</code></pre>

### Why Use Strict Mode?

- Makes it easier to write "secure" JavaScript
- Converts coding mistakes into errors
- Prevents accidental globals
- Makes eval() and arguments safer`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Strict Mode</h2>

<p id="demo"></p>

<script>
"use strict";

let output = "";

output += "<strong>Strict Mode Demo:</strong><br><br>";

// Must declare variables
let x = 10;
output += "Declared variable: x = " + x + "<br><br>";

// Without strict mode, this would create a global:
// y = 5;  // Error in strict mode!

output += "<strong>Strict Mode Catches:</strong><br>";
output += " Undeclared variables<br>";
output += " Writing to read-only properties<br>";
output += " Deleting variables or functions<br>";
output += " Duplicate parameter names<br>";
output += " Reserved word usage<br><br>";

// Demonstrating with try-catch
output += "<strong>Error Examples:</strong><br>";

try {
  eval('z = 5');  // Would error: z is not defined
} catch (e) {
  output += "Error: " + e.message + "<br>";
}

// This works because variables are declared
let person = {name: "John"};
output += "Valid object: " + JSON.stringify(person) + "<br><br>";

// Functions in strict mode
function strictFunction() {
  "use strict";
  let local = "local variable";
  return local;
}

output += "<strong>Best Practice:</strong><br>";
output += "Always use 'use strict' at the beginning of files or functions.";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'this': {
      title: 'JavaScript this Keyword',
      content: `## JavaScript this Keyword

The this keyword refers to an object, depending on how it is used.

### this in Different Contexts

<pre><code class="javascript">
// In an object method
const person = {
  name: "John",
  greet: function() {
    return "Hello, " + this.name;
  }
};

// Alone
console.log(this);  // Window object (in browser)

// In a function (strict mode)
function myFunction() {
  return this;  // undefined
}

// In an event handler
button.onclick = function() {
  this;  // The button element
};
</code></pre>

### Arrow Functions and this

Arrow functions don't have their own this. They inherit it from the parent scope.

<pre><code class="javascript">
const person = {
  name: "John",
  // Arrow function uses parent's this
  greet: () => "Hello, " + this.name  // Won't work!
};
</code></pre>

### Explicit Binding

<pre><code class="javascript">
call(thisArg, args)    // Call with this value
apply(thisArg, [args]) // Call with array of args
bind(thisArg)          // Returns new bound function
</code></pre>`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript this Keyword</h2>

<p id="demo"></p>

<button id="btn">Click me</button>

<script>
let output = "";

// this in object method
const person = {
  name: "John",
  age: 30,
  greet: function() {
    return "Hi, I'm " + this.name;
  },
  info: function() {
    return this.name + " is " + this.age;
  }
};

output += "<strong>this in Object Method:</strong><br>";
output += person.greet() + "<br>";
output += person.info() + "<br><br>";

// Arrow function inherits this
const obj = {
  name: "Object",
  regularFunc: function() {
    return "Regular: " + this.name;
  },
  arrowFunc: () => {
    return "Arrow: " + this.name;  // this is window/undefined
  }
};

output += "<strong>Regular vs Arrow Function:</strong><br>";
output += obj.regularFunc() + "<br>";
output += obj.arrowFunc() + " (inherits from parent)<br><br>";

// call, apply, bind
const user = { name: "Alice" };

function sayHello(greeting) {
  return greeting + ", " + this.name;
}

output += "<strong>call, apply, bind:</strong><br>";
output += "call: " + sayHello.call(user, "Hello") + "<br>";
output += "apply: " + sayHello.apply(user, ["Hi"]) + "<br>";

const boundFunc = sayHello.bind(user);
output += "bind: " + boundFunc("Hey") + "<br><br>";

document.getElementById("demo").innerHTML = output;

// this in event handler
document.getElementById("btn").addEventListener("click", function() {
  this.textContent = "Clicked!";
  this.style.backgroundColor = "lightgreen";
  // 'this' refers to the button
});
</script>

</body>
</html>`,
    },
  };

  return jsLessons[lessonSlug] || {
    title: 'Lesson',
    content: '# Coming Soon\n\nThis lesson content is being prepared.',
    tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Lesson</h2>
<p id="demo">This lesson is coming soon!</p>

<script>
// JavaScript code goes here
console.log("Hello, JavaScript!");
document.getElementById("demo").innerHTML = "JavaScript is awesome!";
</script>

</body>
</html>`,
  };
};

// Generate TypeScript lesson content
const generateTSLessonContent = (lessonSlug: string) => {
  const tsLessons: Record<string, any> = {
    home: {
      title: 'TypeScript Tutorial',
      content: `## TypeScript Tutorial

Welcome to the **TypeScript 0  Hero Mastery Program**!

TypeScript is a strongly typed programming language that builds on JavaScript, giving you better tooling at any scale.

## Why TypeScript?

- **Type Safety** - Catch errors before runtime
- **Better Tooling** - IntelliSense, refactoring, navigation
- **Enterprise Standard** - Required by most large companies
- **Future JavaScript** - Use tomorrow's features today

## What You'll Learn

1. **Type System Foundations** - Core types and inference
2. **Data Structures** - Arrays, tuples, objects, enums
3. **Composition** - Interfaces, unions, intersections
4. **Generics** - Reusable, type-safe code
5. **Advanced Types** - Conditional, mapped, literal types
6. **Real-World Integration** - Node.js, React, tooling

## Outcome

By the end, you will:
- Design APIs with bulletproof types
- Refactor large systems safely
- Read framework typings confidently
- Prevent runtime bugs before deployment
- Excel in senior TypeScript interviews

Let's begin your TypeScript mastery journey! `,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>TypeScript Basics</h2>
<p>TypeScript compiles to JavaScript:</p>
<pre id="demo"></pre>

<script>
// This is the compiled JavaScript from TypeScript
// TypeScript: let message: string = "Hello TypeScript!";
// Compiles to JavaScript:
let message = "Hello TypeScript!";
document.getElementById("demo").innerHTML = message;
</script>

</body>
</html>`,
    },
    introduction: {
      title: 'TS Introduction',
      content: `## What is TypeScript?

TypeScript is a **typed superset of JavaScript** that compiles to plain JavaScript.

### The Key Concept

\`\`\`
TypeScript = JavaScript + Static Types
\`\`\`

### Why Enterprises Mandate TypeScript

1. **Compile-Time Error Detection**
   - Catch bugs before they reach production
   - No more "undefined is not a function"

2. **Better Developer Experience**
   - IntelliSense and autocomplete
   - Confident refactoring
   - Self-documenting code

3. **Scalability**
   - Teams can work on large codebases
   - API contracts are enforced

### What TypeScript Actually Is

\`\`\`typescript
// TypeScript adds type annotations
let name: string = "Alice";
let age: number = 30;
let isActive: boolean = true;

// This would cause a compile-time error:
// name = 42;  // Error: Type 'number' is not assignable to type 'string'
\`\`\`

### Compile-Time vs Runtime

| Compile-Time (TypeScript) | Runtime (JavaScript) |
|---------------------------|----------------------|
| Type checking             | No type checking     |
| Catches type errors       | Errors crash the app |
| Development time          | Execution time       |

### Where TypeScript Stops

Important: TypeScript types are **erased at runtime**!

\`\`\`typescript
// This TypeScript...
function greet(name: string): string {
  return "Hello, " + name;
}

// ...compiles to this JavaScript (no types!)
function greet(name) {
  return "Hello, " + name;
}
\`\`\`

TypeScript cannot:
- Validate API responses at runtime
- Guarantee types from external sources
- Replace runtime validation for user input

### Key Takeaway

TypeScript reduces production incidents by catching errors during development, but you still need runtime validation for external data.`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>TypeScript Introduction</h2>
<div id="demo"></div>

<script>
// This is the compiled JavaScript from TypeScript

// TypeScript version:
// function greet(name: string): string {
//   return "Hello, " + name + "!";
// }

// Compiled JavaScript:
function greet(name) {
  return "Hello, " + name + "!";
}

// TypeScript would catch this error at compile time:
// greet(42);  // Error!

// But valid calls work fine:
document.getElementById("demo").innerHTML = greet("TypeScript");
</script>

</body>
</html>`,
    },
    'get-started': {
      title: 'TS Get Started',
      content: `## Getting Started with TypeScript

### Installing TypeScript

\`\`\`bash
# Install globally
npm install -g typescript

# Or in a project
npm install --save-dev typescript

# Check version
tsc --version
\`\`\`

### Your First TypeScript File

Create a file named \`hello.ts\`:

\`\`\`typescript
// hello.ts
let message: string = "Hello, TypeScript!";
console.log(message);
\`\`\`

### Compiling TypeScript

\`\`\`bash
# Compile to JavaScript
tsc hello.ts

# This creates hello.js
\`\`\`

### The Compile  JS Mental Model

\`\`\`
TypeScript (.ts)    tsc compiler    JavaScript (.js)
                                           
  Your code          Type check           Browser/Node
  with types         & compile            runs this
\`\`\`

### Watch Mode

\`\`\`bash
# Auto-compile on file changes
tsc hello.ts --watch
\`\`\`

### Project Setup

\`\`\`bash
# Initialize a TypeScript project
tsc --init

# This creates tsconfig.json
\`\`\`

### Running TypeScript Directly

\`\`\`bash
# Using ts-node (no manual compile step)
npm install -g ts-node
ts-node hello.ts
\`\`\`

### Quick Start Example

\`\`\`typescript
// Basic types
let name: string = "Alice";
let age: number = 30;
let isStudent: boolean = false;

// Arrays
let numbers: number[] = [1, 2, 3];
let names: string[] = ["Alice", "Bob"];

// Functions
function add(a: number, b: number): number {
  return a + b;
}

console.log(add(5, 3));  // 8
\`\`\`

### Key Commands

| Command | Description |
|---------|-------------|
| \`tsc\` | Compile all files in project |
| \`tsc file.ts\` | Compile specific file |
| \`tsc --watch\` | Watch mode |
| \`tsc --init\` | Create tsconfig.json |`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>TypeScript Get Started</h2>
<div id="demo"></div>

<script>
// Compiled TypeScript to JavaScript

// Original TypeScript:
// let greeting: string = "Welcome to TypeScript!";
// let version: number = 5.3;
// 
// function showInfo(text: string, ver: number): string {
//   return text + " Version: " + ver;
// }

// Compiled JavaScript:
let greeting = "Welcome to TypeScript!";
let version = 5.3;

function showInfo(text, ver) {
  return text + " Version: " + ver;
}

document.getElementById("demo").innerHTML = showInfo(greeting, version);
</script>

</body>
</html>`,
    },
    configuration: {
      title: 'TS Configuration',
      content: `## TypeScript Configuration

**This is where most courses fail.** Understanding \`tsconfig.json\` is critical.

### Creating tsconfig.json

\`\`\`bash
tsc --init
\`\`\`

### Essential tsconfig.json

\`\`\`json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "strict": true,
    "outDir": "./dist",
    "rootDir": "./src",
    "sourceMap": true,
    "resolveJsonModule": true,
    "strictNullChecks": true,
    "noImplicitAny": true
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules"]
}
\`\`\`

### Strict Mode (Non-Negotiable)

\`strict: true\` enables all strict type-checking options:

| Option | What It Does |
|--------|--------------|
| \`strictNullChecks\` | null/undefined handled explicitly |
| \`noImplicitAny\` | No implicit any types |
| \`strictFunctionTypes\` | Strict function parameter checking |
| \`strictBindCallApply\` | Strict bind/call/apply |
| \`strictPropertyInitialization\` | Class properties must be initialized |

### Target Options

\`\`\`json
{
  "target": "ES5"      // IE11 compatible
  "target": "ES2015"   // Modern browsers
  "target": "ES2020"   // Node 14+
  "target": "ESNext"   // Latest features
}
\`\`\`

### Module Options

\`\`\`json
{
  "module": "commonjs"  // Node.js (require/exports)
  "module": "ES2020"    // ES Modules (import/export)
  "module": "NodeNext"  // Node.js with ESM support
}
\`\`\`

### Key Takeaway

Always use \`strict: true\`. It's the difference between "TypeScript-flavored JavaScript" and actual type safety.`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>TypeScript Configuration</h2>
<pre id="demo"></pre>

<script>
// With strict mode, TypeScript catches many errors

// Without strict mode, this would be allowed:
// let value;  // implicitly 'any'
// value.doSomething();  // runtime error!

// With strict mode (noImplicitAny):
// let value;  // Error: Variable 'value' implicitly has 'any' type

// Proper TypeScript:
let value = "Hello";  // inferred as string
let output = "Configuration Examples:\\n\\n";
output += "Target: ES2020\\n";
output += "Module: commonjs\\n";
output += "Strict: true (always!)\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'simple-types': {
      title: 'TS Simple Types',
      content: `## TypeScript Simple Types

The foundation of TypeScript's type system.

### The Three Primitives

\`\`\`typescript
// String
let firstName: string = "Alice";
let greeting: string = \`Hello, \${firstName}\`;

// Number (integers and floats)
let age: number = 30;
let price: number = 19.99;
let hex: number = 0xf00d;

// Boolean
let isActive: boolean = true;
let hasPermission: boolean = false;
\`\`\`

### The Dangerous \`any\`

\`\`\`typescript
// any disables type checking - AVOID!
let dangerous: any = "hello";
dangerous = 42;           // No error
dangerous = { x: 1 };     // No error
dangerous.foo.bar.baz;    // No error, but RUNTIME CRASH!

// Why any is dangerous:
// - Defeats the purpose of TypeScript
// - Hides bugs until runtime
// - Makes refactoring unsafe
\`\`\`

### The Powerful \`unknown\`

\`\`\`typescript
// unknown is the type-safe counterpart of any
let value: unknown = "hello";

// Cannot use directly - must check type first!
// value.toUpperCase();  // Error!

// Type narrowing required
if (typeof value === "string") {
  console.log(value.toUpperCase());  // OK!
}

// unknown is safe because it forces you to validate
\`\`\`

### any vs unknown

| Feature | any | unknown |
|---------|-----|---------|
| Accepts any value |  |  |
| Can use without check |  |  |
| Type-safe |  |  |
| Recommended |  |  |

### Type Inference

TypeScript can infer types from values:

\`\`\`typescript
// Explicit typing
let explicit: string = "hello";

// Implicit typing (inferred)
let inferred = "hello";  // TypeScript knows it's string

// Both are equivalent!
\`\`\`

### When to Use Each

\`\`\`typescript
// Use string for text
let name: string = "Alice";

// Use number for any numeric value
let count: number = 42;

// Use boolean for true/false
let isValid: boolean = true;

// Use unknown for values from external sources
let userInput: unknown = JSON.parse(data);

// NEVER use any (unless you really have to)
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>TypeScript Simple Types</h2>
<pre id="demo"></pre>

<script>
// Compiled TypeScript showing type usage

// TypeScript:
// let name: string = "Alice";
// let age: number = 30;
// let isActive: boolean = true;

// JavaScript (types erased):
let name = "Alice";
let age = 30;
let isActive = true;

let output = "Simple Types Demo:\\n\\n";
output += "name: " + name + " (string)\\n";
output += "age: " + age + " (number)\\n";
output += "isActive: " + isActive + " (boolean)\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'explicit-inference': {
      title: 'TS Explicit & Inference',
      content: `## Explicit Types vs Type Inference

Understanding when to write types and when to let TypeScript infer them.

### Type Inference in Action

\`\`\`typescript
// TypeScript infers the type from the value
let message = "Hello";      // inferred: string
let count = 42;             // inferred: number
let items = [1, 2, 3];      // inferred: number[]
let user = { name: "Bob" }; // inferred: { name: string }
\`\`\`

### Explicit Typing

\`\`\`typescript
// You explicitly declare the type
let message: string = "Hello";
let count: number = 42;
let items: number[] = [1, 2, 3];
let user: { name: string } = { name: "Bob" };
\`\`\`

### When to Trust Inference

 **Trust inference when:**

\`\`\`typescript
// Variable initialization with clear values
let name = "Alice";           // Obviously string
let numbers = [1, 2, 3];      // Obviously number[]

// Return types of simple functions
const double = (x: number) => x * 2;  // Return: number (inferred)

// Object literals
const config = {
  debug: true,
  port: 3000
};  // Type inferred correctly
\`\`\`

### When to Use Explicit Types

 **Use explicit types when:**

\`\`\`typescript
// Function parameters (always!)
function greet(name: string): string {
  return "Hello, " + name;
}

// Empty arrays
let items: string[] = [];  // Without type: never[]

// Variables that might be reassigned
let value: string | number = "hello";
value = 42;  // OK because we declared union

// API responses
interface User {
  id: number;
  name: string;
}
const user: User = await fetchUser();

// Complex objects
const config: ServerConfig = {
  port: 3000,
  host: "localhost"
};
\`\`\`

### The Golden Rules

1. **Always type function parameters**
2. **Let inference handle obvious cases**
3. **Type complex or unclear structures**
4. **Type empty collections**
5. **Type API boundaries**

### Return Type Inference

\`\`\`typescript
// Return type is inferred
function add(a: number, b: number) {
  return a + b;  // Returns number
}

// But explicit is safer for complex functions
function fetchUser(id: number): Promise<User> {
  // Makes the contract clear
  return api.get(\`/users/\${id}\`);
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Type Inference Demo</h2>
<pre id="demo"></pre>

<script>
// TypeScript infers types automatically

// These types are inferred:
let message = "Hello";        // string
let count = 42;               // number
let isActive = true;          // boolean
let numbers = [1, 2, 3];      // number[]

// Function with explicit parameter types
function greet(name) {  // In TS: name: string
  return "Hello, " + name;
}

let output = "Type Inference Examples:\\n\\n";
output += "message: " + typeof message + "\\n";
output += "count: " + typeof count + "\\n";
output += "isActive: " + typeof isActive + "\\n";
output += "numbers: " + (Array.isArray(numbers) ? "array" : typeof numbers) + "\\n";
output += "\\nGreeting: " + greet("TypeScript");

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'special-types': {
      title: 'TS Special Types',
      content: `## TypeScript Special Types

Master these for interviews and real-world TypeScript.

### \`any\` - The Escape Hatch

\`\`\`typescript
// any accepts anything - no type checking
let value: any = "hello";
value = 42;
value = { x: 1 };
value.anything.goes();  // No error, but crashes at runtime!

// When to use any (rarely):
// - Migrating JavaScript code incrementally
// - Working with truly dynamic data
// - Third-party libraries without types
\`\`\`

### \`unknown\` - The Safe Alternative

\`\`\`typescript
// unknown requires type checking before use
let value: unknown = getUserInput();

// Error: Cannot use unknown directly
// console.log(value.toUpperCase());

// Must narrow the type first
if (typeof value === "string") {
  console.log(value.toUpperCase());  // OK!
}

// Use unknown for:
// - API responses before validation
// - User input
// - Any external data
\`\`\`

### \`never\` - The Impossible Type

\`\`\`typescript
// never represents values that never occur

// Functions that never return
function throwError(message: string): never {
  throw new Error(message);
}

function infiniteLoop(): never {
  while (true) {}
}

// Exhaustiveness checking
type Shape = "circle" | "square";

function getArea(shape: Shape): number {
  switch (shape) {
    case "circle":
      return Math.PI * 10 * 10;
    case "square":
      return 10 * 10;
    default:
      // If we add new shape and forget to handle it,
      // TypeScript will error here!
      const _exhaustive: never = shape;
      return _exhaustive;
  }
}
\`\`\`

### \`void\` - No Return Value

\`\`\`typescript
// void means function doesn't return anything
function logMessage(message: string): void {
  console.log(message);
  // No return statement
}

// void vs undefined
function returnsVoid(): void {}
function returnsUndefined(): undefined {
  return undefined;
}
\`\`\`

### Quick Reference

| Type | Meaning | Use Case |
|------|---------|----------|
| \`any\` | Disables type checking | Migration, escape hatch |
| \`unknown\` | Unknown type, must check | External data |
| \`never\` | Never occurs | Exhaustive checks, errors |
| \`void\` | No return value | Side-effect functions |

### Interview Questions

**Q: What's the difference between any and unknown?**
A: \`any\` disables type checking, \`unknown\` requires narrowing before use.

**Q: When would you use never?**
A: Exhaustiveness checking and functions that never return.`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Special Types Demo</h2>
<pre id="demo"></pre>

<script>
// Demonstrating TypeScript special types

let output = "Special Types in TypeScript:\\n\\n";

// unknown requires type checking
function processValue(value) {
  if (typeof value === "string") {
    return "String: " + value.toUpperCase();
  } else if (typeof value === "number") {
    return "Number: " + value * 2;
  }
  return "Unknown type";
}

output += "unknown example:\\n";
output += processValue("hello") + "\\n";
output += processValue(21) + "\\n\\n";

// void function
function logAndReturn(msg) {
  console.log(msg);
  // Returns undefined (void)
}

output += "void function: logAndReturn returns " + logAndReturn("test") + "\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'null': {
      title: 'TS Null & Undefined',
      content: `## Null and Undefined in TypeScript

One of TypeScript's most powerful features: \`strictNullChecks\`.

### The Problem Without Strict Null Checks

\`\`\`typescript
// Without strictNullChecks, this compiles fine:
let name: string = null;  // Allowed!
name.toUpperCase();       // Runtime crash!
\`\`\`

### With strictNullChecks (Recommended)

\`\`\`typescript
// With strictNullChecks: true in tsconfig.json

let name: string = null;  // Error! Type 'null' is not assignable

// Must explicitly allow null
let name: string | null = null;  // OK

// Now you must check before using
if (name !== null) {
  console.log(name.toUpperCase());  // Safe!
}
\`\`\`

### Optional Properties

\`\`\`typescript
interface User {
  name: string;
  email?: string;  // Optional = string | undefined
}

function sendEmail(user: User) {
  // user.email might be undefined
  if (user.email) {
    sendTo(user.email);  // Safe!
  }
}
\`\`\`

### Optional Chaining

\`\`\`typescript
const user: User | null = getUser();

// Old way (verbose)
if (user && user.address && user.address.city) {
  console.log(user.address.city);
}

// Optional chaining
console.log(user?.address?.city);  // undefined if any is null
\`\`\`

### Nullish Coalescing

\`\`\`typescript
// ?? returns right side only if left is null/undefined
let name = user.name ?? "Anonymous";

// Different from || which also triggers on "", 0, false
let count = data.count ?? 0;   // Only null/undefined  0
let count = data.count || 0;   // Also "", 0, false  0
\`\`\`

### Non-Null Assertion (Use Carefully!)

\`\`\`typescript
let element = document.getElementById("app");
// element is HTMLElement | null

// Non-null assertion (you're telling TS "trust me")
element!.innerHTML = "Hello";  // Risky!

// Better: check first
if (element) {
  element.innerHTML = "Hello";  // Safe
}
\`\`\`

### Defensive Programming Patterns

\`\`\`typescript
// Default values
function greet(name: string | null | undefined) {
  const safeName = name ?? "Guest";
  return \`Hello, \${safeName}\`;
}

// Early return
function processUser(user: User | null) {
  if (!user) {
    return;  // Exit early
  }
  // user is definitely User here
  console.log(user.name);
}

// Type narrowing
function getLength(value: string | null): number {
  if (value === null) {
    return 0;
  }
  return value.length;  // value is string here
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Null Safety Demo</h2>
<pre id="demo"></pre>

<script>
// Null-safe patterns in TypeScript

// Optional chaining
let user = { name: "Alice", address: { city: "NYC" } };
let city = user?.address?.city ?? "Unknown";

// Nullish coalescing
let value = null;
let result = value ?? "default";

// Safe function
function greet(name) {
  let safeName = name ?? "Guest";
  return "Hello, " + safeName + "!";
}

let output = "Null Safety Examples:\\n\\n";
output += "City: " + city + "\\n";
output += "Result: " + result + "\\n";
output += "Greet null: " + greet(null) + "\\n";
output += "Greet name: " + greet("TypeScript") + "\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    // PHASE 3 - Data Structures
    arrays: {
      title: 'TS Arrays',
      content: `## TypeScript Arrays

Typed arrays are the foundation of data handling in TypeScript.

### Basic Array Types

\`\`\`typescript
// Two syntaxes for array types
let numbers: number[] = [1, 2, 3];
let names: Array<string> = ["Alice", "Bob"];

// Both are equivalent, number[] is more common
\`\`\`

### Array Type Inference

\`\`\`typescript
// TypeScript infers the type
let items = [1, 2, 3];        // number[]
let mixed = [1, "hello"];     // (string | number)[]

// Empty arrays need explicit type
let empty: string[] = [];     // Without type: never[]
\`\`\`

### Readonly Arrays

\`\`\`typescript
// Immutable arrays
const numbers: readonly number[] = [1, 2, 3];
// numbers.push(4);  // Error! Property 'push' does not exist

// Alternative syntax
const items: ReadonlyArray<string> = ["a", "b"];
\`\`\`

### Array Methods with Types

\`\`\`typescript
const numbers: number[] = [1, 2, 3, 4, 5];

// map preserves type
const doubled = numbers.map(n => n * 2);  // number[]

// filter preserves type
const even = numbers.filter(n => n % 2 === 0);  // number[]

// find returns element or undefined
const found = numbers.find(n => n > 3);  // number | undefined

// reduce needs explicit accumulator type sometimes
const sum = numbers.reduce((acc, n) => acc + n, 0);  // number
\`\`\`

### Multi-dimensional Arrays

\`\`\`typescript
// 2D array
let matrix: number[][] = [
  [1, 2, 3],
  [4, 5, 6]
];

// 3D array
let cube: number[][][] = [[[1]]];
\`\`\`

### Array Generic Syntax

\`\`\`typescript
// Useful for complex element types
let users: Array<{ name: string; age: number }> = [
  { name: "Alice", age: 30 },
  { name: "Bob", age: 25 }
];
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>TypeScript Arrays</h2>
<pre id="demo"></pre>

<script>
// TypeScript arrays in action

let numbers = [1, 2, 3, 4, 5];
let names = ["Alice", "Bob", "Charlie"];

// Array methods
let doubled = numbers.map(n => n * 2);
let even = numbers.filter(n => n % 2 === 0);
let sum = numbers.reduce((acc, n) => acc + n, 0);

let output = "Array Examples:\\n\\n";
output += "Original: " + numbers.join(", ") + "\\n";
output += "Doubled: " + doubled.join(", ") + "\\n";
output += "Even: " + even.join(", ") + "\\n";
output += "Sum: " + sum + "\\n";
output += "Names: " + names.join(", ") + "\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    tuples: {
      title: 'TS Tuples',
      content: `## TypeScript Tuples

Fixed-length arrays with specific types at each position.

### Basic Tuples

\`\`\`typescript
// Tuple: fixed length, typed positions
let person: [string, number] = ["Alice", 30];

// Access by index
let name: string = person[0];  // "Alice"
let age: number = person[1];   // 30

// Type error if wrong type
// person[0] = 42;  // Error! Type 'number' is not assignable to type 'string'
\`\`\`

### Named Tuples (TypeScript 4.0+)

\`\`\`typescript
// Labels for clarity
type Person = [name: string, age: number, active: boolean];

const user: Person = ["Bob", 25, true];

// Labels are just documentation, access is still by index
console.log(user[0]);  // "Bob"
\`\`\`

### Optional Tuple Elements

\`\`\`typescript
// Optional elements at the end
type Response = [number, string, boolean?];

const success: Response = [200, "OK", true];
const error: Response = [500, "Error"];  // boolean is optional
\`\`\`

### Rest Elements in Tuples

\`\`\`typescript
// First element is string, rest are numbers
type StringAndNumbers = [string, ...number[]];

const data: StringAndNumbers = ["values", 1, 2, 3, 4, 5];
\`\`\`

### Tuple vs Array Decision

| Use Tuple When | Use Array When |
|---------------|----------------|
| Fixed structure | Variable length |
| Different types per position | Same type throughout |
| Position has meaning | Order doesn't matter |
| Like a row in database | Like a list |

### Common Use Cases

\`\`\`typescript
// Function returning multiple values
function getCoordinates(): [number, number] {
  return [10, 20];
}

const [x, y] = getCoordinates();

// React useState pattern
const [count, setCount]: [number, (n: number) => void] = useState(0);

// Key-value pairs
type Entry = [string, number];
const entries: Entry[] = [["a", 1], ["b", 2]];
\`\`\`

### Destructuring Tuples

\`\`\`typescript
const tuple: [string, number, boolean] = ["Alice", 30, true];

const [name, age, isActive] = tuple;
console.log(name);      // "Alice"
console.log(age);       // 30
console.log(isActive);  // true
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>TypeScript Tuples</h2>
<pre id="demo"></pre>

<script>
// Tuple examples

// Person tuple: [name, age]
let person = ["Alice", 30];

// Coordinate tuple: [x, y]
let point = [10, 20];

// Destructuring
let [name, age] = person;
let [x, y] = point;

// Function returning tuple
function divide(a, b) {
  return [Math.floor(a / b), a % b];  // [quotient, remainder]
}

let [quotient, remainder] = divide(17, 5);

let output = "Tuple Examples:\\n\\n";
output += "Person: " + name + ", " + age + "\\n";
output += "Point: (" + x + ", " + y + ")\\n";
output += "17  5 = " + quotient + " remainder " + remainder + "\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'object-types': {
      title: 'TS Object Types',
      content: `## TypeScript Object Types

Structural typing for objects.

### Inline Object Types

\`\`\`typescript
// Define object shape inline
let user: { name: string; age: number } = {
  name: "Alice",
  age: 30
};
\`\`\`

### Structural Typing

TypeScript uses **structural typing** (duck typing):

\`\`\`typescript
interface Point {
  x: number;
  y: number;
}

// This works even without explicit interface
let p = { x: 10, y: 20, z: 30 };  // Has extra property

function printPoint(point: Point) {
  console.log(point.x, point.y);
}

printPoint(p);  // OK! Has required x and y
\`\`\`

### Optional Properties

\`\`\`typescript
interface User {
  name: string;
  email?: string;  // Optional
}

const user1: User = { name: "Alice" };  // OK
const user2: User = { name: "Bob", email: "bob@example.com" };  // OK
\`\`\`

### Readonly Properties

\`\`\`typescript
interface Config {
  readonly apiKey: string;
  readonly baseUrl: string;
}

const config: Config = {
  apiKey: "secret",
  baseUrl: "https://api.example.com"
};

// config.apiKey = "new";  // Error! Cannot assign to 'apiKey'
\`\`\`

### Excess Property Checks

\`\`\`typescript
interface Options {
  width: number;
  height: number;
}

// Error! Object literal with unknown property
// const opts: Options = { width: 100, height: 200, color: "red" };

// Workaround 1: Variable assignment
const extra = { width: 100, height: 200, color: "red" };
const opts: Options = extra;  // OK

// Workaround 2: Index signature
interface FlexibleOptions {
  width: number;
  height: number;
  [key: string]: any;  // Allow extra properties
}
\`\`\`

### Nested Objects

\`\`\`typescript
interface Company {
  name: string;
  address: {
    street: string;
    city: string;
    country: string;
  };
  employees: {
    name: string;
    role: string;
  }[];
}
\`\`\`

### Methods in Object Types

\`\`\`typescript
interface Calculator {
  value: number;
  add(n: number): number;
  subtract: (n: number) => number;  // Alternative syntax
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>TypeScript Object Types</h2>
<pre id="demo"></pre>

<script>
// Object type examples

let user = {
  name: "Alice",
  age: 30,
  email: "alice@example.com"
};

let company = {
  name: "TechCorp",
  address: {
    city: "San Francisco",
    country: "USA"
  }
};

let output = "Object Examples:\\n\\n";
output += "User: " + user.name + ", " + user.age + "\\n";
output += "Email: " + user.email + "\\n";
output += "Company: " + company.name + "\\n";
output += "Location: " + company.address.city + ", " + company.address.country + "\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    enums: {
      title: 'TS Enums',
      content: `## TypeScript Enums

Named constants for related values.

### Numeric Enums

\`\`\`typescript
enum Direction {
  Up,      // 0
  Down,    // 1
  Left,    // 2
  Right    // 3
}

let move: Direction = Direction.Up;
console.log(move);  // 0
\`\`\`

### Custom Numeric Values

\`\`\`typescript
enum StatusCode {
  OK = 200,
  Created = 201,
  BadRequest = 400,
  NotFound = 404,
  ServerError = 500
}

console.log(StatusCode.OK);  // 200
\`\`\`

### String Enums

\`\`\`typescript
enum Color {
  Red = "RED",
  Green = "GREEN",
  Blue = "BLUE"
}

console.log(Color.Red);  // "RED"
\`\`\`

### Const Enums (Better Performance)

\`\`\`typescript
const enum Direction {
  Up,
  Down,
  Left,
  Right
}

// Compiles to literal values (no runtime enum object)
let move = Direction.Up;  // Compiles to: let move = 0;
\`\`\`

### Why Many Teams Avoid Enums

\`\`\`typescript
// Problem 1: Numeric enums allow invalid values
enum Status { Active, Inactive }
let s: Status = 99;  // No error! 

// Problem 2: Adds runtime code

// Alternative: Union of literals (preferred by many)
type Direction = "up" | "down" | "left" | "right";
let move: Direction = "up";  // Type-safe, no runtime overhead

// Alternative: Const object
const COLORS = {
  Red: "RED",
  Green: "GREEN",
  Blue: "BLUE"
} as const;

type Color = typeof COLORS[keyof typeof COLORS];
\`\`\`

### When to Use Enums

 Use enums when:
- You need reverse mapping (number  name)
- Working with external APIs that use numbers
- You want IDE autocomplete

 Prefer union types when:
- You want the simplest solution
- You don't need runtime enum object
- Working in strict TypeScript environments

### Enum Best Practices

\`\`\`typescript
// Use string enums for clarity
enum LogLevel {
  Debug = "DEBUG",
  Info = "INFO",
  Warn = "WARN",
  Error = "ERROR"
}

// Use const enums for performance
const enum HttpMethod {
  GET,
  POST,
  PUT,
  DELETE
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>TypeScript Enums</h2>
<pre id="demo"></pre>

<script>
// Simulating enum behavior in JavaScript

// Numeric enum equivalent
const Direction = {
  Up: 0,
  Down: 1,
  Left: 2,
  Right: 3
};

// String enum equivalent
const Color = {
  Red: "RED",
  Green: "GREEN",
  Blue: "BLUE"
};

let output = "Enum Examples:\\n\\n";
output += "Direction.Up = " + Direction.Up + "\\n";
output += "Direction.Right = " + Direction.Right + "\\n";
output += "Color.Red = " + Color.Red + "\\n";
output += "Color.Blue = " + Color.Blue + "\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    // PHASE 4 - Composition
    'aliases-interfaces': {
      title: 'TS Aliases & Interfaces',
      content: `## Type Aliases vs Interfaces

Two ways to define types. Understanding when to use each.

### Type Aliases

\`\`\`typescript
// Type alias for primitives
type ID = string | number;
type Callback = (data: string) => void;

// Type alias for objects
type User = {
  name: string;
  age: number;
};

// Type alias for unions
type Status = "pending" | "active" | "completed";
\`\`\`

### Interfaces

\`\`\`typescript
// Interface for objects
interface User {
  name: string;
  age: number;
}

// Interfaces can extend
interface Employee extends User {
  employeeId: string;
  department: string;
}
\`\`\`

### Key Differences

| Feature | type | interface |
|---------|------|-----------|
| Primitives |  |  |
| Unions |  |  |
| Objects |  |  |
| Extends | Intersection (&) | extends |
| Declaration merging |  |  |
| Computed properties |  |  |

### Extension vs Intersection

\`\`\`typescript
// Interface: extends
interface Animal {
  name: string;
}
interface Dog extends Animal {
  breed: string;
}

// Type: intersection
type Animal = { name: string };
type Dog = Animal & { breed: string };
\`\`\`

### Declaration Merging (Interface Only)

\`\`\`typescript
interface User {
  name: string;
}

interface User {
  age: number;
}

// User now has both name and age!
const user: User = { name: "Alice", age: 30 };
\`\`\`

### Real-World Decision Rules

1. **Use \`interface\`** for public API definitions
2. **Use \`interface\`** when extending third-party types
3. **Use \`type\`** for unions and intersections
4. **Use \`type\`** for primitives and tuples
5. **Be consistent** within your codebase

### Common Patterns

\`\`\`typescript
// Type for React props
type ButtonProps = {
  onClick: () => void;
  children: React.ReactNode;
  variant?: "primary" | "secondary";
};

// Interface for class implementation
interface Repository<T> {
  find(id: string): Promise<T>;
  save(item: T): Promise<void>;
}

class UserRepository implements Repository<User> {
  async find(id: string) { /* ... */ }
  async save(user: User) { /* ... */ }
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Type Aliases vs Interfaces</h2>
<pre id="demo"></pre>

<script>
// Demonstrating type concepts in JavaScript

// In TypeScript, these would be type definitions:
// type ID = string | number;
// interface User { name: string; age: number; }

// Runtime JavaScript just uses objects
let user = { name: "Alice", age: 30 };
let employee = { ...user, employeeId: "E001", department: "Engineering" };

let output = "Type Aliases & Interfaces Demo:\\n\\n";
output += "User: " + JSON.stringify(user) + "\\n\\n";
output += "Employee (extends User):\\n";
output += JSON.stringify(employee, null, 2);

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'union-types': {
      title: 'TS Union Types',
      content: `## TypeScript Union Types

One of TypeScript's most powerful features.

### Basic Unions

\`\`\`typescript
// Variable can be string OR number
let id: string | number;
id = "abc";  // OK
id = 123;    // OK
// id = true;   // Error!

// Function parameter
function printId(id: string | number) {
  console.log("ID:", id);
}
\`\`\`

### Narrowing Union Types

\`\`\`typescript
function printId(id: string | number) {
  // Must narrow before using type-specific methods
  if (typeof id === "string") {
    console.log(id.toUpperCase());  // OK - string method
  } else {
    console.log(id.toFixed(2));     // OK - number method
  }
}
\`\`\`

### Discriminated Unions (Tagged Unions)

\`\`\`typescript
// Each type has a "discriminant" property
interface Circle {
  kind: "circle";
  radius: number;
}

interface Square {
  kind: "square";
  size: number;
}

interface Rectangle {
  kind: "rectangle";
  width: number;
  height: number;
}

type Shape = Circle | Square | Rectangle;

function getArea(shape: Shape): number {
  switch (shape.kind) {
    case "circle":
      return Math.PI * shape.radius ** 2;
    case "square":
      return shape.size ** 2;
    case "rectangle":
      return shape.width * shape.height;
  }
}
\`\`\`

### Exhaustiveness Checking

\`\`\`typescript
function getArea(shape: Shape): number {
  switch (shape.kind) {
    case "circle":
      return Math.PI * shape.radius ** 2;
    case "square":
      return shape.size ** 2;
    case "rectangle":
      return shape.width * shape.height;
    default:
      // If we add a new shape and forget to handle it,
      // TypeScript will error here!
      const _exhaustive: never = shape;
      return _exhaustive;
  }
}
\`\`\`

### Literal Type Unions

\`\`\`typescript
type Direction = "north" | "south" | "east" | "west";
type Status = "pending" | "approved" | "rejected";
type HttpMethod = "GET" | "POST" | "PUT" | "DELETE";

function move(direction: Direction) {
  console.log("Moving", direction);
}

move("north");  // OK
// move("up");  // Error! Not in union
\`\`\`

### Union with null/undefined

\`\`\`typescript
function getUser(id: string): User | null {
  const user = database.find(id);
  return user ?? null;
}

const user = getUser("123");
if (user) {
  console.log(user.name);  // Narrowed to User
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Union Types Demo</h2>
<pre id="demo"></pre>

<script>
// Demonstrating union type concepts

// Function that handles union types
function formatId(id) {
  if (typeof id === "string") {
    return "String ID: " + id.toUpperCase();
  } else {
    return "Number ID: " + id.toFixed(0);
  }
}

// Discriminated union pattern
function getShapeArea(shape) {
  switch (shape.kind) {
    case "circle":
      return Math.PI * shape.radius ** 2;
    case "square":
      return shape.size ** 2;
    case "rectangle":
      return shape.width * shape.height;
  }
}

let circle = { kind: "circle", radius: 5 };
let square = { kind: "square", size: 4 };

let output = "Union Types Examples:\\n\\n";
output += formatId("abc123") + "\\n";
output += formatId(42) + "\\n\\n";
output += "Circle area: " + getShapeArea(circle).toFixed(2) + "\\n";
output += "Square area: " + getShapeArea(square) + "\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    keyof: {
      title: 'TS Keyof',
      content: `## TypeScript keyof Operator

Get union of keys from an object type.

### Basic keyof

\`\`\`typescript
interface User {
  name: string;
  age: number;
  email: string;
}

// keyof creates union of property names
type UserKeys = keyof User;  // "name" | "age" | "email"
\`\`\`

### Safe Property Access

\`\`\`typescript
function getProperty<T, K extends keyof T>(obj: T, key: K): T[K] {
  return obj[key];
}

const user = { name: "Alice", age: 30 };

const name = getProperty(user, "name");  // string
const age = getProperty(user, "age");    // number
// getProperty(user, "invalid");  // Error!
\`\`\`

### Dynamic but Type-Safe Code

\`\`\`typescript
interface Settings {
  theme: "light" | "dark";
  fontSize: number;
  notifications: boolean;
}

function updateSetting<K extends keyof Settings>(
  settings: Settings,
  key: K,
  value: Settings[K]
): Settings {
  return { ...settings, [key]: value };
}

const settings: Settings = {
  theme: "light",
  fontSize: 14,
  notifications: true
};

// Type-safe updates
updateSetting(settings, "theme", "dark");      // OK
updateSetting(settings, "fontSize", 16);       // OK
// updateSetting(settings, "theme", 16);       // Error! string expected
// updateSetting(settings, "invalid", true);   // Error! not a valid key
\`\`\`

### keyof with typeof

\`\`\`typescript
const config = {
  apiUrl: "https://api.example.com",
  timeout: 5000,
  debug: false
};

// Get type of config object
type Config = typeof config;

// Get keys of that type
type ConfigKey = keyof typeof config;  // "apiUrl" | "timeout" | "debug"
\`\`\`

### Practical Examples

\`\`\`typescript
// Form validation
interface FormData {
  username: string;
  password: string;
  email: string;
}

type FormErrors = {
  [K in keyof FormData]?: string;
};

const errors: FormErrors = {
  email: "Invalid email format"
};

// Pick specific properties
type UserPreview = Pick<User, "name" | "email">;
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>keyof Operator Demo</h2>
<pre id="demo"></pre>

<script>
// Demonstrating keyof concepts

let user = {
  name: "Alice",
  age: 30,
  email: "alice@example.com"
};

// Safe property accessor
function getProperty(obj, key) {
  return obj[key];
}

// Get all keys
let keys = Object.keys(user);

let output = "keyof Examples:\\n\\n";
output += "User keys: " + keys.join(", ") + "\\n\\n";
output += "Safe access:\\n";
keys.forEach(key => {
  output += "  " + key + ": " + getProperty(user, key) + "\\n";
});

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'index-signatures': {
      title: 'TS Index Signatures',
      content: `## TypeScript Index Signatures

Handle objects with dynamic keys.

### Basic Index Signature

\`\`\`typescript
// Object with any string key
interface StringDictionary {
  [key: string]: string;
}

const dict: StringDictionary = {
  hello: "world",
  foo: "bar"
};

dict["newKey"] = "newValue";  // OK
\`\`\`

### Mixed Properties

\`\`\`typescript
interface NamedDictionary {
  name: string;  // Required property
  [key: string]: string;  // Additional dynamic keys
}

const data: NamedDictionary = {
  name: "Config",
  setting1: "value1",
  setting2: "value2"
};
\`\`\`

### Number Index Signature

\`\`\`typescript
interface NumberArray {
  [index: number]: string;
}

const arr: NumberArray = ["a", "b", "c"];
console.log(arr[0]);  // "a"
\`\`\`

### Record Utility Type

\`\`\`typescript
// Cleaner than index signature for many cases
type UserRoles = Record<string, string[]>;

const roles: UserRoles = {
  admin: ["read", "write", "delete"],
  user: ["read"],
  guest: []
};

// With specific keys
type Theme = Record<"light" | "dark", { bg: string; text: string }>;
\`\`\`

### Safe Unknown Structures

\`\`\`typescript
// For API responses with unknown shape
interface APIResponse {
  success: boolean;
  data: {
    [key: string]: unknown;
  };
}

function handleResponse(response: APIResponse) {
  if (response.success) {
    const name = response.data["name"];
    if (typeof name === "string") {
      console.log("Name:", name);
    }
  }
}
\`\`\`

### Readonly Index Signature

\`\`\`typescript
interface FrozenConfig {
  readonly [key: string]: string;
}

const config: FrozenConfig = {
  api: "https://api.example.com"
};

// config["api"] = "new";  // Error! Index signature is readonly
\`\`\`

### Template Literal Index

\`\`\`typescript
// TypeScript 4.4+
type DataProps = {
  [K in \`data-\${string}\`]: string;
};

const props: DataProps = {
  "data-id": "123",
  "data-name": "test"
};
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Index Signatures Demo</h2>
<pre id="demo"></pre>

<script>
// Dictionary pattern

let dictionary = {};
dictionary["hello"] = "world";
dictionary["foo"] = "bar";

// Dynamic key access
function getValue(dict, key) {
  return dict[key] || "not found";
}

// Record-like structure
let userRoles = {
  admin: ["read", "write", "delete"],
  user: ["read"],
  guest: []
};

let output = "Index Signatures Examples:\\n\\n";
output += "Dictionary: " + JSON.stringify(dictionary) + "\\n\\n";
output += "Get 'hello': " + getValue(dictionary, "hello") + "\\n";
output += "Get 'missing': " + getValue(dictionary, "missing") + "\\n\\n";
output += "User Roles:\\n";
for (let role in userRoles) {
  output += "  " + role + ": " + userRoles[role].join(", ") + "\\n";
}

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    // PHASE 5 - Functions & Classes
    functions: {
      title: 'TS Functions',
      content: `## TypeScript Functions

Type-safe function definitions.

### Parameter Types

\`\`\`typescript
// Always type your parameters
function greet(name: string): string {
  return "Hello, " + name;
}

// Arrow function
const add = (a: number, b: number): number => a + b;
\`\`\`

### Optional Parameters

\`\`\`typescript
function greet(name: string, greeting?: string): string {
  return (greeting ?? "Hello") + ", " + name;
}

greet("Alice");           // "Hello, Alice"
greet("Bob", "Welcome");  // "Welcome, Bob"
\`\`\`

### Default Parameters

\`\`\`typescript
function greet(name: string, greeting: string = "Hello"): string {
  return greeting + ", " + name;
}

greet("Alice");        // "Hello, Alice"
greet("Bob", "Hi");    // "Hi, Bob"
\`\`\`

### Rest Parameters

\`\`\`typescript
function sum(...numbers: number[]): number {
  return numbers.reduce((a, b) => a + b, 0);
}

sum(1, 2, 3);      // 6
sum(1, 2, 3, 4, 5); // 15
\`\`\`

### Function Overloads

\`\`\`typescript
// Multiple signatures for different use cases
function format(value: string): string;
function format(value: number): string;
function format(value: string | number): string {
  if (typeof value === "string") {
    return value.toUpperCase();
  }
  return value.toFixed(2);
}

format("hello");  // "HELLO"
format(3.14159);  // "3.14"
\`\`\`

### Function Types

\`\`\`typescript
// Type alias for function
type Calculator = (a: number, b: number) => number;

const add: Calculator = (a, b) => a + b;
const multiply: Calculator = (a, b) => a * b;

// Callback types
function process(data: string, callback: (result: string) => void) {
  callback(data.toUpperCase());
}
\`\`\`

### Return Types

\`\`\`typescript
// Explicit return type
function divide(a: number, b: number): number {
  return a / b;
}

// Void for no return
function log(message: string): void {
  console.log(message);
}

// Never for functions that don't return
function fail(message: string): never {
  throw new Error(message);
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>TypeScript Functions</h2>
<pre id="demo"></pre>

<script>
// Function examples

function greet(name, greeting) {
  greeting = greeting || "Hello";
  return greeting + ", " + name;
}

function sum(...numbers) {
  return numbers.reduce((a, b) => a + b, 0);
}

let add = (a, b) => a + b;
let multiply = (a, b) => a * b;

let output = "Function Examples:\\n\\n";
output += "greet('Alice'): " + greet("Alice") + "\\n";
output += "greet('Bob', 'Hi'): " + greet("Bob", "Hi") + "\\n";
output += "sum(1,2,3,4,5): " + sum(1,2,3,4,5) + "\\n";
output += "add(5, 3): " + add(5, 3) + "\\n";
output += "multiply(4, 7): " + multiply(4, 7) + "\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    casting: {
      title: 'TS Casting',
      content: `## TypeScript Casting (Type Assertions)

Tell TypeScript you know better about a type.

### Basic Type Assertions

\`\`\`typescript
// Two syntaxes (both equivalent)
let value: unknown = "hello";

// as syntax (preferred)
let str1 = value as string;

// Angle bracket syntax (doesn't work in JSX)
let str2 = <string>value;
\`\`\`

### When Casting is Necessary

\`\`\`typescript
// DOM elements
const input = document.getElementById("name") as HTMLInputElement;
input.value = "Hello";

// API responses
interface User {
  name: string;
  age: number;
}
const user = JSON.parse(data) as User;
\`\`\`

### When Casting is Lying to the Compiler

\`\`\`typescript
// DANGEROUS: You're telling TypeScript to trust you
const value = "hello" as any as number;
// value is actually a string, but TS thinks it's number!

// This will crash at runtime:
// value.toFixed(2);  // Runtime error!
\`\`\`

### Safe vs Unsafe Assertions

\`\`\`typescript
// SAFE: Narrowing down from unknown
let data: unknown = await fetchData();
if (typeof data === "object" && data !== null) {
  const user = data as { name: string };
  console.log(user.name);
}

// UNSAFE: Forcing incompatible types
const num = "123" as unknown as number;  // BAD!
\`\`\`

### Non-Null Assertion

\`\`\`typescript
// The ! operator asserts value is not null/undefined
function process(value: string | null) {
  // You're telling TS "trust me, it's not null"
  console.log(value!.toUpperCase());  // Risky!
  
  // Better: check first
  if (value) {
    console.log(value.toUpperCase());  // Safe
  }
}
\`\`\`

### const Assertion

\`\`\`typescript
// Without as const
let config = { theme: "dark" };  // { theme: string }

// With as const - literal types, readonly
let config = { theme: "dark" } as const;  // { readonly theme: "dark" }
\`\`\`

### Best Practices

1. **Avoid double assertions** (\`as any as X\`)
2. **Prefer type guards** over assertions
3. **Use assertions for DOM** elements
4. **Validate before asserting** external data
5. **Document why** you need the assertion`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Type Casting Demo</h2>
<pre id="demo"></pre>

<script>
// Type assertion examples

// In TypeScript: let value: unknown = "hello";
let value = "hello";

// Safe assertion after type check
function processValue(val) {
  if (typeof val === "string") {
    return val.toUpperCase();  // Safe
  }
  if (typeof val === "number") {
    return val.toFixed(2);  // Safe
  }
  return "Unknown type";
}

// DOM element casting example
let input = document.createElement("input");
input.type = "text";
input.value = "TypeScript";

let output = "Type Casting Examples:\\n\\n";
output += "processValue('hello'): " + processValue("hello") + "\\n";
output += "processValue(3.14159): " + processValue(3.14159) + "\\n";
output += "Input value: " + input.value + "\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    classes: {
      title: 'TS Classes',
      content: `## TypeScript Classes

Object-oriented programming with type safety.

### Basic Class

\`\`\`typescript
class Person {
  name: string;
  age: number;

  constructor(name: string, age: number) {
    this.name = name;
    this.age = age;
  }

  greet(): string {
    return \`Hello, I'm \${this.name}\`;
  }
}

const person = new Person("Alice", 30);
\`\`\`

### Access Modifiers

\`\`\`typescript
class User {
  public name: string;       // Accessible everywhere (default)
  private password: string;  // Only inside class
  protected id: number;      // Inside class and subclasses

  constructor(name: string, password: string) {
    this.name = name;
    this.password = password;
    this.id = Math.random();
  }
}

const user = new User("Alice", "secret");
console.log(user.name);      // OK
// console.log(user.password);  // Error!
\`\`\`

### Readonly Properties

\`\`\`typescript
class Config {
  readonly apiUrl: string;
  readonly version: number;

  constructor(url: string, version: number) {
    this.apiUrl = url;
    this.version = version;
  }
}

const config = new Config("https://api.com", 1);
// config.apiUrl = "new";  // Error! Cannot assign to readonly
\`\`\`

### Parameter Properties (Shorthand)

\`\`\`typescript
// Shorthand constructor
class User {
  constructor(
    public name: string,
    private email: string,
    readonly id: number
  ) {}
}

// Equivalent to defining properties and assigning in constructor
\`\`\`

### Abstract Classes

\`\`\`typescript
abstract class Shape {
  abstract getArea(): number;  // Must be implemented
  
  describe(): string {
    return \`Area: \${this.getArea()}\`;
  }
}

class Circle extends Shape {
  constructor(private radius: number) {
    super();
  }

  getArea(): number {
    return Math.PI * this.radius ** 2;
  }
}

// const shape = new Shape();  // Error! Cannot instantiate abstract
const circle = new Circle(5);
\`\`\`

### Implements vs Extends

\`\`\`typescript
// Interface for contract
interface Printable {
  print(): void;
}

// implements: fulfill a contract
class Document implements Printable {
  print(): void {
    console.log("Printing...");
  }
}

// extends: inherit from parent class
class Employee extends Person {
  department: string;
  
  constructor(name: string, age: number, dept: string) {
    super(name, age);  // Call parent constructor
    this.department = dept;
  }
}
\`\`\`

### Static Members

\`\`\`typescript
class Counter {
  static count: number = 0;
  
  static increment() {
    Counter.count++;
  }
}

Counter.increment();
console.log(Counter.count);  // 1
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>TypeScript Classes</h2>
<pre id="demo"></pre>

<script>
// Class examples

class Person {
  constructor(name, age) {
    this.name = name;
    this.age = age;
  }
  
  greet() {
    return "Hello, I'm " + this.name;
  }
}

class Employee extends Person {
  constructor(name, age, department) {
    super(name, age);
    this.department = department;
  }
  
  greet() {
    return super.greet() + " from " + this.department;
  }
}

let person = new Person("Alice", 30);
let employee = new Employee("Bob", 25, "Engineering");

let output = "Class Examples:\\n\\n";
output += "Person: " + person.greet() + "\\n";
output += "Employee: " + employee.greet() + "\\n";
output += "\\nPerson age: " + person.age + "\\n";
output += "Employee dept: " + employee.department + "\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    // PHASE 6 - Generics
    'basic-generics': {
      title: 'TS Basic Generics',
      content: `## TypeScript Generics

Write reusable, type-safe code.

### The Problem Without Generics

\`\`\`typescript
// Without generics - lose type information
function identity(value: any): any {
  return value;
}

let result = identity("hello");  // result is any 
\`\`\`

### Generic Functions

\`\`\`typescript
// With generics - preserve type information
function identity<T>(value: T): T {
  return value;
}

let str = identity("hello");   // str is string
let num = identity(42);        // num is number
let obj = identity({ x: 1 });  // obj is { x: number }
\`\`\`

### Generic Interfaces

\`\`\`typescript
interface Box<T> {
  value: T;
  getValue(): T;
}

const stringBox: Box<string> = {
  value: "hello",
  getValue() { return this.value; }
};

const numberBox: Box<number> = {
  value: 42,
  getValue() { return this.value; }
};
\`\`\`

### Generic Classes

\`\`\`typescript
class Stack<T> {
  private items: T[] = [];
  
  push(item: T): void {
    this.items.push(item);
  }
  
  pop(): T | undefined {
    return this.items.pop();
  }
  
  peek(): T | undefined {
    return this.items[this.items.length - 1];
  }
}

const numberStack = new Stack<number>();
numberStack.push(1);
numberStack.push(2);
console.log(numberStack.pop());  // 2

const stringStack = new Stack<string>();
stringStack.push("hello");
\`\`\`

### Generic Constraints

\`\`\`typescript
// Constrain T to have a length property
interface HasLength {
  length: number;
}

function logLength<T extends HasLength>(value: T): T {
  console.log(value.length);
  return value;
}

logLength("hello");     // OK - string has length
logLength([1, 2, 3]);   // OK - array has length
// logLength(123);      // Error! number has no length
\`\`\`

### Multiple Type Parameters

\`\`\`typescript
function pair<K, V>(key: K, value: V): [K, V] {
  return [key, value];
}

const p1 = pair("name", "Alice");  // [string, string]
const p2 = pair(1, true);          // [number, boolean]
\`\`\`

### Default Type Parameters

\`\`\`typescript
interface Response<T = any> {
  data: T;
  status: number;
}

let r1: Response = { data: "anything", status: 200 };
let r2: Response<User> = { data: { name: "Alice" }, status: 200 };
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>TypeScript Generics</h2>
<pre id="demo"></pre>

<script>
// Generic-like patterns in JavaScript

// Generic identity function
function identity(value) {
  return value;
}

// Generic Stack class
class Stack {
  constructor() {
    this.items = [];
  }
  push(item) { this.items.push(item); }
  pop() { return this.items.pop(); }
  peek() { return this.items[this.items.length - 1]; }
}

let stack = new Stack();
stack.push(1);
stack.push(2);
stack.push(3);

let output = "Generics Examples:\\n\\n";
output += "identity('hello'): " + identity("hello") + "\\n";
output += "identity(42): " + identity(42) + "\\n\\n";
output += "Stack operations:\\n";
output += "  push(1), push(2), push(3)\\n";
output += "  pop(): " + stack.pop() + "\\n";
output += "  peek(): " + stack.peek() + "\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'utility-types': {
      title: 'TS Utility Types',
      content: `## TypeScript Utility Types

Built-in types for common transformations. **Used everywhere in enterprise code.**

### Partial<T>

Make all properties optional:

\`\`\`typescript
interface User {
  name: string;
  email: string;
  age: number;
}

// All properties optional
type PartialUser = Partial<User>;
// { name?: string; email?: string; age?: number }

function updateUser(user: User, updates: Partial<User>) {
  return { ...user, ...updates };
}
\`\`\`

### Required<T>

Make all properties required:

\`\`\`typescript
interface Config {
  debug?: boolean;
  verbose?: boolean;
}

type RequiredConfig = Required<Config>;
// { debug: boolean; verbose: boolean }
\`\`\`

### Pick<T, K>

Select specific properties:

\`\`\`typescript
interface User {
  id: number;
  name: string;
  email: string;
  password: string;
}

type PublicUser = Pick<User, "id" | "name">;
// { id: number; name: string }
\`\`\`

### Omit<T, K>

Remove specific properties:

\`\`\`typescript
type SafeUser = Omit<User, "password">;
// { id: number; name: string; email: string }
\`\`\`

### Record<K, T>

Create object type with specific keys:

\`\`\`typescript
type Roles = "admin" | "user" | "guest";
type Permissions = Record<Roles, string[]>;

const permissions: Permissions = {
  admin: ["read", "write", "delete"],
  user: ["read", "write"],
  guest: ["read"]
};
\`\`\`

### Readonly<T>

Make all properties readonly:

\`\`\`typescript
interface Config {
  apiUrl: string;
  timeout: number;
}

const config: Readonly<Config> = {
  apiUrl: "https://api.com",
  timeout: 5000
};

// config.apiUrl = "new";  // Error!
\`\`\`

### Extract & Exclude

\`\`\`typescript
type All = "a" | "b" | "c" | "d";

type OnlyAB = Extract<All, "a" | "b">;  // "a" | "b"
type NotAB = Exclude<All, "a" | "b">;   // "c" | "d"
\`\`\`

### ReturnType<T>

Get function return type:

\`\`\`typescript
function getUser() {
  return { name: "Alice", age: 30 };
}

type User = ReturnType<typeof getUser>;
// { name: string; age: number }
\`\`\`

### Practical Examples

\`\`\`typescript
// API update endpoint
type UpdatePayload<T> = Partial<Omit<T, "id" | "createdAt">>;

// Form state
type FormState<T> = {
  values: T;
  errors: Partial<Record<keyof T, string>>;
  touched: Partial<Record<keyof T, boolean>>;
};
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Utility Types Demo</h2>
<pre id="demo"></pre>

<script>
// Utility type concepts in action

// Full user object
let user = {
  id: 1,
  name: "Alice",
  email: "alice@example.com",
  password: "secret"
};

// Pick-like: only public fields
function getPublicUser(user) {
  return { id: user.id, name: user.name };
}

// Omit-like: remove sensitive data
function getSafeUser(user) {
  let { password, ...safe } = user;
  return safe;
}

// Partial-like: update with some fields
function updateUser(user, updates) {
  return { ...user, ...updates };
}

let output = "Utility Types Examples:\\n\\n";
output += "Original: " + JSON.stringify(user) + "\\n\\n";
output += "Pick (public): " + JSON.stringify(getPublicUser(user)) + "\\n";
output += "Omit (safe): " + JSON.stringify(getSafeUser(user)) + "\\n";
output += "Partial update: " + JSON.stringify(updateUser(user, {name: "Bob"})) + "\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    // PHASE 7 - Advanced Types
    'advanced-types': {
      title: 'TS Advanced Types',
      content: `## TypeScript Advanced Types

Elite-level type manipulation.

### Intersection Types

\`\`\`typescript
// Combine multiple types
interface Person {
  name: string;
  age: number;
}

interface Employee {
  employeeId: string;
  department: string;
}

type FullEmployee = Person & Employee;

const employee: FullEmployee = {
  name: "Alice",
  age: 30,
  employeeId: "E001",
  department: "Engineering"
};
\`\`\`

### Union Narrowing

\`\`\`typescript
function processValue(value: string | number | boolean) {
  // TypeScript narrows type in each branch
  if (typeof value === "string") {
    return value.toUpperCase();  // string methods
  }
  if (typeof value === "number") {
    return value.toFixed(2);     // number methods
  }
  return value ? "Yes" : "No";   // boolean
}
\`\`\`

### Recursive Types

\`\`\`typescript
// Tree structure
interface TreeNode {
  value: string;
  children?: TreeNode[];
}

const tree: TreeNode = {
  value: "root",
  children: [
    { value: "child1" },
    { 
      value: "child2",
      children: [{ value: "grandchild" }]
    }
  ]
};

// JSON type
type JSONValue = 
  | string 
  | number 
  | boolean 
  | null 
  | JSONValue[] 
  | { [key: string]: JSONValue };
\`\`\`

### Discriminated Unions

\`\`\`typescript
type Result<T, E> = 
  | { success: true; data: T }
  | { success: false; error: E };

function handleResult<T>(result: Result<T, Error>) {
  if (result.success) {
    console.log(result.data);  // TypeScript knows data exists
  } else {
    console.error(result.error);  // TypeScript knows error exists
  }
}
\`\`\`

### Type Predicates

\`\`\`typescript
interface Cat { meow(): void; }
interface Dog { bark(): void; }

function isCat(animal: Cat | Dog): animal is Cat {
  return (animal as Cat).meow !== undefined;
}

function makeSound(animal: Cat | Dog) {
  if (isCat(animal)) {
    animal.meow();  // TypeScript knows it's Cat
  } else {
    animal.bark();  // TypeScript knows it's Dog
  }
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Advanced Types Demo</h2>
<pre id="demo"></pre>

<script>
// Advanced type patterns

// Intersection-like: combining objects
function merge(obj1, obj2) {
  return { ...obj1, ...obj2 };
}

let person = { name: "Alice", age: 30 };
let employee = { employeeId: "E001", department: "Eng" };
let fullEmployee = merge(person, employee);

// Result type pattern
function divide(a, b) {
  if (b === 0) {
    return { success: false, error: "Division by zero" };
  }
  return { success: true, data: a / b };
}

let result1 = divide(10, 2);
let result2 = divide(10, 0);

let output = "Advanced Types Demo:\\n\\n";
output += "Merged: " + JSON.stringify(fullEmployee) + "\\n\\n";
output += "Result pattern:\\n";
output += "  10/2: " + JSON.stringify(result1) + "\\n";
output += "  10/0: " + JSON.stringify(result2) + "\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'type-guards': {
      title: 'TS Type Guards',
      content: `## TypeScript Type Guards

Narrow types safely at runtime.

### typeof Guard

\`\`\`typescript
function process(value: string | number) {
  if (typeof value === "string") {
    // value is string here
    return value.toUpperCase();
  }
  // value is number here
  return value * 2;
}
\`\`\`

### instanceof Guard

\`\`\`typescript
class Dog { bark() { console.log("Woof!"); } }
class Cat { meow() { console.log("Meow!"); } }

function speak(animal: Dog | Cat) {
  if (animal instanceof Dog) {
    animal.bark();
  } else {
    animal.meow();
  }
}
\`\`\`

### Custom Type Guards

\`\`\`typescript
interface Fish { swim(): void; }
interface Bird { fly(): void; }

// Type predicate: animal is Fish
function isFish(animal: Fish | Bird): animal is Fish {
  return (animal as Fish).swim !== undefined;
}

function move(animal: Fish | Bird) {
  if (isFish(animal)) {
    animal.swim();  // TypeScript knows it's Fish
  } else {
    animal.fly();   // TypeScript knows it's Bird
  }
}
\`\`\`

### in Operator

\`\`\`typescript
interface A { propA: string; }
interface B { propB: number; }

function handle(obj: A | B) {
  if ("propA" in obj) {
    console.log(obj.propA);  // obj is A
  } else {
    console.log(obj.propB);  // obj is B
  }
}
\`\`\`

### Assertion Functions

\`\`\`typescript
function assertIsString(value: unknown): asserts value is string {
  if (typeof value !== "string") {
    throw new Error("Expected string!");
  }
}

function process(value: unknown) {
  assertIsString(value);
  // value is string after this point
  console.log(value.toUpperCase());
}
\`\`\`

### Truthiness Narrowing

\`\`\`typescript
function printLength(str: string | null | undefined) {
  if (str) {
    // str is string (not null/undefined/empty)
    console.log(str.length);
  }
}
\`\`\`

### Discriminated Union Guard

\`\`\`typescript
type Shape = 
  | { kind: "circle"; radius: number }
  | { kind: "square"; size: number };

function getArea(shape: Shape) {
  switch (shape.kind) {
    case "circle":
      return Math.PI * shape.radius ** 2;
    case "square":
      return shape.size ** 2;
  }
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Type Guards Demo</h2>
<pre id="demo"></pre>

<script>
// Type guard patterns

function processValue(value) {
  // typeof guard
  if (typeof value === "string") {
    return "String: " + value.toUpperCase();
  }
  if (typeof value === "number") {
    return "Number: " + value.toFixed(2);
  }
  if (typeof value === "boolean") {
    return "Boolean: " + (value ? "true" : "false");
  }
  if (Array.isArray(value)) {
    return "Array: [" + value.join(", ") + "]";
  }
  return "Other: " + typeof value;
}

let output = "Type Guards Examples:\\n\\n";
output += processValue("hello") + "\\n";
output += processValue(42.5) + "\\n";
output += processValue(true) + "\\n";
output += processValue([1, 2, 3]) + "\\n";
output += processValue({x: 1}) + "\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'conditional-types': {
      title: 'TS Conditional Types',
      content: `## TypeScript Conditional Types

Compile-time type logic.

### Basic Syntax

\`\`\`typescript
// T extends U ? X : Y
type IsString<T> = T extends string ? true : false;

type A = IsString<string>;  // true
type B = IsString<number>;  // false
\`\`\`

### Practical Example

\`\`\`typescript
type NonNullable<T> = T extends null | undefined ? never : T;

type A = NonNullable<string | null>;  // string
type B = NonNullable<number | undefined>;  // number
\`\`\`

### The infer Keyword

\`\`\`typescript
// Extract return type of function
type GetReturnType<T> = T extends (...args: any[]) => infer R ? R : never;

function greet() { return "hello"; }
type Greeting = GetReturnType<typeof greet>;  // string

// Extract array element type
type ArrayElement<T> = T extends (infer E)[] ? E : never;
type Elem = ArrayElement<string[]>;  // string
\`\`\`

### Distributive Conditional Types

\`\`\`typescript
type ToArray<T> = T extends any ? T[] : never;

// Distributes over union
type Result = ToArray<string | number>;  // string[] | number[]
\`\`\`

### Extract and Exclude

\`\`\`typescript
// Built-in conditional types
type Extract<T, U> = T extends U ? T : never;
type Exclude<T, U> = T extends U ? never : T;

type T1 = Extract<"a" | "b" | "c", "a" | "b">;  // "a" | "b"
type T2 = Exclude<"a" | "b" | "c", "a">;        // "b" | "c"
\`\`\`

### Real-World Examples

\`\`\`typescript
// API response typing
type APIResponse<T> = T extends "user" 
  ? { name: string; email: string }
  : T extends "post"
  ? { title: string; content: string }
  : never;

type UserResponse = APIResponse<"user">;
// { name: string; email: string }

// Promise unwrapping
type Awaited<T> = T extends Promise<infer R> ? Awaited<R> : T;
type Result = Awaited<Promise<Promise<string>>>;  // string
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Conditional Types Demo</h2>
<pre id="demo"></pre>

<script>
// Runtime conditional logic (TypeScript does this at compile time)

function getTypeName(value) {
  if (value === null) return "null";
  if (value === undefined) return "undefined";
  if (Array.isArray(value)) return "array";
  return typeof value;
}

function processBasedOnType(value) {
  let type = getTypeName(value);
  switch (type) {
    case "string": return "String: " + value.toUpperCase();
    case "number": return "Number: " + value * 2;
    case "boolean": return "Boolean: " + !value;
    case "array": return "Array length: " + value.length;
    default: return "Type: " + type;
  }
}

let output = "Conditional Types Concepts:\\n\\n";
output += processBasedOnType("hello") + "\\n";
output += processBasedOnType(21) + "\\n";
output += processBasedOnType(false) + "\\n";
output += processBasedOnType([1,2,3]) + "\\n";
output += processBasedOnType(null) + "\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'mapped-types': {
      title: 'TS Mapped Types',
      content: `## TypeScript Mapped Types

Transform types programmatically.

### Basic Mapped Type

\`\`\`typescript
// Transform each property
type Readonly<T> = {
  readonly [K in keyof T]: T[K];
};

type Optional<T> = {
  [K in keyof T]?: T[K];
};

interface User {
  name: string;
  age: number;
}

type ReadonlyUser = Readonly<User>;
// { readonly name: string; readonly age: number }
\`\`\`

### Adding/Removing Modifiers

\`\`\`typescript
// Remove readonly
type Mutable<T> = {
  -readonly [K in keyof T]: T[K];
};

// Remove optional
type Required<T> = {
  [K in keyof T]-?: T[K];
};
\`\`\`

### Key Remapping

\`\`\`typescript
// Prefix all keys
type Prefixed<T> = {
  [K in keyof T as \`get\${Capitalize<string & K>}\`]: () => T[K];
};

interface User {
  name: string;
  age: number;
}

type UserGetters = Prefixed<User>;
// { getName: () => string; getAge: () => number }
\`\`\`

### Filter Properties

\`\`\`typescript
// Only keep string properties
type StringProperties<T> = {
  [K in keyof T as T[K] extends string ? K : never]: T[K];
};

interface Mixed {
  name: string;
  age: number;
  email: string;
}

type OnlyStrings = StringProperties<Mixed>;
// { name: string; email: string }
\`\`\`

### Template Literal in Mapped Types

\`\`\`typescript
type Getters<T> = {
  [K in keyof T as \`get\${Capitalize<string & K>}\`]: () => T[K]
};

type Setters<T> = {
  [K in keyof T as \`set\${Capitalize<string & K>}\`]: (val: T[K]) => void
};

interface Person {
  name: string;
  age: number;
}

type PersonGetters = Getters<Person>;
// { getName: () => string; getAge: () => number }
\`\`\`

### Practical Examples

\`\`\`typescript
// Form errors type
type FormErrors<T> = {
  [K in keyof T]?: string;
};

// API update payload
type UpdatePayload<T> = Partial<Pick<T, {
  [K in keyof T]: T[K] extends Function ? never : K
}[keyof T]>>;
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Mapped Types Demo</h2>
<pre id="demo"></pre>

<script>
// Demonstrating mapped type concepts

let user = {
  name: "Alice",
  age: 30,
  email: "alice@example.com"
};

// Create readonly version
function makeReadonly(obj) {
  return Object.freeze({ ...obj });
}

// Create getters
function createGetters(obj) {
  let getters = {};
  for (let key in obj) {
    getters["get" + key.charAt(0).toUpperCase() + key.slice(1)] = 
      () => obj[key];
  }
  return getters;
}

let frozenUser = makeReadonly(user);
let userGetters = createGetters(user);

let output = "Mapped Types Concepts:\\n\\n";
output += "Original: " + JSON.stringify(user) + "\\n\\n";
output += "Readonly (frozen): " + Object.isFrozen(frozenUser) + "\\n\\n";
output += "Getters created:\\n";
for (let key in userGetters) {
  output += "  " + key + "() = " + userGetters[key]() + "\\n";
}

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'type-inference': {
      title: 'TS Type Inference',
      content: `## Deep Type Inference

Understanding how TypeScript infers types.

### Contextual Typing

\`\`\`typescript
// TypeScript infers parameter types from context
const numbers = [1, 2, 3];

// n is inferred as number from array type
numbers.forEach(n => console.log(n.toFixed(2)));

// Event handlers
document.addEventListener("click", (e) => {
  // e is inferred as MouseEvent
  console.log(e.clientX, e.clientY);
});
\`\`\`

### Best Common Type

\`\`\`typescript
// TypeScript finds the best common type
let arr = [1, "hello", true];
// Type: (string | number | boolean)[]

// More specific when possible
let numbers = [1, 2, 3];  // number[]
\`\`\`

### Inference Limitations

\`\`\`typescript
// Sometimes inference needs help
const data = [];  // any[] - can't infer
const data: string[] = [];  // Better

// Object methods may need explicit types
const obj = {
  data: [] as string[],  // Without: any[]
  getFirst() {
    return this.data[0];  // string | undefined
  }
};
\`\`\`

### Controlling Inference

\`\`\`typescript
// as const for literal types
const config = {
  theme: "dark",
  size: 14
} as const;
// Type: { readonly theme: "dark"; readonly size: 14 }

// Satisfies for type checking without widening
const palette = {
  red: "#ff0000",
  green: "#00ff00"
} satisfies Record<string, string>;
// Keeps literal types but checks structure
\`\`\`

### Return Type Inference

\`\`\`typescript
// Inferred return type
function add(a: number, b: number) {
  return a + b;  // Returns number
}

// Explicit for complex functions
function fetchUser(id: string): Promise<User | null> {
  // Makes contract clear
  return api.get(\`/users/\${id}\`);
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Type Inference Demo</h2>
<pre id="demo"></pre>

<script>
// TypeScript infers types from values

let str = "hello";        // string
let num = 42;             // number
let arr = [1, 2, 3];      // number[]
let mixed = [1, "two"];   // (string | number)[]

// Contextual typing in callbacks
let doubled = arr.map(n => n * 2);

let output = "Type Inference Examples:\\n\\n";
output += "Inferred types:\\n";
output += "  'hello'  " + typeof str + "\\n";
output += "  42  " + typeof num + "\\n";
output += "  [1,2,3]  array of " + typeof arr[0] + "\\n";
output += "  [1,'two']  mixed array\\n\\n";
output += "Contextual typing:\\n";
output += "  arr.map(n => n * 2) = [" + doubled.join(", ") + "]\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'literal-types': {
      title: 'TS Literal Types',
      content: `## TypeScript Literal Types

Exact values as types.

### String Literals

\`\`\`typescript
// Only these specific strings allowed
type Direction = "north" | "south" | "east" | "west";
type Theme = "light" | "dark";

let dir: Direction = "north";  // OK
// dir = "up";  // Error! Not in union
\`\`\`

### Numeric Literals

\`\`\`typescript
type DiceRoll = 1 | 2 | 3 | 4 | 5 | 6;
type HttpSuccess = 200 | 201 | 204;

let roll: DiceRoll = 4;  // OK
// roll = 7;  // Error!
\`\`\`

### Boolean Literals

\`\`\`typescript
type True = true;
type False = false;

// Useful in conditional types
type IsString<T> = T extends string ? true : false;
\`\`\`

### Template Literal Types

\`\`\`typescript
// TypeScript 4.1+
type EventName = \`on\${Capitalize<string>}\`;
// Matches: "onClick", "onChange", "onSubmit", etc.

type CSSProperty = \`--\${string}\`;
// Matches: "--color", "--spacing", etc.

type HttpMethod = "GET" | "POST" | "PUT" | "DELETE";
type Endpoint = \`/api/\${string}\`;
type Request = \`\${HttpMethod} \${Endpoint}\`;
// "GET /api/users", "POST /api/data", etc.
\`\`\`

### as const

\`\`\`typescript
// Without as const
const config = { theme: "dark" };
// Type: { theme: string }

// With as const
const config = { theme: "dark" } as const;
// Type: { readonly theme: "dark" }

// Array literals
const COLORS = ["red", "green", "blue"] as const;
type Color = typeof COLORS[number];  // "red" | "green" | "blue"
\`\`\`

### Literal Inference

\`\`\`typescript
// let widens to general type
let x = "hello";  // string

// const keeps literal type
const y = "hello";  // "hello"

// Force literal type with annotation
let z: "hello" = "hello";
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Literal Types Demo</h2>
<pre id="demo"></pre>

<script>
// Literal type concepts

// Simulating literal types with validation
const DIRECTIONS = ["north", "south", "east", "west"];
const THEMES = ["light", "dark"];

function isValidDirection(dir) {
  return DIRECTIONS.includes(dir);
}

function setTheme(theme) {
  if (!THEMES.includes(theme)) {
    throw new Error("Invalid theme: " + theme);
  }
  return "Theme set to: " + theme;
}

let output = "Literal Types Examples:\\n\\n";
output += "Valid directions: " + DIRECTIONS.join(", ") + "\\n";
output += "Valid themes: " + THEMES.join(", ") + "\\n\\n";
output += "isValidDirection('north'): " + isValidDirection("north") + "\\n";
output += "isValidDirection('up'): " + isValidDirection("up") + "\\n\\n";
output += setTheme("dark") + "\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    // PHASE 8 - Architecture
    namespaces: {
      title: 'TS Namespaces',
      content: `## TypeScript Namespaces

Legacy pattern for organizing code.

### Basic Namespace

\`\`\`typescript
namespace Validation {
  export interface StringValidator {
    isValid(s: string): boolean;
  }

  export class EmailValidator implements StringValidator {
    isValid(s: string): boolean {
      return s.includes("@");
    }
  }
}

const validator = new Validation.EmailValidator();
\`\`\`

### Nested Namespaces

\`\`\`typescript
namespace App {
  export namespace Utils {
    export function formatDate(date: Date): string {
      return date.toISOString();
    }
  }
}

App.Utils.formatDate(new Date());
\`\`\`

### When NOT to Use Namespaces

 **Don't use namespaces when:**

- Using ES modules (import/export)
- Building modern applications
- Working with bundlers (webpack, rollup)

 **Use namespaces only for:**

- Legacy code maintenance
- Augmenting global scope
- Declaration files

### Modern Alternative: ES Modules

\`\`\`typescript
// validation.ts
export interface StringValidator {
  isValid(s: string): boolean;
}

export class EmailValidator implements StringValidator {
  isValid(s: string) {
    return s.includes("@");
  }
}

// main.ts
import { EmailValidator } from "./validation";
const validator = new EmailValidator();
\`\`\`

### Key Takeaway

Use ES modules for new code. Namespaces are primarily for legacy compatibility.`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Namespaces Demo</h2>
<pre id="demo"></pre>

<script>
// Namespace-like pattern in JavaScript

let Validation = {
  EmailValidator: class {
    isValid(s) {
      return s.includes("@");
    }
  },
  PhoneValidator: class {
    isValid(s) {
      return /^\\d{10}$/.test(s);
    }
  }
};

let emailValidator = new Validation.EmailValidator();
let phoneValidator = new Validation.PhoneValidator();

let output = "Namespace Pattern Demo:\\n\\n";
output += "Email Validation:\\n";
output += "  'test@email.com': " + emailValidator.isValid("test@email.com") + "\\n";
output += "  'invalid': " + emailValidator.isValid("invalid") + "\\n\\n";
output += "Phone Validation:\\n";
output += "  '1234567890': " + phoneValidator.isValid("1234567890") + "\\n";
output += "  '123': " + phoneValidator.isValid("123") + "\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'declaration-merging': {
      title: 'TS Declaration Merging',
      content: `## Declaration Merging

Extend existing types and interfaces.

### Interface Merging

\`\`\`typescript
interface User {
  name: string;
}

interface User {
  age: number;
}

// User now has both properties!
const user: User = {
  name: "Alice",
  age: 30
};
\`\`\`

### Module Augmentation

\`\`\`typescript
// Extend third-party library types
import { AxiosRequestConfig } from "axios";

declare module "axios" {
  interface AxiosRequestConfig {
    customOption?: string;
  }
}

// Now customOption is available
axios.get("/api", { customOption: "value" });
\`\`\`

### Global Augmentation

\`\`\`typescript
// Add to global scope
declare global {
  interface Window {
    myApp: {
      version: string;
      init(): void;
    };
  }
}

window.myApp = {
  version: "1.0.0",
  init() { console.log("Initialized"); }
};
\`\`\`

### Extending Third-Party Libraries

\`\`\`typescript
// extend-express.d.ts
import "express";

declare module "express" {
  interface Request {
    user?: {
      id: string;
      role: string;
    };
  }
}

// Now in your code:
app.get("/", (req, res) => {
  console.log(req.user?.id);  // No error!
});
\`\`\`

### Merging Rules

- Interfaces: merge properties
- Namespaces: merge exports
- Classes: cannot merge (use extension)
- Functions: use overloads

### When to Use

- Extending library types
- Adding global variables
- Progressive type definitions
- Plugin systems`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Declaration Merging Demo</h2>
<pre id="demo"></pre>

<script>
// Simulating declaration merging concept

// Base "interface"
let UserSchema = {
  properties: ["name"]
};

// "Merge" more properties
UserSchema.properties.push("age");
UserSchema.properties.push("email");

// Build object following merged schema
function createUser(data) {
  let user = {};
  UserSchema.properties.forEach(prop => {
    user[prop] = data[prop];
  });
  return user;
}

let user = createUser({
  name: "Alice",
  age: 30,
  email: "alice@example.com"
});

let output = "Declaration Merging Concept:\\n\\n";
output += "Schema properties: " + UserSchema.properties.join(", ") + "\\n\\n";
output += "Created user:\\n" + JSON.stringify(user, null, 2);

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'definitely-typed': {
      title: 'TS Definitely Typed',
      content: `## Definitely Typed (@types/*)

Type definitions for JavaScript libraries.

### What is Definitely Typed?

A repository of TypeScript type definitions for JavaScript packages.

### Installing Types

\`\`\`bash
# Types for lodash
npm install --save-dev @types/lodash

# Types for React
npm install --save-dev @types/react @types/react-dom

# Types for Node.js
npm install --save-dev @types/node

# Types for Express
npm install --save-dev @types/express
\`\`\`

### How It Works

\`\`\`typescript
// Without types
import _ from "lodash";  // Error: no types

// After installing @types/lodash
import _ from "lodash";  // OK! Full IntelliSense
_.chunk([1, 2, 3, 4], 2);  // Autocomplete works
\`\`\`

### Ambient Declarations

\`\`\`typescript
// .d.ts files declare types without implementation

// global.d.ts
declare const API_URL: string;
declare function analytics(event: string): void;

// Now usable without import
console.log(API_URL);
analytics("page_view");
\`\`\`

### Fixing Broken Typings

\`\`\`typescript
// When library types are wrong or incomplete

// 1. Module augmentation
declare module "some-library" {
  export function missingFunction(): void;
}

// 2. Override specific types
declare module "broken-lib" {
  interface SomeInterface {
    correctProperty: string;  // Override
  }
}

// 3. Create your own .d.ts
// types/custom-lib.d.ts
declare module "custom-lib" {
  export function doSomething(x: string): number;
}
\`\`\`

### TypeScript Configuration

\`\`\`json
{
  "compilerOptions": {
    "typeRoots": ["./node_modules/@types", "./types"],
    "types": ["node", "jest"]
  }
}
\`\`\`

### When Types Don't Exist

\`\`\`typescript
// Quick fix: declare as any
declare module "untyped-library";

// Better: create basic types
declare module "untyped-library" {
  export function init(config: object): void;
  export const version: string;
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Definitely Typed Demo</h2>
<pre id="demo"></pre>

<script>
// Demonstrating type definition concepts

// Simulating typed library usage
let lodash = {
  chunk: function(arr, size) {
    let result = [];
    for (let i = 0; i < arr.length; i += size) {
      result.push(arr.slice(i, i + size));
    }
    return result;
  },
  flatten: function(arr) {
    return arr.reduce((flat, item) => 
      flat.concat(Array.isArray(item) ? item : [item]), []);
  }
};

let numbers = [1, 2, 3, 4, 5, 6];
let chunked = lodash.chunk(numbers, 2);
let flattened = lodash.flatten(chunked);

let output = "@types/* Concept Demo:\\n\\n";
output += "Original: [" + numbers.join(", ") + "]\\n";
output += "chunk(arr, 2): " + JSON.stringify(chunked) + "\\n";
output += "flatten(chunked): [" + flattened.join(", ") + "]\\n\\n";
output += "With @types/lodash, all methods get:\\n";
output += "   Type checking\\n";
output += "   Autocomplete\\n";
output += "   Documentation\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    decorators: {
      title: 'TS Decorators',
      content: `## TypeScript Decorators

Metadata and behavior modification for classes.

### Enabling Decorators

\`\`\`json
// tsconfig.json
{
  "compilerOptions": {
    "experimentalDecorators": true,
    "emitDecoratorMetadata": true
  }
}
\`\`\`

### Class Decorators

\`\`\`typescript
function sealed(constructor: Function) {
  Object.seal(constructor);
  Object.seal(constructor.prototype);
}

@sealed
class User {
  name: string;
  constructor(name: string) {
    this.name = name;
  }
}
\`\`\`

### Method Decorators

\`\`\`typescript
function log(target: any, key: string, descriptor: PropertyDescriptor) {
  const original = descriptor.value;
  
  descriptor.value = function(...args: any[]) {
    console.log(\`Calling \${key} with\`, args);
    const result = original.apply(this, args);
    console.log(\`Result:\`, result);
    return result;
  };
}

class Calculator {
  @log
  add(a: number, b: number): number {
    return a + b;
  }
}

const calc = new Calculator();
calc.add(2, 3);  // Logs: Calling add with [2, 3], Result: 5
\`\`\`

### Property Decorators

\`\`\`typescript
function required(target: any, key: string) {
  let value: any;
  
  Object.defineProperty(target, key, {
    get: () => value,
    set: (newValue) => {
      if (newValue === undefined || newValue === null) {
        throw new Error(\`\${key} is required\`);
      }
      value = newValue;
    }
  });
}

class User {
  @required
  name!: string;
}
\`\`\`

### Parameter Decorators

\`\`\`typescript
function validate(target: any, key: string, index: number) {
  console.log(\`Parameter \${index} of \${key} needs validation\`);
}

class API {
  getUser(@validate id: string) {
    return { id };
  }
}
\`\`\`

### Framework Usage (NestJS-style)

\`\`\`typescript
@Controller("/users")
class UserController {
  @Get("/:id")
  @UseGuards(AuthGuard)
  getUser(@Param("id") id: string) {
    return this.userService.findById(id);
  }

  @Post("/")
  @HttpCode(201)
  createUser(@Body() data: CreateUserDto) {
    return this.userService.create(data);
  }
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Decorators Demo</h2>
<pre id="demo"></pre>

<script>
// Decorator pattern in JavaScript

// Method decorator factory
function log(target, key, descriptor) {
  let original = descriptor.value;
  descriptor.value = function(...args) {
    console.log("Calling " + key + " with:", args);
    let result = original.apply(this, args);
    console.log("Result:", result);
    return result;
  };
  return descriptor;
}

// Manual decorator application
let Calculator = {
  add: function(a, b) { return a + b; },
  multiply: function(a, b) { return a * b; }
};

// Apply logging
let origAdd = Calculator.add;
Calculator.add = function(...args) {
  console.log("add called with:", args);
  return origAdd.apply(this, args);
};

let output = "Decorator Pattern Demo:\\n\\n";
output += "Calculator.add(5, 3) = " + Calculator.add(5, 3) + "\\n";
output += "Calculator.multiply(4, 7) = " + Calculator.multiply(4, 7) + "\\n\\n";
output += "With @log decorator, all calls are logged!\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    // PHASE 9 - Async & Errors
    'async-programming': {
      title: 'TS Async Programming',
      content: `## Typed Async Programming

Type-safe asynchronous code.

### Typed Promises

\`\`\`typescript
// Promise with explicit type
const fetchNumber: Promise<number> = new Promise((resolve) => {
  setTimeout(() => resolve(42), 1000);
});

// Function returning Promise
function fetchUser(id: string): Promise<User> {
  return fetch(\`/api/users/\${id}\`)
    .then(res => res.json());
}
\`\`\`

### Async/Await Return Types

\`\`\`typescript
// Async function always returns Promise
async function getUser(id: string): Promise<User> {
  const response = await fetch(\`/api/users/\${id}\`);
  return response.json();
}

// TypeScript infers Promise<User>
async function getUserInferred(id: string) {
  const response = await fetch(\`/api/users/\${id}\`);
  return response.json() as User;
}
\`\`\`

### Error Handling

\`\`\`typescript
async function fetchData(): Promise<Data> {
  try {
    const response = await fetch("/api/data");
    if (!response.ok) {
      throw new Error(\`HTTP \${response.status}\`);
    }
    return response.json();
  } catch (error) {
    if (error instanceof Error) {
      console.error(error.message);
    }
    throw error;
  }
}
\`\`\`

### Parallel Async Flows

\`\`\`typescript
// Promise.all with types
async function fetchAllData(): Promise<[User, Posts]> {
  const [user, posts] = await Promise.all([
    fetchUser("123"),
    fetchPosts("123")
  ]);
  return [user, posts];
}

// Promise.race
const timeout = new Promise<never>((_, reject) => {
  setTimeout(() => reject(new Error("Timeout")), 5000);
});

const result = await Promise.race([fetchData(), timeout]);
\`\`\`

### Typed Fetch Wrapper

\`\`\`typescript
async function typedFetch<T>(url: string): Promise<T> {
  const response = await fetch(url);
  if (!response.ok) {
    throw new Error(\`HTTP \${response.status}\`);
  }
  return response.json() as T;
}

// Usage
const user = await typedFetch<User>("/api/user");
const posts = await typedFetch<Post[]>("/api/posts");
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Async TypeScript Demo</h2>
<pre id="demo"></pre>

<script>
// Async/await examples

async function delay(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

async function fetchUser(id) {
  await delay(100);  // Simulate network
  return { id: id, name: "User " + id };
}

async function fetchPosts(userId) {
  await delay(100);
  return [
    { id: 1, title: "Post 1" },
    { id: 2, title: "Post 2" }
  ];
}

// Parallel fetch
async function loadData() {
  let start = Date.now();
  
  let [user, posts] = await Promise.all([
    fetchUser("123"),
    fetchPosts("123")
  ]);
  
  let elapsed = Date.now() - start;
  
  return {
    user,
    posts,
    elapsed
  };
}

loadData().then(data => {
  let output = "Async Programming Demo:\\n\\n";
  output += "User: " + JSON.stringify(data.user) + "\\n";
  output += "Posts: " + JSON.stringify(data.posts) + "\\n";
  output += "Time (parallel): " + data.elapsed + "ms\\n";
  document.getElementById("demo").innerHTML = output;
});
</script>

</body>
</html>`,
    },
    'error-handling': {
      title: 'TS Error Handling',
      content: `## Typed Error Handling

Safer error handling patterns.

### The Problem with try/catch

\`\`\`typescript
try {
  doSomething();
} catch (error) {
  // error is 'unknown' in TypeScript 4.4+
  console.log(error.message);  // Error!
}

// Proper handling
try {
  doSomething();
} catch (error) {
  if (error instanceof Error) {
    console.log(error.message);  // OK
  }
}
\`\`\`

### Custom Error Classes

\`\`\`typescript
class ValidationError extends Error {
  constructor(
    message: string,
    public field: string,
    public code: string
  ) {
    super(message);
    this.name = "ValidationError";
  }
}

class NotFoundError extends Error {
  constructor(resource: string, id: string) {
    super(\`\${resource} with id \${id} not found\`);
    this.name = "NotFoundError";
  }
}

// Usage
throw new ValidationError("Invalid email", "email", "INVALID_FORMAT");
\`\`\`

### Result Pattern (No Throw)

\`\`\`typescript
type Result<T, E = Error> = 
  | { success: true; data: T }
  | { success: false; error: E };

function divide(a: number, b: number): Result<number, string> {
  if (b === 0) {
    return { success: false, error: "Division by zero" };
  }
  return { success: true, data: a / b };
}

const result = divide(10, 2);
if (result.success) {
  console.log(result.data);  // 5
} else {
  console.error(result.error);
}
\`\`\`

### Typed Async Errors

\`\`\`typescript
async function fetchUser(id: string): Promise<Result<User, APIError>> {
  try {
    const response = await fetch(\`/api/users/\${id}\`);
    if (!response.ok) {
      return { 
        success: false, 
        error: { code: response.status, message: "Fetch failed" }
      };
    }
    const data = await response.json();
    return { success: true, data };
  } catch (e) {
    return { 
      success: false, 
      error: { code: 0, message: "Network error" }
    };
  }
}
\`\`\`

### Benefits of Result Pattern

1. No unexpected throws
2. Explicit error handling required
3. Full type safety for errors
4. Composable error chains`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Error Handling Demo</h2>
<pre id="demo"></pre>

<script>
// Result pattern for error handling

function divide(a, b) {
  if (b === 0) {
    return { success: false, error: "Division by zero" };
  }
  return { success: true, data: a / b };
}

function parseNumber(str) {
  let num = parseFloat(str);
  if (isNaN(num)) {
    return { success: false, error: "Invalid number: " + str };
  }
  return { success: true, data: num };
}

function safeCalculate(aStr, bStr) {
  let a = parseNumber(aStr);
  if (!a.success) return a;
  
  let b = parseNumber(bStr);
  if (!b.success) return b;
  
  return divide(a.data, b.data);
}

let output = "Result Pattern Error Handling:\\n\\n";

let tests = [
  ["10", "2"],
  ["10", "0"],
  ["abc", "2"],
  ["10", "xyz"]
];

tests.forEach(([a, b]) => {
  let result = safeCalculate(a, b);
  if (result.success) {
    output += a + " / " + b + " = " + result.data + "\\n";
  } else {
    output += a + " / " + b + "  Error: " + result.error + "\\n";
  }
});

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    // PHASE 10 - Integration
    'with-nodejs': {
      title: 'TS with Node.js',
      content: `## TypeScript with Node.js

Building typed backend applications.

### Setup

\`\`\`bash
npm init -y
npm install typescript @types/node ts-node --save-dev
npx tsc --init
\`\`\`

### tsconfig.json for Node

\`\`\`json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "lib": ["ES2020"],
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules"]
}
\`\`\`

### Express with TypeScript

\`\`\`typescript
import express, { Request, Response, NextFunction } from "express";

const app = express();
app.use(express.json());

interface User {
  id: string;
  name: string;
  email: string;
}

// Typed route handler
app.get("/users/:id", (req: Request, res: Response) => {
  const user: User = {
    id: req.params.id,
    name: "Alice",
    email: "alice@example.com"
  };
  res.json(user);
});

app.listen(3000, () => {
  console.log("Server running on port 3000");
});
\`\`\`

### Typed Middleware

\`\`\`typescript
interface AuthRequest extends Request {
  user?: { id: string; role: string };
}

const authMiddleware = (
  req: AuthRequest, 
  res: Response, 
  next: NextFunction
) => {
  const token = req.headers.authorization;
  if (!token) {
    return res.status(401).json({ error: "Unauthorized" });
  }
  req.user = { id: "123", role: "admin" };
  next();
};
\`\`\`

### Environment Variables

\`\`\`typescript
// types/env.d.ts
declare global {
  namespace NodeJS {
    interface ProcessEnv {
      NODE_ENV: "development" | "production" | "test";
      PORT: string;
      DATABASE_URL: string;
    }
  }
}
export {};

// Usage
const port = parseInt(process.env.PORT, 10);  // Typed!
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>TypeScript + Node.js</h2>
<pre id="demo"></pre>

<script>
// Simulating Express-like patterns

// Route handler type
function createApp() {
  let routes = [];
  
  return {
    get(path, handler) {
      routes.push({ method: "GET", path, handler });
    },
    post(path, handler) {
      routes.push({ method: "POST", path, handler });
    },
    handle(method, path, params) {
      let route = routes.find(r => 
        r.method === method && r.path === path
      );
      if (route) {
        return route.handler({ params });
      }
      return { error: "Not found" };
    }
  };
}

let app = createApp();

// Define routes
app.get("/users/:id", (req) => ({
  id: req.params.id,
  name: "Alice",
  email: "alice@example.com"
}));

// Simulate requests
let result = app.handle("GET", "/users/:id", { id: "123" });

let output = "Express-like Pattern:\\n\\n";
output += "GET /users/123:\\n";
output += JSON.stringify(result, null, 2);

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'with-react': {
      title: 'TS with React',
      content: `## TypeScript with React

Type-safe React components.

### Typed Props

\`\`\`typescript
interface ButtonProps {
  label: string;
  onClick: () => void;
  disabled?: boolean;
  variant?: "primary" | "secondary";
}

const Button: React.FC<ButtonProps> = ({ 
  label, 
  onClick, 
  disabled = false,
  variant = "primary" 
}) => {
  return (
    <button 
      onClick={onClick} 
      disabled={disabled}
      className={variant}
    >
      {label}
    </button>
  );
};
\`\`\`

### Typed State

\`\`\`typescript
interface User {
  id: string;
  name: string;
}

const [user, setUser] = useState<User | null>(null);
const [count, setCount] = useState(0);  // Inferred: number
const [items, setItems] = useState<string[]>([]);
\`\`\`

### Typed Hooks

\`\`\`typescript
// Custom hook with types
function useToggle(initial: boolean): [boolean, () => void] {
  const [value, setValue] = useState(initial);
  const toggle = useCallback(() => setValue(v => !v), []);
  return [value, toggle];
}

// Generic hook
function useLocalStorage<T>(key: string, initial: T): [T, (v: T) => void] {
  const [value, setValue] = useState<T>(() => {
    const stored = localStorage.getItem(key);
    return stored ? JSON.parse(stored) : initial;
  });
  
  const setAndStore = (newValue: T) => {
    setValue(newValue);
    localStorage.setItem(key, JSON.stringify(newValue));
  };
  
  return [value, setAndStore];
}
\`\`\`

### Event Handlers

\`\`\`typescript
const handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {
  console.log(e.currentTarget.name);
};

const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
  console.log(e.target.value);
};

const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {
  e.preventDefault();
  // form logic
};
\`\`\`

### Children Props

\`\`\`typescript
interface CardProps {
  children: React.ReactNode;
  title?: string;
}

const Card: React.FC<CardProps> = ({ children, title }) => (
  <div className="card">
    {title && <h2>{title}</h2>}
    {children}
  </div>
);
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>TypeScript + React Patterns</h2>
<pre id="demo"></pre>

<script>
// React-like component patterns

// Simulating typed props
function Button(props) {
  let label = props.label;
  let disabled = props.disabled || false;
  let variant = props.variant || "primary";
  
  return {
    type: "button",
    props: { label, disabled, variant }
  };
}

// Simulating useState
function useState(initial) {
  let state = initial;
  let setState = (newValue) => {
    state = typeof newValue === 'function' ? newValue(state) : newValue;
    return state;
  };
  return [state, setState];
}

// Component usage
let button = Button({
  label: "Click me",
  onClick: () => console.log("Clicked"),
  variant: "primary"
});

let [count, setCount] = useState(0);

let output = "React + TypeScript Patterns:\\n\\n";
output += "Button component:\\n";
output += JSON.stringify(button.props, null, 2) + "\\n\\n";
output += "useState hook:\\n";
output += "  Initial count: " + count + "\\n";
output += "  After setCount(5): " + setCount(5) + "\\n";
output += "  After setCount(n => n + 1): " + setCount(n => n + 1) + "\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    tooling: {
      title: 'TS Tooling',
      content: `## TypeScript Tooling

Essential tools for professional TypeScript development.

### ESLint + TypeScript

\`\`\`bash
# Install ESLint with TypeScript support
npm install --save-dev eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin
\`\`\`

\`\`\`javascript
// .eslintrc.js
module.exports = {
  parser: '@typescript-eslint/parser',
  plugins: ['@typescript-eslint'],
  extends: [
    'eslint:recommended',
    'plugin:@typescript-eslint/recommended',
    'plugin:@typescript-eslint/recommended-requiring-type-checking'
  ],
  parserOptions: {
    project: './tsconfig.json'
  },
  rules: {
    '@typescript-eslint/no-explicit-any': 'error',
    '@typescript-eslint/explicit-function-return-type': 'warn',
    '@typescript-eslint/no-unused-vars': 'error'
  }
};
\`\`\`

### Prettier

\`\`\`bash
npm install --save-dev prettier
\`\`\`

\`\`\`json
// .prettierrc
{
  "semi": true,
  "singleQuote": true,
  "tabWidth": 2,
  "trailingComma": "es5",
  "printWidth": 100
}
\`\`\`

### ts-node

Run TypeScript directly without compilation:

\`\`\`bash
# Install
npm install --save-dev ts-node

# Run TypeScript file
npx ts-node src/index.ts

# With ESM support
npx ts-node --esm src/index.ts
\`\`\`

### tsx (Modern Alternative)

\`\`\`bash
# Faster alternative to ts-node
npm install --save-dev tsx

# Run TypeScript
npx tsx src/index.ts

# Watch mode
npx tsx watch src/index.ts
\`\`\`

### Build Pipelines

\`\`\`json
// package.json scripts
{
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "dev": "tsx watch src/index.ts",
    "lint": "eslint src --ext .ts,.tsx",
    "lint:fix": "eslint src --ext .ts,.tsx --fix",
    "format": "prettier --write src/**/*.ts",
    "typecheck": "tsc --noEmit",
    "test": "jest"
  }
}
\`\`\`

### IDE Configuration

**VS Code settings.json:**
\`\`\`json
{
  "typescript.preferences.importModuleSpecifier": "relative",
  "typescript.suggest.autoImports": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true,
    "source.organizeImports": true
  },
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode"
}
\`\`\`

### Type Checking in CI

\`\`\`yaml
# GitHub Actions
name: TypeScript Check
on: [push, pull_request]
jobs:
  typecheck:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      - run: npm ci
      - run: npm run typecheck
      - run: npm run lint
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>TypeScript Tooling</h2>
<pre id="demo"></pre>

<script>
// Essential TypeScript tooling commands

let tools = {
  "ESLint": "npm install --save-dev @typescript-eslint/parser",
  "Prettier": "npm install --save-dev prettier",
  "ts-node": "npx ts-node src/index.ts",
  "tsx": "npx tsx src/index.ts",
  "Build": "npx tsc",
  "Type Check": "npx tsc --noEmit"
};

let output = "TypeScript Tooling Commands:\\n\\n";

for (let tool in tools) {
  output += tool + ":\\n  " + tools[tool] + "\\n\\n";
}

output += "Recommended package.json scripts:\\n";
output += '  "build": "tsc"\\n';
output += '  "dev": "tsx watch src/index.ts"\\n';
output += '  "lint": "eslint src --ext .ts"\\n';
output += '  "typecheck": "tsc --noEmit"\\n';

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'in-js-projects': {
      title: 'TS in JS Projects',
      content: `## TypeScript in JavaScript Projects

Incremental TypeScript adoption without full migration.

### allowJs Option

Enable TypeScript to process JavaScript files:

\`\`\`json
// tsconfig.json
{
  "compilerOptions": {
    "allowJs": true,
    "checkJs": true,  // Optional: type-check JS files
    "outDir": "./dist",
    "strict": false   // Start relaxed, tighten later
  },
  "include": ["src/**/*"]
}
\`\`\`

### JSDoc Types

Add types to JavaScript using JSDoc comments:

\`\`\`javascript
// utils.js

/**
 * @param {string} name - The user's name
 * @param {number} age - The user's age
 * @returns {{ name: string, age: number }}
 */
function createUser(name, age) {
  return { name, age };
}

/**
 * @typedef {Object} Product
 * @property {string} id
 * @property {string} name
 * @property {number} price
 */

/**
 * @param {Product[]} products
 * @returns {number}
 */
function getTotalPrice(products) {
  return products.reduce((sum, p) => sum + p.price, 0);
}

/** @type {Product} */
const laptop = {
  id: "1",
  name: "MacBook",
  price: 1999
};
\`\`\`

### Type Imports in JavaScript

\`\`\`javascript
// Import types for JSDoc
/** @typedef {import('./types').User} User */

/**
 * @param {User} user
 */
function processUser(user) {
  console.log(user.name);
}
\`\`\`

### Incremental Adoption Strategy

1. **Phase 1: Setup**
   \`\`\`bash
   npm install --save-dev typescript
   npx tsc --init
   \`\`\`

2. **Phase 2: Enable allowJs**
   - Add \`allowJs: true\` to tsconfig
   - TypeScript now processes .js files

3. **Phase 3: Add JSDoc Types**
   - Start with critical files
   - Add @param, @returns, @typedef

4. **Phase 4: Enable checkJs**
   - TypeScript reports errors in .js files
   - Fix issues gradually

5. **Phase 5: Convert to .ts**
   - Rename .js  .ts one file at a time
   - Start with leaf files (no dependencies)

### @ts-check Directive

Enable type-checking for individual JavaScript files:

\`\`\`javascript
// @ts-check

// TypeScript now checks this file!
let name = "Alice";
name = 42;  // Error: Type 'number' is not assignable to type 'string'
\`\`\`

### Ignoring Errors

\`\`\`javascript
// @ts-ignore - Ignore next line
const x = untypedFunction();

// @ts-expect-error - Expect an error (fails if no error)
const y = definitelyWrong();
\`\`\`

### Benefits of Gradual Adoption

- No big-bang migration
- Team learns TypeScript incrementally
- Production code stays stable
- Easy rollback if needed`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>TS in JS Projects</h2>
<pre id="demo"></pre>

<script>
// JSDoc type annotations in JavaScript

/**
 * @typedef {Object} User
 * @property {string} name
 * @property {number} age
 */

/**
 * Create a new user
 * @param {string} name - User's name
 * @param {number} age - User's age
 * @returns {User}
 */
function createUser(name, age) {
  return { name, age };
}

/**
 * @param {User[]} users
 * @returns {number}
 */
function getAverageAge(users) {
  if (users.length === 0) return 0;
  let total = users.reduce((sum, u) => sum + u.age, 0);
  return total / users.length;
}

let users = [
  createUser("Alice", 30),
  createUser("Bob", 25),
  createUser("Charlie", 35)
];

let output = "JSDoc Types in JavaScript:\\n\\n";
output += "Users created with JSDoc types:\\n";
users.forEach(u => {
  output += "  " + u.name + ": " + u.age + " years\\n";
});
output += "\\nAverage age: " + getAverageAge(users).toFixed(1) + "\\n";
output += "\\nWith @ts-check, TypeScript validates this JS file!";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    migration: {
      title: 'TS Migration',
      content: `## JavaScript to TypeScript Migration

Step-by-step strategy for large repositories.

### Pre-Migration Checklist

- [ ] Team trained on TypeScript basics
- [ ] Build system supports TypeScript
- [ ] Test coverage is adequate
- [ ] CI/CD pipeline ready
- [ ] IDE configured (VS Code recommended)

### Migration Strategy

#### Step 1: Setup TypeScript

\`\`\`bash
npm install --save-dev typescript @types/node
npx tsc --init
\`\`\`

\`\`\`json
// tsconfig.json - Start permissive
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "allowJs": true,
    "checkJs": false,
    "outDir": "./dist",
    "strict": false,
    "noImplicitAny": false,
    "esModuleInterop": true,
    "skipLibCheck": true
  },
  "include": ["src/**/*"]
}
\`\`\`

#### Step 2: Rename Files (Leaf First)

Start with files that have no dependencies:

\`\`\`
src/
 utils/
    helpers.js      helpers.ts (START HERE)
    constants.js    constants.ts
 services/
    api.js          api.ts (AFTER utils)
 index.js            index.ts (LAST)
\`\`\`

#### Step 3: Add Types Incrementally

\`\`\`typescript
// Before (JavaScript)
function fetchUser(id) {
  return fetch(\`/api/users/\${id}\`).then(r => r.json());
}

// After (TypeScript)
interface User {
  id: string;
  name: string;
  email: string;
}

async function fetchUser(id: string): Promise<User> {
  const response = await fetch(\`/api/users/\${id}\`);
  return response.json();
}
\`\`\`

#### Step 4: Enable Strict Options Gradually

\`\`\`json
// Week 1
{ "noImplicitAny": true }

// Week 2
{ "strictNullChecks": true }

// Week 3
{ "strictFunctionTypes": true }

// Finally
{ "strict": true }
\`\`\`

### High-Risk Areas

1. **Dynamic Object Access**
   \`\`\`typescript
   // Before
   obj[dynamicKey]
   
   // After
   (obj as Record<string, unknown>)[dynamicKey]
   \`\`\`

2. **Implicit Any in Callbacks**
   \`\`\`typescript
   // Before
   arr.map(item => item.name)
   
   // After
   arr.map((item: User) => item.name)
   \`\`\`

3. **Mixed null/undefined**
   \`\`\`typescript
   // Add explicit checks
   if (value !== null && value !== undefined) {
     // use value
   }
   \`\`\`

### Refactoring Tips

- Use \`// @ts-expect-error\` temporarily
- Create shared type files early
- Document "any" usages for later fixing
- Migrate tests alongside source files
- Keep PRs small and focused

### Success Metrics

- Percentage of .ts files
- Number of \`any\` types remaining
- TypeScript strict mode enabled
- Build errors at zero
- Team velocity maintained`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>TS Migration Strategy</h2>
<pre id="demo"></pre>

<script>
// Migration progression example

let migrationSteps = [
  { step: 1, action: "Install TypeScript", cmd: "npm install typescript" },
  { step: 2, action: "Create tsconfig.json", cmd: "npx tsc --init" },
  { step: 3, action: "Enable allowJs", cmd: 'Add "allowJs": true' },
  { step: 4, action: "Rename leaf files", cmd: "utils.js  utils.ts" },
  { step: 5, action: "Add basic types", cmd: "function(x: string)" },
  { step: 6, action: "Enable noImplicitAny", cmd: '"noImplicitAny": true' },
  { step: 7, action: "Enable strictNullChecks", cmd: '"strictNullChecks": true' },
  { step: 8, action: "Enable strict mode", cmd: '"strict": true' }
];

let strictOptions = [
  "noImplicitAny",
  "strictNullChecks", 
  "strictFunctionTypes",
  "strictBindCallApply",
  "strictPropertyInitialization",
  "noImplicitThis",
  "alwaysStrict"
];

let output = "JS  TS Migration Steps:\\n\\n";

migrationSteps.forEach(s => {
  output += s.step + ". " + s.action + "\\n   " + s.cmd + "\\n\\n";
});

output += "Strict Mode Options:\\n";
strictOptions.forEach(opt => {
  output += "   " + opt + "\\n";
});

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'best-practices': {
      title: 'TS Best Practices',
      content: `## TypeScript Best Practices

Professional patterns for enterprise code.

### 1. Prefer \`unknown\` over \`any\`

\`\`\`typescript
//  Bad
function process(data: any) {
  data.anything();  // No error, runtime crash
}

//  Good
function process(data: unknown) {
  if (typeof data === "string") {
    data.toUpperCase();  // Safe
  }
}
\`\`\`

### 2. Use Strict Mode

\`\`\`json
{
  "compilerOptions": {
    "strict": true  // Non-negotiable
  }
}
\`\`\`

### 3. Type API Boundaries

\`\`\`typescript
// External data should always be typed
interface APIResponse<T> {
  data: T;
  status: number;
  message?: string;
}

async function fetchUser(id: string): Promise<APIResponse<User>> {
  const response = await fetch(\`/api/users/\${id}\`);
  return response.json();
}
\`\`\`

### 4. Don't Over-Type

\`\`\`typescript
//  Unnecessary
const name: string = "Alice";  // Inferred

//  Let inference work
const name = "Alice";

// But DO type function parameters
function greet(name: string) {}  // Required
\`\`\`

### 5. DTO vs Domain Models

\`\`\`typescript
// Data Transfer Object (API shape)
interface UserDTO {
  user_id: string;
  first_name: string;
  last_name: string;
}

// Domain Model (app shape)
interface User {
  id: string;
  fullName: string;
}

// Mapper
function toUser(dto: UserDTO): User {
  return {
    id: dto.user_id,
    fullName: \`\${dto.first_name} \${dto.last_name}\`
  };
}
\`\`\`

### 6. Use Type Guards

\`\`\`typescript
function isUser(obj: unknown): obj is User {
  return (
    typeof obj === "object" &&
    obj !== null &&
    "id" in obj &&
    "name" in obj
  );
}
\`\`\`

### 7. Const Assertions for Configs

\`\`\`typescript
const ROUTES = {
  HOME: "/",
  USERS: "/users",
  SETTINGS: "/settings"
} as const;

type Route = typeof ROUTES[keyof typeof ROUTES];
\`\`\`

### 8. Discriminated Unions for State

\`\`\`typescript
type LoadingState<T> =
  | { status: "idle" }
  | { status: "loading" }
  | { status: "success"; data: T }
  | { status: "error"; error: Error };
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>TypeScript Best Practices</h2>
<pre id="demo"></pre>

<script>
// Best practices demonstrated

// 1. Type guards
function isUser(obj) {
  return obj && typeof obj === "object" && "id" in obj && "name" in obj;
}

// 2. DTO to Domain mapping
function toUser(dto) {
  return {
    id: dto.user_id,
    fullName: dto.first_name + " " + dto.last_name
  };
}

// 3. Const assertions (simulated)
const ROUTES = Object.freeze({
  HOME: "/",
  USERS: "/users",
  SETTINGS: "/settings"
});

// 4. Discriminated union state
function handleState(state) {
  switch (state.status) {
    case "idle": return "Ready to load";
    case "loading": return "Loading...";
    case "success": return "Data: " + JSON.stringify(state.data);
    case "error": return "Error: " + state.error;
  }
}

let dto = { user_id: "123", first_name: "John", last_name: "Doe" };
let user = toUser(dto);

let output = "Best Practices Demo:\\n\\n";
output += "1. Type guard:\\n   isUser(user): " + isUser(user) + "\\n\\n";
output += "2. DTO mapping:\\n   " + JSON.stringify(user) + "\\n\\n";
output += "3. Const routes:\\n   " + JSON.stringify(ROUTES) + "\\n\\n";
output += "4. State handling:\\n";
output += "   idle: " + handleState({status: "idle"}) + "\\n";
output += "   success: " + handleState({status: "success", data: {x:1}}) + "\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    '5-updates': {
      title: 'TS 5 Updates',
      content: `## TypeScript 5 Updates

Latest features and improvements.

### const Type Parameters (TS 5.0)

\`\`\`typescript
// Infer literal types automatically
function names<const T extends readonly string[]>(names: T): T {
  return names;
}

const result = names(["Alice", "Bob"]);
// Type: readonly ["Alice", "Bob"] instead of string[]
\`\`\`

### Decorators (Standard)

\`\`\`typescript
// TC39 standard decorators (not experimental)
function logged(originalMethod: any, context: ClassMethodDecoratorContext) {
  return function (...args: any[]) {
    console.log(\`Calling \${String(context.name)}\`);
    return originalMethod.call(this, ...args);
  };
}

class Example {
  @logged
  greet(name: string) {
    return \`Hello, \${name}\`;
  }
}
\`\`\`

### satisfies Operator

\`\`\`typescript
// Type-check without widening
const palette = {
  red: "#ff0000",
  green: "#00ff00"
} satisfies Record<string, string>;

// palette.red is still "#ff0000", not string
palette.red.toUpperCase();  // Works!
\`\`\`

### Better Enum Improvements

\`\`\`typescript
// All enums are union types in TS 5
enum Color { Red, Green, Blue }

// Color is now: Color.Red | Color.Green | Color.Blue
\`\`\`

### Performance Improvements

- 10-25% faster builds
- Smaller package size
- Better memory usage
- Faster IDE response

### Breaking Changes Awareness

\`\`\`typescript
// 1. lib.d.ts changes - some DOM types updated
// 2. Stricter inference in some cases
// 3. Decorator changes from experimental to standard
\`\`\`

### Migration Tips

1. Update \`typescript\` to ^5.0.0
2. Check for deprecated APIs
3. Test decorators if using them
4. Review lib.d.ts type changes
5. Enable new strict features gradually`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>TypeScript 5 Features</h2>
<pre id="demo"></pre>

<script>
// TypeScript 5 feature concepts

// satisfies-like pattern
function createPalette(colors) {
  // Validate structure
  for (let key in colors) {
    if (typeof colors[key] !== 'string') {
      throw new Error('Invalid color value');
    }
  }
  return colors;
}

let palette = createPalette({
  red: "#ff0000",
  green: "#00ff00",
  blue: "#0000ff"
});

// const inference (simulated)
function asConst(arr) {
  return Object.freeze([...arr]);
}

let names = asConst(["Alice", "Bob", "Charlie"]);

let output = "TypeScript 5 Features:\\n\\n";
output += "1. satisfies pattern:\\n";
output += "   Palette validated: " + JSON.stringify(palette) + "\\n\\n";
output += "2. const inference:\\n";
output += "   Frozen array: " + JSON.stringify(names) + "\\n";
output += "   Is frozen: " + Object.isFrozen(names) + "\\n\\n";
output += "3. Performance: 10-25% faster builds\\n";
output += "4. Better enum handling\\n";
output += "5. Standard decorators support\\n";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
  };

  return tsLessons[lessonSlug] || {
    title: 'Lesson',
    content: '# Coming Soon\n\nThis lesson content is being prepared.',
    tryItCode: '<!-- Code example coming soon -->',
  };
};

// ============================================
// REACT LESSON CONTENT GENERATOR
// ============================================

const generateReactLessonContent = (lessonSlug: string) => {
  const reactLessons: Record<string, { title: string; content: string; tryItCode?: string }> = {
    // PHASE 0  FOUNDATION
    home: {
      title: 'React HOME',
      content: `## Welcome to React

React is the world's most popular JavaScript library for building user interfaces.

### What You'll Learn

- **Component-Based Architecture**: Build encapsulated components that manage their own state
- **Declarative UI**: Describe what you want, React figures out how
- **Virtual DOM**: Efficient updates through intelligent diffing
- **Modern Hooks**: Powerful state and lifecycle management
- **Real-World Skills**: Production-ready patterns and best practices

### Why React?

- Used by **Meta, Netflix, Airbnb, Twitter, and millions more**
- **2+ million** weekly npm downloads
- Huge ecosystem of tools and libraries
- Career opportunities in every tech hub

### Course Structure

1. **Foundation** - Understanding React's mental model
2. **JSX & Components** - Building blocks of React apps
3. **Props & Events** - Data flow and interactivity
4. **Forms** - Handling user input
5. **Styling** - Making apps beautiful
6. **Routing** - Single-page applications
7. **Hooks** - Modern state management
8. **Advanced Patterns** - Senior-level techniques

### Prerequisites

- HTML & CSS fundamentals
- JavaScript ES6+ (especially arrow functions, destructuring, modules)
- Basic command line usage

**Let's build something amazing!** `,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Welcome to React!</h2>
<div id="demo"></div>

<script>
// What is React?
let reactInfo = {
  name: "React",
  creator: "Meta (Facebook)",
  type: "JavaScript Library",
  purpose: "Building User Interfaces",
  released: 2013,
  currentVersion: "18.x"
};

let features = [
  "Component-Based",
  "Declarative",
  "Virtual DOM",
  "One-Way Data Flow",
  "Hooks",
  "Server Components"
];

let output = "<h3>React Overview</h3>";
output += "<p><strong>Name:</strong> " + reactInfo.name + "</p>";
output += "<p><strong>Created by:</strong> " + reactInfo.creator + "</p>";
output += "<p><strong>Type:</strong> " + reactInfo.type + "</p>";
output += "<p><strong>Purpose:</strong> " + reactInfo.purpose + "</p>";
output += "<p><strong>Released:</strong> " + reactInfo.released + "</p>";

output += "<h3>Key Features</h3><ul>";
features.forEach(function(f) {
  output += "<li>" + f + "</li>";
});
output += "</ul>";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    intro: {
      title: 'React Introduction',
      content: `## What is React?

React is a **declarative, component-based JavaScript library** for building user interfaces.

### The Core Philosophy

\`\`\`
UI = f(state)
\`\`\`

Your UI is a **function of your state**. When state changes, React efficiently updates only what needs to change.

### Declarative vs Imperative

**Imperative (jQuery style):**
\`\`\`javascript
// You tell the browser HOW to do it
document.getElementById('counter').innerHTML = count;
document.getElementById('btn').addEventListener('click', increment);
\`\`\`

**Declarative (React style):**
\`\`\`jsx
// You describe WHAT you want
function Counter() {
  const [count, setCount] = useState(0);
  return <button onClick={() => setCount(count + 1)}>{count}</button>;
}
\`\`\`

### Virtual DOM Explained

React doesn't directly manipulate the real DOM. Instead:

1. **State changes** trigger a re-render
2. React creates a **Virtual DOM** (JavaScript object tree)
3. React **diffs** the new Virtual DOM against the previous one
4. Only **actual changes** are applied to the real DOM

This makes React incredibly efficient.

### React vs Other Frameworks

| Feature | React | Angular | Vue |
|---------|-------|---------|-----|
| Type | Library | Framework | Framework |
| Learning Curve | Moderate | Steep | Gentle |
| Size | Small | Large | Small |
| Flexibility | High | Opinionated | Balanced |
| State Management | External | Built-in | External/Pinia |

### React's Mental Model

Think of your app as a **tree of components**, each responsible for:
- Its own rendering logic
- Its own state (if needed)
- Receiving data from parents (props)
- Passing data to children (props)`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>React Mental Model</h2>
<div id="demo"></div>

<script>
// Simulating React's declarative approach

// State
let state = {
  count: 0,
  user: "Developer",
  items: ["Learn React", "Build Apps", "Get Hired"]
};

// Render function - describes WHAT we want
function render(state) {
  let output = "<h3>Welcome, " + state.user + "!</h3>";
  output += "<p>Count: <strong>" + state.count + "</strong></p>";
  output += "<h4>Your Goals:</h4><ul>";
  state.items.forEach(function(item) {
    output += "<li>" + item + "</li>";
  });
  output += "</ul>";
  output += "<p><em>UI = f(state) - When state changes, UI updates!</em></p>";
  return output;
}

// Initial render
document.getElementById("demo").innerHTML = render(state);

// Simulate state change after 2 seconds
setTimeout(function() {
  state.count = 10;
  state.items.push("Master Hooks");
  document.getElementById("demo").innerHTML = render(state);
}, 2000);
</script>

</body>
</html>`,
    },
    'get-started': {
      title: 'React Get Started',
      content: `## Setting Up React

### Tooling Landscape

| Tool | Description | Best For |
|------|-------------|----------|
| **Vite** | Lightning-fast build tool | New projects (recommended) |
| **Create React App** | Official starter (deprecated) | Legacy projects |
| **Next.js** | Full-stack framework | Production apps, SSR, SEO |
| **Remix** | Full-stack framework | Data-heavy apps |

### Creating a React App with Vite

\`\`\`bash
# Create new project
npm create vite@latest my-react-app -- --template react

# Navigate to project
cd my-react-app

# Install dependencies
npm install

# Start development server
npm run dev
\`\`\`

### Project Structure

\`\`\`
my-react-app/
 node_modules/
 public/
    vite.svg
 src/
    assets/
    App.css
    App.jsx
    index.css
    main.jsx         Entry point
 index.html
 package.json
 vite.config.js
 README.md
\`\`\`

### Understanding the Entry Point

\`\`\`jsx
// main.jsx - Where React mounts to the DOM
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App.jsx'
import './index.css'

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
)
\`\`\`

### React.StrictMode

- Enables additional development checks
- Helps identify unsafe lifecycles
- Warns about deprecated APIs
- Double-invokes functions to detect side effects
- **Only runs in development**, no production impact

### Dev vs Production Builds

\`\`\`bash
# Development (hot reload, error overlays)
npm run dev

# Production build (optimized, minified)
npm run build

# Preview production build locally
npm run preview
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>React Project Structure</h2>
<pre id="demo"></pre>

<script>
// Simulating React project structure

let projectStructure = {
  "my-react-app/": {
    "node_modules/": "[dependencies]",
    "public/": {
      "vite.svg": "static asset"
    },
    "src/": {
      "assets/": "[images, fonts]",
      "App.css": "component styles",
      "App.jsx": "root component",
      "index.css": "global styles",
      "main.jsx": " ENTRY POINT"
    },
    "index.html": "HTML template",
    "package.json": "dependencies & scripts",
    "vite.config.js": "build configuration"
  }
};

let commands = [
  { cmd: "npm create vite@latest my-app", desc: "Create project" },
  { cmd: "cd my-app", desc: "Enter directory" },
  { cmd: "npm install", desc: "Install dependencies" },
  { cmd: "npm run dev", desc: "Start dev server" },
  { cmd: "npm run build", desc: "Production build" }
];

let output = "Project Structure:\\n";
output += JSON.stringify(projectStructure, null, 2);
output += "\\n\\nEssential Commands:\\n";
commands.forEach(function(c) {
  output += "  " + c.cmd + "\\n     " + c.desc + "\\n";
});

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'first-app': {
      title: 'React First App',
      content: `## Your First React Application

### The Entry Point

Every React app has a single entry point where React takes control:

\`\`\`jsx
// main.jsx
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App'

const root = ReactDOM.createRoot(document.getElementById('root'))
root.render(<App />)
\`\`\`

### Your First Component

\`\`\`jsx
// App.jsx
function App() {
  return (
    <div>
      <h1>Hello, React!</h1>
      <p>Welcome to my first React app.</p>
    </div>
  )
}

export default App
\`\`\`

### How It Works

1. **index.html** contains \`<div id="root"></div>\`
2. **main.jsx** finds this element
3. React **mounts** the \`App\` component inside it
4. React now **controls** this DOM subtree

### Adding State

\`\`\`jsx
import { useState } from 'react'

function App() {
  const [count, setCount] = useState(0)

  return (
    <div>
      <h1>Counter: {count}</h1>
      <button onClick={() => setCount(count + 1)}>
        Click me!
      </button>
    </div>
  )
}
\`\`\`

### Multiple Components

\`\`\`jsx
// Header.jsx
function Header() {
  return <header><h1>My App</h1></header>
}

// Footer.jsx
function Footer() {
  return <footer> 2024</footer>
}

// App.jsx
import Header from './Header'
import Footer from './Footer'

function App() {
  return (
    <>
      <Header />
      <main>Content here</main>
      <Footer />
    </>
  )
}
\`\`\`

### Fragment Shorthand

Use \`<></>\` (Fragment) when you need to return multiple elements without a wrapper div.`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>First React App Simulation</h2>
<div id="root"></div>

<script>
// Simulating React component structure

// Component: Header
function Header() {
  return "<header><h1> My First React App</h1></header>";
}

// Component: Counter (with state simulation)
let count = 0;
function Counter() {
  return '<div class="counter">' +
    '<p>Count: <strong id="count-value">' + count + '</strong></p>' +
    '<button onclick="increment()">Click Me!</button>' +
    '</div>';
}

// Component: Footer
function Footer() {
  return "<footer><p>Built with React </p></footer>";
}

// App Component (combines everything)
function App() {
  return Header() + 
    '<main>' + Counter() + '</main>' +
    Footer();
}

// Mount to DOM (like ReactDOM.render)
function render() {
  document.getElementById("root").innerHTML = App();
}

// State update function
function increment() {
  count++;
  render(); // Re-render on state change
}

// Initial render
render();
</script>

<style>
#root { font-family: Arial, sans-serif; max-width: 400px; margin: 0 auto; }
header { background: #282c34; color: #61dafb; padding: 20px; }
main { padding: 20px; text-align: center; }
button { background: #61dafb; border: none; padding: 10px 20px; font-size: 16px; cursor: pointer; }
footer { background: #f5f5f5; padding: 10px; text-align: center; }
</style>

</body>
</html>`,
    },
    'render-html': {
      title: 'React Render HTML',
      content: `## Rendering JSX to the DOM

### The Root

React apps have a single root element where everything renders:

\`\`\`html
<!-- index.html -->
<div id="root"></div>
\`\`\`

\`\`\`jsx
// main.jsx
const root = ReactDOM.createRoot(document.getElementById('root'))
root.render(<App />)
\`\`\`

### What Triggers Re-renders?

1. **State changes** via \`setState\` or \`useState\`
2. **Props changes** from parent component
3. **Context changes** if using \`useContext\`
4. **Parent re-renders** (children re-render too)

### Idempotency Concept

React render functions should be **idempotent** - calling them with the same props/state should produce the same output.

\`\`\`jsx
//  Idempotent - same input = same output
function Greeting({ name }) {
  return <h1>Hello, {name}!</h1>
}

//  Not idempotent - different output each render
function Greeting({ name }) {
  return <h1>Hello, {name}! Time: {Date.now()}</h1>
}
\`\`\`

### Rendering Multiple Elements

\`\`\`jsx
// Using Fragment
function App() {
  return (
    <>
      <Header />
      <Main />
      <Footer />
    </>
  )
}

// Rendering from array
function List({ items }) {
  return (
    <ul>
      {items.map(item => (
        <li key={item.id}>{item.name}</li>
      ))}
    </ul>
  )
}
\`\`\`

### Conditional Rendering

\`\`\`jsx
function Dashboard({ isLoggedIn }) {
  return (
    <div>
      {isLoggedIn ? <UserPanel /> : <LoginForm />}
    </div>
  )
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>React Rendering Concepts</h2>
<div id="demo"></div>

<script>
// Demonstrating React rendering concepts

let renderCount = 0;

// Simulating idempotent render
function Greeting(props) {
  // Same props = same output (idempotent)
  return "<h3>Hello, " + props.name + "!</h3>";
}

// Simulating conditional render
function Dashboard(props) {
  if (props.isLoggedIn) {
    return "<div>Welcome back! <button onclick='logout()'>Logout</button></div>";
  }
  return "<div>Please <button onclick='login()'>Login</button></div>";
}

// State
let state = { isLoggedIn: false, name: "Developer" };

// Render function
function render() {
  renderCount++;
  let output = Greeting({ name: state.name });
  output += Dashboard({ isLoggedIn: state.isLoggedIn });
  output += "<p><em>Render count: " + renderCount + "</em></p>";
  output += "<p>Each state change triggers a re-render!</p>";
  document.getElementById("demo").innerHTML = output;
}

// State updaters
function login() {
  state.isLoggedIn = true;
  render();
}

function logout() {
  state.isLoggedIn = false;
  render();
}

// Initial render
render();
</script>

</body>
</html>`,
    },
    es6: {
      title: 'React ES6 Essentials',
      content: `## ES6 for React

React without ES6 is dead weight. Master these features:

### Arrow Functions

\`\`\`javascript
// Traditional
function greet(name) {
  return 'Hello, ' + name;
}

// Arrow function
const greet = (name) => 'Hello, ' + name;

// In React - event handlers
<button onClick={() => setCount(count + 1)}>Click</button>
\`\`\`

### Destructuring

\`\`\`javascript
// Object destructuring
const { name, age } = user;

// Props destructuring
function UserCard({ name, email, avatar }) {
  return <div>{name} - {email}</div>;
}

// Array destructuring (useState)
const [count, setCount] = useState(0);
\`\`\`

### Spread Operator

\`\`\`javascript
// Copying arrays
const newItems = [...items, newItem];

// Copying objects
const updatedUser = { ...user, name: 'New Name' };

// Spreading props
<Component {...props} />
\`\`\`

### Template Literals

\`\`\`javascript
// String interpolation
const message = \`Hello, \${name}!\`;

// Multi-line
const html = \`
  <div>
    <h1>\${title}</h1>
  </div>
\`;
\`\`\`

### Modules

\`\`\`javascript
// Named exports
export const Button = () => <button>Click</button>;
export const Input = () => <input />;

// Named imports
import { Button, Input } from './components';

// Default export
export default function App() { ... }

// Default import
import App from './App';
\`\`\`

### Short-circuit Evaluation

\`\`\`jsx
// Show only if condition is true
{isLoggedIn && <LogoutButton />}

// Default values
const name = user.name || 'Guest';
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>ES6 for React</h2>
<pre id="demo"></pre>

<script>
// ES6 Features Essential for React

// 1. Arrow Functions
const greet = (name) => "Hello, " + name + "!";

// 2. Destructuring
const user = { name: "Alice", age: 25, role: "Developer" };
const { name, age, role } = user;

// 3. Array Destructuring (like useState)
const stateArray = [0, function(n) { return n; }];
const [count, setCount] = stateArray;

// 4. Spread Operator
const arr = [1, 2, 3];
const newArr = [...arr, 4, 5];

const newUser = { ...user, name: "Bob" };

// 5. Template Literals
const message = \`Welcome, \${name}! You are \${age} years old.\`;

// 6. Short-circuit
const isLoggedIn = true;
const greeting = isLoggedIn && "Welcome back!";

let output = "ES6 Features for React:\\n\\n";
output += "1. Arrow Functions:\\n";
output += "   " + greet("React Developer") + "\\n\\n";

output += "2. Object Destructuring:\\n";
output += "   name: " + name + ", age: " + age + ", role: " + role + "\\n\\n";

output += "3. Array Destructuring (useState pattern):\\n";
output += "   const [count, setCount] = useState(0)\\n";
output += "   count = " + count + "\\n\\n";

output += "4. Spread Operator:\\n";
output += "   Original: [" + arr + "]  New: [" + newArr + "]\\n";
output += "   Original user: " + user.name + "  Spread: " + newUser.name + "\\n\\n";

output += "5. Template Literals:\\n";
output += "   " + message + "\\n\\n";

output += "6. Short-circuit (conditional rendering):\\n";
output += "   {isLoggedIn && <Component />}\\n";
output += "   Result: " + greeting;

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },

    // PHASE 2  JSX & COMPONENTS
    'jsx-intro': {
      title: 'React JSX Intro',
      content: `## Understanding JSX

JSX is **syntax sugar** for \`React.createElement()\`.

### JSX is NOT HTML

\`\`\`jsx
// This JSX:
<div className="container">
  <h1>Hello</h1>
</div>

// Compiles to:
React.createElement(
  'div',
  { className: 'container' },
  React.createElement('h1', null, 'Hello')
)
\`\`\`

### Key Differences from HTML

| HTML | JSX |
|------|-----|
| \`class\` | \`className\` |
| \`for\` | \`htmlFor\` |
| \`onclick\` | \`onClick\` |
| \`tabindex\` | \`tabIndex\` |
| Self-closing optional | Self-closing required \`<img />\` |

### JSX Rules

1. **Single Root Element**
\`\`\`jsx
//  Invalid - multiple roots
return (
  <h1>Title</h1>
  <p>Content</p>
)

//  Valid - single root
return (
  <div>
    <h1>Title</h1>
    <p>Content</p>
  </div>
)

//  Using Fragment
return (
  <>
    <h1>Title</h1>
    <p>Content</p>
  </>
)
\`\`\`

2. **Close All Tags**
\`\`\`jsx
<img src="photo.jpg" />
<input type="text" />
<br />
\`\`\`

3. **camelCase Attributes**
\`\`\`jsx
<div tabIndex="0" onClick={handleClick}>
  <label htmlFor="name">Name</label>
</div>
\`\`\`

### The Compilation Pipeline

\`\`\`
JSX  Babel/SWC  React.createElement()  Virtual DOM  Real DOM
\`\`\`

Babel or SWC transforms JSX at build time, not runtime.`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>JSX Compilation</h2>
<div id="demo"></div>

<script>
// JSX compiles to React.createElement()

// Simulating what JSX compiles to:
function createElement(type, props, ...children) {
  return {
    type: type,
    props: {
      ...props,
      children: children.length === 1 ? children[0] : children
    }
  };
}

// This JSX:
// <div className="container">
//   <h1>Hello, React!</h1>
//   <p>Welcome to JSX</p>
// </div>

// Compiles to:
let element = createElement(
  'div',
  { className: 'container' },
  createElement('h1', null, 'Hello, React!'),
  createElement('p', null, 'Welcome to JSX')
);

let output = "<h3>JSX  React.createElement()</h3>";
output += "<p>JSX is just syntax sugar!</p>";
output += "<pre>" + JSON.stringify(element, null, 2) + "</pre>";

output += "<h4>Key Differences from HTML:</h4>";
output += "<table border='1' style='border-collapse:collapse'>";
output += "<tr><th>HTML</th><th>JSX</th></tr>";
output += "<tr><td>class</td><td>className</td></tr>";
output += "<tr><td>for</td><td>htmlFor</td></tr>";
output += "<tr><td>onclick</td><td>onClick</td></tr>";
output += "<tr><td>tabindex</td><td>tabIndex</td></tr>";
output += "</table>";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'jsx-expressions': {
      title: 'JSX Expressions',
      content: `## Expressions in JSX

Use curly braces \`{}\` to embed JavaScript expressions in JSX.

### Expressions vs Statements

\`\`\`jsx
//  Expressions (return a value)
{2 + 2}
{user.name}
{formatDate(date)}
{items.map(i => <li key={i.id}>{i.name}</li>)}

//  Statements (don't return a value)
{if (x) { ... }}  // Use ternary instead
{for (let i...) {...}}  // Use map instead
\`\`\`

### Common Expression Patterns

\`\`\`jsx
// Variables
<h1>{userName}</h1>

// Calculations
<p>Total: \${price * quantity}</p>

// Function calls
<span>{formatCurrency(amount)}</span>

// Object properties
<img src={user.avatar} alt={user.name} />

// Array methods
<ul>
  {items.map(item => (
    <li key={item.id}>{item.name}</li>
  ))}
</ul>

// Ternary
{isLoading ? <Spinner /> : <Content />}

// Logical AND
{hasError && <ErrorMessage />}
\`\`\`

### Dynamic Styling

\`\`\`jsx
// Inline styles (object)
<div style={{ color: 'red', fontSize: '20px' }}>
  Styled text
</div>

// Dynamic classes
<div className={\`card \${isActive ? 'active' : ''}\`}>
  Content
</div>
\`\`\`

### Avoid These Mistakes

\`\`\`jsx
//  Don't use quotes around expressions
<img src="{imageUrl}" />  // Wrong - renders literally

//  Use curly braces
<img src={imageUrl} />    // Correct

//  Don't put braces around string literals
<div className={"container"} />  // Unnecessary

//  Just use the string
<div className="container" />    // Cleaner
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>JSX Expressions</h2>
<div id="demo"></div>

<script>
// JSX Expression Examples

let user = {
  name: "Alice",
  role: "Developer",
  avatar: ""
};

let items = [
  { id: 1, name: "Learn JSX", done: true },
  { id: 2, name: "Build Components", done: false },
  { id: 3, name: "Master Hooks", done: false }
];

let isLoggedIn = true;
let hasNotifications = true;
let notificationCount = 5;

// Simulating JSX expressions
function render() {
  let output = "<h3>Expression Examples</h3>";
  
  // Variable expression
  output += "<p>User: <strong>{user.name}</strong>  " + user.name + "</p>";
  
  // Calculation expression
  let price = 29.99, qty = 3;
  output += "<p>Total: <strong>{price * qty}</strong>  $" + (price * qty).toFixed(2) + "</p>";
  
  // Ternary expression
  output += "<p>Status: {isLoggedIn ? 'Welcome!' : 'Please login'}  ";
  output += (isLoggedIn ? "Welcome!" : "Please login") + "</p>";
  
  // Logical AND
  output += "<p>Notifications: {hasNotifications && count}  ";
  output += (hasNotifications && notificationCount) + "</p>";
  
  // Array map
  output += "<h4>Todo List (using map):</h4><ul>";
  items.forEach(function(item) {
    let style = item.done ? "text-decoration: line-through" : "";
    output += "<li style='" + style + "'>" + item.name + "</li>";
  });
  output += "</ul>";
  
  return output;
}

document.getElementById("demo").innerHTML = render();
</script>

</body>
</html>`,
    },
    'jsx-attributes': {
      title: 'JSX Attributes',
      content: `## JSX Attributes

### Dynamic Attributes

\`\`\`jsx
// String attributes
<img src="/images/logo.png" alt="Logo" />

// Dynamic attributes
<img src={imageUrl} alt={altText} />

// Spread attributes
<Button {...buttonProps} />
\`\`\`

### Boolean Props

\`\`\`jsx
// Presence = true
<input disabled />
<button hidden />

// Explicit boolean
<input disabled={isDisabled} />

// Shorthand patterns
<Modal open />           // open={true}
<Modal open={isOpen} />  // conditional
\`\`\`

### Event Handlers

\`\`\`jsx
// Inline handler
<button onClick={() => console.log('clicked')}>
  Click
</button>

// Function reference
<button onClick={handleClick}>Click</button>

// With parameters
<button onClick={() => handleDelete(id)}>Delete</button>
\`\`\`

### Style Attribute

\`\`\`jsx
// Object syntax (camelCase properties)
<div style={{ 
  backgroundColor: 'blue',
  fontSize: '16px',
  padding: '20px'
}}>
  Styled div
</div>

// Dynamic styles
<div style={{ 
  color: isError ? 'red' : 'green',
  opacity: isVisible ? 1 : 0 
}}>
  Dynamic styling
</div>
\`\`\`

### Common Attribute Patterns

\`\`\`jsx
// Conditional className
<div className={\`btn \${isActive ? 'btn-active' : ''}\`}>

// Multiple classes (with classnames library)
<div className={classNames('btn', { 'active': isActive })}>

// Data attributes
<div data-testid="submit-button" data-id={itemId}>

// ARIA attributes
<button aria-label="Close" aria-pressed={isPressed}>
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>JSX Attributes</h2>
<div id="demo"></div>

<script>
// JSX Attribute Patterns

let props = {
  src: "https://placekitten.com/100/100",
  alt: "A cute kitten",
  className: "avatar",
  onClick: function() { alert("Clicked!"); }
};

let isActive = true;
let isDisabled = false;

function render() {
  let output = "<h3>Attribute Examples</h3>";
  
  // Dynamic attributes
  output += "<h4>1. Dynamic Attributes</h4>";
  output += '<img src="' + props.src + '" alt="' + props.alt + '" style="border-radius:50%" />';
  
  // Boolean props
  output += "<h4>2. Boolean Props</h4>";
  output += '<input type="text" placeholder="Enabled input" /><br>';
  output += '<input type="text" placeholder="Disabled input" disabled />';
  
  // Conditional className
  output += "<h4>3. Conditional Classes</h4>";
  let buttonClass = "btn " + (isActive ? "btn-active" : "");
  output += '<button class="' + buttonClass + '" style="padding:10px 20px;background:' + (isActive ? '#61dafb' : '#ccc') + '">Active Button</button>';
  
  // Style object
  output += "<h4>4. Style Object</h4>";
  output += '<div style="background-color:#282c34;color:#61dafb;padding:15px;border-radius:8px">Styled with inline style object</div>';
  
  // Spread props simulation
  output += "<h4>5. Spread Props Pattern</h4>";
  output += "<p>In React: <code>&lt;Img {...props} /&gt;</code></p>";
  output += "<p>All props spread onto element automatically!</p>";
  
  return output;
}

document.getElementById("demo").innerHTML = render();
</script>

<style>
.btn { padding: 10px 20px; border: none; cursor: pointer; }
.btn-active { background: #61dafb; color: #282c34; }
</style>

</body>
</html>`,
    },
    'jsx-conditionals': {
      title: 'JSX Conditionals',
      content: `## Conditional Rendering

### Ternary Operator

\`\`\`jsx
function Welcome({ isLoggedIn }) {
  return (
    <div>
      {isLoggedIn ? (
        <h1>Welcome back!</h1>
      ) : (
        <h1>Please sign in</h1>
      )}
    </div>
  );
}
\`\`\`

### Logical AND (&&)

\`\`\`jsx
// Show only if true
function Notifications({ count }) {
  return (
    <div>
      {count > 0 && (
        <span className="badge">{count}</span>
      )}
    </div>
  );
}
\`\`\`

** Warning with &&:**
\`\`\`jsx
//  Dangerous - renders "0"
{count && <Badge count={count} />}

//  Safe - explicit boolean
{count > 0 && <Badge count={count} />}
\`\`\`

### Early Return Pattern

\`\`\`jsx
function Dashboard({ user }) {
  // Guard clause
  if (!user) {
    return <LoginPrompt />;
  }

  // Main render
  return (
    <div>
      <h1>Welcome, {user.name}</h1>
      <UserContent />
    </div>
  );
}
\`\`\`

### Switch-like Rendering

\`\`\`jsx
function StatusBadge({ status }) {
  const badges = {
    pending: <span className="yellow">Pending</span>,
    approved: <span className="green">Approved</span>,
    rejected: <span className="red">Rejected</span>,
  };

  return badges[status] || <span>Unknown</span>;
}
\`\`\`

### Render Guards (Clean Pattern)

\`\`\`jsx
function UserProfile({ user, isLoading, error }) {
  if (isLoading) return <Spinner />;
  if (error) return <ErrorMessage error={error} />;
  if (!user) return <NotFound />;

  return <ProfileCard user={user} />;
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Conditional Rendering</h2>
<div id="demo"></div>

<script>
// Conditional Rendering Patterns

let state = {
  isLoggedIn: true,
  notificationCount: 3,
  status: "approved",
  isLoading: false,
  error: null,
  user: { name: "Alice" }
};

function render() {
  let output = "";
  
  // 1. Ternary
  output += "<h4>1. Ternary Operator</h4>";
  output += state.isLoggedIn 
    ? "<p> Welcome back, " + state.user.name + "!</p>"
    : "<p> Please sign in</p>";
  
  // 2. Logical AND
  output += "<h4>2. Logical AND (&&)</h4>";
  if (state.notificationCount > 0) {
    output += '<p> You have <span style="background:#ff4444;color:white;padding:2px 8px;border-radius:10px">' + state.notificationCount + '</span> notifications</p>';
  } else {
    output += "<p>No notifications</p>";
  }
  
  // 3. Switch-like
  output += "<h4>3. Switch-like Pattern</h4>";
  let badges = {
    pending: '<span style="background:#ffa500;padding:4px 8px"> Pending</span>',
    approved: '<span style="background:#4caf50;color:white;padding:4px 8px"> Approved</span>',
    rejected: '<span style="background:#f44336;color:white;padding:4px 8px"> Rejected</span>'
  };
  output += "<p>Status: " + (badges[state.status] || "Unknown") + "</p>";
  
  // 4. Render Guards
  output += "<h4>4. Render Guards</h4>";
  if (state.isLoading) {
    output += "<p> Loading...</p>";
  } else if (state.error) {
    output += "<p> Error: " + state.error + "</p>";
  } else if (!state.user) {
    output += "<p> User not found</p>";
  } else {
    output += "<p> Profile: " + state.user.name + "</p>";
  }
  
  output += "<button onclick='toggleLogin()'>Toggle Login</button>";
  
  return output;
}

function toggleLogin() {
  state.isLoggedIn = !state.isLoggedIn;
  document.getElementById("demo").innerHTML = render();
}

document.getElementById("demo").innerHTML = render();
</script>

</body>
</html>`,
    },
    components: {
      title: 'React Components',
      content: `## Functional Components

Components are the building blocks of React applications.

### Basic Component

\`\`\`jsx
function Welcome() {
  return <h1>Hello, World!</h1>;
}

// Arrow function syntax
const Welcome = () => <h1>Hello, World!</h1>;
\`\`\`

### Component with Props

\`\`\`jsx
function Greeting({ name, age }) {
  return (
    <div>
      <h1>Hello, {name}!</h1>
      <p>You are {age} years old.</p>
    </div>
  );
}

// Usage
<Greeting name="Alice" age={25} />
\`\`\`

### Component Purity

Components should be **pure functions**:

\`\`\`jsx
//  Pure - same input = same output
function PureComponent({ value }) {
  return <div>{value * 2}</div>;
}

//  Impure - modifies external state
let counter = 0;
function ImpureComponent() {
  counter++;  // Side effect!
  return <div>{counter}</div>;
}
\`\`\`

### Single Responsibility Principle

Each component should do ONE thing well:

\`\`\`jsx
//  Too many responsibilities
function UserDashboard() {
  // fetches data
  // manages state
  // handles auth
  // renders UI
  // manages forms
}

//  Separated concerns
function UserDashboard() {
  return (
    <Layout>
      <UserHeader />
      <UserStats />
      <UserActivity />
      <UserSettings />
    </Layout>
  );
}
\`\`\`

### Component Composition

\`\`\`jsx
// Small, focused components
function Avatar({ src, alt }) {
  return <img className="avatar" src={src} alt={alt} />;
}

function UserInfo({ name, role }) {
  return (
    <div>
      <h3>{name}</h3>
      <p>{role}</p>
    </div>
  );
}

// Composed together
function UserCard({ user }) {
  return (
    <div className="card">
      <Avatar src={user.avatar} alt={user.name} />
      <UserInfo name={user.name} role={user.role} />
    </div>
  );
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>React Components</h2>
<div id="root"></div>

<script>
// Component-Based Architecture

// Component: Avatar
function Avatar(props) {
  return '<img class="avatar" src="' + props.src + '" alt="' + props.alt + '" style="width:50px;height:50px;border-radius:50%" />';
}

// Component: UserInfo
function UserInfo(props) {
  return '<div class="user-info"><h4 style="margin:0">' + props.name + '</h4><p style="margin:0;color:#666">' + props.role + '</p></div>';
}

// Component: UserCard (composed)
function UserCard(props) {
  return '<div class="card" style="display:flex;gap:15px;padding:15px;border:1px solid #ddd;border-radius:8px;margin:10px 0">' +
    Avatar({ src: props.avatar, alt: props.name }) +
    UserInfo({ name: props.name, role: props.role }) +
  '</div>';
}

// Component: App (root)
function App() {
  let users = [
    { id: 1, name: "Alice", role: "Frontend Developer", avatar: "https://i.pravatar.cc/50?u=alice" },
    { id: 2, name: "Bob", role: "Backend Developer", avatar: "https://i.pravatar.cc/50?u=bob" },
    { id: 3, name: "Charlie", role: "Full Stack Developer", avatar: "https://i.pravatar.cc/50?u=charlie" }
  ];
  
  let output = '<h3>Team Members</h3>';
  users.forEach(function(user) {
    output += UserCard(user);
  });
  
  output += '<p style="margin-top:20px;color:#61dafb"><em>Each card is a composition of Avatar + UserInfo components!</em></p>';
  
  return output;
}

// Mount to root
document.getElementById("root").innerHTML = App();
</script>

</body>
</html>`,
    },
    'class': {
      title: 'React Class Components',
      content: `## Class Components (Legacy)

Class components are the **older way** of writing React components. Understand them to read legacy code.

### Basic Class Component

\`\`\`jsx
import React, { Component } from 'react';

class Welcome extends Component {
  render() {
    return <h1>Hello, {this.props.name}!</h1>;
  }
}
\`\`\`

### State in Class Components

\`\`\`jsx
class Counter extends Component {
  constructor(props) {
    super(props);
    this.state = { count: 0 };
  }

  increment = () => {
    this.setState({ count: this.state.count + 1 });
  }

  render() {
    return (
      <div>
        <p>Count: {this.state.count}</p>
        <button onClick={this.increment}>+</button>
      </div>
    );
  }
}
\`\`\`

### Lifecycle Methods

\`\`\`jsx
class DataFetcher extends Component {
  componentDidMount() {
    // Runs after component mounts
    this.fetchData();
  }

  componentDidUpdate(prevProps) {
    // Runs after updates
    if (prevProps.id !== this.props.id) {
      this.fetchData();
    }
  }

  componentWillUnmount() {
    // Cleanup before unmount
    this.cancelRequest();
  }

  render() {
    return <div>{this.state.data}</div>;
  }
}
\`\`\`

### Why Hooks Replaced Classes

| Issue with Classes | Hooks Solution |
|-------------------|----------------|
| Complex lifecycle | useEffect combines mount/update/unmount |
| \`this\` binding confusion | No \`this\` needed |
| Hard to share logic | Custom hooks |
| Larger bundle size | Smaller, tree-shakeable |
| Harder to test | Pure functions |

### When You'll See Classes

- Legacy codebases
- Error boundaries (still require classes)
- Some third-party libraries

**For new code, always use functional components with hooks.**`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Class vs Functional Components</h2>
<div id="demo"></div>

<script>
// Comparing Class and Functional Components

// CLASS COMPONENT STRUCTURE (pseudo-code)
let classComponent = {
  name: "Counter",
  type: "Class Component",
  code: \`
class Counter extends Component {
  constructor(props) {
    super(props);
    this.state = { count: 0 };
  }

  increment = () => {
    this.setState({ count: this.state.count + 1 });
  }

  render() {
    return (
      <button onClick={this.increment}>
        {this.state.count}
      </button>
    );
  }
}
\`
};

// FUNCTIONAL COMPONENT (modern)
let functionalComponent = {
  name: "Counter",
  type: "Functional Component",
  code: \`
function Counter() {
  const [count, setCount] = useState(0);

  return (
    <button onClick={() => setCount(count + 1)}>
      {count}
    </button>
  );
}
\`
};

let output = "<h3>Class vs Functional</h3>";

output += "<h4> Class Component (Legacy)</h4>";
output += "<pre style='background:#fff3f3;padding:10px;overflow-x:auto'>" + classComponent.code + "</pre>";

output += "<h4> Functional Component (Modern)</h4>";
output += "<pre style='background:#f3fff3;padding:10px;overflow-x:auto'>" + functionalComponent.code + "</pre>";

output += "<h4>Why Hooks Won:</h4>";
output += "<ul>";
output += "<li>No 'this' binding confusion</li>";
output += "<li>Simpler syntax</li>";
output += "<li>Easier to share logic (custom hooks)</li>";
output += "<li>Better for tree-shaking</li>";
output += "<li>Easier to test</li>";
output += "</ul>";

output += "<p><em>Use classes only for Error Boundaries or legacy code.</em></p>";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },

    // PHASE 3  PROPS, DATA FLOW & EVENTS
    props: {
      title: 'React Props',
      content: `## React Props

Props are how components receive data from their parents.

### One-Way Data Flow

Data flows **down** from parent to child. This is React's fundamental pattern.

\`\`\`jsx
// Parent passes data
function App() {
  return <UserCard name="Alice" role="Developer" />;
}

// Child receives props
function UserCard({ name, role }) {
  return (
    <div>
      <h2>{name}</h2>
      <p>{role}</p>
    </div>
  );
}
\`\`\`

### Props vs State

| Props | State |
|-------|-------|
| Passed from parent | Owned by component |
| Read-only | Can be changed |
| Triggers re-render when changed | Triggers re-render when changed |
| Used for configuration | Used for interactivity |

### Immutability Rule

**Never modify props!**

\`\`\`jsx
//  WRONG - mutating props
function BadComponent(props) {
  props.name = 'New Name';  // Don't do this!
  return <div>{props.name}</div>;
}

//  CORRECT - props are read-only
function GoodComponent({ name }) {
  return <div>{name}</div>;
}
\`\`\`

### Default Props

\`\`\`jsx
function Button({ label = 'Click me', color = 'blue' }) {
  return (
    <button style={{ backgroundColor: color }}>
      {label}
    </button>
  );
}

// All these work:
<Button />
<Button label="Submit" />
<Button label="Cancel" color="red" />
\`\`\`

### Passing Functions as Props

\`\`\`jsx
function Parent() {
  const handleClick = (message) => {
    console.log(message);
  };

  return <Child onAction={handleClick} />;
}

function Child({ onAction }) {
  return (
    <button onClick={() => onAction('Hello from child!')}>
      Click me
    </button>
  );
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>React Props</h2>
<div id="root"></div>

<script>
// Props - One Way Data Flow

// Child component receives props
function UserCard(props) {
  return '<div style="border:1px solid #ddd;padding:15px;margin:10px;border-radius:8px">' +
    '<h3>' + props.name + '</h3>' +
    '<p>Role: ' + props.role + '</p>' +
    '<p>Department: ' + (props.department || 'Not specified') + '</p>' +
  '</div>';
}

// Parent component passes props
function App() {
  let users = [
    { name: "Alice", role: "Frontend Developer", department: "Engineering" },
    { name: "Bob", role: "Designer", department: "UX" },
    { name: "Charlie", role: "Manager" }  // No department - will use default
  ];
  
  let output = '<h3>Team Directory</h3>';
  output += '<p><em>Data flows from Parent (App)  Child (UserCard)</em></p>';
  
  users.forEach(function(user) {
    output += UserCard(user);  // Passing props
  });
  
  output += '<h4>Props Flow:</h4>';
  output += '<pre>App (parent)  UserCard (child)</pre>';
  output += '<p>Props are <strong>read-only</strong> - children cannot modify them!</p>';
  
  return output;
}

document.getElementById("root").innerHTML = App();
</script>

</body>
</html>`,
    },
    'props-destructuring': {
      title: 'Props Destructuring',
      content: `## Props Destructuring

Clean, readable component APIs through destructuring.

### Basic Destructuring

\`\`\`jsx
// Without destructuring
function UserCard(props) {
  return <h1>{props.name}</h1>;
}

// With destructuring (preferred)
function UserCard({ name, email, avatar }) {
  return (
    <div>
      <img src={avatar} alt={name} />
      <h1>{name}</h1>
      <p>{email}</p>
    </div>
  );
}
\`\`\`

### Default Values

\`\`\`jsx
function Button({ 
  label = 'Click me',
  size = 'medium',
  variant = 'primary',
  disabled = false
}) {
  return (
    <button 
      className={\`btn btn-\${size} btn-\${variant}\`}
      disabled={disabled}
    >
      {label}
    </button>
  );
}
\`\`\`

### Rest Props

\`\`\`jsx
function Input({ label, error, ...inputProps }) {
  return (
    <div>
      <label>{label}</label>
      <input {...inputProps} />
      {error && <span className="error">{error}</span>}
    </div>
  );
}

// Usage - all extra props go to <input>
<Input
  label="Email"
  type="email"
  placeholder="Enter email"
  required
  error={errors.email}
/>
\`\`\`

### Nested Destructuring

\`\`\`jsx
function Profile({ 
  user: { name, email },
  settings: { theme = 'light' }
}) {
  return (
    <div className={theme}>
      <h1>{name}</h1>
      <p>{email}</p>
    </div>
  );
}
\`\`\`

### Renaming Props

\`\`\`jsx
function Item({ id: itemId, name: itemName }) {
  return <li data-id={itemId}>{itemName}</li>;
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Props Destructuring</h2>
<div id="demo"></div>

<script>
// Props Destructuring Patterns

// 1. Basic destructuring with defaults
function Button(props) {
  // Destructure with defaults
  let label = props.label || "Click me";
  let size = props.size || "medium";
  let variant = props.variant || "primary";
  
  let styles = {
    primary: "background:#61dafb;color:#282c34",
    secondary: "background:#282c34;color:#61dafb",
    danger: "background:#dc3545;color:white"
  };
  
  let sizes = {
    small: "padding:5px 10px;font-size:12px",
    medium: "padding:10px 20px;font-size:14px",
    large: "padding:15px 30px;font-size:18px"
  };
  
  return '<button style="' + styles[variant] + ';' + sizes[size] + ';border:none;border-radius:4px;margin:5px">' + label + '</button>';
}

// 2. Rest props pattern
function Input(props) {
  let label = props.label;
  let error = props.error;
  // Rest would go to input element
  
  let errorStyle = error ? "border-color:red" : "";
  
  return '<div style="margin:10px 0">' +
    '<label style="display:block;margin-bottom:5px">' + label + '</label>' +
    '<input type="' + (props.type || 'text') + '" placeholder="' + (props.placeholder || '') + '" style="padding:8px;border:1px solid #ccc;border-radius:4px;' + errorStyle + '" />' +
    (error ? '<span style="color:red;font-size:12px">' + error + '</span>' : '') +
  '</div>';
}

let output = "<h3>Destructuring Patterns</h3>";

// Button examples
output += "<h4>1. Buttons with Default Props</h4>";
output += Button({ label: "Primary", variant: "primary", size: "medium" });
output += Button({ label: "Secondary", variant: "secondary", size: "small" });
output += Button({ label: "Danger", variant: "danger", size: "large" });
output += Button({});  // Uses all defaults

// Input examples
output += "<h4>2. Input with Rest Props</h4>";
output += Input({ label: "Username", type: "text", placeholder: "Enter username" });
output += Input({ label: "Email", type: "email", placeholder: "Enter email", error: "Invalid email" });

output += "<h4>3. Pattern Summary</h4>";
output += "<pre>function Component({ prop1, prop2 = 'default', ...rest }) { }</pre>";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    'props-children': {
      title: 'Props Children',
      content: `## Props Children

The \`children\` prop enables component composition.

### Basic Children

\`\`\`jsx
function Card({ children }) {
  return <div className="card">{children}</div>;
}

// Usage
<Card>
  <h1>Title</h1>
  <p>Content goes here</p>
</Card>
\`\`\`

### Slot-Based Thinking

\`\`\`jsx
function Layout({ header, sidebar, children, footer }) {
  return (
    <div className="layout">
      <header>{header}</header>
      <aside>{sidebar}</aside>
      <main>{children}</main>
      <footer>{footer}</footer>
    </div>
  );
}

// Usage
<Layout
  header={<Navigation />}
  sidebar={<Menu />}
  footer={<Copyright />}
>
  <PageContent />
</Layout>
\`\`\`

### Composition vs Inheritance

React favors **composition** over inheritance:

\`\`\`jsx
//  Inheritance thinking
class SpecialButton extends Button { ... }

//  Composition thinking
function SpecialButton({ children, ...props }) {
  return (
    <Button {...props} className="special">
      <Icon name="star" />
      {children}
    </Button>
  );
}
\`\`\`

### Render Props Pattern

\`\`\`jsx
function DataProvider({ render }) {
  const [data, setData] = useState([]);
  
  useEffect(() => {
    fetchData().then(setData);
  }, []);

  return render(data);
}

// Usage
<DataProvider render={(data) => (
  <ul>
    {data.map(item => <li key={item.id}>{item.name}</li>)}
  </ul>
)} />
\`\`\`

### Children as Function

\`\`\`jsx
function Toggle({ children }) {
  const [isOn, setIsOn] = useState(false);
  
  return children({
    isOn,
    toggle: () => setIsOn(!isOn)
  });
}

// Usage
<Toggle>
  {({ isOn, toggle }) => (
    <button onClick={toggle}>
      {isOn ? 'ON' : 'OFF'}
    </button>
  )}
</Toggle>
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Props Children</h2>
<div id="demo"></div>

<script>
// Children prop for composition

// Card component that accepts children
function Card(props) {
  return '<div style="border:1px solid #ddd;border-radius:8px;padding:20px;margin:10px 0;box-shadow:0 2px 4px rgba(0,0,0,0.1)">' +
    props.children +
  '</div>';
}

// Layout with multiple slots
function Layout(props) {
  return '<div style="display:grid;grid-template-columns:200px 1fr;gap:20px">' +
    '<aside style="background:#f5f5f5;padding:15px;border-radius:8px">' + props.sidebar + '</aside>' +
    '<main>' + props.children + '</main>' +
  '</div>';
}

// Alert component with icon
function Alert(props) {
  let icons = { success: "", error: "", warning: "", info: "" };
  let colors = { success: "#d4edda", error: "#f8d7da", warning: "#fff3cd", info: "#d1ecf1" };
  
  return '<div style="background:' + colors[props.type] + ';padding:15px;border-radius:4px;margin:10px 0">' +
    '<span style="margin-right:10px">' + icons[props.type] + '</span>' +
    props.children +
  '</div>';
}

let output = "<h3>Composition with Children</h3>";

// Card example
output += "<h4>1. Card Component</h4>";
output += Card({
  children: "<h3>Card Title</h3><p>This content is passed as children!</p>"
});

// Alert examples
output += "<h4>2. Alert Component</h4>";
output += Alert({ type: "success", children: "Operation completed successfully!" });
output += Alert({ type: "error", children: "Something went wrong." });
output += Alert({ type: "warning", children: "Please review your input." });

// Layout example
output += "<h4>3. Layout with Slots</h4>";
output += Layout({
  sidebar: "<strong>Sidebar</strong><ul><li>Menu 1</li><li>Menu 2</li></ul>",
  children: Card({ children: "<h3>Main Content</h3><p>Content rendered in the main slot.</p>" })
});

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },
    events: {
      title: 'React Events',
      content: `## React Events

React uses **Synthetic Events** - a cross-browser wrapper around native events.

### Basic Event Handling

\`\`\`jsx
function Button() {
  const handleClick = () => {
    console.log('Button clicked!');
  };

  return <button onClick={handleClick}>Click me</button>;
}
\`\`\`

### Event Object

\`\`\`jsx
function Form() {
  const handleChange = (event) => {
    console.log(event.target.value);
    console.log(event.target.name);
  };

  return (
    <input 
      name="email"
      onChange={handleChange}
    />
  );
}
\`\`\`

### Passing Arguments

\`\`\`jsx
function List({ items, onDelete }) {
  return (
    <ul>
      {items.map(item => (
        <li key={item.id}>
          {item.name}
          {/* Arrow function to pass argument */}
          <button onClick={() => onDelete(item.id)}>
            Delete
          </button>
        </li>
      ))}
    </ul>
  );
}
\`\`\`

### Preventing Default

\`\`\`jsx
function Form({ onSubmit }) {
  const handleSubmit = (event) => {
    event.preventDefault();  // Stop form submission
    onSubmit(formData);
  };

  return (
    <form onSubmit={handleSubmit}>
      <button type="submit">Submit</button>
    </form>
  );
}
\`\`\`

### Common Events

| Event | Description |
|-------|-------------|
| onClick | Click handler |
| onChange | Input value change |
| onSubmit | Form submission |
| onFocus / onBlur | Focus events |
| onMouseEnter / onMouseLeave | Hover events |
| onKeyDown / onKeyUp | Keyboard events |

### Event Bubbling

\`\`\`jsx
function Parent() {
  return (
    <div onClick={() => console.log('Parent clicked')}>
      <button onClick={(e) => {
        e.stopPropagation();  // Prevent bubbling
        console.log('Button clicked');
      }}>
        Click me
      </button>
    </div>
  );
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>React Events</h2>
<div id="demo"></div>
<div id="log" style="margin-top:20px;padding:10px;background:#f5f5f5;border-radius:4px;min-height:100px"></div>

<script>
let logs = [];

function log(message) {
  logs.push(new Date().toLocaleTimeString() + ": " + message);
  document.getElementById("log").innerHTML = "<h4>Event Log:</h4>" + logs.slice(-5).map(l => "<div>" + l + "</div>").join("");
}

// Event examples
function render() {
  let output = "<h3>Event Handling Examples</h3>";
  
  // Click event
  output += "<h4>1. onClick</h4>";
  output += '<button onclick="log(\\'Button clicked!\\')" style="padding:10px 20px;margin:5px">Click Me</button>';
  
  // Input change
  output += "<h4>2. onChange</h4>";
  output += '<input type="text" placeholder="Type something..." oninput="log(\\'Input: \\' + this.value)" style="padding:8px;margin:5px" />';
  
  // Form submit
  output += "<h4>3. onSubmit (with preventDefault)</h4>";
  output += '<form onsubmit="event.preventDefault(); log(\\'Form submitted!\\'); return false;">';
  output += '<input type="text" placeholder="Name" style="padding:8px;margin:5px" />';
  output += '<button type="submit" style="padding:8px 16px">Submit</button>';
  output += '</form>';
  
  // Mouse events
  output += "<h4>4. Mouse Events</h4>";
  output += '<div onmouseenter="log(\\'Mouse entered!\\')" onmouseleave="log(\\'Mouse left!\\')" style="padding:20px;background:#61dafb;display:inline-block;border-radius:4px;cursor:pointer">Hover over me!</div>';
  
  // Keyboard event
  output += "<h4>5. Keyboard Events</h4>";
  output += '<input type="text" placeholder="Press any key..." onkeydown="log(\\'Key: \\' + event.key)" style="padding:8px;margin:5px" />';
  
  // Event bubbling
  output += "<h4>6. Event Bubbling</h4>";
  output += '<div onclick="log(\\'Parent clicked\\')" style="padding:20px;background:#ddd;border-radius:4px">';
  output += '<button onclick="event.stopPropagation(); log(\\'Button clicked (stopped propagation)\\')" style="padding:10px">Click (stops bubbling)</button>';
  output += '</div>';
  
  return output;
}

document.getElementById("demo").innerHTML = render();
</script>

</body>
</html>`,
    },
    conditionals: {
      title: 'React Conditionals',
      content: `## Conditional Rendering

Multiple patterns for rendering content conditionally.

### Ternary Operator

\`\`\`jsx
function Greeting({ isLoggedIn }) {
  return (
    <h1>
      {isLoggedIn ? 'Welcome back!' : 'Please log in'}
    </h1>
  );
}
\`\`\`

### Logical AND (&&)

\`\`\`jsx
function Notification({ message, show }) {
  return (
    <div>
      {show && <div className="notification">{message}</div>}
    </div>
  );
}
\`\`\`

### Nullish Coalescing

\`\`\`jsx
function UserGreeting({ name }) {
  return <h1>Hello, {name ?? 'Guest'}!</h1>;
}
\`\`\`

### Early Return

\`\`\`jsx
function Profile({ user, loading, error }) {
  if (loading) return <Spinner />;
  if (error) return <ErrorMessage error={error} />;
  if (!user) return <NotFound />;

  return <UserCard user={user} />;
}
\`\`\`

### Element Variables

\`\`\`jsx
function LoginControl({ isLoggedIn }) {
  let button;
  
  if (isLoggedIn) {
    button = <LogoutButton />;
  } else {
    button = <LoginButton />;
  }

  return (
    <nav>
      {button}
    </nav>
  );
}
\`\`\`

### Preventing Rendering

\`\`\`jsx
function Warning({ show, message }) {
  if (!show) {
    return null;  // Renders nothing
  }
  
  return <div className="warning">{message}</div>;
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Conditional Rendering</h2>
<div id="demo"></div>

<script>
// State for demo
let state = {
  isLoggedIn: true,
  hasNotification: true,
  notificationCount: 3,
  userName: null,  // Will use fallback
  isLoading: false,
  error: null
};

function render() {
  let output = "<h3>Conditional Patterns</h3>";
  
  // 1. Ternary
  output += "<h4>1. Ternary Operator</h4>";
  output += "<p>" + (state.isLoggedIn ? " Welcome back!" : " Please log in") + "</p>";
  output += '<button onclick="toggleLogin()">Toggle Login</button>';
  
  // 2. Logical AND
  output += "<h4>2. Logical AND (&&)</h4>";
  if (state.hasNotification && state.notificationCount > 0) {
    output += '<div style="background:#61dafb;padding:10px;border-radius:4px"> You have ' + state.notificationCount + ' notifications</div>';
  }
  output += '<button onclick="toggleNotification()">Toggle Notification</button>';
  
  // 3. Nullish coalescing
  output += "<h4>3. Nullish Coalescing (??)</h4>";
  output += "<p>Hello, " + (state.userName ?? "Guest") + "!</p>";
  output += '<button onclick="toggleName()">Toggle Name</button>';
  
  // 4. Early return / Guard clauses
  output += "<h4>4. Guard Clauses</h4>";
  output += renderProfile();
  output += '<button onclick="cycleState()">Cycle State</button>';
  
  return output;
}

function renderProfile() {
  if (state.isLoading) return '<div style="color:orange"> Loading...</div>';
  if (state.error) return '<div style="color:red"> Error: ' + state.error + '</div>';
  if (!state.isLoggedIn) return '<div style="color:gray"> Please log in to see profile</div>';
  return '<div style="color:green"> User Profile Loaded!</div>';
}

function toggleLogin() {
  state.isLoggedIn = !state.isLoggedIn;
  document.getElementById("demo").innerHTML = render();
}

function toggleNotification() {
  state.hasNotification = !state.hasNotification;
  document.getElementById("demo").innerHTML = render();
}

function toggleName() {
  state.userName = state.userName ? null : "Alice";
  document.getElementById("demo").innerHTML = render();
}

let stateIndex = 0;
function cycleState() {
  let states = [
    { isLoading: true, error: null },
    { isLoading: false, error: "Network error" },
    { isLoading: false, error: null }
  ];
  stateIndex = (stateIndex + 1) % states.length;
  Object.assign(state, states[stateIndex]);
  document.getElementById("demo").innerHTML = render();
}

document.getElementById("demo").innerHTML = render();
</script>

</body>
</html>`,
    },
    lists: {
      title: 'React Lists',
      content: `## Rendering Lists

Use \`.map()\` to render arrays as JSX elements.

### Basic List Rendering

\`\`\`jsx
function TodoList({ items }) {
  return (
    <ul>
      {items.map(item => (
        <li key={item.id}>{item.text}</li>
      ))}
    </ul>
  );
}
\`\`\`

### The Key Prop

Keys help React identify which items have changed:

\`\`\`jsx
//  Good - stable, unique identifier
{items.map(item => (
  <ListItem key={item.id} {...item} />
))}

//  Acceptable only if list is static
{items.map((item, index) => (
  <ListItem key={index} {...item} />
))}

//  Bad - keys should be unique
{items.map(item => (
  <ListItem key={Math.random()} {...item} />
))}
\`\`\`

### Why Keys Matter

- **Performance**: React uses keys to minimize DOM updates
- **State preservation**: Keys help React track component instances
- **Correct behavior**: Wrong keys cause bugs with stateful components

### Extracting Components

\`\`\`jsx
// Clean separation
function UserList({ users }) {
  return (
    <ul>
      {users.map(user => (
        <UserListItem key={user.id} user={user} />
      ))}
    </ul>
  );
}

function UserListItem({ user }) {
  return (
    <li>
      <img src={user.avatar} alt={user.name} />
      <span>{user.name}</span>
    </li>
  );
}
\`\`\`

### Filtering and Sorting

\`\`\`jsx
function ProductList({ products, filter, sortBy }) {
  const filteredProducts = products
    .filter(p => p.category === filter)
    .sort((a, b) => a[sortBy] - b[sortBy]);

  return (
    <div>
      {filteredProducts.map(product => (
        <ProductCard key={product.id} {...product} />
      ))}
    </div>
  );
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Rendering Lists</h2>
<div id="demo"></div>

<script>
// List rendering examples

let todos = [
  { id: 1, text: "Learn React", done: true },
  { id: 2, text: "Build a project", done: false },
  { id: 3, text: "Deploy to production", done: false },
  { id: 4, text: "Get hired!", done: false }
];

let users = [
  { id: 1, name: "Alice", role: "Developer", avatar: "" },
  { id: 2, name: "Bob", role: "Designer", avatar: "" },
  { id: 3, name: "Charlie", role: "Manager", avatar: "" }
];

function TodoList(items) {
  let output = '<ul style="list-style:none;padding:0">';
  items.forEach(function(item) {
    let style = item.done ? "text-decoration:line-through;color:#888" : "";
    output += '<li style="padding:8px;border-bottom:1px solid #eee;' + style + '">';
    output += '<input type="checkbox" ' + (item.done ? 'checked' : '') + ' onclick="toggleTodo(' + item.id + ')" /> ';
    output += '<span>key={' + item.id + '}</span> ' + item.text;
    output += '</li>';
  });
  output += '</ul>';
  return output;
}

function UserList(users) {
  let output = '<div style="display:flex;gap:15px;flex-wrap:wrap">';
  users.forEach(function(user) {
    output += '<div style="border:1px solid #ddd;padding:15px;border-radius:8px;text-align:center">';
    output += '<div style="font-size:40px">' + user.avatar + '</div>';
    output += '<h4 style="margin:5px 0">' + user.name + '</h4>';
    output += '<p style="margin:0;color:#666;font-size:14px">' + user.role + '</p>';
    output += '<small style="color:#999">key={' + user.id + '}</small>';
    output += '</div>';
  });
  output += '</div>';
  return output;
}

function render() {
  let output = "<h3>List Rendering with Keys</h3>";
  
  output += "<h4>1. Todo List</h4>";
  output += TodoList(todos);
  
  output += "<h4>2. User Cards</h4>";
  output += UserList(users);
  
  output += "<h4>3. Why Keys Matter</h4>";
  output += "<ul>";
  output += "<li> Use stable, unique IDs (like database IDs)</li>";
  output += "<li> Use index only for static lists</li>";
  output += "<li> Never use Math.random() as keys</li>";
  output += "</ul>";
  
  return output;
}

function toggleTodo(id) {
  todos = todos.map(t => t.id === id ? {...t, done: !t.done} : t);
  document.getElementById("demo").innerHTML = render();
}

document.getElementById("demo").innerHTML = render();
</script>

</body>
</html>`,
    },

    // PHASE 4  FORMS
    forms: {
      title: 'React Forms',
      content: `## React Forms

React forms use **controlled components** where React controls the form state.

### Controlled vs Uncontrolled

\`\`\`jsx
// Controlled - React owns the value
function ControlledInput() {
  const [value, setValue] = useState('');
  
  return (
    <input 
      value={value}
      onChange={(e) => setValue(e.target.value)}
    />
  );
}

// Uncontrolled - DOM owns the value
function UncontrolledInput() {
  const inputRef = useRef();
  
  const handleSubmit = () => {
    console.log(inputRef.current.value);
  };
  
  return <input ref={inputRef} />;
}
\`\`\`

### Single Source of Truth

With controlled components, React state is the **single source of truth**:

\`\`\`jsx
function LoginForm() {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');

  const handleSubmit = (e) => {
    e.preventDefault();
    console.log({ email, password });
  };

  return (
    <form onSubmit={handleSubmit}>
      <input
        type="email"
        value={email}
        onChange={(e) => setEmail(e.target.value)}
        placeholder="Email"
      />
      <input
        type="password"
        value={password}
        onChange={(e) => setPassword(e.target.value)}
        placeholder="Password"
      />
      <button type="submit">Login</button>
    </form>
  );
}
\`\`\`

### Form State Object

\`\`\`jsx
function SignupForm() {
  const [form, setForm] = useState({
    name: '',
    email: '',
    password: ''
  });

  const handleChange = (e) => {
    const { name, value } = e.target;
    setForm(prev => ({
      ...prev,
      [name]: value
    }));
  };

  return (
    <form>
      <input name="name" value={form.name} onChange={handleChange} />
      <input name="email" value={form.email} onChange={handleChange} />
      <input name="password" value={form.password} onChange={handleChange} />
    </form>
  );
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>React Forms</h2>
<div id="demo"></div>
<div id="formOutput" style="margin-top:15px;padding:15px;background:#f5f5f5;border-radius:8px"></div>

<script>
// Form state
let formData = {
  name: "",
  email: "",
  password: ""
};

function handleChange(field, value) {
  formData[field] = value;
  updateOutput();
}

function handleSubmit(event) {
  event.preventDefault();
  alert("Form submitted!\\n" + JSON.stringify(formData, null, 2));
  return false;
}

function updateOutput() {
  document.getElementById("formOutput").innerHTML = 
    "<h4>Form State (Single Source of Truth):</h4>" +
    "<pre>" + JSON.stringify(formData, null, 2) + "</pre>";
}

function render() {
  let output = "<h3>Controlled Form</h3>";
  
  output += '<form onsubmit="return handleSubmit(event)">';
  
  output += '<div style="margin:10px 0">';
  output += '<label style="display:block;margin-bottom:5px">Name:</label>';
  output += '<input type="text" value="' + formData.name + '" oninput="handleChange(\\'name\\', this.value)" style="padding:8px;width:200px" />';
  output += '</div>';
  
  output += '<div style="margin:10px 0">';
  output += '<label style="display:block;margin-bottom:5px">Email:</label>';
  output += '<input type="email" value="' + formData.email + '" oninput="handleChange(\\'email\\', this.value)" style="padding:8px;width:200px" />';
  output += '</div>';
  
  output += '<div style="margin:10px 0">';
  output += '<label style="display:block;margin-bottom:5px">Password:</label>';
  output += '<input type="password" value="' + formData.password + '" oninput="handleChange(\\'password\\', this.value)" style="padding:8px;width:200px" />';
  output += '</div>';
  
  output += '<button type="submit" style="padding:10px 20px;background:#61dafb;border:none;border-radius:4px;cursor:pointer">Submit</button>';
  output += '</form>';
  
  output += "<h4>Key Concepts:</h4>";
  output += "<ul>";
  output += "<li><strong>Controlled:</strong> React state drives input values</li>";
  output += "<li><strong>onChange:</strong> Updates state on every keystroke</li>";
  output += "<li><strong>Single Source:</strong> State is the truth, DOM reflects it</li>";
  output += "</ul>";
  
  return output;
}

document.getElementById("demo").innerHTML = render();
updateOutput();
</script>

</body>
</html>`,
    },
    'forms-submit': {
      title: 'Forms Submit',
      content: `## Form Submission

Handling form submission in React.

### Preventing Default

\`\`\`jsx
function ContactForm() {
  const handleSubmit = (event) => {
    event.preventDefault();  // Stop page reload
    // Process form data
    submitToAPI(formData);
  };

  return (
    <form onSubmit={handleSubmit}>
      {/* form fields */}
      <button type="submit">Send</button>
    </form>
  );
}
\`\`\`

### With Validation

\`\`\`jsx
function SignupForm() {
  const [form, setForm] = useState({ email: '', password: '' });
  const [errors, setErrors] = useState({});
  const [isSubmitting, setIsSubmitting] = useState(false);

  const validate = () => {
    const newErrors = {};
    if (!form.email) newErrors.email = 'Email is required';
    if (form.password.length < 8) {
      newErrors.password = 'Password must be 8+ characters';
    }
    return newErrors;
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    const validationErrors = validate();
    
    if (Object.keys(validationErrors).length > 0) {
      setErrors(validationErrors);
      return;
    }

    setIsSubmitting(true);
    try {
      await submitForm(form);
      // Success handling
    } catch (error) {
      setErrors({ submit: error.message });
    } finally {
      setIsSubmitting(false);
    }
  };

  return (
    <form onSubmit={handleSubmit}>
      <input
        value={form.email}
        onChange={(e) => setForm({ ...form, email: e.target.value })}
      />
      {errors.email && <span>{errors.email}</span>}
      
      <button type="submit" disabled={isSubmitting}>
        {isSubmitting ? 'Submitting...' : 'Submit'}
      </button>
    </form>
  );
}
\`\`\`

### Reset Form

\`\`\`jsx
const initialState = { name: '', email: '' };

function Form() {
  const [form, setForm] = useState(initialState);

  const handleReset = () => {
    setForm(initialState);
  };

  return (
    <form>
      {/* fields */}
      <button type="button" onClick={handleReset}>Reset</button>
      <button type="submit">Submit</button>
    </form>
  );
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Form Submission</h2>
<div id="demo"></div>

<script>
let form = { email: "", password: "" };
let errors = {};
let isSubmitting = false;
let submitResult = null;

function validate() {
  errors = {};
  if (!form.email) {
    errors.email = "Email is required";
  } else if (!form.email.includes("@")) {
    errors.email = "Invalid email format";
  }
  if (form.password.length < 8) {
    errors.password = "Password must be 8+ characters";
  }
  return Object.keys(errors).length === 0;
}

function handleSubmit(event) {
  event.preventDefault();
  submitResult = null;
  
  if (!validate()) {
    render();
    return false;
  }
  
  isSubmitting = true;
  render();
  
  // Simulate API call
  setTimeout(function() {
    isSubmitting = false;
    submitResult = " Form submitted successfully!";
    render();
  }, 1500);
  
  return false;
}

function handleReset() {
  form = { email: "", password: "" };
  errors = {};
  submitResult = null;
  render();
}

function updateField(field, value) {
  form[field] = value;
  if (errors[field]) {
    delete errors[field];
    render();
  }
}

function render() {
  let output = "<h3>Form with Validation</h3>";
  
  output += '<form onsubmit="return handleSubmit(event)">';
  
  // Email field
  output += '<div style="margin:10px 0">';
  output += '<label>Email:</label><br>';
  output += '<input type="text" value="' + form.email + '" oninput="updateField(\\'email\\', this.value)" style="padding:8px;width:250px;border:1px solid ' + (errors.email ? 'red' : '#ccc') + '" />';
  if (errors.email) {
    output += '<div style="color:red;font-size:12px">' + errors.email + '</div>';
  }
  output += '</div>';
  
  // Password field
  output += '<div style="margin:10px 0">';
  output += '<label>Password:</label><br>';
  output += '<input type="password" value="' + form.password + '" oninput="updateField(\\'password\\', this.value)" style="padding:8px;width:250px;border:1px solid ' + (errors.password ? 'red' : '#ccc') + '" />';
  if (errors.password) {
    output += '<div style="color:red;font-size:12px">' + errors.password + '</div>';
  }
  output += '</div>';
  
  // Buttons
  output += '<div style="margin:15px 0">';
  output += '<button type="submit" style="padding:10px 20px;background:#61dafb;border:none;border-radius:4px;margin-right:10px" ' + (isSubmitting ? 'disabled' : '') + '>';
  output += isSubmitting ? ' Submitting...' : 'Submit';
  output += '</button>';
  output += '<button type="button" onclick="handleReset()" style="padding:10px 20px;background:#ddd;border:none;border-radius:4px">Reset</button>';
  output += '</div>';
  
  output += '</form>';
  
  if (submitResult) {
    output += '<div style="padding:15px;background:#d4edda;border-radius:4px;margin-top:15px">' + submitResult + '</div>';
  }
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },
    textarea: {
      title: 'React Textarea',
      content: `## Textarea in React

Textarea works like input with a value prop.

### Controlled Textarea

\`\`\`jsx
function TextEditor() {
  const [content, setContent] = useState('');

  return (
    <textarea
      value={content}
      onChange={(e) => setContent(e.target.value)}
      rows={10}
      cols={50}
      placeholder="Write your content..."
    />
  );
}
\`\`\`

### Character Counter

\`\`\`jsx
function LimitedTextarea({ maxLength = 280 }) {
  const [text, setText] = useState('');

  return (
    <div>
      <textarea
        value={text}
        onChange={(e) => setText(e.target.value.slice(0, maxLength))}
        rows={4}
      />
      <div>
        {text.length}/{maxLength}
      </div>
    </div>
  );
}
\`\`\`

### Auto-resize Textarea

\`\`\`jsx
function AutoResizeTextarea() {
  const textareaRef = useRef();

  const handleChange = (e) => {
    const textarea = textareaRef.current;
    textarea.style.height = 'auto';
    textarea.style.height = textarea.scrollHeight + 'px';
  };

  return (
    <textarea
      ref={textareaRef}
      onChange={handleChange}
      style={{ overflow: 'hidden', resize: 'none' }}
    />
  );
}
\`\`\`

### With Form State

\`\`\`jsx
function FeedbackForm() {
  const [form, setForm] = useState({
    name: '',
    feedback: ''
  });

  return (
    <form>
      <input
        name="name"
        value={form.name}
        onChange={(e) => setForm({ ...form, name: e.target.value })}
      />
      <textarea
        name="feedback"
        value={form.feedback}
        onChange={(e) => setForm({ ...form, feedback: e.target.value })}
        rows={5}
      />
    </form>
  );
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>React Textarea</h2>
<div id="demo"></div>

<script>
let textContent = "";
let maxLength = 280;

function handleChange(value) {
  textContent = value.slice(0, maxLength);
  render();
}

function render() {
  let remaining = maxLength - textContent.length;
  let counterColor = remaining < 20 ? (remaining < 0 ? "red" : "orange") : "green";
  
  let output = "<h3>Controlled Textarea</h3>";
  
  output += '<div style="margin:10px 0">';
  output += '<textarea oninput="handleChange(this.value)" rows="5" style="width:100%;max-width:400px;padding:10px;font-family:inherit;font-size:14px;border:1px solid #ccc;border-radius:4px">' + textContent + '</textarea>';
  output += '</div>';
  
  output += '<div style="display:flex;justify-content:space-between;max-width:400px">';
  output += '<span style="color:' + counterColor + '">' + textContent.length + '/' + maxLength + ' characters</span>';
  if (remaining < 20) {
    output += '<span style="color:' + counterColor + '">' + remaining + ' remaining</span>';
  }
  output += '</div>';
  
  // Preview
  if (textContent) {
    output += '<div style="margin-top:20px">';
    output += '<h4>Preview:</h4>';
    output += '<div style="padding:15px;background:#f5f5f5;border-radius:4px;white-space:pre-wrap">' + textContent + '</div>';
    output += '</div>';
  }
  
  output += '<h4 style="margin-top:20px">Key Points:</h4>';
  output += '<ul>';
  output += '<li>Use <code>value</code> prop (not children like HTML)</li>';
  output += '<li>Character limiting with slice()</li>';
  output += '<li>Real-time preview possible</li>';
  output += '</ul>';
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },
    select: {
      title: 'React Select',
      content: `## Select Dropdowns

React handles select with the value prop on the select element.

### Basic Select

\`\`\`jsx
function ColorPicker() {
  const [color, setColor] = useState('blue');

  return (
    <select value={color} onChange={(e) => setColor(e.target.value)}>
      <option value="red">Red</option>
      <option value="blue">Blue</option>
      <option value="green">Green</option>
    </select>
  );
}
\`\`\`

### Dynamic Options

\`\`\`jsx
function CountrySelect({ countries }) {
  const [selected, setSelected] = useState('');

  return (
    <select value={selected} onChange={(e) => setSelected(e.target.value)}>
      <option value="">Select a country</option>
      {countries.map(country => (
        <option key={country.code} value={country.code}>
          {country.name}
        </option>
      ))}
    </select>
  );
}
\`\`\`

### Multiple Select

\`\`\`jsx
function MultiSelect({ options }) {
  const [selected, setSelected] = useState([]);

  const handleChange = (e) => {
    const values = Array.from(
      e.target.selectedOptions,
      option => option.value
    );
    setSelected(values);
  };

  return (
    <select multiple value={selected} onChange={handleChange}>
      {options.map(opt => (
        <option key={opt.id} value={opt.id}>{opt.label}</option>
      ))}
    </select>
  );
}
\`\`\`

### Grouped Options

\`\`\`jsx
function GroupedSelect() {
  return (
    <select>
      <optgroup label="Fruits">
        <option value="apple">Apple</option>
        <option value="banana">Banana</option>
      </optgroup>
      <optgroup label="Vegetables">
        <option value="carrot">Carrot</option>
        <option value="broccoli">Broccoli</option>
      </optgroup>
    </select>
  );
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>React Select</h2>
<div id="demo"></div>

<script>
let selectedColor = "blue";
let selectedCountry = "";
let selectedSkills = [];

let countries = [
  { code: "us", name: "United States" },
  { code: "uk", name: "United Kingdom" },
  { code: "in", name: "India" },
  { code: "de", name: "Germany" },
  { code: "jp", name: "Japan" }
];

let skills = [
  { id: "html", label: "HTML" },
  { id: "css", label: "CSS" },
  { id: "js", label: "JavaScript" },
  { id: "react", label: "React" },
  { id: "node", label: "Node.js" }
];

function handleColorChange(value) {
  selectedColor = value;
  render();
}

function handleCountryChange(value) {
  selectedCountry = value;
  render();
}

function handleSkillChange(select) {
  selectedSkills = Array.from(select.selectedOptions).map(o => o.value);
  render();
}

function render() {
  let output = "<h3>Select Examples</h3>";
  
  // Basic Select
  output += "<h4>1. Basic Select</h4>";
  output += '<select onchange="handleColorChange(this.value)" style="padding:8px;font-size:14px">';
  ["red", "blue", "green", "purple"].forEach(function(c) {
    output += '<option value="' + c + '"' + (c === selectedColor ? ' selected' : '') + '>' + c.charAt(0).toUpperCase() + c.slice(1) + '</option>';
  });
  output += '</select>';
  output += '<div style="width:50px;height:50px;background:' + selectedColor + ';margin-top:10px;border-radius:4px"></div>';
  
  // Dynamic Options
  output += "<h4>2. Dynamic Options</h4>";
  output += '<select onchange="handleCountryChange(this.value)" style="padding:8px;font-size:14px">';
  output += '<option value="">Select a country</option>';
  countries.forEach(function(c) {
    output += '<option value="' + c.code + '"' + (c.code === selectedCountry ? ' selected' : '') + '>' + c.name + '</option>';
  });
  output += '</select>';
  if (selectedCountry) {
    let country = countries.find(c => c.code === selectedCountry);
    output += '<p>Selected: <strong>' + country.name + '</strong> (' + country.code.toUpperCase() + ')</p>';
  }
  
  // Multiple Select
  output += "<h4>3. Multiple Select</h4>";
  output += '<select multiple onchange="handleSkillChange(this)" style="padding:8px;font-size:14px;height:120px">';
  skills.forEach(function(s) {
    output += '<option value="' + s.id + '"' + (selectedSkills.includes(s.id) ? ' selected' : '') + '>' + s.label + '</option>';
  });
  output += '</select>';
  output += '<p>Hold Ctrl/Cmd to select multiple</p>';
  if (selectedSkills.length > 0) {
    output += '<p>Selected: <strong>' + selectedSkills.join(", ") + '</strong></p>';
  }
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },
    'multiple-inputs': {
      title: 'Multiple Inputs',
      content: `## Handling Multiple Inputs

Use a single handler for multiple inputs with the name attribute.

### Single Handler Pattern

\`\`\`jsx
function RegistrationForm() {
  const [form, setForm] = useState({
    firstName: '',
    lastName: '',
    email: '',
    phone: ''
  });

  const handleChange = (e) => {
    const { name, value } = e.target;
    setForm(prev => ({
      ...prev,
      [name]: value  // Computed property name
    }));
  };

  return (
    <form>
      <input name="firstName" value={form.firstName} onChange={handleChange} />
      <input name="lastName" value={form.lastName} onChange={handleChange} />
      <input name="email" value={form.email} onChange={handleChange} />
      <input name="phone" value={form.phone} onChange={handleChange} />
    </form>
  );
}
\`\`\`

### With Different Input Types

\`\`\`jsx
function ProfileForm() {
  const [profile, setProfile] = useState({
    name: '',
    age: 0,
    bio: '',
    isPublic: false
  });

  const handleChange = (e) => {
    const { name, value, type, checked } = e.target;
    setProfile(prev => ({
      ...prev,
      [name]: type === 'checkbox' ? checked : value
    }));
  };

  return (
    <form>
      <input name="name" type="text" onChange={handleChange} />
      <input name="age" type="number" onChange={handleChange} />
      <textarea name="bio" onChange={handleChange} />
      <input name="isPublic" type="checkbox" onChange={handleChange} />
    </form>
  );
}
\`\`\`

### Reusable Input Component

\`\`\`jsx
function FormInput({ label, name, type = 'text', value, onChange }) {
  return (
    <div className="form-group">
      <label htmlFor={name}>{label}</label>
      <input
        id={name}
        name={name}
        type={type}
        value={value}
        onChange={onChange}
      />
    </div>
  );
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Multiple Inputs</h2>
<div id="demo"></div>
<pre id="state" style="background:#f5f5f5;padding:15px;border-radius:4px"></pre>

<script>
// Single form state object
let form = {
  firstName: "",
  lastName: "",
  email: "",
  age: "",
  bio: ""
};

// Single handler for all inputs
function handleChange(event) {
  let name = event.target.name;
  let value = event.target.value;
  
  form[name] = value;
  updateState();
}

function updateState() {
  document.getElementById("state").innerHTML = 
    "<strong>Form State:</strong>\\n" + JSON.stringify(form, null, 2);
}

function render() {
  let output = "<h3>Single Handler for Multiple Inputs</h3>";
  
  output += '<form style="max-width:400px">';
  
  // First Name
  output += '<div style="margin:10px 0">';
  output += '<label style="display:block;margin-bottom:5px">First Name:</label>';
  output += '<input type="text" name="firstName" value="' + form.firstName + '" oninput="handleChange(event)" style="width:100%;padding:8px;box-sizing:border-box" />';
  output += '</div>';
  
  // Last Name
  output += '<div style="margin:10px 0">';
  output += '<label style="display:block;margin-bottom:5px">Last Name:</label>';
  output += '<input type="text" name="lastName" value="' + form.lastName + '" oninput="handleChange(event)" style="width:100%;padding:8px;box-sizing:border-box" />';
  output += '</div>';
  
  // Email
  output += '<div style="margin:10px 0">';
  output += '<label style="display:block;margin-bottom:5px">Email:</label>';
  output += '<input type="email" name="email" value="' + form.email + '" oninput="handleChange(event)" style="width:100%;padding:8px;box-sizing:border-box" />';
  output += '</div>';
  
  // Age
  output += '<div style="margin:10px 0">';
  output += '<label style="display:block;margin-bottom:5px">Age:</label>';
  output += '<input type="number" name="age" value="' + form.age + '" oninput="handleChange(event)" style="width:100%;padding:8px;box-sizing:border-box" />';
  output += '</div>';
  
  // Bio
  output += '<div style="margin:10px 0">';
  output += '<label style="display:block;margin-bottom:5px">Bio:</label>';
  output += '<textarea name="bio" oninput="handleChange(event)" rows="3" style="width:100%;padding:8px;box-sizing:border-box">' + form.bio + '</textarea>';
  output += '</div>';
  
  output += '</form>';
  
  output += '<h4>The Pattern:</h4>';
  output += '<pre style="background:#e8f4fc;padding:10px;border-radius:4px">';
  output += 'const handleChange = (e) => {\\n';
  output += '  const { name, value } = e.target;\\n';
  output += '  setForm(prev => ({\\n';
  output += '    ...prev,\\n';
  output += '    [name]: value  // Computed property\\n';
  output += '  }));\\n';
  output += '};';
  output += '</pre>';
  
  document.getElementById("demo").innerHTML = output;
  updateState();
}

render();
</script>

</body>
</html>`,
    },
    'checkbox-radio': {
      title: 'Checkbox & Radio',
      content: `## Checkbox and Radio Inputs

Handle checked inputs differently from text inputs.

### Single Checkbox

\`\`\`jsx
function Newsletter() {
  const [subscribed, setSubscribed] = useState(false);

  return (
    <label>
      <input
        type="checkbox"
        checked={subscribed}
        onChange={(e) => setSubscribed(e.target.checked)}
      />
      Subscribe to newsletter
    </label>
  );
}
\`\`\`

### Multiple Checkboxes

\`\`\`jsx
function Preferences() {
  const [prefs, setPrefs] = useState({
    notifications: true,
    darkMode: false,
    autoSave: true
  });

  const handleChange = (e) => {
    const { name, checked } = e.target;
    setPrefs(prev => ({ ...prev, [name]: checked }));
  };

  return (
    <div>
      <label>
        <input type="checkbox" name="notifications"
          checked={prefs.notifications} onChange={handleChange} />
        Notifications
      </label>
      <label>
        <input type="checkbox" name="darkMode"
          checked={prefs.darkMode} onChange={handleChange} />
        Dark Mode
      </label>
    </div>
  );
}
\`\`\`

### Radio Buttons

\`\`\`jsx
function PaymentMethod() {
  const [method, setMethod] = useState('card');

  return (
    <div>
      <label>
        <input type="radio" name="payment" value="card"
          checked={method === 'card'}
          onChange={(e) => setMethod(e.target.value)} />
        Credit Card
      </label>
      <label>
        <input type="radio" name="payment" value="paypal"
          checked={method === 'paypal'}
          onChange={(e) => setMethod(e.target.value)} />
        PayPal
      </label>
      <label>
        <input type="radio" name="payment" value="bank"
          checked={method === 'bank'}
          onChange={(e) => setMethod(e.target.value)} />
        Bank Transfer
      </label>
    </div>
  );
}
\`\`\`

### Key Difference

| Text Inputs | Checkboxes/Radio |
|-------------|------------------|
| \`value={state}\` | \`checked={state}\` |
| \`e.target.value\` | \`e.target.checked\` |`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Checkbox & Radio</h2>
<div id="demo"></div>

<script>
// State
let preferences = {
  notifications: true,
  darkMode: false,
  autoSave: true
};

let paymentMethod = "card";
let selectedToppings = ["cheese"];

let toppings = ["cheese", "pepperoni", "mushrooms", "olives", "onions"];

function handlePrefChange(name, checked) {
  preferences[name] = checked;
  render();
}

function handlePaymentChange(value) {
  paymentMethod = value;
  render();
}

function handleToppingChange(topping, checked) {
  if (checked) {
    selectedToppings.push(topping);
  } else {
    selectedToppings = selectedToppings.filter(t => t !== topping);
  }
  render();
}

function render() {
  let output = "";
  
  // Checkbox - Single
  output += "<h3>1. Single Checkbox</h3>";
  output += '<label style="display:block;margin:5px 0">';
  output += '<input type="checkbox" ' + (preferences.notifications ? 'checked' : '') + ' onchange="handlePrefChange(\\'notifications\\', this.checked)" /> ';
  output += 'Enable Notifications';
  output += '</label>';
  output += '<label style="display:block;margin:5px 0">';
  output += '<input type="checkbox" ' + (preferences.darkMode ? 'checked' : '') + ' onchange="handlePrefChange(\\'darkMode\\', this.checked)" /> ';
  output += 'Dark Mode';
  output += '</label>';
  output += '<label style="display:block;margin:5px 0">';
  output += '<input type="checkbox" ' + (preferences.autoSave ? 'checked' : '') + ' onchange="handlePrefChange(\\'autoSave\\', this.checked)" /> ';
  output += 'Auto Save';
  output += '</label>';
  output += '<p>Preferences: ' + JSON.stringify(preferences) + '</p>';
  
  // Radio Buttons
  output += "<h3>2. Radio Buttons</h3>";
  ["card", "paypal", "bank"].forEach(function(method) {
    let labels = { card: " Credit Card", paypal: " PayPal", bank: " Bank Transfer" };
    output += '<label style="display:block;margin:5px 0">';
    output += '<input type="radio" name="payment" value="' + method + '" ' + (paymentMethod === method ? 'checked' : '') + ' onchange="handlePaymentChange(this.value)" /> ';
    output += labels[method];
    output += '</label>';
  });
  output += '<p>Selected: <strong>' + paymentMethod + '</strong></p>';
  
  // Multiple Checkboxes (Array)
  output += "<h3>3. Multiple Checkboxes (Array)</h3>";
  output += '<p>Select pizza toppings:</p>';
  toppings.forEach(function(t) {
    output += '<label style="display:inline-block;margin:5px 10px 5px 0">';
    output += '<input type="checkbox" ' + (selectedToppings.includes(t) ? 'checked' : '') + ' onchange="handleToppingChange(\\'' + t + '\\', this.checked)" /> ';
    output += t.charAt(0).toUpperCase() + t.slice(1);
    output += '</label>';
  });
  output += '<p>Selected: <strong>' + selectedToppings.join(", ") + '</strong></p>';
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },

    // PHASE 5  STYLING
    'css-styling': {
      title: 'CSS Styling',
      content: `## CSS Styling in React

Multiple approaches to styling React components.

### Inline Styles

\`\`\`jsx
function Card() {
  const cardStyle = {
    backgroundColor: '#fff',
    padding: '20px',
    borderRadius: '8px',
    boxShadow: '0 2px 4px rgba(0,0,0,0.1)'
  };

  return <div style={cardStyle}>Content</div>;
}
\`\`\`

### External CSS

\`\`\`jsx
// styles.css
.card {
  background-color: #fff;
  padding: 20px;
  border-radius: 8px;
}

// Component.jsx
import './styles.css';

function Card() {
  return <div className="card">Content</div>;
}
\`\`\`

### Dynamic Styling

\`\`\`jsx
function Button({ variant, size }) {
  const className = \`btn btn-\${variant} btn-\${size}\`;
  
  return (
    <button className={className}>
      Click
    </button>
  );
}

// Conditional classes
<div className={\`card \${isActive ? 'active' : ''}\`}>
\`\`\`

### Global CSS Risks

- **Name collisions**: Same class name in different files
- **Specificity wars**: !important everywhere
- **Dead code**: Hard to remove unused styles

### Naming Conventions

**BEM (Block Element Modifier):**
\`\`\`css
.card { }
.card__title { }
.card__title--large { }
.card--featured { }
\`\`\`

**In React:**
\`\`\`jsx
<div className="card card--featured">
  <h2 className="card__title card__title--large">
    Title
  </h2>
</div>
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>CSS Styling in React</h2>
<div id="demo"></div>

<script>
function render() {
  let output = "";
  
  // 1. Inline Styles
  output += "<h3>1. Inline Styles</h3>";
  output += '<div style="background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.1);margin:10px 0">';
  output += '<p>style={{ backgroundColor: "#fff", padding: "20px" }}</p>';
  output += '</div>';
  
  // 2. External CSS classes
  output += "<h3>2. External CSS Classes</h3>";
  output += '<div class="card">className="card"</div>';
  
  // 3. Dynamic classes
  output += "<h3>3. Dynamic Classes</h3>";
  let variants = ["primary", "secondary", "danger"];
  variants.forEach(function(v) {
    output += '<button class="btn btn-' + v + '">' + v + '</button> ';
  });
  
  // 4. BEM Naming
  output += "<h3>4. BEM Convention</h3>";
  output += '<div class="profile-card profile-card--featured">';
  output += '<img class="profile-card__avatar" src="https://i.pravatar.cc/60" />';
  output += '<h4 class="profile-card__name">Alice Developer</h4>';
  output += '<p class="profile-card__role profile-card__role--highlight">Frontend Engineer</p>';
  output += '</div>';
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

<style>
/* External CSS */
.card {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 20px;
  border-radius: 8px;
  margin: 10px 0;
}

.btn {
  padding: 10px 20px;
  border: none;
  border-radius: 4px;
  margin: 5px;
  cursor: pointer;
  font-size: 14px;
}
.btn-primary { background: #61dafb; color: #282c34; }
.btn-secondary { background: #282c34; color: #61dafb; }
.btn-danger { background: #dc3545; color: white; }

/* BEM Example */
.profile-card {
  display: flex;
  align-items: center;
  gap: 15px;
  padding: 15px;
  background: #f8f9fa;
  border-radius: 8px;
  margin: 10px 0;
}
.profile-card--featured {
  border-left: 4px solid #61dafb;
}
.profile-card__avatar {
  border-radius: 50%;
}
.profile-card__name {
  margin: 0;
}
.profile-card__role {
  margin: 0;
  color: #666;
}
.profile-card__role--highlight {
  color: #61dafb;
  font-weight: bold;
}
</style>

</body>
</html>`,
    },
    'css-modules': {
      title: 'CSS Modules',
      content: `## CSS Modules

Locally scoped CSS that prevents naming collisions.

### How It Works

\`\`\`css
/* Button.module.css */
.button {
  padding: 10px 20px;
  border-radius: 4px;
}

.primary {
  background: #61dafb;
  color: #282c34;
}
\`\`\`

\`\`\`jsx
// Button.jsx
import styles from './Button.module.css';

function Button({ children, variant = 'primary' }) {
  return (
    <button className={\`\${styles.button} \${styles[variant]}\`}>
      {children}
    </button>
  );
}
\`\`\`

### Generated Class Names

CSS Modules generates unique class names:

\`\`\`html
<!-- Input -->
<button className={styles.button}>

<!-- Output (production) -->
<button class="Button_button__x7Z3a">
\`\`\`

### Composing Styles

\`\`\`css
/* styles.module.css */
.base {
  padding: 10px;
  border-radius: 4px;
}

.primary {
  composes: base;
  background: blue;
}

.secondary {
  composes: base;
  background: gray;
}
\`\`\`

### Global Styles in Modules

\`\`\`css
/* Still add global classes when needed */
:global(.active) {
  opacity: 1;
}

.button :global(.icon) {
  margin-right: 8px;
}
\`\`\`

### When to Use CSS Modules

-  Medium to large projects
-  Team environments
-  Component libraries
-  When you want to avoid CSS-in-JS runtime

### Benefits

- No class name collisions
- Clear dependency (explicit imports)
- Dead code elimination
- Standard CSS (no new syntax to learn)`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>CSS Modules Concept</h2>
<div id="demo"></div>

<script>
// Simulating CSS Modules behavior
// In real React, you import: import styles from './Button.module.css';

let styles = {
  button: "Button_button__x7Z3a",
  primary: "Button_primary__k2M9b",
  secondary: "Button_secondary__n4P1c",
  danger: "Button_danger__q8R2d"
};

function Button(props) {
  let variant = props.variant || "primary";
  let classNames = styles.button + " " + styles[variant];
  return '<button class="' + classNames + '">' + props.children + '</button>';
}

function render() {
  let output = "<h3>CSS Modules Example</h3>";
  
  output += "<h4>1. Component Usage</h4>";
  output += '<pre style="background:#f5f5f5;padding:10px;border-radius:4px">';
  output += "import styles from './Button.module.css';\\n\\n";
  output += "function Button({ variant }) {\\n";
  output += "  return (\\n";
  output += "    &lt;button className={" + String.fromCharCode(96) + String.fromCharCode(36) + "{styles.button} " + String.fromCharCode(36) + "{styles[variant]}" + String.fromCharCode(96) + "}&gt;\\n";
  output += "      Click\\n";
  output += "    &lt;/button&gt;\\n";
  output += "  );\\n";
  output += "}";
  output += '</pre>';
  
  output += "<h4>2. Rendered Output</h4>";
  output += Button({ variant: "primary", children: "Primary" }) + " ";
  output += Button({ variant: "secondary", children: "Secondary" }) + " ";
  output += Button({ variant: "danger", children: "Danger" });
  
  output += "<h4>3. Generated Class Names</h4>";
  output += "<p>CSS Modules hashes class names to prevent collisions:</p>";
  output += "<ul>";
  for (let key in styles) {
    output += "<li><code>." + key + "</code>  <code>." + styles[key] + "</code></li>";
  }
  output += "</ul>";
  
  output += "<h4>4. Benefits</h4>";
  output += "<ul>";
  output += "<li> No class name collisions</li>";
  output += "<li> Scoped to component</li>";
  output += "<li> Standard CSS syntax</li>";
  output += "<li> Dead code elimination</li>";
  output += "</ul>";
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

<style>
.Button_button__x7Z3a {
  padding: 10px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
  margin: 5px;
}
.Button_primary__k2M9b { background: #61dafb; color: #282c34; }
.Button_secondary__n4P1c { background: #6c757d; color: white; }
.Button_danger__q8R2d { background: #dc3545; color: white; }
</style>

</body>
</html>`,
    },
    'css-in-js': {
      title: 'CSS-in-JS',
      content: `## CSS-in-JS

Write CSS directly in JavaScript files.

### Styled Components

\`\`\`jsx
import styled from 'styled-components';

const Button = styled.button\`
  padding: 10px 20px;
  background: \${props => props.primary ? '#61dafb' : '#fff'};
  color: \${props => props.primary ? '#282c34' : '#333'};
  border: 2px solid #61dafb;
  border-radius: 4px;
  cursor: pointer;
  
  &:hover {
    opacity: 0.8;
  }
\`;

// Usage
<Button primary>Primary</Button>
<Button>Secondary</Button>
\`\`\`

### Emotion

\`\`\`jsx
/** @jsxImportSource @emotion/react */
import { css } from '@emotion/react';

const buttonStyle = css\`
  padding: 10px 20px;
  background: #61dafb;
  border: none;
  border-radius: 4px;
\`;

function Button() {
  return <button css={buttonStyle}>Click</button>;
}
\`\`\`

### Runtime vs Build-Time

| Runtime (styled-components) | Build-Time (Linaria) |
|-----------------------------|---------------------|
| CSS generated at runtime | CSS extracted at build |
| Smaller initial bundle | Zero runtime overhead |
| Dynamic styles easy | Better performance |
| More overhead | More build complexity |

### Pros and Cons

**Pros:**
- Full JavaScript power
- Dynamic props-based styling
- Automatic vendor prefixing
- Dead code elimination

**Cons:**
- Runtime overhead (some libraries)
- Larger bundle size
- Learning curve
- SSR complexity`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>CSS-in-JS Concepts</h2>
<div id="demo"></div>

<script>
// Simulating styled-components pattern

// In real React with styled-components:
// const Button = styled.button\`
//   padding: 10px 20px;
//   background: \${props => props.primary ? '#61dafb' : '#fff'};
// \`;

function StyledButton(props) {
  let bg = props.primary ? "#61dafb" : "#fff";
  let color = props.primary ? "#282c34" : "#333";
  let style = "padding:10px 20px;background:" + bg + ";color:" + color + ";border:2px solid #61dafb;border-radius:4px;cursor:pointer;margin:5px";
  return '<button style="' + style + '">' + props.children + '</button>';
}

function render() {
  let output = "<h3>CSS-in-JS Example</h3>";
  
  output += "<h4>1. Styled Components Pattern</h4>";
  output += '<pre style="background:#282c34;color:#61dafb;padding:15px;border-radius:4px;overflow-x:auto">';
  output += "const Button = styled.button" + String.fromCharCode(96) + "\\n";
  output += "  padding: 10px 20px;\\n";
  output += "  background: " + String.fromCharCode(36) + "{props => props.primary ? '#61dafb' : '#fff'};\\n";
  output += "  color: " + String.fromCharCode(36) + "{props => props.primary ? '#282c34' : '#333'};\\n";
  output += "  border: 2px solid #61dafb;\\n";
  output += "  border-radius: 4px;\\n";
  output += String.fromCharCode(96) + ";";
  output += '</pre>';
  
  output += "<h4>2. Usage</h4>";
  output += StyledButton({ primary: true, children: "Primary Button" });
  output += StyledButton({ children: "Secondary Button" });
  
  output += "<h4>3. Dynamic Props</h4>";
  let sizes = [
    { size: "small", padding: "5px 10px" },
    { size: "medium", padding: "10px 20px" },
    { size: "large", padding: "15px 30px" }
  ];
  sizes.forEach(function(s) {
    output += '<button style="padding:' + s.padding + ';background:#61dafb;border:none;border-radius:4px;margin:5px">' + s.size + '</button>';
  });
  
  output += "<h4>4. Popular Libraries</h4>";
  output += '<ul>';
  output += '<li><strong>styled-components</strong> - Most popular, great DX</li>';
  output += '<li><strong>Emotion</strong> - Fast, flexible</li>';
  output += '<li><strong>Linaria</strong> - Zero runtime</li>';
  output += '<li><strong>Stitches</strong> - Near-zero runtime</li>';
  output += '</ul>';
  
  output += "<h4>5. Trade-offs</h4>";
  output += '<table border="1" style="border-collapse:collapse;width:100%">';
  output += '<tr><th style="padding:8px">Pros</th><th style="padding:8px">Cons</th></tr>';
  output += '<tr><td style="padding:8px">Dynamic styling with props</td><td style="padding:8px">Runtime overhead</td></tr>';
  output += '<tr><td style="padding:8px">Scoped styles</td><td style="padding:8px">Learning curve</td></tr>';
  output += '<tr><td style="padding:8px">Full JS power</td><td style="padding:8px">Bundle size</td></tr>';
  output += '</table>';
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },
    sass: {
      title: 'React Sass',
      content: `## Sass with React

Using Sass/SCSS for enhanced CSS capabilities.

### Setup

\`\`\`bash
npm install sass
\`\`\`

No additional configuration needed with Vite or CRA.

### Basic Usage

\`\`\`scss
// styles.scss
$primary-color: #61dafb;
$border-radius: 8px;

.card {
  padding: 20px;
  background: white;
  border-radius: $border-radius;
  
  &:hover {
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  }
  
  &__title {
    color: $primary-color;
    margin-bottom: 10px;
  }
  
  &__content {
    color: #666;
  }
}
\`\`\`

\`\`\`jsx
import './styles.scss';

function Card({ title, content }) {
  return (
    <div className="card">
      <h2 className="card__title">{title}</h2>
      <p className="card__content">{content}</p>
    </div>
  );
}
\`\`\`

### Variables

\`\`\`scss
// _variables.scss
$colors: (
  primary: #61dafb,
  secondary: #282c34,
  success: #28a745,
  danger: #dc3545
);

@function color($key) {
  @return map-get($colors, $key);
}

// Usage
.btn-primary {
  background: color(primary);
}
\`\`\`

### Mixins

\`\`\`scss
@mixin flex-center {
  display: flex;
  justify-content: center;
  align-items: center;
}

@mixin button-variant($bg, $color) {
  background: $bg;
  color: $color;
  &:hover {
    background: darken($bg, 10%);
  }
}

.container {
  @include flex-center;
}

.btn-primary {
  @include button-variant(#61dafb, #282c34);
}
\`\`\`

### Maintainability Concerns

- Keep nesting shallow (3 levels max)
- Organize with partials (_variables, _mixins, etc.)
- Avoid overusing @extend
- Document complex mixins`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>React Sass/SCSS</h2>
<div id="demo"></div>

<script>
function render() {
  let output = "<h3>Sass Features</h3>";
  
  // 1. Variables
  output += "<h4>1. Variables</h4>";
  output += '<pre style="background:#fff5f5;padding:10px;border-radius:4px">';
  output += "$primary-color: #61dafb;\\n";
  output += "$border-radius: 8px;\\n\\n";
  output += ".button {\\n";
  output += "  background: $primary-color;\\n";
  output += "  border-radius: $border-radius;\\n";
  output += "}";
  output += '</pre>';
  
  // 2. Nesting
  output += "<h4>2. Nesting & Parent Selector (&)</h4>";
  output += '<pre style="background:#f5fff5;padding:10px;border-radius:4px">';
  output += ".card {\\n";
  output += "  padding: 20px;\\n\\n";
  output += "  &:hover {\\n";
  output += "    box-shadow: 0 4px 8px rgba(0,0,0,0.1);\\n";
  output += "  }\\n\\n";
  output += "  &__title {\\n";
  output += "    font-size: 24px;\\n";
  output += "  }\\n";
  output += "}";
  output += '</pre>';
  
  // 3. Mixins
  output += "<h4>3. Mixins</h4>";
  output += '<pre style="background:#f5f5ff;padding:10px;border-radius:4px">';
  output += "@mixin flex-center {\\n";
  output += "  display: flex;\\n";
  output += "  justify-content: center;\\n";
  output += "  align-items: center;\\n";
  output += "}\\n\\n";
  output += ".container {\\n";
  output += "  @include flex-center;\\n";
  output += "}";
  output += '</pre>';
  
  // Demo cards
  output += "<h4>4. Demo Output</h4>";
  output += '<div class="demo-card">';
  output += '<h3 class="demo-card__title">Sass Card</h3>';
  output += '<p class="demo-card__content">Styled with SCSS variables and nesting</p>';
  output += '</div>';
  
  // Best practices
  output += "<h4>5. Best Practices</h4>";
  output += '<ul>';
  output += '<li>Keep nesting to 3 levels max</li>';
  output += '<li>Use partials: _variables.scss, _mixins.scss</li>';
  output += '<li>Prefer mixins over @extend</li>';
  output += '<li>Use BEM naming with Sass</li>';
  output += '</ul>';
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

<style>
/* Compiled SCSS output simulation */
.demo-card {
  padding: 20px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  margin: 10px 0;
  transition: box-shadow 0.3s;
}
.demo-card:hover {
  box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}
.demo-card__title {
  color: #61dafb;
  margin: 0 0 10px;
}
.demo-card__content {
  color: #666;
  margin: 0;
}
</style>

</body>
</html>`,
    },

    // PHASE 6  ROUTING & UI FLOW
    router: {
      title: 'React Router',
      content: `## React Router

Client-side routing for single-page applications.

### Installation

\`\`\`bash
npm install react-router-dom
\`\`\`

### Basic Setup

\`\`\`jsx
import { BrowserRouter, Routes, Route, Link } from 'react-router-dom';

function App() {
  return (
    <BrowserRouter>
      <nav>
        <Link to="/">Home</Link>
        <Link to="/about">About</Link>
      </nav>
      
      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/about" element={<About />} />
        <Route path="/users/:id" element={<UserProfile />} />
        <Route path="*" element={<NotFound />} />
      </Routes>
    </BrowserRouter>
  );
}
\`\`\`

### Route Parameters

\`\`\`jsx
import { useParams } from 'react-router-dom';

function UserProfile() {
  const { id } = useParams();
  return <h1>User ID: {id}</h1>;
}
\`\`\`

### Nested Routes

\`\`\`jsx
function Dashboard() {
  return (
    <div>
      <h1>Dashboard</h1>
      <Outlet /> {/* Child routes render here */}
    </div>
  );
}

<Route path="/dashboard" element={<Dashboard />}>
  <Route index element={<DashboardHome />} />
  <Route path="settings" element={<Settings />} />
  <Route path="profile" element={<Profile />} />
</Route>
\`\`\`

### Navigation

\`\`\`jsx
import { useNavigate } from 'react-router-dom';

function LoginForm() {
  const navigate = useNavigate();

  const handleSubmit = async () => {
    await login();
    navigate('/dashboard');
  };
}
\`\`\`

### Protected Routes

\`\`\`jsx
function ProtectedRoute({ children }) {
  const { isAuthenticated } = useAuth();
  
  if (!isAuthenticated) {
    return <Navigate to="/login" />;
  }
  
  return children;
}

<Route path="/dashboard" element={
  <ProtectedRoute>
    <Dashboard />
  </ProtectedRoute>
} />
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>React Router Concepts</h2>
<div id="demo"></div>

<script>
// Simulating React Router behavior
let currentPath = "/";
let routes = {
  "/": { component: "Home", content: "Welcome to the home page!" },
  "/about": { component: "About", content: "Learn more about us." },
  "/users/1": { component: "UserProfile", content: "User Profile: Alice (ID: 1)" },
  "/dashboard": { component: "Dashboard", content: "Your Dashboard" }
};

function navigate(path) {
  currentPath = path;
  render();
}

function render() {
  let output = "<h3>Client-Side Routing</h3>";
  
  // Navigation
  output += '<nav style="background:#282c34;padding:15px;border-radius:4px;margin-bottom:20px">';
  ["/", "/about", "/users/1", "/dashboard"].forEach(function(path) {
    let isActive = currentPath === path;
    let style = isActive ? "color:#61dafb;font-weight:bold" : "color:white";
    let label = path === "/" ? "Home" : path.slice(1);
    output += '<a href="#" onclick="navigate(\\'' + path + '\\'); return false;" style="' + style + ';margin-right:20px;text-decoration:none">' + label + '</a>';
  });
  output += '</nav>';
  
  // Current Route
  let route = routes[currentPath] || { component: "NotFound", content: "404 - Page not found" };
  output += '<div style="padding:20px;background:#f5f5f5;border-radius:4px">';
  output += '<h4>Current Route: ' + currentPath + '</h4>';
  output += '<p><strong>Component:</strong> &lt;' + route.component + ' /&gt;</p>';
  output += '<p>' + route.content + '</p>';
  output += '</div>';
  
  // Code example
  output += '<h4>Router Setup:</h4>';
  output += '<pre style="background:#282c34;color:#61dafb;padding:15px;border-radius:4px;overflow-x:auto">';
  output += '&lt;BrowserRouter&gt;\\n';
  output += '  &lt;Routes&gt;\\n';
  output += '    &lt;Route path="/" element={&lt;Home /&gt;} /&gt;\\n';
  output += '    &lt;Route path="/about" element={&lt;About /&gt;} /&gt;\\n';
  output += '    &lt;Route path="/users/:id" element={&lt;User /&gt;} /&gt;\\n';
  output += '  &lt;/Routes&gt;\\n';
  output += '&lt;/BrowserRouter&gt;';
  output += '</pre>';
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },
    portals: {
      title: 'React Portals',
      content: `## React Portals

Render children into a DOM node outside the parent component.

### Why Portals?

- Modals that need to break out of overflow:hidden
- Tooltips that need to avoid clipping
- Dropdowns that need to overlay other content

### Basic Portal

\`\`\`jsx
import { createPortal } from 'react-dom';

function Modal({ children, isOpen }) {
  if (!isOpen) return null;

  return createPortal(
    <div className="modal-overlay">
      <div className="modal-content">
        {children}
      </div>
    </div>,
    document.body  // Target DOM node
  );
}
\`\`\`

### Portal with Backdrop

\`\`\`jsx
function Modal({ isOpen, onClose, children }) {
  if (!isOpen) return null;

  return createPortal(
    <>
      <div className="backdrop" onClick={onClose} />
      <div className="modal">
        <button onClick={onClose}></button>
        {children}
      </div>
    </>,
    document.getElementById('modal-root')
  );
}
\`\`\`

### Events Still Bubble

Even though portals render outside the parent DOM, events still bubble up through the React tree:

\`\`\`jsx
function Parent() {
  // This will catch clicks from the portal!
  return (
    <div onClick={() => console.log('Parent clicked')}>
      <Modal>
        <button>Click in modal</button>
      </Modal>
    </div>
  );
}
\`\`\`

### Tooltip Example

\`\`\`jsx
function Tooltip({ text, targetRef }) {
  const [position, setPosition] = useState({ top: 0, left: 0 });

  useEffect(() => {
    const rect = targetRef.current.getBoundingClientRect();
    setPosition({
      top: rect.bottom + 5,
      left: rect.left
    });
  }, []);

  return createPortal(
    <div style={{ position: 'fixed', ...position }}>
      {text}
    </div>,
    document.body
  );
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>React Portals</h2>
<div id="demo"></div>
<div id="modal-root"></div>

<script>
let isModalOpen = false;
let isTooltipVisible = false;

function toggleModal() {
  isModalOpen = !isModalOpen;
  render();
}

function showTooltip() {
  isTooltipVisible = true;
  render();
}

function hideTooltip() {
  isTooltipVisible = false;
  render();
}

function render() {
  let output = "<h3>Portal Examples</h3>";
  
  // Modal example
  output += "<h4>1. Modal (Portal to body)</h4>";
  output += '<button onclick="toggleModal()" style="padding:10px 20px;background:#61dafb;border:none;border-radius:4px;cursor:pointer">Open Modal</button>';
  
  // The modal portal
  let modalHTML = '';
  if (isModalOpen) {
    modalHTML = '<div style="position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.5);display:flex;justify-content:center;align-items:center;z-index:1000">';
    modalHTML += '<div style="background:white;padding:30px;border-radius:8px;max-width:400px">';
    modalHTML += '<h3>Modal Title</h3>';
    modalHTML += '<p>This modal is rendered via a portal to document.body!</p>';
    modalHTML += '<p>Even though it\\'s defined inside a component, it renders at the root level.</p>';
    modalHTML += '<button onclick="toggleModal()" style="padding:10px 20px;background:#dc3545;color:white;border:none;border-radius:4px;cursor:pointer">Close</button>';
    modalHTML += '</div></div>';
  }
  document.getElementById("modal-root").innerHTML = modalHTML;
  
  // Tooltip example
  output += "<h4>2. Tooltip</h4>";
  output += '<span onmouseenter="showTooltip()" onmouseleave="hideTooltip()" style="border-bottom:2px dashed #61dafb;cursor:help">Hover over me</span>';
  if (isTooltipVisible) {
    output += '<div style="position:absolute;background:#282c34;color:white;padding:8px 12px;border-radius:4px;font-size:14px;margin-top:5px">This is a tooltip!</div>';
  }
  
  // Use cases
  output += "<h4>3. When to Use Portals</h4>";
  output += '<ul>';
  output += '<li> Modals / Dialogs</li>';
  output += '<li> Tooltips</li>';
  output += '<li> Dropdowns</li>';
  output += '<li> Toast notifications</li>';
  output += '<li> Anything that needs to break out of overflow:hidden</li>';
  output += '</ul>';
  
  // Code
  output += '<pre style="background:#f5f5f5;padding:10px;border-radius:4px;margin-top:10px">';
  output += 'createPortal(\\n';
  output += '  &lt;Modal&gt;Content&lt;/Modal&gt;,\\n';
  output += '  document.body\\n';
  output += ')';
  output += '</pre>';
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },
    suspense: {
      title: 'React Suspense',
      content: `## React Suspense

Handle loading states declaratively.

### Lazy Loading Components

\`\`\`jsx
import { lazy, Suspense } from 'react';

// Lazy load heavy components
const HeavyChart = lazy(() => import('./HeavyChart'));
const Dashboard = lazy(() => import('./Dashboard'));

function App() {
  return (
    <Suspense fallback={<Loading />}>
      <Dashboard />
      <HeavyChart />
    </Suspense>
  );
}
\`\`\`

### Route-Based Code Splitting

\`\`\`jsx
const Home = lazy(() => import('./pages/Home'));
const About = lazy(() => import('./pages/About'));
const Dashboard = lazy(() => import('./pages/Dashboard'));

function App() {
  return (
    <Suspense fallback={<PageLoader />}>
      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/about" element={<About />} />
        <Route path="/dashboard" element={<Dashboard />} />
      </Routes>
    </Suspense>
  );
}
\`\`\`

### Data Fetching with Suspense

\`\`\`jsx
// With React Query or similar
function UserProfile() {
  return (
    <Suspense fallback={<ProfileSkeleton />}>
      <UserData />
    </Suspense>
  );
}

function UserData() {
  // This hook suspends until data is ready
  const user = useSuspenseQuery(['user']);
  return <div>{user.name}</div>;
}
\`\`\`

### Nested Suspense

\`\`\`jsx
<Suspense fallback={<PageLoader />}>
  <Header />
  <Suspense fallback={<SidebarSkeleton />}>
    <Sidebar />
  </Suspense>
  <Suspense fallback={<ContentSkeleton />}>
    <MainContent />
  </Suspense>
</Suspense>
\`\`\`

### Benefits

- Declarative loading states
- Automatic code splitting
- Better user experience
- Simpler component logic`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>React Suspense</h2>
<div id="demo"></div>

<script>
let loadingStates = {
  header: false,
  sidebar: false,
  content: false
};

function simulateLoad(component) {
  loadingStates[component] = true;
  render();
  
  setTimeout(function() {
    loadingStates[component] = false;
    render();
  }, 1500);
}

function resetAll() {
  loadingStates = { header: true, sidebar: true, content: true };
  render();
  
  setTimeout(() => { loadingStates.header = false; render(); }, 800);
  setTimeout(() => { loadingStates.sidebar = false; render(); }, 1200);
  setTimeout(() => { loadingStates.content = false; render(); }, 1800);
}

function render() {
  let output = "<h3>Suspense Concept</h3>";
  
  // Simulated lazy-loaded components
  output += "<h4>1. Lazy Loading Simulation</h4>";
  output += '<div style="display:grid;gap:10px">';
  
  // Header
  output += '<div style="background:#f5f5f5;padding:15px;border-radius:4px">';
  if (loadingStates.header) {
    output += '<div style="background:#ddd;height:20px;width:60%;border-radius:4px;animation:pulse 1s infinite"></div>';
    output += '<span style="color:#999;font-size:12px">Loading header...</span>';
  } else {
    output += '<strong>Header Component</strong> ';
  }
  output += '</div>';
  
  // Sidebar
  output += '<div style="background:#f5f5f5;padding:15px;border-radius:4px">';
  if (loadingStates.sidebar) {
    output += '<div style="background:#ddd;height:60px;width:100%;border-radius:4px;animation:pulse 1s infinite"></div>';
    output += '<span style="color:#999;font-size:12px">Loading sidebar...</span>';
  } else {
    output += '<strong>Sidebar Component</strong> ';
  }
  output += '</div>';
  
  // Content
  output += '<div style="background:#f5f5f5;padding:15px;border-radius:4px">';
  if (loadingStates.content) {
    output += '<div style="background:#ddd;height:100px;width:100%;border-radius:4px;animation:pulse 1s infinite"></div>';
    output += '<span style="color:#999;font-size:12px">Loading content...</span>';
  } else {
    output += '<strong>Main Content Component</strong> <p>All data loaded!</p>';
  }
  output += '</div>';
  
  output += '</div>';
  
  output += '<button onclick="resetAll()" style="margin-top:15px;padding:10px 20px;background:#61dafb;border:none;border-radius:4px;cursor:pointer">Simulate Page Load</button>';
  
  // Code example
  output += '<h4>2. Suspense Pattern</h4>';
  output += '<pre style="background:#282c34;color:#61dafb;padding:15px;border-radius:4px;overflow-x:auto">';
  output += 'const Dashboard = lazy(() => import("./Dashboard"));\\n\\n';
  output += '&lt;Suspense fallback={&lt;Loading /&gt;}&gt;\\n';
  output += '  &lt;Dashboard /&gt;\\n';
  output += '&lt;/Suspense&gt;';
  output += '</pre>';
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

<style>
@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}
</style>

</body>
</html>`,
    },
    transitions: {
      title: 'React Transitions',
      content: `## React Transitions

Smooth UI transitions and animations.

### CSS Transitions

\`\`\`jsx
function FadeIn({ show, children }) {
  return (
    <div style={{
      opacity: show ? 1 : 0,
      transition: 'opacity 300ms ease-in-out'
    }}>
      {children}
    </div>
  );
}
\`\`\`

### CSS Classes Approach

\`\`\`css
.fade-enter { opacity: 0; }
.fade-enter-active { opacity: 1; transition: opacity 300ms; }
.fade-exit { opacity: 1; }
.fade-exit-active { opacity: 0; transition: opacity 300ms; }
\`\`\`

### useTransition Hook (React 18)

\`\`\`jsx
import { useTransition, useState } from 'react';

function SearchResults() {
  const [query, setQuery] = useState('');
  const [results, setResults] = useState([]);
  const [isPending, startTransition] = useTransition();

  const handleChange = (e) => {
    setQuery(e.target.value);
    
    // Mark as low priority
    startTransition(() => {
      setResults(filterResults(e.target.value));
    });
  };

  return (
    <div>
      <input value={query} onChange={handleChange} />
      {isPending && <Spinner />}
      <ResultsList results={results} />
    </div>
  );
}
\`\`\`

### Animation Libraries

**Framer Motion:**
\`\`\`jsx
import { motion, AnimatePresence } from 'framer-motion';

function Modal({ isOpen }) {
  return (
    <AnimatePresence>
      {isOpen && (
        <motion.div
          initial={{ opacity: 0, scale: 0.9 }}
          animate={{ opacity: 1, scale: 1 }}
          exit={{ opacity: 0, scale: 0.9 }}
        >
          Modal content
        </motion.div>
      )}
    </AnimatePresence>
  );
}
\`\`\`

### State-Driven Transitions

\`\`\`jsx
function Accordion({ items }) {
  const [openIndex, setOpenIndex] = useState(null);

  return (
    <div>
      {items.map((item, index) => (
        <div key={item.id}>
          <button onClick={() => setOpenIndex(index)}>
            {item.title}
          </button>
          <div style={{
            maxHeight: openIndex === index ? '500px' : '0',
            overflow: 'hidden',
            transition: 'max-height 300ms ease'
          }}>
            {item.content}
          </div>
        </div>
      ))}
    </div>
  );
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>React Transitions</h2>
<div id="demo"></div>

<script>
let showBox = true;
let openAccordion = 0;
let isPending = false;

function toggleBox() {
  showBox = !showBox;
  render();
}

function setAccordion(index) {
  openAccordion = openAccordion === index ? -1 : index;
  render();
}

function simulateTransition() {
  isPending = true;
  render();
  setTimeout(function() {
    isPending = false;
    render();
  }, 1000);
}

function render() {
  let output = "<h3>Transition Examples</h3>";
  
  // 1. Fade transition
  output += "<h4>1. Fade Transition</h4>";
  output += '<button onclick="toggleBox()" style="padding:10px 20px;background:#61dafb;border:none;border-radius:4px;cursor:pointer;margin-bottom:10px">Toggle</button>';
  output += '<div style="opacity:' + (showBox ? '1' : '0') + ';transition:opacity 300ms;background:#282c34;color:white;padding:20px;border-radius:4px">';
  output += 'This box fades in and out!';
  output += '</div>';
  
  // 2. Accordion
  output += "<h4>2. Accordion (Max-Height)</h4>";
  let items = [
    { title: "Section 1", content: "Content for section 1. This expands smoothly." },
    { title: "Section 2", content: "Content for section 2. Click to expand." },
    { title: "Section 3", content: "Content for section 3. Transitions are smooth!" }
  ];
  
  items.forEach(function(item, idx) {
    let isOpen = openAccordion === idx;
    output += '<div style="border:1px solid #ddd;border-radius:4px;margin:5px 0">';
    output += '<button onclick="setAccordion(' + idx + ')" style="width:100%;padding:15px;text-align:left;background:' + (isOpen ? '#61dafb' : '#f5f5f5') + ';border:none;cursor:pointer">';
    output += item.title + ' ' + (isOpen ? '' : '');
    output += '</button>';
    output += '<div style="max-height:' + (isOpen ? '200px' : '0') + ';overflow:hidden;transition:max-height 300ms ease;padding:' + (isOpen ? '15px' : '0 15px') + '">';
    output += item.content;
    output += '</div></div>';
  });
  
  // 3. useTransition concept
  output += "<h4>3. useTransition (Priority)</h4>";
  output += '<button onclick="simulateTransition()" style="padding:10px 20px;background:#61dafb;border:none;border-radius:4px;cursor:pointer">Start Transition</button>';
  if (isPending) {
    output += '<span style="margin-left:10px;color:#666"> Low priority update pending...</span>';
  } else {
    output += '<span style="margin-left:10px;color:green"> Ready</span>';
  }
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },

    // PHASE 7  HOOKS
    'hooks-intro': {
      title: 'What is Hooks?',
      content: `## React Hooks

Hooks let you use state and other React features in functional components.

### Why Hooks Exist

Before hooks, you needed class components for:
- State management
- Lifecycle methods
- Context consumption

Hooks solve:
- **Reusing logic** - Share stateful logic without render props/HOCs
- **Complex components** - Split by concern, not lifecycle
- **Classes confusion** - No \`this\` binding issues

### Rules of Hooks

**Non-negotiable rules:**

1. **Only call at the top level**
\`\`\`jsx
//  Wrong - inside condition
if (condition) {
  const [state, setState] = useState();
}

//  Correct - top level
const [state, setState] = useState();
\`\`\`

2. **Only call from React functions**
\`\`\`jsx
//  Wrong - regular function
function helper() {
  const [state, setState] = useState();
}

//  Correct - React component or custom hook
function useCustomHook() {
  const [state, setState] = useState();
}
\`\`\`

### Available Hooks

| Hook | Purpose |
|------|---------|
| useState | Local state |
| useEffect | Side effects |
| useContext | Context consumption |
| useRef | Mutable refs |
| useReducer | Complex state |
| useCallback | Memoized callbacks |
| useMemo | Memoized values |
| useTransition | Concurrent features |
| useDeferredValue | Deferred updates |

### The Mental Model

Think of hooks as **subscriptions**:
- useState subscribes to state changes
- useEffect subscribes to render completion
- useContext subscribes to context changes`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>React Hooks Overview</h2>
<div id="demo"></div>

<script>
function render() {
  let output = "<h3>Why Hooks?</h3>";
  
  // Before vs After
  output += '<div style="display:grid;grid-template-columns:1fr 1fr;gap:20px">';
  
  // Before (Class)
  output += '<div style="background:#fff5f5;padding:15px;border-radius:8px">';
  output += '<h4> Before (Class)</h4>';
  output += '<pre style="font-size:12px">';
  output += 'class Counter extends Component {\\n';
  output += '  constructor(props) {\\n';
  output += '    super(props);\\n';
  output += '    this.state = { count: 0 };\\n';
  output += '    this.increment = this.increment.bind(this);\\n';
  output += '  }\\n';
  output += '  increment() {\\n';
  output += '    this.setState({ count: this.state.count + 1 });\\n';
  output += '  }\\n';
  output += '  render() {\\n';
  output += '    return &lt;button onClick={this.increment}&gt;...';
  output += '</pre>';
  output += '</div>';
  
  // After (Hooks)
  output += '<div style="background:#f5fff5;padding:15px;border-radius:8px">';
  output += '<h4> After (Hooks)</h4>';
  output += '<pre style="font-size:12px">';
  output += 'function Counter() {\\n';
  output += '  const [count, setCount] = useState(0);\\n';
  output += '\\n';
  output += '  return (\\n';
  output += '    &lt;button onClick={() =&gt; setCount(count + 1)}&gt;\\n';
  output += '      {count}\\n';
  output += '    &lt;/button&gt;\\n';
  output += '  );\\n';
  output += '}';
  output += '</pre>';
  output += '</div>';
  
  output += '</div>';
  
  // Rules
  output += '<h4 style="margin-top:20px">Rules of Hooks </h4>';
  output += '<div style="background:#fff3cd;padding:15px;border-radius:8px">';
  output += '<ol>';
  output += '<li><strong>Top Level Only</strong> - Never inside loops, conditions, or nested functions</li>';
  output += '<li><strong>React Functions Only</strong> - Only in components or custom hooks</li>';
  output += '</ol>';
  output += '</div>';
  
  // Available hooks
  output += '<h4>Core Hooks</h4>';
  output += '<div style="display:grid;grid-template-columns:repeat(3,1fr);gap:10px">';
  let hooks = [
    { name: "useState", desc: "Local state" },
    { name: "useEffect", desc: "Side effects" },
    { name: "useContext", desc: "Context" },
    { name: "useRef", desc: "Refs" },
    { name: "useReducer", desc: "Complex state" },
    { name: "useMemo", desc: "Memoization" }
  ];
  hooks.forEach(function(h) {
    output += '<div style="background:#f5f5f5;padding:10px;border-radius:4px;text-align:center">';
    output += '<strong>' + h.name + '</strong><br>';
    output += '<small>' + h.desc + '</small>';
    output += '</div>';
  });
  output += '</div>';
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },
    usestate: {
      title: 'React useState',
      content: `## useState Hook

Add state to functional components.

### Basic Usage

\`\`\`jsx
import { useState } from 'react';

function Counter() {
  const [count, setCount] = useState(0);

  return (
    <button onClick={() => setCount(count + 1)}>
      Count: {count}
    </button>
  );
}
\`\`\`

### State Update Patterns

\`\`\`jsx
// Direct value
setCount(5);

// Functional update (when new state depends on previous)
setCount(prevCount => prevCount + 1);

// Object state
const [user, setUser] = useState({ name: '', email: '' });
setUser(prev => ({ ...prev, name: 'Alice' }));

// Array state
const [items, setItems] = useState([]);
setItems(prev => [...prev, newItem]);
\`\`\`

### Lazy Initial State

\`\`\`jsx
//  Runs on every render
const [data, setData] = useState(expensiveComputation());

//  Runs only on first render
const [data, setData] = useState(() => expensiveComputation());
\`\`\`

### Multiple States

\`\`\`jsx
function Form() {
  const [name, setName] = useState('');
  const [email, setEmail] = useState('');
  const [age, setAge] = useState(0);
  
  // Or group related state
  const [form, setForm] = useState({
    name: '',
    email: '',
    age: 0
  });
}
\`\`\`

### State is Asynchronous

\`\`\`jsx
const [count, setCount] = useState(0);

const increment = () => {
  setCount(count + 1);
  console.log(count); // Still 0! State updates are async
};

// Use functional update for sequential updates
const incrementTwice = () => {
  setCount(prev => prev + 1);
  setCount(prev => prev + 1); // Will be 2
};
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>useState Hook</h2>
<div id="demo"></div>

<script>
// Simulating useState behavior
let states = {
  count: 0,
  name: "",
  items: ["Item 1", "Item 2"]
};

function setState(key, value) {
  if (typeof value === 'function') {
    states[key] = value(states[key]);
  } else {
    states[key] = value;
  }
  render();
}

function render() {
  let output = "<h3>useState Examples</h3>";
  
  // Counter
  output += "<h4>1. Counter</h4>";
  output += '<p>Count: <strong>' + states.count + '</strong></p>';
  output += '<button onclick="setState(\\'count\\', states.count + 1)" style="padding:8px 16px;margin:2px">+1</button>';
  output += '<button onclick="setState(\\'count\\', states.count - 1)" style="padding:8px 16px;margin:2px">-1</button>';
  output += '<button onclick="setState(\\'count\\', 0)" style="padding:8px 16px;margin:2px">Reset</button>';
  
  // Input
  output += "<h4>2. Input State</h4>";
  output += '<input type="text" value="' + states.name + '" oninput="setState(\\'name\\', this.value)" placeholder="Type your name..." style="padding:8px;width:200px" />';
  output += '<p>Hello, <strong>' + (states.name || "Guest") + '</strong>!</p>';
  
  // Array state
  output += "<h4>3. Array State</h4>";
  output += '<ul>';
  states.items.forEach(function(item, idx) {
    output += '<li>' + item + ' <button onclick="removeItem(' + idx + ')" style="margin-left:10px"></button></li>';
  });
  output += '</ul>';
  output += '<button onclick="addItem()" style="padding:8px 16px">Add Item</button>';
  
  // Functional update
  output += "<h4>4. Functional Update (Batching)</h4>";
  output += '<p>For sequential updates, use functional form:</p>';
  output += '<pre style="background:#f5f5f5;padding:10px;border-radius:4px">';
  output += 'setCount(prev => prev + 1);\\n';
  output += 'setCount(prev => prev + 1); // Both work!';
  output += '</pre>';
  output += '<button onclick="incrementTwice()" style="padding:8px 16px">+2 (functional)</button>';
  
  document.getElementById("demo").innerHTML = output;
}

function addItem() {
  let newItem = "Item " + (states.items.length + 1);
  setState('items', prev => [...prev, newItem]);
}

function removeItem(idx) {
  setState('items', prev => prev.filter((_, i) => i !== idx));
}

function incrementTwice() {
  setState('count', prev => prev + 1);
  setState('count', prev => prev + 1);
}

render();
</script>

</body>
</html>`,
    },
    useeffect: {
      title: 'React useEffect',
      content: `## useEffect Hook

Handle side effects in functional components.

### Basic Syntax

\`\`\`jsx
import { useEffect, useState } from 'react';

function Component() {
  useEffect(() => {
    // Side effect code
    console.log('Effect ran');
    
    return () => {
      // Cleanup function
      console.log('Cleanup');
    };
  }, [/* dependencies */]);
}
\`\`\`

### Dependency Array Patterns

\`\`\`jsx
// Run on every render
useEffect(() => {
  console.log('Every render');
});

// Run once on mount
useEffect(() => {
  console.log('Only on mount');
}, []);

// Run when dependencies change
useEffect(() => {
  console.log('userId changed:', userId);
}, [userId]);
\`\`\`

### Data Fetching

\`\`\`jsx
function UserProfile({ userId }) {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    let cancelled = false;
    
    async function fetchUser() {
      setLoading(true);
      const response = await fetch(\`/api/users/\${userId}\`);
      const data = await response.json();
      
      if (!cancelled) {
        setUser(data);
        setLoading(false);
      }
    }
    
    fetchUser();
    
    return () => { cancelled = true; };
  }, [userId]);

  if (loading) return <Spinner />;
  return <div>{user.name}</div>;
}
\`\`\`

### Cleanup Examples

\`\`\`jsx
// Event listener
useEffect(() => {
  window.addEventListener('resize', handleResize);
  return () => window.removeEventListener('resize', handleResize);
}, []);

// Timer
useEffect(() => {
  const timer = setInterval(() => tick(), 1000);
  return () => clearInterval(timer);
}, []);

// Subscription
useEffect(() => {
  const subscription = api.subscribe(handler);
  return () => subscription.unsubscribe();
}, []);
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>useEffect Hook</h2>
<div id="demo"></div>

<script>
let state = {
  count: 0,
  userId: 1,
  user: null,
  timer: 0,
  logs: []
};

let timerInterval = null;

function log(message) {
  state.logs.push(new Date().toLocaleTimeString() + ": " + message);
  if (state.logs.length > 5) state.logs.shift();
}

// Simulating useEffect on mount
function onMount() {
  log("Component mounted ([] dependency)");
  startTimer();
}

function startTimer() {
  if (timerInterval) clearInterval(timerInterval);
  timerInterval = setInterval(function() {
    state.timer++;
    render();
  }, 1000);
  log("Timer started (cleanup needed)");
}

function cleanup() {
  if (timerInterval) {
    clearInterval(timerInterval);
    timerInterval = null;
    log("Timer cleaned up! (return () => {})");
    state.timer = 0;
    render();
  }
}

function changeUser(id) {
  state.userId = id;
  log("userId changed to " + id + " - fetching user...");
  // Simulate fetch
  setTimeout(function() {
    state.user = { id: id, name: "User " + id };
    log("User " + id + " loaded");
    render();
  }, 500);
  render();
}

function render() {
  let output = "<h3>useEffect Examples</h3>";
  
  // 1. Mount effect
  output += "<h4>1. Run Once on Mount ([])</h4>";
  output += '<button onclick="onMount()" style="padding:8px 16px">Simulate Mount</button>';
  
  // 2. Timer with cleanup
  output += "<h4>2. Timer with Cleanup</h4>";
  output += '<p>Timer: <strong>' + state.timer + '</strong> seconds</p>';
  output += '<button onclick="startTimer()" style="padding:8px 16px;margin-right:10px">Start</button>';
  output += '<button onclick="cleanup()" style="padding:8px 16px">Stop (Cleanup)</button>';
  
  // 3. Dependency change
  output += "<h4>3. Dependency Change [userId]</h4>";
  output += '<p>Current userId: <strong>' + state.userId + '</strong></p>';
  output += '<button onclick="changeUser(1)" style="padding:8px 16px;margin:2px">User 1</button>';
  output += '<button onclick="changeUser(2)" style="padding:8px 16px;margin:2px">User 2</button>';
  output += '<button onclick="changeUser(3)" style="padding:8px 16px;margin:2px">User 3</button>';
  if (state.user) {
    output += '<p>Loaded: <strong>' + state.user.name + '</strong></p>';
  }
  
  // Effect log
  output += "<h4>4. Effect Log</h4>";
  output += '<div style="background:#282c34;color:#61dafb;padding:15px;border-radius:4px;font-family:monospace;font-size:12px">';
  state.logs.forEach(function(l) {
    output += l + '<br>';
  });
  output += '</div>';
  
  document.getElementById("demo").innerHTML = output;
}

render();
log("Initial render");
</script>

</body>
</html>`,
    },
    usecontext: {
      title: 'React useContext',
      content: `## useContext Hook

Consume context without nesting.

### Creating Context

\`\`\`jsx
import { createContext, useContext, useState } from 'react';

// Create context
const ThemeContext = createContext('light');

// Provider component
function ThemeProvider({ children }) {
  const [theme, setTheme] = useState('light');
  
  return (
    <ThemeContext.Provider value={{ theme, setTheme }}>
      {children}
    </ThemeContext.Provider>
  );
}
\`\`\`

### Consuming Context

\`\`\`jsx
function ThemedButton() {
  const { theme, setTheme } = useContext(ThemeContext);
  
  return (
    <button
      onClick={() => setTheme(theme === 'light' ? 'dark' : 'light')}
      style={{ background: theme === 'dark' ? '#333' : '#fff' }}
    >
      Toggle Theme
    </button>
  );
}
\`\`\`

### Custom Hook Pattern

\`\`\`jsx
// Create a custom hook for cleaner API
function useTheme() {
  const context = useContext(ThemeContext);
  if (!context) {
    throw new Error('useTheme must be used within ThemeProvider');
  }
  return context;
}

// Usage becomes cleaner
function Component() {
  const { theme } = useTheme();
}
\`\`\`

### Multiple Contexts

\`\`\`jsx
function App() {
  return (
    <AuthProvider>
      <ThemeProvider>
        <UserProvider>
          <Main />
        </UserProvider>
      </ThemeProvider>
    </AuthProvider>
  );
}
\`\`\`

### When to Use Context

 **Good for:**
- Theme (dark/light mode)
- Authentication state
- Locale/Language
- Feature flags

 **Avoid for:**
- Frequently updating data (use state management)
- Props that only go 2-3 levels deep`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>useContext Hook</h2>
<div id="demo"></div>

<script>
// Simulating React Context
let ThemeContext = { theme: "light" };
let AuthContext = { user: null, isLoggedIn: false };

function setTheme(newTheme) {
  ThemeContext.theme = newTheme;
  render();
}

function login() {
  AuthContext.user = { name: "Alice" };
  AuthContext.isLoggedIn = true;
  render();
}

function logout() {
  AuthContext.user = null;
  AuthContext.isLoggedIn = false;
  render();
}

function render() {
  let theme = ThemeContext.theme;
  let bgColor = theme === "dark" ? "#282c34" : "#ffffff";
  let textColor = theme === "dark" ? "#61dafb" : "#333333";
  
  let output = '<div style="background:' + bgColor + ';color:' + textColor + ';padding:20px;border-radius:8px">';
  output += "<h3>Context Examples</h3>";
  
  // Theme Context
  output += "<h4>1. Theme Context</h4>";
  output += '<p>Current theme: <strong>' + theme + '</strong></p>';
  output += '<button onclick="setTheme(\\'' + (theme === 'light' ? 'dark' : 'light') + '\\')" style="padding:10px 20px;background:' + (theme === 'dark' ? '#61dafb' : '#282c34') + ';color:' + (theme === 'dark' ? '#282c34' : '#fff') + ';border:none;border-radius:4px;cursor:pointer">Toggle Theme</button>';
  
  // Auth Context
  output += "<h4>2. Auth Context</h4>";
  if (AuthContext.isLoggedIn) {
    output += '<p>Welcome, <strong>' + AuthContext.user.name + '</strong>!</p>';
    output += '<button onclick="logout()" style="padding:10px 20px;background:#dc3545;color:white;border:none;border-radius:4px;cursor:pointer">Logout</button>';
  } else {
    output += '<p>Not logged in</p>';
    output += '<button onclick="login()" style="padding:10px 20px;background:#28a745;color:white;border:none;border-radius:4px;cursor:pointer">Login</button>';
  }
  
  // Nested component simulation
  output += "<h4>3. Deep Nested Component</h4>";
  output += '<div style="border:1px dashed ' + textColor + ';padding:10px;border-radius:4px">';
  output += '<p>This component uses <code>useContext(ThemeContext)</code></p>';
  output += '<p>No prop drilling needed!</p>';
  output += '</div>';
  
  output += '</div>';
  
  // Code example
  output += '<h4>Pattern:</h4>';
  output += '<pre style="background:#f5f5f5;padding:10px;border-radius:4px;overflow-x:auto">';
  output += '// Create\\n';
  output += 'const ThemeContext = createContext("light");\\n\\n';
  output += '// Provide\\n';
  output += '&lt;ThemeContext.Provider value={theme}&gt;\\n\\n';
  output += '// Consume\\n';
  output += 'const theme = useContext(ThemeContext);';
  output += '</pre>';
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },
    useref: {
      title: 'React useRef',
      content: `## useRef Hook

Access DOM elements and persist values across renders.

### DOM Reference

\`\`\`jsx
import { useRef } from 'react';

function TextInput() {
  const inputRef = useRef(null);

  const focusInput = () => {
    inputRef.current.focus();
  };

  return (
    <>
      <input ref={inputRef} />
      <button onClick={focusInput}>Focus</button>
    </>
  );
}
\`\`\`

### Mutable Values

Unlike state, ref changes don't trigger re-renders:

\`\`\`jsx
function Timer() {
  const intervalRef = useRef(null);
  const [count, setCount] = useState(0);

  const start = () => {
    intervalRef.current = setInterval(() => {
      setCount(c => c + 1);
    }, 1000);
  };

  const stop = () => {
    clearInterval(intervalRef.current);
  };

  return (
    <>
      <span>{count}</span>
      <button onClick={start}>Start</button>
      <button onClick={stop}>Stop</button>
    </>
  );
}
\`\`\`

### Previous Value Pattern

\`\`\`jsx
function usePrevious(value) {
  const ref = useRef();
  
  useEffect(() => {
    ref.current = value;
  }, [value]);
  
  return ref.current;
}

// Usage
function Component({ count }) {
  const prevCount = usePrevious(count);
  return <p>Previous: {prevCount}, Current: {count}</p>;
}
\`\`\`

### Ref vs State

| useRef | useState |
|--------|----------|
| Doesn't trigger re-render | Triggers re-render |
| Mutable | Immutable |
| Synchronous updates | Async updates |
| Good for DOM refs, timers | Good for UI state |`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>useRef Hook</h2>
<div id="demo"></div>

<script>
let timerRef = { current: null };
let countRef = { current: 0 };
let renderCount = 0;

function startTimer() {
  if (timerRef.current) return;
  timerRef.current = setInterval(function() {
    countRef.current++;
    document.getElementById("refCount").textContent = countRef.current;
  }, 1000);
}

function stopTimer() {
  if (timerRef.current) {
    clearInterval(timerRef.current);
    timerRef.current = null;
  }
}

function focusInput() {
  document.getElementById("myInput").focus();
}

function render() {
  renderCount++;
  let output = "<h3>useRef Examples</h3>";
  
  // 1. DOM Reference
  output += "<h4>1. DOM Reference</h4>";
  output += '<input id="myInput" type="text" placeholder="Click button to focus" style="padding:8px;width:200px" />';
  output += '<button onclick="focusInput()" style="margin-left:10px;padding:8px 16px">Focus Input</button>';
  
  // 2. Mutable Value (no re-render)
  output += "<h4>2. Mutable Value (no re-render)</h4>";
  output += '<p>Timer count: <strong id="refCount">' + countRef.current + '</strong></p>';
  output += '<p style="color:#666;font-size:12px">Updating ref doesn\\'t trigger re-render!</p>';
  output += '<button onclick="startTimer()" style="padding:8px 16px;margin-right:10px">Start</button>';
  output += '<button onclick="stopTimer()" style="padding:8px 16px">Stop</button>';
  
  // 3. Render count
  output += "<h4>3. Component Render Count</h4>";
  output += '<p>This component rendered <strong>' + renderCount + '</strong> times</p>';
  output += '<button onclick="render()" style="padding:8px 16px">Force Re-render</button>';
  
  // Comparison
  output += "<h4>4. Ref vs State</h4>";
  output += '<table border="1" style="border-collapse:collapse;width:100%">';
  output += '<tr><th style="padding:8px">useRef</th><th style="padding:8px">useState</th></tr>';
  output += '<tr><td style="padding:8px">No re-render on change</td><td style="padding:8px">Triggers re-render</td></tr>';
  output += '<tr><td style="padding:8px">.current is mutable</td><td style="padding:8px">Immutable update</td></tr>';
  output += '<tr><td style="padding:8px">DOM refs, timers</td><td style="padding:8px">UI state</td></tr>';
  output += '</table>';
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },
    usereducer: {
      title: 'React useReducer',
      content: `## useReducer Hook

Manage complex state with reducer pattern.

### Basic Usage

\`\`\`jsx
import { useReducer } from 'react';

const initialState = { count: 0 };

function reducer(state, action) {
  switch (action.type) {
    case 'increment':
      return { count: state.count + 1 };
    case 'decrement':
      return { count: state.count - 1 };
    case 'reset':
      return initialState;
    default:
      throw new Error('Unknown action');
  }
}

function Counter() {
  const [state, dispatch] = useReducer(reducer, initialState);

  return (
    <>
      Count: {state.count}
      <button onClick={() => dispatch({ type: 'increment' })}>+</button>
      <button onClick={() => dispatch({ type: 'decrement' })}>-</button>
      <button onClick={() => dispatch({ type: 'reset' })}>Reset</button>
    </>
  );
}
\`\`\`

### With Payload

\`\`\`jsx
function reducer(state, action) {
  switch (action.type) {
    case 'SET_NAME':
      return { ...state, name: action.payload };
    case 'SET_AGE':
      return { ...state, age: action.payload };
    case 'SET_USER':
      return { ...state, ...action.payload };
    default:
      return state;
  }
}

dispatch({ type: 'SET_NAME', payload: 'Alice' });
dispatch({ type: 'SET_USER', payload: { name: 'Bob', age: 25 } });
\`\`\`

### When to Use

| useState | useReducer |
|----------|------------|
| Simple values | Complex objects |
| Independent updates | Related updates |
| Few state variables | Many state variables |
| Simple logic | Complex logic |

### With Context

\`\`\`jsx
const StateContext = createContext();
const DispatchContext = createContext();

function Provider({ children }) {
  const [state, dispatch] = useReducer(reducer, initialState);
  return (
    <StateContext.Provider value={state}>
      <DispatchContext.Provider value={dispatch}>
        {children}
      </DispatchContext.Provider>
    </StateContext.Provider>
  );
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>useReducer Hook</h2>
<div id="demo"></div>

<script>
// Initial state
let state = {
  count: 0,
  todos: [
    { id: 1, text: "Learn React", done: false },
    { id: 2, text: "Build a project", done: false }
  ]
};

// Reducer function
function reducer(state, action) {
  switch (action.type) {
    case 'INCREMENT':
      return { ...state, count: state.count + 1 };
    case 'DECREMENT':
      return { ...state, count: state.count - 1 };
    case 'RESET':
      return { ...state, count: 0 };
    case 'ADD_TODO':
      return {
        ...state,
        todos: [...state.todos, { id: Date.now(), text: action.payload, done: false }]
      };
    case 'TOGGLE_TODO':
      return {
        ...state,
        todos: state.todos.map(t => t.id === action.payload ? { ...t, done: !t.done } : t)
      };
    case 'REMOVE_TODO':
      return {
        ...state,
        todos: state.todos.filter(t => t.id !== action.payload)
      };
    default:
      return state;
  }
}

function dispatch(action) {
  state = reducer(state, action);
  render();
}

function addTodo() {
  let text = document.getElementById("todoInput").value;
  if (text.trim()) {
    dispatch({ type: 'ADD_TODO', payload: text });
    document.getElementById("todoInput").value = "";
  }
}

function render() {
  let output = "<h3>useReducer Examples</h3>";
  
  // Counter
  output += "<h4>1. Counter with Reducer</h4>";
  output += '<p>Count: <strong>' + state.count + '</strong></p>';
  output += '<button onclick="dispatch({type:\\'INCREMENT\\'})" style="padding:8px 16px;margin:2px">+</button>';
  output += '<button onclick="dispatch({type:\\'DECREMENT\\'})" style="padding:8px 16px;margin:2px">-</button>';
  output += '<button onclick="dispatch({type:\\'RESET\\'})" style="padding:8px 16px;margin:2px">Reset</button>';
  
  // Todos
  output += "<h4>2. Todo List with Reducer</h4>";
  output += '<input id="todoInput" placeholder="New todo..." style="padding:8px;width:200px" />';
  output += '<button onclick="addTodo()" style="padding:8px 16px;margin-left:10px">Add</button>';
  output += '<ul style="list-style:none;padding:0">';
  state.todos.forEach(function(todo) {
    let style = todo.done ? "text-decoration:line-through;color:#888" : "";
    output += '<li style="padding:8px;border-bottom:1px solid #eee;' + style + '">';
    output += '<input type="checkbox" ' + (todo.done ? 'checked' : '') + ' onchange="dispatch({type:\\'TOGGLE_TODO\\',payload:' + todo.id + '})" /> ';
    output += todo.text;
    output += '<button onclick="dispatch({type:\\'REMOVE_TODO\\',payload:' + todo.id + '})" style="float:right;background:#dc3545;color:white;border:none;padding:2px 8px;border-radius:4px"></button>';
    output += '</li>';
  });
  output += '</ul>';
  
  // Reducer code
  output += "<h4>3. Reducer Pattern</h4>";
  output += '<pre style="background:#282c34;color:#61dafb;padding:10px;border-radius:4px;font-size:11px;overflow-x:auto">';
  output += 'function reducer(state, action) {\\n';
  output += '  switch (action.type) {\\n';
  output += '    case "INCREMENT": return { count: state.count + 1 };\\n';
  output += '    case "ADD_TODO": return { ...state, todos: [...] };\\n';
  output += '    default: return state;\\n';
  output += '  }\\n';
  output += '}';
  output += '</pre>';
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },
    usecallback: {
      title: 'React useCallback',
      content: `## useCallback Hook

Memoize functions to prevent unnecessary re-renders.

### The Problem

\`\`\`jsx
function Parent() {
  const [count, setCount] = useState(0);
  
  // New function created every render!
  const handleClick = () => {
    console.log('clicked');
  };
  
  return <Child onClick={handleClick} />;
}
\`\`\`

### The Solution

\`\`\`jsx
import { useCallback } from 'react';

function Parent() {
  const [count, setCount] = useState(0);
  
  // Same function reference unless dependencies change
  const handleClick = useCallback(() => {
    console.log('clicked');
  }, []);
  
  return <Child onClick={handleClick} />;
}
\`\`\`

### With Dependencies

\`\`\`jsx
function SearchBox({ onSearch }) {
  const [query, setQuery] = useState('');
  
  const handleSearch = useCallback(() => {
    onSearch(query);
  }, [query, onSearch]);
  
  return (
    <>
      <input value={query} onChange={e => setQuery(e.target.value)} />
      <button onClick={handleSearch}>Search</button>
    </>
  );
}
\`\`\`

### When to Use

 **Use when:**
- Passing callbacks to memoized children
- Callback is a dependency of useEffect
- Performance optimization needed

 **Don't use when:**
- Simple components
- No memoized children
- Premature optimization

### With React.memo

\`\`\`jsx
const ExpensiveChild = React.memo(({ onClick }) => {
  console.log('Child rendered');
  return <button onClick={onClick}>Click</button>;
});

function Parent() {
  const handleClick = useCallback(() => {
    console.log('clicked');
  }, []);
  
  return <ExpensiveChild onClick={handleClick} />;
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>useCallback Hook</h2>
<div id="demo"></div>

<script>
let renderCounts = {
  parent: 0,
  childWithoutCallback: 0,
  childWithCallback: 0
};

// Simulating function identity
let cachedCallback = null;

function withoutCallback() {
  // New function every time
  return function() { console.log("clicked"); };
}

function withCallback(deps) {
  // Same function if deps haven't changed
  if (!cachedCallback) {
    cachedCallback = function() { console.log("clicked"); };
  }
  return cachedCallback;
}

function simulateParentRender() {
  renderCounts.parent++;
  
  // Without useCallback - new function, child re-renders
  renderCounts.childWithoutCallback++;
  
  // With useCallback - same function, child skips render (if memoized)
  // childWithCallback only re-renders if callback actually changed
  
  render();
}

function simulateCallbackChange() {
  cachedCallback = function() { console.log("NEW callback"); };
  renderCounts.childWithCallback++;
  render();
}

function render() {
  let output = "<h3>useCallback Concept</h3>";
  
  // Problem
  output += "<h4>1. The Problem</h4>";
  output += '<div style="background:#fff5f5;padding:15px;border-radius:4px">';
  output += '<p>Without useCallback, a new function is created every render:</p>';
  output += '<pre style="font-size:12px">const handleClick = () => { ... }  // NEW every time!</pre>';
  output += '<p>This breaks React.memo optimization.</p>';
  output += '</div>';
  
  // Solution
  output += "<h4>2. The Solution</h4>";
  output += '<div style="background:#f5fff5;padding:15px;border-radius:4px">';
  output += '<pre style="font-size:12px">const handleClick = useCallback(() => {\\n  ...\\n}, [dependencies]);</pre>';
  output += '<p>Same function reference until dependencies change!</p>';
  output += '</div>';
  
  // Demo
  output += "<h4>3. Render Demo</h4>";
  output += '<button onclick="simulateParentRender()" style="padding:10px 20px;margin:5px">Parent Re-render</button>';
  output += '<button onclick="simulateCallbackChange()" style="padding:10px 20px;margin:5px">Change Callback</button>';
  
  output += '<table border="1" style="border-collapse:collapse;width:100%;margin-top:10px">';
  output += '<tr><th style="padding:8px">Component</th><th style="padding:8px">Render Count</th></tr>';
  output += '<tr><td style="padding:8px">Parent</td><td style="padding:8px">' + renderCounts.parent + '</td></tr>';
  output += '<tr><td style="padding:8px;color:#dc3545">Child (no useCallback)</td><td style="padding:8px">' + renderCounts.childWithoutCallback + ' </td></tr>';
  output += '<tr><td style="padding:8px;color:#28a745">Child (with useCallback + memo)</td><td style="padding:8px">' + renderCounts.childWithCallback + ' </td></tr>';
  output += '</table>';
  
  // When to use
  output += "<h4>4. When to Use</h4>";
  output += '<ul>';
  output += '<li> Passing callbacks to React.memo children</li>';
  output += '<li> Callback is useEffect dependency</li>';
  output += '<li> Premature optimization</li>';
  output += '</ul>';
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },
    usememo: {
      title: 'React useMemo',
      content: `## useMemo Hook

Memoize expensive computations.

### Basic Usage

\`\`\`jsx
import { useMemo } from 'react';

function ExpensiveList({ items, filter }) {
  // Only recalculates when items or filter change
  const filteredItems = useMemo(() => {
    return items.filter(item => item.name.includes(filter));
  }, [items, filter]);
  
  return (
    <ul>
      {filteredItems.map(item => (
        <li key={item.id}>{item.name}</li>
      ))}
    </ul>
  );
}
\`\`\`

### Expensive Computation

\`\`\`jsx
function Fibonacci({ n }) {
  const result = useMemo(() => {
    // Expensive calculation
    function fib(n) {
      if (n <= 1) return n;
      return fib(n - 1) + fib(n - 2);
    }
    return fib(n);
  }, [n]);
  
  return <span>Fibonacci({n}) = {result}</span>;
}
\`\`\`

### Object/Array Stability

\`\`\`jsx
function Component({ items }) {
  // Without useMemo - new array every render
  const sortedItems = items.sort((a, b) => a - b);
  
  // With useMemo - stable reference
  const sortedItems = useMemo(() => {
    return [...items].sort((a, b) => a - b);
  }, [items]);
  
  return <Child items={sortedItems} />;
}
\`\`\`

### useMemo vs useCallback

\`\`\`jsx
// useMemo - memoizes a VALUE
const memoizedValue = useMemo(() => computeValue(a, b), [a, b]);

// useCallback - memoizes a FUNCTION
const memoizedFn = useCallback(() => doSomething(a, b), [a, b]);

// These are equivalent:
useCallback(fn, deps)
useMemo(() => fn, deps)
\`\`\`

### When to Use

 **Use when:**
- Expensive calculations
- Referential equality for deps
- Preventing child re-renders

 **Don't use when:**
- Simple calculations
- Premature optimization
- No performance issue`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>useMemo Hook</h2>
<div id="demo"></div>

<script>
let cache = {};
let computeCount = 0;

// Expensive computation (simulated)
function expensiveSort(items) {
  computeCount++;
  // Simulate expensive operation
  let result = [...items].sort((a, b) => a.value - b.value);
  return result;
}

// Memoized version
function memoizedSort(items, cacheKey) {
  if (!cache[cacheKey]) {
    cache[cacheKey] = expensiveSort(items);
  }
  return cache[cacheKey];
}

let items = [
  { id: 1, name: "Zebra", value: 26 },
  { id: 2, name: "Apple", value: 1 },
  { id: 3, name: "Mango", value: 13 }
];

let filter = "";

function updateFilter(value) {
  filter = value;
  render();
}

function addItem() {
  items.push({ id: Date.now(), name: "Item " + items.length, value: Math.floor(Math.random() * 100) });
  cache = {}; // Invalidate cache
  render();
}

function render() {
  computeCount = 0;
  
  let output = "<h3>useMemo Examples</h3>";
  
  // 1. Expensive computation
  output += "<h4>1. Expensive Computation</h4>";
  
  // Without memo
  let sorted1 = expensiveSort(items);
  let sorted2 = expensiveSort(items); // Computes again!
  
  // With memo
  let sorted3 = memoizedSort(items, "list");
  let sorted4 = memoizedSort(items, "list"); // Uses cache!
  
  output += '<p>Without useMemo: computed <strong>' + 2 + '</strong> times</p>';
  output += '<p>With useMemo: computed <strong>1</strong> time (cached)</p>';
  
  // 2. Filtered list
  output += "<h4>2. Filtered List</h4>";
  output += '<input value="' + filter + '" oninput="updateFilter(this.value)" placeholder="Filter..." style="padding:8px;width:200px" />';
  
  let filtered = items.filter(i => i.name.toLowerCase().includes(filter.toLowerCase()));
  output += '<ul>';
  filtered.forEach(function(item) {
    output += '<li>' + item.name + ' (value: ' + item.value + ')</li>';
  });
  output += '</ul>';
  output += '<button onclick="addItem()" style="padding:8px 16px">Add Random Item</button>';
  
  // 3. Comparison
  output += "<h4>3. useMemo vs useCallback</h4>";
  output += '<table border="1" style="border-collapse:collapse;width:100%">';
  output += '<tr><th style="padding:8px">useMemo</th><th style="padding:8px">useCallback</th></tr>';
  output += '<tr><td style="padding:8px">Memoizes VALUE</td><td style="padding:8px">Memoizes FUNCTION</td></tr>';
  output += '<tr><td style="padding:8px">For expensive calculations</td><td style="padding:8px">For event handlers</td></tr>';
  output += '<tr><td style="padding:8px">Returns computed result</td><td style="padding:8px">Returns function reference</td></tr>';
  output += '</table>';
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },
    'custom-hooks': {
      title: 'Custom Hooks',
      content: `## Custom Hooks

Extract reusable logic into custom hooks.

### Basic Pattern

\`\`\`jsx
// Custom hook - must start with "use"
function useCounter(initialValue = 0) {
  const [count, setCount] = useState(initialValue);
  
  const increment = () => setCount(c => c + 1);
  const decrement = () => setCount(c => c - 1);
  const reset = () => setCount(initialValue);
  
  return { count, increment, decrement, reset };
}

// Usage
function Counter() {
  const { count, increment, decrement, reset } = useCounter(10);
  
  return (
    <>
      <span>{count}</span>
      <button onClick={increment}>+</button>
      <button onClick={decrement}>-</button>
      <button onClick={reset}>Reset</button>
    </>
  );
}
\`\`\`

### useLocalStorage

\`\`\`jsx
function useLocalStorage(key, initialValue) {
  const [value, setValue] = useState(() => {
    const stored = localStorage.getItem(key);
    return stored ? JSON.parse(stored) : initialValue;
  });
  
  useEffect(() => {
    localStorage.setItem(key, JSON.stringify(value));
  }, [key, value]);
  
  return [value, setValue];
}

// Usage
const [theme, setTheme] = useLocalStorage('theme', 'light');
\`\`\`

### useFetch

\`\`\`jsx
function useFetch(url) {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  
  useEffect(() => {
    let cancelled = false;
    
    async function fetchData() {
      try {
        setLoading(true);
        const response = await fetch(url);
        const json = await response.json();
        if (!cancelled) setData(json);
      } catch (err) {
        if (!cancelled) setError(err);
      } finally {
        if (!cancelled) setLoading(false);
      }
    }
    
    fetchData();
    return () => { cancelled = true; };
  }, [url]);
  
  return { data, loading, error };
}
\`\`\`

### Hook Composition

\`\`\`jsx
// Compose hooks together
function useAuth() {
  const [user, setUser] = useLocalStorage('user', null);
  const { data, loading } = useFetch('/api/me');
  
  return {
    user: user || data,
    isAuthenticated: !!user,
    loading
  };
}
\`\`\`\`,
      tryItCode: \`<!DOCTYPE html>
<html>
<body>

<h2>Custom Hooks</h2>
<div id="demo"></div>

<script>
// Custom Hook: useCounter
function useCounter(initial) {
  let state = { count: initial || 0 };
  return {
    count: state.count,
    increment: function() { state.count++; return state.count; },
    decrement: function() { state.count--; return state.count; },
    reset: function() { state.count = initial || 0; return state.count; }
  };
}

// Custom Hook: useToggle
function useToggle(initial) {
  let state = { value: initial || false };
  return {
    value: state.value,
    toggle: function() { state.value = !state.value; return state.value; },
    setTrue: function() { state.value = true; return state.value; },
    setFalse: function() { state.value = false; return state.value; }
  };
}

// Custom Hook: useLocalStorage (simulated)
function useLocalStorage(key, initial) {
  let stored = localStorage.getItem(key);
  let state = { value: stored ? JSON.parse(stored) : initial };
  return {
    value: state.value,
    setValue: function(v) {
      state.value = v;
      localStorage.setItem(key, JSON.stringify(v));
      return state.value;
    }
  };
}

// Demo instances
let counter = useCounter(0);
let toggle = useToggle(false);
let storage = useLocalStorage('demo_name', 'Guest');

function updateCounter(action) {
  counter[action]();
  render();
}

function updateToggle() {
  toggle.toggle();
  render();
}

function updateStorage(value) {
  storage.setValue(value);
  render();
}

function render() {
  let output = "<h3>Custom Hooks</h3>";
  
  // useCounter
  output += "<h4>1. useCounter</h4>";
  output += '<pre style="background:#f5f5f5;padding:10px;border-radius:4px;font-size:11px">';
  output += 'const { count, increment, decrement } = useCounter(0);';
  output += '</pre>';
  output += '<p>Count: <strong>' + counter.count + '</strong></p>';
  output += '<button onclick="updateCounter(\\'increment\\')" style="padding:8px 16px;margin:2px">+</button>';
  output += '<button onclick="updateCounter(\\'decrement\\')" style="padding:8px 16px;margin:2px">-</button>';
  output += '<button onclick="updateCounter(\\'reset\\')" style="padding:8px 16px;margin:2px">Reset</button>';
  
  // useToggle
  output += "<h4>2. useToggle</h4>";
  output += '<pre style="background:#f5f5f5;padding:10px;border-radius:4px;font-size:11px">';
  output += 'const { value, toggle } = useToggle(false);';
  output += '</pre>';
  output += '<p>Value: <strong>' + (toggle.value ? 'ON' : 'OFF') + '</strong></p>';
  output += '<button onclick="updateToggle()" style="padding:8px 16px;background:' + (toggle.value ? '#28a745' : '#dc3545') + ';color:white;border:none;border-radius:4px">Toggle</button>';
  
  // useLocalStorage
  output += "<h4>3. useLocalStorage</h4>";
  output += '<pre style="background:#f5f5f5;padding:10px;border-radius:4px;font-size:11px">';
  output += 'const [name, setName] = useLocalStorage("user", "Guest");';
  output += '</pre>';
  output += '<input value="' + storage.value + '" oninput="updateStorage(this.value)" style="padding:8px" />';
  output += '<p>Stored: <strong>' + storage.value + '</strong> (persists on refresh!)</p>';
  
  // Benefits
  output += "<h4>4. Why Custom Hooks?</h4>";
  output += '<ul>';
  output += '<li> Reusable logic across components</li>';
  output += '<li> Clean, testable code</li>';
  output += '<li> Compose multiple hooks together</li>';
  output += '<li> Share stateful logic without render props</li>';
  output += '</ul>';
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },

    // PHASE 8  ADVANCED PATTERNS
    'forward-ref': {
      title: 'Forward Ref',
      content: `## forwardRef

Pass refs through components to DOM elements.

### The Problem

\`\`\`jsx
// This doesn't work!
function Input(props) {
  return <input {...props} />;
}

function Parent() {
  const inputRef = useRef();
  return <Input ref={inputRef} />; //  ref doesn't reach <input>
}
\`\`\`

### The Solution

\`\`\`jsx
import { forwardRef } from 'react';

const Input = forwardRef((props, ref) => {
  return <input ref={ref} {...props} />;
});

function Parent() {
  const inputRef = useRef();
  return <Input ref={inputRef} />; //  ref reaches <input>
}
\`\`\`

### With useImperativeHandle

\`\`\`jsx
const FancyInput = forwardRef((props, ref) => {
  const inputRef = useRef();
  
  useImperativeHandle(ref, () => ({
    focus: () => inputRef.current.focus(),
    clear: () => { inputRef.current.value = ''; }
  }));
  
  return <input ref={inputRef} {...props} />;
});

// Usage
function Parent() {
  const inputRef = useRef();
  
  return (
    <>
      <FancyInput ref={inputRef} />
      <button onClick={() => inputRef.current.focus()}>Focus</button>
      <button onClick={() => inputRef.current.clear()}>Clear</button>
    </>
  );
}
\`\`\`

### Common Use Cases

- Input components that need focus control
- Modal components with open/close methods
- Component libraries
- Third-party library integration`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>forwardRef</h2>
<div id="demo"></div>

<script>
function render() {
  let output = "<h3>forwardRef Pattern</h3>";
  
  // Problem
  output += "<h4>1. The Problem</h4>";
  output += '<div style="background:#fff5f5;padding:15px;border-radius:4px">';
  output += '<pre style="font-size:12px">';
  output += '// ref prop doesn\\'t pass through!\\n';
  output += 'function Input(props) {\\n';
  output += '  return &lt;input {...props} /&gt;;\\n';
  output += '}\\n\\n';
  output += '&lt;Input ref={myRef} /&gt;  //  Doesn\\'t work!';
  output += '</pre>';
  output += '</div>';
  
  // Solution
  output += "<h4>2. The Solution</h4>";
  output += '<div style="background:#f5fff5;padding:15px;border-radius:4px">';
  output += '<pre style="font-size:12px">';
  output += 'const Input = forwardRef((props, ref) => {\\n';
  output += '  return &lt;input ref={ref} {...props} /&gt;;\\n';
  output += '});\\n\\n';
  output += '&lt;Input ref={myRef} /&gt;  //  Works!';
  output += '</pre>';
  output += '</div>';
  
  // Demo
  output += "<h4>3. Demo</h4>";
  output += '<input id="demoInput" type="text" placeholder="Click buttons below" style="padding:10px;width:200px" />';
  output += '<div style="margin-top:10px">';
  output += '<button onclick="document.getElementById(\\'demoInput\\').focus()" style="padding:8px 16px;margin:2px">Focus</button>';
  output += '<button onclick="document.getElementById(\\'demoInput\\').value = \\'\\'" style="padding:8px 16px;margin:2px">Clear</button>';
  output += '<button onclick="document.getElementById(\\'demoInput\\').select()" style="padding:8px 16px;margin:2px">Select All</button>';
  output += '</div>';
  
  // useImperativeHandle
  output += "<h4>4. useImperativeHandle</h4>";
  output += '<pre style="background:#f5f5f5;padding:10px;border-radius:4px;font-size:11px">';
  output += 'useImperativeHandle(ref, () => ({\\n';
  output += '  focus: () => inputRef.current.focus(),\\n';
  output += '  clear: () => inputRef.current.value = ""\\n';
  output += '}));';
  output += '</pre>';
  output += '<p>Expose custom methods instead of entire DOM node!</p>';
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },
    hoc: {
      title: 'React HOC',
      content: `## Higher-Order Components (HOC)

A pattern for reusing component logic.

### What is an HOC?

A function that takes a component and returns a new enhanced component.

\`\`\`jsx
// HOC definition
function withLoading(WrappedComponent) {
  return function WithLoading({ isLoading, ...props }) {
    if (isLoading) return <Spinner />;
    return <WrappedComponent {...props} />;
  };
}

// Usage
const UserListWithLoading = withLoading(UserList);

<UserListWithLoading isLoading={loading} users={users} />
\`\`\`

### Authentication HOC

\`\`\`jsx
function withAuth(WrappedComponent) {
  return function WithAuth(props) {
    const { isAuthenticated } = useAuth();
    
    if (!isAuthenticated) {
      return <Navigate to="/login" />;
    }
    
    return <WrappedComponent {...props} />;
  };
}

const ProtectedDashboard = withAuth(Dashboard);
\`\`\`

### Data Fetching HOC

\`\`\`jsx
function withData(WrappedComponent, fetchFn) {
  return function WithData(props) {
    const [data, setData] = useState(null);
    const [loading, setLoading] = useState(true);
    
    useEffect(() => {
      fetchFn().then(data => {
        setData(data);
        setLoading(false);
      });
    }, []);
    
    if (loading) return <Loading />;
    return <WrappedComponent data={data} {...props} />;
  };
}
\`\`\`

### HOCs vs Hooks

Modern React prefers **hooks** over HOCs:

| HOC | Hooks |
|-----|-------|
| Wrapper components | No wrapper |
| Props namespace pollution | Clean destructuring |
| Hard to trace | Easy to trace |
| Static composition | Dynamic |

**HOCs are still useful for:**
- Reading legacy code
- Some cross-cutting concerns
- Third-party library patterns`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Higher-Order Components</h2>
<div id="demo"></div>

<script>
// Base component
function UserList(props) {
  return '<ul>' + props.users.map(u => '<li>' + u.name + '</li>').join('') + '</ul>';
}

// HOC: withLoading
function withLoading(WrappedComponent) {
  return function WithLoading(props) {
    if (props.isLoading) {
      return '<div style="color:#666"> Loading...</div>';
    }
    return WrappedComponent(props);
  };
}

// HOC: withAuth
function withAuth(WrappedComponent) {
  return function WithAuth(props) {
    if (!props.isAuthenticated) {
      return '<div style="color:#dc3545"> Please login to view</div>';
    }
    return WrappedComponent(props);
  };
}

// Enhanced component
let UserListWithLoading = withLoading(UserList);
let ProtectedUserList = withAuth(withLoading(UserList));

let state = {
  isLoading: false,
  isAuthenticated: true,
  users: [
    { name: "Alice" },
    { name: "Bob" },
    { name: "Charlie" }
  ]
};

function toggleLoading() {
  state.isLoading = !state.isLoading;
  render();
}

function toggleAuth() {
  state.isAuthenticated = !state.isAuthenticated;
  render();
}

function render() {
  let output = "<h3>HOC Pattern</h3>";
  
  // Definition
  output += "<h4>1. HOC Definition</h4>";
  output += '<pre style="background:#f5f5f5;padding:10px;border-radius:4px;font-size:11px">';
  output += 'function withLoading(WrappedComponent) {\\n';
  output += '  return function WithLoading(props) {\\n';
  output += '    if (props.isLoading) return &lt;Spinner /&gt;;\\n';
  output += '    return &lt;WrappedComponent {...props} /&gt;;\\n';
  output += '  };\\n';
  output += '}';
  output += '</pre>';
  
  // Demo
  output += "<h4>2. Demo</h4>";
  output += '<div style="display:flex;gap:10px;margin-bottom:10px">';
  output += '<button onclick="toggleLoading()" style="padding:8px 16px">Toggle Loading: ' + (state.isLoading ? 'ON' : 'OFF') + '</button>';
  output += '<button onclick="toggleAuth()" style="padding:8px 16px">Toggle Auth: ' + (state.isAuthenticated ? 'ON' : 'OFF') + '</button>';
  output += '</div>';
  
  output += '<div style="background:#f9f9f9;padding:15px;border-radius:4px">';
  output += '<strong>ProtectedUserList (withAuth + withLoading):</strong><br>';
  output += ProtectedUserList({ ...state });
  output += '</div>';
  
  // HOC vs Hooks
  output += "<h4>3. HOC vs Hooks</h4>";
  output += '<table border="1" style="border-collapse:collapse;width:100%">';
  output += '<tr><th style="padding:8px">HOC (Legacy)</th><th style="padding:8px">Hooks (Modern)</th></tr>';
  output += '<tr><td style="padding:8px">Wrapper hell</td><td style="padding:8px">Flat structure</td></tr>';
  output += '<tr><td style="padding:8px">Props collision</td><td style="padding:8px">Clean names</td></tr>';
  output += '<tr><td style="padding:8px">Hard to debug</td><td style="padding:8px">Easy to trace</td></tr>';
  output += '</table>';
  output += '<p style="color:#666;font-size:12px">HOCs are still found in legacy code and some libraries.</p>';
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },
    'best-practices': {
      title: 'Best Practices',
      content: `## React Best Practices

Professional patterns for production code.

### Component Organization

\`\`\`
src/
 components/       # Shared/reusable components
    Button/
       Button.tsx
       Button.test.tsx
       index.ts
 features/         # Feature-based organization
    auth/
    dashboard/
    users/
 hooks/            # Custom hooks
 utils/            # Helper functions
 types/            # TypeScript types
 App.tsx
\`\`\`

### Component Patterns

\`\`\`jsx
//  Single responsibility
function UserCard({ user }) {
  return (
    <Card>
      <UserAvatar user={user} />
      <UserInfo user={user} />
      <UserActions user={user} />
    </Card>
  );
}

//  Prop interface first
interface ButtonProps {
  variant: 'primary' | 'secondary';
  size?: 'sm' | 'md' | 'lg';
  disabled?: boolean;
  onClick?: () => void;
  children: React.ReactNode;
}
\`\`\`

### State Management

1. **Start with local state**
2. Lift state only when needed
3. Use context for truly global state
4. Consider external library only for complex apps

### Performance Tips

\`\`\`jsx
//  Lazy load routes
const Dashboard = lazy(() => import('./Dashboard'));

//  Memoize expensive components
const ExpensiveList = React.memo(({ items }) => ...);

//  Use keys correctly
{items.map(item => <Item key={item.id} />)}
\`\`\`

### Error Boundaries

\`\`\`jsx
class ErrorBoundary extends Component {
  state = { hasError: false };
  
  static getDerivedStateFromError() {
    return { hasError: true };
  }
  
  render() {
    if (this.state.hasError) {
      return <ErrorFallback />;
    }
    return this.props.children;
  }
}
\`\`\`

### Security

- Never use dangerouslySetInnerHTML with user input
- Validate all form inputs
- Use HTTPS for API calls
- Store tokens securely`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>React Best Practices</h2>
<div id="demo"></div>

<script>
function render() {
  let output = "<h3>Production Best Practices</h3>";
  
  // 1. File Structure
  output += "<h4>1. Feature-Based Structure</h4>";
  output += '<pre style="background:#f5f5f5;padding:15px;border-radius:4px;font-size:12px">';
  output += 'src/\\n';
  output += ' components/     # Shared components\\n';
  output += ' features/       # Feature modules\\n';
  output += '    auth/\\n';
  output += '    dashboard/\\n';
  output += '    users/\\n';
  output += ' hooks/          # Custom hooks\\n';
  output += ' utils/          # Helpers\\n';
  output += ' App.tsx';
  output += '</pre>';
  
  // 2. Component patterns
  output += "<h4>2. Component Patterns</h4>";
  output += '<div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">';
  
  output += '<div style="background:#f5fff5;padding:10px;border-radius:4px">';
  output += '<strong> Good</strong>';
  output += '<ul style="font-size:13px;margin:5px 0">';
  output += '<li>Single responsibility</li>';
  output += '<li>Props interface first</li>';
  output += '<li>Extract hooks</li>';
  output += '<li>Composition over inheritance</li>';
  output += '</ul>';
  output += '</div>';
  
  output += '<div style="background:#fff5f5;padding:10px;border-radius:4px">';
  output += '<strong> Avoid</strong>';
  output += '<ul style="font-size:13px;margin:5px 0">';
  output += '<li>Giant components</li>';
  output += '<li>Inline complex logic</li>';
  output += '<li>Props drilling deep</li>';
  output += '<li>Prop mutation</li>';
  output += '</ul>';
  output += '</div>';
  
  output += '</div>';
  
  // 3. Performance
  output += "<h4>3. Performance Checklist</h4>";
  output += '<ul>';
  output += '<li> Lazy load routes</li>';
  output += '<li> Memoize expensive components</li>';
  output += '<li> Use correct keys in lists</li>';
  output += '<li> Avoid inline function in render</li>';
  output += '<li> useCallback for callback props</li>';
  output += '</ul>';
  
  // 4. State management
  output += "<h4>4. State Strategy</h4>";
  output += '<div style="background:#e8f4fc;padding:15px;border-radius:4px">';
  output += '<ol style="margin:0;padding-left:20px">';
  output += '<li>Start with <strong>useState</strong></li>';
  output += '<li>Lift state when sharing</li>';
  output += '<li>Use <strong>Context</strong> for global</li>';
  output += '<li>External lib (Redux/Zustand) only if complex</li>';
  output += '</ol>';
  output += '</div>';
  
  // 5. Security
  output += "<h4>5. Security Rules</h4>";
  output += '<ul>';
  output += '<li> Never use dangerouslySetInnerHTML with user data</li>';
  output += '<li> Validate all inputs</li>';
  output += '<li> Use HTTPS for APIs</li>';
  output += '<li> Store tokens securely</li>';
  output += '</ul>';
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },
  };

  return reactLessons[lessonSlug] || {
    title: 'Coming Soon',
    content: '## This lesson is coming soon!\n\nCheck back later for this content.',
    tryItCode: '<!-- Coming soon -->',
  };
};

// ============================================
// ANGULAR LESSON CONTENT GENERATOR
// ============================================
const generateAngularLessonContent = (lessonSlug: string) => {
  const angularLessons: Record<string, { title: string; content: string; tryItCode: string }> = {
    // PHASE 0  FOUNDATION
    home: {
      title: 'Angular HOME',
      content: `# Welcome to Angular

Angular is the enterprise-grade framework for building scalable web applications.

### What You'll Learn

- **Enterprise Architecture**: Design scalable module boundaries
- **TypeScript Mastery**: Leverage types for maintainable code
- **Dependency Injection**: Professional service patterns
- **Reactive Programming**: RxJS and Observables
- **State Management**: From services to NgRx
- **Performance**: Change detection optimization
- **Security**: XSS protection and secure APIs

### Why Angular?

- Used by Google, Microsoft, Forbes, and major enterprises
- Opinionated framework = consistent codebases
- Built-in tools: CLI, testing, routing, forms
- Long-term support (LTS) for production stability
- Excellent for large teams and long-lived projects

### Course Structure

1. **Foundation**  CLI, project structure, first app
2. **Core Building Blocks**  Components, templates, directives
3. **Forms**  Template-driven and reactive forms
4. **Routing**  Navigation, guards, lazy loading
5. **Services & DI**  Dependency injection patterns
6. **Lifecycle & UI**  Hooks, pipes, styling
7. **Performance**  Change detection, signals
8. **Advanced**  Dynamic components, state management
9. **Quality**  Testing, security, SSR
10. **Enterprise**  Case studies and best practices

### Prerequisites

- HTML, CSS fundamentals
- TypeScript (strongly recommended)
- JavaScript ES6+ features
- Command line basics

Let's build enterprise-grade Angular applications! 
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Welcome to Angular!</h2>
<div id="demo"></div>

<script>
// Angular is a TypeScript framework
// This example shows Angular concepts in plain JS

let angularInfo = {
  name: "Angular",
  creator: "Google",
  type: "Enterprise Framework",
  language: "TypeScript",
  released: 2016,
  version: "17+"
};

let features = [
  "Component-Based Architecture",
  "Dependency Injection",
  "RxJS Observables",
  "TypeScript Support",
  "CLI Tools",
  "Two-Way Data Binding"
];

let output = "<h3>Angular Overview</h3>";
output += "<p><strong>Name:</strong> " + angularInfo.name + "</p>";
output += "<p><strong>Created by:</strong> " + angularInfo.creator + "</p>";
output += "<p><strong>Type:</strong> " + angularInfo.type + "</p>";
output += "<p><strong>Language:</strong> " + angularInfo.language + "</p>";
output += "<p><strong>Released:</strong> " + angularInfo.released + "</p>";

output += "<h3>Key Features</h3><ul>";
features.forEach(function(f) {
  output += "<li>" + f + "</li>";
});
output += "</ul>";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },

    intro: {
      title: 'Angular Intro',
      content: `# Why Angular Exists

Angular is Google's enterprise framework for building web applications at scale.

### Angular vs React vs Vue

| Aspect | Angular | React | Vue |
|--------|---------|-------|-----|
| Type | Full Framework | Library | Progressive Framework |
| Language | TypeScript | JavaScript | JavaScript |
| Learning Curve | Steeper | Moderate | Gentle |
| Structure | Opinionated | Flexible | Balanced |
| Best For | Enterprise | Startups | All sizes |
| DI | Built-in | None | None |
| CLI | Powerful | Create-React-App | Vue CLI |

### Opinionated Framework vs Library

**Framework (Angular)**:
- Provides complete solution
- Enforces patterns
- Consistent codebase
- Less decision fatigue

**Library (React)**:
- Minimal core
- Choose your tools
- Flexible but fragmented
- More decisions needed

### Angular's Enterprise Strengths

1. **Structure**: Modules, services, components organized
2. **Testability**: DI makes mocking trivial
3. **Scalability**: Built for large teams
4. **Long-Term Support**: Predictable upgrade path
5. **Tooling**: CLI handles complexity

### Why Angular Lives Long in Production

- **Consistency**: Same patterns across projects
- **Hiring**: Standard skills transfer
- **Maintenance**: Clear architecture
- **Google Backing**: Regular updates
- **Enterprise Trust**: Used by banks, healthcare

### When to Choose Angular

 Large enterprise applications
 Teams with TypeScript experience
 Long-term maintainable projects
 Complex forms and workflows
 Strict coding standards required

### When NOT to Choose Angular

 Small, simple websites
 Quick prototypes
 Teams avoiding TypeScript
 Micro-frontends (consider alternatives)
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Angular vs Other Frameworks</h2>
<div id="demo"></div>

<script>
// Comparing framework philosophies

let frameworks = {
  angular: {
    type: "Full Framework",
    philosophy: "Batteries included",
    structure: "Highly opinionated",
    bestFor: "Enterprise applications",
    learningCurve: "Steep but rewarding"
  },
  react: {
    type: "UI Library",
    philosophy: "Minimal core, add what you need",
    structure: "Flexible",
    bestFor: "SPAs and dynamic UIs",
    learningCurve: "Moderate"
  },
  vue: {
    type: "Progressive Framework",
    philosophy: "Incrementally adoptable",
    structure: "Balanced",
    bestFor: "All project sizes",
    learningCurve: "Gentle"
  }
};

let output = "<h3>Framework Comparison</h3>";

for (let name in frameworks) {
  let fw = frameworks[name];
  output += "<div style='border:1px solid #ddd;padding:15px;margin:10px 0;border-radius:8px'>";
  output += "<h4 style='color:#DD0031'>" + name.charAt(0).toUpperCase() + name.slice(1) + "</h4>";
  output += "<p><strong>Type:</strong> " + fw.type + "</p>";
  output += "<p><strong>Philosophy:</strong> " + fw.philosophy + "</p>";
  output += "<p><strong>Best For:</strong> " + fw.bestFor + "</p>";
  output += "</div>";
}

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },

    'get-started': {
      title: 'Angular Get Started',
      content: `# Getting Started with Angular

Set up your development environment and create your first Angular project.

### Prerequisites

1. **Node.js** (LTS version 18+)
2. **npm** (comes with Node.js)
3. **Code editor** (VS Code recommended)

### Install Angular CLI

\`\`\`bash
npm install -g @angular/cli
\`\`\`

Verify installation:

\`\`\`bash
ng version
\`\`\`

### Create New Project

\`\`\`bash
ng new my-app
cd my-app
ng serve
\`\`\`

Open http://localhost:4200

### Workspace Structure

\`\`\`
my-app/
 src/
    app/                  # Application code
       app.component.ts  # Root component
       app.module.ts     # Root module
       app.routes.ts     # Routing config
    assets/               # Static assets
    environments/         # Environment configs
    index.html            # Main HTML page
    main.ts               # Entry point
    styles.css            # Global styles
 angular.json              # CLI configuration
 package.json              # Dependencies
 tsconfig.json             # TypeScript config
 README.md
\`\`\`

### Essential CLI Commands

| Command | Purpose |
|---------|---------|
| \`ng new\` | Create new project |
| \`ng serve\` | Start dev server |
| \`ng generate\` | Generate code |
| \`ng build\` | Build for production |
| \`ng test\` | Run unit tests |
| \`ng lint\` | Lint code |

### Generate Components

\`\`\`bash
ng generate component header
ng g c features/dashboard  # Shorthand
\`\`\`

### Versioning & LTS

Angular follows semantic versioning:
- Major releases every 6 months
- LTS support for 18 months
- Predictable upgrade path

Check https://angular.dev for latest version.
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Angular CLI Commands</h2>
<div id="demo"></div>

<script>
// Angular CLI commands reference

let cliCommands = [
  { command: "ng new my-app", description: "Create new Angular project" },
  { command: "ng serve", description: "Start development server" },
  { command: "ng serve --open", description: "Serve and open browser" },
  { command: "ng generate component name", description: "Generate component" },
  { command: "ng g c name", description: "Generate component (shorthand)" },
  { command: "ng generate service name", description: "Generate service" },
  { command: "ng generate module name", description: "Generate module" },
  { command: "ng build", description: "Build for development" },
  { command: "ng build --configuration=production", description: "Production build" },
  { command: "ng test", description: "Run unit tests" },
  { command: "ng e2e", description: "Run end-to-end tests" },
  { command: "ng lint", description: "Lint TypeScript code" },
  { command: "ng update", description: "Update Angular packages" }
];

let output = "<h3>CLI Reference</h3>";
output += "<table border='1' style='border-collapse:collapse;width:100%'>";
output += "<tr style='background:#DD0031;color:white'><th style='padding:10px'>Command</th><th style='padding:10px'>Description</th></tr>";

cliCommands.forEach(function(cmd) {
  output += "<tr>";
  output += "<td style='padding:8px;font-family:monospace;background:#f5f5f5'>" + cmd.command + "</td>";
  output += "<td style='padding:8px'>" + cmd.description + "</td>";
  output += "</tr>";
});

output += "</table>";

output += "<h4 style='margin-top:20px'>Project Structure</h4>";
output += "<pre style='background:#1e1e1e;color:#9cdcfe;padding:15px;border-radius:8px'>";
output += "my-app/\\n";
output += " src/\\n";
output += "    app/              (Your code)\\n";
output += "    assets/           (Static files)\\n";
output += "    main.ts           (Entry point)\\n";
output += " angular.json          (CLI config)\\n";
output += " package.json          (Dependencies)";
output += "</pre>";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },

    'first-app': {
      title: 'Angular First App',
      content: `# Your First Angular Application

Understanding the Angular bootstrapping process.

### The Bootstrap Flow

\`\`\`
main.ts  AppModule  AppComponent  index.html
\`\`\`

### main.ts  Entry Point

\`\`\`typescript
import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';
import { AppModule } from './app/app.module';

platformBrowserDynamic()
  .bootstrapModule(AppModule)
  .catch(err => console.error(err));
\`\`\`

### AppModule  Root Module

\`\`\`typescript
import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { AppComponent } from './app.component';

@NgModule({
  declarations: [AppComponent],
  imports: [BrowserModule],
  providers: [],
  bootstrap: [AppComponent]
})
export class AppModule { }
\`\`\`

### AppComponent  Root Component

\`\`\`typescript
import { Component } from '@angular/core';

@Component({
  selector: 'app-root',
  template: \`
    <h1>{{ title }}</h1>
    <p>Welcome to Angular!</p>
  \`,
  styles: [\`h1 { color: #DD0031; }\`]
})
export class AppComponent {
  title = 'My First App';
}
\`\`\`

### index.html  Host Page

\`\`\`html
<!doctype html>
<html>
<head>
  <title>My App</title>
</head>
<body>
  <app-root></app-root>  <!-- Angular inserts here -->
</body>
</html>
\`\`\`

### Standalone Components (Modern Angular)

Angular 14+ supports standalone components without modules:

\`\`\`typescript
import { Component } from '@angular/core';
import { CommonModule } from '@angular/common';

@Component({
  selector: 'app-root',
  standalone: true,
  imports: [CommonModule],
  template: \`<h1>{{ title }}</h1>\`
})
export class AppComponent {
  title = 'Standalone App';
}
\`\`\`

### Compilation Pipeline

1. **TypeScript**  JavaScript
2. **Templates**  Render functions
3. **Styles**  Scoped CSS
4. **Bundling**  Optimized chunks
5. **Tree-shaking**  Remove unused code
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Angular Bootstrap Flow</h2>
<div id="demo"></div>

<script>
// Simulating Angular's bootstrap process

// Step 1: Entry Point (main.ts)
let bootstrap = {
  step1: {
    name: "main.ts",
    action: "Platform bootstrap",
    code: "platformBrowserDynamic().bootstrapModule(AppModule)"
  },
  step2: {
    name: "AppModule",
    action: "Root module initialization",
    code: "@NgModule({ bootstrap: [AppComponent] })"
  },
  step3: {
    name: "AppComponent",
    action: "Root component rendering",
    code: "@Component({ selector: 'app-root' })"
  },
  step4: {
    name: "index.html",
    action: "DOM insertion",
    code: "<app-root></app-root>"
  }
};

let output = "<h3>Bootstrap Sequence</h3>";
output += "<div style='display:flex;flex-direction:column;gap:10px'>";

let stepNum = 1;
for (let key in bootstrap) {
  let step = bootstrap[key];
  output += "<div style='border-left:4px solid #DD0031;padding:15px;background:#fff5f7'>";
  output += "<strong style='color:#DD0031'>Step " + stepNum + ": " + step.name + "</strong>";
  output += "<p style='margin:5px 0'>" + step.action + "</p>";
  output += "<code style='background:#1e1e1e;color:#9cdcfe;padding:5px 10px;display:block;border-radius:4px'>" + step.code + "</code>";
  output += "</div>";
  stepNum++;
}

output += "</div>";

output += "<h4 style='margin-top:20px'>Result</h4>";
output += "<div style='border:2px dashed #DD0031;padding:20px;text-align:center'>";
output += "<h1 style='color:#DD0031'>My First App</h1>";
output += "<p>Welcome to Angular!</p>";
output += "</div>";

document.getElementById("demo").innerHTML = output;
</script>

</body>
</html>`,
    },

    // PHASE 2  CORE BUILDING BLOCKS
    templates: {
      title: 'Angular Templates',
      content: `# Angular Templates

Templates are the view layer of Angular components.

### Template Syntax Overview

| Syntax | Purpose | Example |
|--------|---------|---------|
| \`{{ }}\` | Interpolation | \`{{ title }}\` |
| \`[property]\` | Property binding | \`[src]="imageUrl"\` |
| \`(event)\` | Event binding | \`(click)="onClick()"\` |
| \`[(ngModel)]\` | Two-way binding | \`[(ngModel)]="name"\` |

### Interpolation

Display component data in templates:

\`\`\`html
<h1>{{ title }}</h1>
<p>{{ user.name }}</p>
<span>{{ 2 + 2 }}</span>
<div>{{ getFullName() }}</div>
\`\`\`

### Property Binding

Bind element properties to component values:

\`\`\`html
<!-- Attribute binding -->
<img [src]="imageUrl" [alt]="imageAlt">

<!-- Class binding -->
<div [class.active]="isActive"></div>

<!-- Style binding -->
<p [style.color]="textColor"></p>

<!-- Disabled state -->
<button [disabled]="isLoading">Submit</button>
\`\`\`

### Event Binding

React to user interactions:

\`\`\`html
<button (click)="onClick()">Click Me</button>
<input (input)="onInput($event)">
<form (submit)="onSubmit($event)">
\`\`\`

### Two-Way Binding

Combine property and event binding:

\`\`\`html
<!-- Requires FormsModule -->
<input [(ngModel)]="username">

<!-- Equivalent to: -->
<input [ngModel]="username" (ngModelChange)="username = $event">
\`\`\`

### Template Reference Variables

Get direct access to elements:

\`\`\`html
<input #nameInput>
<button (click)="greet(nameInput.value)">Greet</button>
\`\`\`

### Safe Navigation Operator

Handle null/undefined safely:

\`\`\`html
<p>{{ user?.address?.city }}</p>
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Angular Template Syntax</h2>
<div id="demo"></div>

<script>
// Simulating Angular template concepts

let component = {
  title: "Welcome to Angular",
  user: { name: "John", email: "john@example.com" },
  imageUrl: "https://angular.io/assets/images/logos/angular/angular.svg",
  isActive: true,
  textColor: "#DD0031",
  count: 0
};

function render() {
  let output = "<h3>Template Examples</h3>";
  
  // Interpolation
  output += "<div style='background:#f5f5f5;padding:15px;margin:10px 0;border-radius:8px'>";
  output += "<h4>Interpolation {{ }}</h4>";
  output += "<p>Title: <strong>" + component.title + "</strong></p>";
  output += "<p>User: " + component.user.name + "</p>";
  output += "<p>Math: {{ 2 + 2 }} = " + (2 + 2) + "</p>";
  output += "</div>";
  
  // Property Binding
  output += "<div style='background:#fff5f7;padding:15px;margin:10px 0;border-radius:8px'>";
  output += "<h4>Property Binding [property]</h4>";
  output += "<img src='" + component.imageUrl + "' alt='Angular' style='height:50px'>";
  output += "<p style='color:" + component.textColor + "'>Text with bound color</p>";
  output += "</div>";
  
  // Event Binding
  output += "<div style='background:#f0fff0;padding:15px;margin:10px 0;border-radius:8px'>";
  output += "<h4>Event Binding (event)</h4>";
  output += "<p>Count: <span id='count'>" + component.count + "</span></p>";
  output += "<button onclick='increment()' style='padding:10px 20px;background:#DD0031;color:white;border:none;border-radius:4px;cursor:pointer'>Click Me</button>";
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

function increment() {
  component.count++;
  document.getElementById("count").textContent = component.count;
}

render();
</script>

</body>
</html>`,
    },

    components: {
      title: 'Angular Components',
      content: `# Angular Components

Components are the building blocks of Angular applications.

### Component Anatomy

\`\`\`typescript
import { Component } from '@angular/core';

@Component({
  selector: 'app-user-card',      // HTML tag name
  templateUrl: './user-card.component.html',
  styleUrls: ['./user-card.component.css']
})
export class UserCardComponent {
  // Properties
  name = 'John Doe';
  isActive = true;
  
  // Methods
  toggleActive() {
    this.isActive = !this.isActive;
  }
}
\`\`\`

### Component Metadata

| Property | Purpose |
|----------|---------|
| \`selector\` | HTML tag to use |
| \`template\` | Inline HTML |
| \`templateUrl\` | External HTML file |
| \`styles\` | Inline CSS array |
| \`styleUrls\` | External CSS files |
| \`standalone\` | No module needed |
| \`imports\` | Dependencies (standalone) |

### Template vs Logic Separation

**Component Class** (Logic):
- Business logic
- State management
- Event handlers
- API calls

**Template** (View):
- HTML structure
- Data display
- User interactions
- Styling

### Component Responsibility Boundaries

Follow Single Responsibility Principle:

\`\`\`
 UserCardComponent  Display user info
 UserListComponent  List of users
 UserFormComponent  Edit user

 UserEverythingComponent  Does too much
\`\`\`

### Standalone Components (Modern)

\`\`\`typescript
@Component({
  selector: 'app-header',
  standalone: true,
  imports: [CommonModule, RouterModule],
  template: \`
    <nav>
      <a routerLink="/">Home</a>
    </nav>
  \`
})
export class HeaderComponent { }
\`\`\`

### Generate Components

\`\`\`bash
ng generate component user-card
ng g c features/dashboard --standalone
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Angular Component Structure</h2>
<div id="demo"></div>

<script>
// Simulating Angular component concepts

// Component Class
class UserCardComponent {
  constructor(name, email, role) {
    this.name = name;
    this.email = email;
    this.role = role;
    this.isActive = true;
  }
  
  toggleActive() {
    this.isActive = !this.isActive;
    return this.isActive;
  }
  
  getDisplayRole() {
    return this.role.charAt(0).toUpperCase() + this.role.slice(1);
  }
}

// Create component instances
let users = [
  new UserCardComponent("Alice Johnson", "alice@example.com", "admin"),
  new UserCardComponent("Bob Smith", "bob@example.com", "developer"),
  new UserCardComponent("Carol White", "carol@example.com", "designer")
];

function render() {
  let output = "<h3>User Cards</h3>";
  output += "<div style='display:flex;flex-wrap:wrap;gap:15px'>";
  
  users.forEach(function(user, index) {
    let statusColor = user.isActive ? "#4caf50" : "#f44336";
    let statusText = user.isActive ? "Active" : "Inactive";
    
    output += "<div id='card-" + index + "' style='border:1px solid #ddd;padding:20px;border-radius:8px;width:200px;background:white;box-shadow:0 2px 4px rgba(0,0,0,0.1)'>";
    output += "<h4 style='margin:0;color:#DD0031'>" + user.name + "</h4>";
    output += "<p style='color:#666;font-size:14px;margin:8px 0'>" + user.email + "</p>";
    output += "<p style='margin:8px 0'><span style='background:#e3f2fd;padding:4px 8px;border-radius:4px;font-size:12px'>" + user.getDisplayRole() + "</span></p>";
    output += "<p style='margin:8px 0'><span id='status-" + index + "' style='color:" + statusColor + "'> " + statusText + "</span></p>";
    output += "<button onclick='toggleUser(" + index + ")' style='padding:8px 16px;background:#DD0031;color:white;border:none;border-radius:4px;cursor:pointer'>Toggle</button>";
    output += "</div>";
  });
  
  output += "</div>";
  document.getElementById("demo").innerHTML = output;
}

function toggleUser(index) {
  let isActive = users[index].toggleActive();
  let statusEl = document.getElementById("status-" + index);
  if (isActive) {
    statusEl.innerHTML = "<span style='color:#4caf50'> Active</span>";
  } else {
    statusEl.innerHTML = "<span style='color:#f44336'> Inactive</span>";
  }
}

render();
</script>

</body>
</html>`,
    },

    'data-binding': {
      title: 'Angular Data Binding',
      content: `# Angular Data Binding

Data binding connects component logic to the template.

### Types of Data Binding

1. **One-Way (Component  View)**
   - Interpolation: \`{{ value }}\`
   - Property: \`[property]="value"\`

2. **One-Way (View  Component)**
   - Event: \`(event)="handler()"\`

3. **Two-Way (Both directions)**
   - NgModel: \`[(ngModel)]="value"\`

### One-Way Binding Examples

\`\`\`typescript
@Component({
  template: \`
    <!-- Interpolation -->
    <h1>{{ title }}</h1>
    
    <!-- Property binding -->
    <img [src]="imageUrl">
    <button [disabled]="isLoading">Submit</button>
    
    <!-- Class binding -->
    <div [class.active]="isActive"></div>
    
    <!-- Style binding -->
    <p [style.color]="textColor">Styled text</p>
  \`
})
export class MyComponent {
  title = 'Hello Angular';
  imageUrl = 'image.jpg';
  isLoading = false;
  isActive = true;
  textColor = 'blue';
}
\`\`\`

### Two-Way Binding with NgModel

\`\`\`typescript
// In module: import { FormsModule } from '@angular/forms';

@Component({
  template: \`
    <input [(ngModel)]="username">
    <p>Hello, {{ username }}!</p>
  \`
})
export class FormComponent {
  username = '';
}
\`\`\`

### When NOT to Use NgModel

- Complex forms  Use Reactive Forms
- Performance-critical  Use one-way + events
- Custom components  Implement ControlValueAccessor

### Change Propagation Model

\`\`\`
Component Property Changes
         
    Zone.js Detects
         
  Change Detection Runs
         
    View Updates
\`\`\`

### Best Practices

1. Prefer one-way binding for simplicity
2. Use \`[property]\` over \`attr.property\`
3. Avoid complex expressions in templates
4. Move logic to component methods
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Angular Data Binding</h2>
<div id="demo"></div>

<script>
// Simulating Angular data binding

let state = {
  title: "Data Binding Demo",
  username: "",
  isActive: true,
  textColor: "#DD0031",
  count: 0
};

function render() {
  let output = "<h3>" + state.title + "</h3>";
  
  // Two-Way Binding Simulation
  output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px;margin:15px 0'>";
  output += "<h4>Two-Way Binding [(ngModel)]</h4>";
  output += "<input id='nameInput' type='text' value='" + state.username + "' oninput='updateName(this.value)' placeholder='Enter your name' style='padding:10px;font-size:16px;width:200px;border:2px solid #DD0031;border-radius:4px'>";
  output += "<p>Hello, <strong id='nameDisplay'>" + (state.username || "Guest") + "</strong>!</p>";
  output += "</div>";
  
  // Property Binding
  output += "<div style='background:#fff5f7;padding:20px;border-radius:8px;margin:15px 0'>";
  output += "<h4>Property Binding [property]</h4>";
  output += "<p style='color:" + state.textColor + "'>[style.color] = '" + state.textColor + "'</p>";
  output += "<button " + (state.count >= 5 ? "disabled" : "") + " onclick='incrementCount()' style='padding:10px 20px;background:" + (state.count >= 5 ? "#ccc" : "#DD0031") + ";color:white;border:none;border-radius:4px'>[disabled]='count >= 5'</button>";
  output += "<p>Count: <span id='countDisplay'>" + state.count + "</span>/5</p>";
  output += "</div>";
  
  // Class Binding
  output += "<div style='background:#f0fff0;padding:20px;border-radius:8px;margin:15px 0'>";
  output += "<h4>Class Binding [class.active]</h4>";
  output += "<div id='statusBox' style='padding:20px;border-radius:8px;text-align:center;" + (state.isActive ? "background:#4caf50;color:white" : "background:#f44336;color:white") + "'>";
  output += state.isActive ? "Active" : "Inactive";
  output += "</div>";
  output += "<button onclick='toggleActive()' style='margin-top:10px;padding:10px 20px;border:none;border-radius:4px;cursor:pointer'>Toggle Status</button>";
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

function updateName(value) {
  state.username = value;
  document.getElementById("nameDisplay").textContent = value || "Guest";
}

function incrementCount() {
  if (state.count < 5) {
    state.count++;
    document.getElementById("countDisplay").textContent = state.count;
    if (state.count >= 5) {
      render(); // Re-render to disable button
    }
  }
}

function toggleActive() {
  state.isActive = !state.isActive;
  render();
}

render();
</script>

</body>
</html>`,
    },

    directives: {
      title: 'Angular Directives',
      content: `# Angular Directives

Directives extend HTML with custom behavior.

### Types of Directives

1. **Structural Directives**  Change DOM structure
2. **Attribute Directives**  Change element appearance
3. **Component Directives**  Components are directives with templates

### Structural Directives

Use \`*\` prefix (sugar syntax for ng-template):

\`\`\`html
<!-- *ngIf - Conditional rendering -->
<div *ngIf="isLoggedIn">Welcome, {{ user.name }}!</div>
<div *ngIf="isLoggedIn; else loginTemplate">Dashboard</div>
<ng-template #loginTemplate>Please log in</ng-template>

<!-- *ngFor - Loop rendering -->
<ul>
  <li *ngFor="let item of items; let i = index; trackBy: trackById">
    {{ i + 1 }}. {{ item.name }}
  </li>
</ul>

<!-- *ngSwitch - Multiple conditions -->
<div [ngSwitch]="status">
  <p *ngSwitchCase="'active'">User is active</p>
  <p *ngSwitchCase="'pending'">Awaiting approval</p>
  <p *ngSwitchDefault>Unknown status</p>
</div>
\`\`\`

### Attribute Directives

\`\`\`html
<!-- ngClass - Multiple classes -->
<div [ngClass]="{'active': isActive, 'disabled': isDisabled}">

<!-- ngStyle - Multiple styles -->
<div [ngStyle]="{'color': textColor, 'font-size': fontSize + 'px'}">
\`\`\`

### Custom Directive (SME Skill)

\`\`\`typescript
import { Directive, ElementRef, HostListener } from '@angular/core';

@Directive({
  selector: '[appHighlight]'
})
export class HighlightDirective {
  constructor(private el: ElementRef) {}
  
  @HostListener('mouseenter') onMouseEnter() {
    this.highlight('#ffeb3b');
  }
  
  @HostListener('mouseleave') onMouseLeave() {
    this.highlight(null);
  }
  
  private highlight(color: string | null) {
    this.el.nativeElement.style.backgroundColor = color;
  }
}
\`\`\`

Usage:

\`\`\`html
<p appHighlight>Hover over me!</p>
\`\`\`

### Modern Control Flow (Angular 17+)

\`\`\`html
@if (isLoggedIn) {
  <dashboard />
} @else {
  <login />
}

@for (item of items; track item.id) {
  <item-card [data]="item" />
}
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Angular Directives</h2>
<div id="demo"></div>

<script>
// Simulating Angular directives

let state = {
  isLoggedIn: true,
  user: { name: "John Doe" },
  items: [
    { id: 1, name: "Angular Basics", completed: true },
    { id: 2, name: "Components", completed: true },
    { id: 3, name: "Directives", completed: false },
    { id: 4, name: "Services", completed: false }
  ],
  status: "active"
};

function render() {
  let output = "";
  
  // *ngIf simulation
  output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px;margin:15px 0'>";
  output += "<h4>*ngIf  Conditional Rendering</h4>";
  output += "<button onclick='toggleLogin()' style='padding:10px 20px;margin-bottom:15px;border:none;border-radius:4px;cursor:pointer;background:#DD0031;color:white'>Toggle Login</button>";
  if (state.isLoggedIn) {
    output += "<div style='background:#e8f5e9;padding:15px;border-radius:4px'>Welcome, <strong>" + state.user.name + "</strong>!</div>";
  } else {
    output += "<div style='background:#ffebee;padding:15px;border-radius:4px'>Please log in to continue</div>";
  }
  output += "</div>";
  
  // *ngFor simulation
  output += "<div style='background:#fff5f7;padding:20px;border-radius:8px;margin:15px 0'>";
  output += "<h4>*ngFor  List Rendering</h4>";
  output += "<ul style='list-style:none;padding:0'>";
  state.items.forEach(function(item, index) {
    let bgColor = item.completed ? "#e8f5e9" : "#fff";
    let icon = item.completed ? "" : "";
    output += "<li style='padding:12px;margin:5px 0;background:" + bgColor + ";border-radius:4px;display:flex;align-items:center'>";
    output += "<span style='margin-right:10px'>" + icon + "</span>";
    output += "<span style='margin-right:10px;color:#666'>" + (index + 1) + ".</span>";
    output += "<span>" + item.name + "</span>";
    output += "<button onclick='toggleItem(" + index + ")' style='margin-left:auto;padding:5px 10px;border:none;border-radius:4px;cursor:pointer'>Toggle</button>";
    output += "</li>";
  });
  output += "</ul>";
  output += "</div>";
  
  // *ngSwitch simulation
  output += "<div style='background:#e3f2fd;padding:20px;border-radius:8px;margin:15px 0'>";
  output += "<h4>*ngSwitch  Multiple Conditions</h4>";
  output += "<select onchange='changeStatus(this.value)' style='padding:10px;margin-bottom:15px;border-radius:4px'>";
  output += "<option value='active'" + (state.status === 'active' ? " selected" : "") + ">Active</option>";
  output += "<option value='pending'" + (state.status === 'pending' ? " selected" : "") + ">Pending</option>";
  output += "<option value='inactive'" + (state.status === 'inactive' ? " selected" : "") + ">Inactive</option>";
  output += "</select>";
  
  let statusMessage = "";
  let statusColor = "";
  if (state.status === 'active') {
    statusMessage = " User is active and verified";
    statusColor = "#4caf50";
  } else if (state.status === 'pending') {
    statusMessage = " Awaiting approval";
    statusColor = "#ff9800";
  } else {
    statusMessage = " Account is inactive";
    statusColor = "#f44336";
  }
  output += "<div style='padding:15px;background:white;border-left:4px solid " + statusColor + ";border-radius:4px'>" + statusMessage + "</div>";
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

function toggleLogin() {
  state.isLoggedIn = !state.isLoggedIn;
  render();
}

function toggleItem(index) {
  state.items[index].completed = !state.items[index].completed;
  render();
}

function changeStatus(value) {
  state.status = value;
  render();
}

render();
</script>

</body>
</html>`,
    },

    events: {
      title: 'Angular Events',
      content: `# Angular Events

Handle user interactions in Angular applications.

### DOM Events

\`\`\`html
<!-- Click events -->
<button (click)="onClick()">Click Me</button>
<button (click)="onClick($event)">With Event Object</button>

<!-- Keyboard events -->
<input (keyup)="onKeyUp($event)">
<input (keyup.enter)="onEnter()">
<input (keydown.escape)="onEscape()">

<!-- Form events -->
<input (input)="onInput($event)">
<input (change)="onChange()">
<input (focus)="onFocus()">
<input (blur)="onBlur()">

<!-- Mouse events -->
<div (mouseenter)="onHover()">
<div (mouseleave)="onLeave()">
<div (mousemove)="onMove($event)">
\`\`\`

### Event Object

\`\`\`typescript
@Component({
  template: \`
    <input (keyup)="onKeyUp($event)">
    <button (click)="onClick($event)">Click</button>
  \`
})
export class EventComponent {
  onKeyUp(event: KeyboardEvent) {
    console.log('Key:', event.key);
    console.log('Target:', event.target);
  }
  
  onClick(event: MouseEvent) {
    console.log('X:', event.clientX);
    console.log('Y:', event.clientY);
  }
}
\`\`\`

### Custom Events with EventEmitter

\`\`\`typescript
import { Component, Output, EventEmitter } from '@angular/core';

@Component({
  selector: 'app-counter',
  template: \`
    <button (click)="increment()">+</button>
    <span>{{ count }}</span>
  \`
})
export class CounterComponent {
  count = 0;
  
  @Output() countChanged = new EventEmitter<number>();
  
  increment() {
    this.count++;
    this.countChanged.emit(this.count);
  }
}
\`\`\`

Parent usage:

\`\`\`html
<app-counter (countChanged)="onCountChange($event)"></app-counter>
\`\`\`

### Event Emitters vs Outputs

- Both are for component communication
- \`@Output()\` is the decorator
- \`EventEmitter\` is the type
- Child emits, parent listens
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Angular Events</h2>
<div id="demo"></div>
<div id="log" style="margin-top:20px;padding:15px;background:#1e1e1e;color:#9cdcfe;border-radius:8px;font-family:monospace;max-height:200px;overflow-y:auto"></div>

<script>
let logs = [];

function addLog(message) {
  let time = new Date().toLocaleTimeString();
  logs.unshift("[" + time + "] " + message);
  if (logs.length > 10) logs.pop();
  renderLogs();
}

function renderLogs() {
  let logOutput = logs.join("<br>");
  document.getElementById("log").innerHTML = logOutput || "Events will appear here...";
}

function render() {
  let output = "";
  
  // Click Events
  output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px;margin:15px 0'>";
  output += "<h4>(click)  Click Events</h4>";
  output += "<button onclick='handleClick()' style='padding:10px 20px;margin:5px;background:#DD0031;color:white;border:none;border-radius:4px;cursor:pointer'>Simple Click</button>";
  output += "<button onclick='handleClickWithEvent(event)' style='padding:10px 20px;margin:5px;background:#3f51b5;color:white;border:none;border-radius:4px;cursor:pointer'>With $event</button>";
  output += "</div>";
  
  // Keyboard Events
  output += "<div style='background:#fff5f7;padding:20px;border-radius:8px;margin:15px 0'>";
  output += "<h4>(keyup)  Keyboard Events</h4>";
  output += "<input id='keyInput' type='text' onkeyup='handleKeyUp(event)' placeholder='Type something...' style='padding:10px;font-size:16px;width:250px;border:2px solid #DD0031;border-radius:4px'>";
  output += "<p style='font-size:14px;color:#666'>Try pressing Enter or Escape</p>";
  output += "</div>";
  
  // Mouse Events
  output += "<div style='background:#e3f2fd;padding:20px;border-radius:8px;margin:15px 0'>";
  output += "<h4>(mouseenter/mouseleave)  Mouse Events</h4>";
  output += "<div id='hoverBox' onmouseenter='handleMouseEnter()' onmouseleave='handleMouseLeave()' style='padding:30px;background:#fff;border:2px dashed #2196f3;border-radius:8px;text-align:center;transition:all 0.3s'>";
  output += "Hover over me!";
  output += "</div>";
  output += "</div>";
  
  // Custom Event (EventEmitter simulation)
  output += "<div style='background:#f0fff0;padding:20px;border-radius:8px;margin:15px 0'>";
  output += "<h4>@Output() EventEmitter</h4>";
  output += "<p>Counter: <strong id='counterValue'>0</strong></p>";
  output += "<button onclick='handleIncrement()' style='padding:10px 20px;margin:5px;background:#4caf50;color:white;border:none;border-radius:4px;cursor:pointer'>Increment (+)</button>";
  output += "<button onclick='handleDecrement()' style='padding:10px 20px;margin:5px;background:#f44336;color:white;border:none;border-radius:4px;cursor:pointer'>Decrement (-)</button>";
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
  renderLogs();
}

let counter = 0;

function handleClick() {
  addLog("(click) Button clicked!");
}

function handleClickWithEvent(event) {
  addLog("(click) Clicked at X:" + event.clientX + ", Y:" + event.clientY);
}

function handleKeyUp(event) {
  if (event.key === 'Enter') {
    addLog("(keyup.enter) Enter pressed! Value: " + event.target.value);
    event.target.value = "";
  } else if (event.key === 'Escape') {
    addLog("(keyup.escape) Escape pressed, clearing input");
    event.target.value = "";
  } else {
    addLog("(keyup) Key pressed: " + event.key);
  }
}

function handleMouseEnter() {
  document.getElementById("hoverBox").style.background = "#DD0031";
  document.getElementById("hoverBox").style.color = "white";
  addLog("(mouseenter) Mouse entered the box");
}

function handleMouseLeave() {
  document.getElementById("hoverBox").style.background = "#fff";
  document.getElementById("hoverBox").style.color = "black";
  addLog("(mouseleave) Mouse left the box");
}

function handleIncrement() {
  counter++;
  document.getElementById("counterValue").textContent = counter;
  addLog("(countChanged) EventEmitter: count is now " + counter);
}

function handleDecrement() {
  counter--;
  document.getElementById("counterValue").textContent = counter;
  addLog("(countChanged) EventEmitter: count is now " + counter);
}

render();
</script>

</body>
</html>`,
    },

    conditionals: {
      title: 'Angular Conditionals & Lists',
      content: `# Conditional & List Rendering

Efficiently render dynamic content in Angular.

### Conditional Rendering Strategies

**Simple Condition:**
\`\`\`html
<div *ngIf="isVisible">Visible content</div>
\`\`\`

**With Else:**
\`\`\`html
<div *ngIf="isLoggedIn; else loginTemplate">
  Welcome, {{ user.name }}!
</div>
<ng-template #loginTemplate>
  <button>Log In</button>
</ng-template>
\`\`\`

**With Then/Else:**
\`\`\`html
<div *ngIf="loading; then loadingTemplate; else contentTemplate"></div>
<ng-template #loadingTemplate>Loading...</ng-template>
<ng-template #contentTemplate>{{ data }}</ng-template>
\`\`\`

### List Rendering with TrackBy

**Basic Loop:**
\`\`\`html
<ul>
  <li *ngFor="let item of items">{{ item.name }}</li>
</ul>
\`\`\`

**With Index and TrackBy:**
\`\`\`html
<ul>
  <li *ngFor="let item of items; let i = index; trackBy: trackById">
    {{ i + 1 }}. {{ item.name }}
  </li>
</ul>
\`\`\`

\`\`\`typescript
trackById(index: number, item: Item): number {
  return item.id;
}
\`\`\`

### Why TrackBy Matters (Performance)

**Without TrackBy:**
- Angular destroys and recreates ALL DOM elements
- Even if only one item changed

**With TrackBy:**
- Angular tracks items by unique ID
- Only changed items are updated
- Huge performance gain for large lists

### DOM Churn Prevention

\`\`\`typescript
//  Bad: Creates new array reference
this.items = this.items.filter(x => x.active);

//  Good: Mutate in place or use trackBy
const filtered = this.items.filter(x => x.active);
this.items = [...filtered];

// Component:
trackById(index: number, item: Item) {
  return item.id; // Stable identity
}
\`\`\`

### Modern Control Flow (Angular 17+)

\`\`\`html
@if (isLoggedIn) {
  <p>Welcome!</p>
} @else {
  <p>Please log in</p>
}

@for (item of items; track item.id) {
  <app-item [data]="item" />
} @empty {
  <p>No items found</p>
}
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Angular Conditionals & Lists</h2>
<div id="demo"></div>

<script>
let state = {
  isLoggedIn: false,
  loading: false,
  items: [
    { id: 1, name: "Learn Angular", priority: "high", completed: false },
    { id: 2, name: "Build Components", priority: "high", completed: true },
    { id: 3, name: "Master RxJS", priority: "medium", completed: false },
    { id: 4, name: "Deploy App", priority: "low", completed: false }
  ],
  filter: "all"
};

let renderCount = 0;

function render() {
  renderCount++;
  let output = "";
  
  // *ngIf with else
  output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px;margin:15px 0'>";
  output += "<h4>*ngIf with else template</h4>";
  output += "<button onclick='toggleLogin()' style='padding:10px 20px;margin-bottom:15px;background:#DD0031;color:white;border:none;border-radius:4px;cursor:pointer'>Toggle Login State</button>";
  
  if (state.isLoggedIn) {
    output += "<div style='padding:15px;background:#e8f5e9;border-radius:4px'> Welcome back, User!</div>";
  } else {
    output += "<div style='padding:15px;background:#fff3e0;border-radius:4px'> Please <strong>Log In</strong> to continue</div>";
  }
  output += "</div>";
  
  // *ngFor with trackBy
  output += "<div style='background:#fff5f7;padding:20px;border-radius:8px;margin:15px 0'>";
  output += "<h4>*ngFor with trackBy (Render #" + renderCount + ")</h4>";
  
  // Filter buttons
  output += "<div style='margin-bottom:15px'>";
  output += "<button onclick='setFilter(\"all\")' style='padding:8px 16px;margin-right:5px;background:" + (state.filter === 'all' ? '#DD0031' : '#ddd') + ";color:" + (state.filter === 'all' ? 'white' : 'black') + ";border:none;border-radius:4px;cursor:pointer'>All</button>";
  output += "<button onclick='setFilter(\"active\")' style='padding:8px 16px;margin-right:5px;background:" + (state.filter === 'active' ? '#DD0031' : '#ddd') + ";color:" + (state.filter === 'active' ? 'white' : 'black') + ";border:none;border-radius:4px;cursor:pointer'>Active</button>";
  output += "<button onclick='setFilter(\"completed\")' style='padding:8px 16px;background:" + (state.filter === 'completed' ? '#DD0031' : '#ddd') + ";color:" + (state.filter === 'completed' ? 'white' : 'black') + ";border:none;border-radius:4px;cursor:pointer'>Completed</button>";
  output += "</div>";
  
  // Filtered items
  let filtered = state.items.filter(function(item) {
    if (state.filter === 'all') return true;
    if (state.filter === 'active') return !item.completed;
    if (state.filter === 'completed') return item.completed;
  });
  
  output += "<ul style='list-style:none;padding:0'>";
  filtered.forEach(function(item, index) {
    let priorityColor = item.priority === 'high' ? '#f44336' : (item.priority === 'medium' ? '#ff9800' : '#4caf50');
    let bgColor = item.completed ? '#f5f5f5' : '#fff';
    let textStyle = item.completed ? 'text-decoration:line-through;color:#999' : '';
    
    output += "<li data-id='" + item.id + "' style='padding:15px;margin:8px 0;background:" + bgColor + ";border-radius:8px;border-left:4px solid " + priorityColor + ";display:flex;align-items:center;box-shadow:0 1px 3px rgba(0,0,0,0.1)'>";
    output += "<span style='margin-right:10px;color:#666'>#" + item.id + "</span>";
    output += "<span style='flex:1;" + textStyle + "'>" + item.name + "</span>";
    output += "<span style='padding:4px 8px;background:" + priorityColor + ";color:white;border-radius:4px;font-size:12px;margin-right:10px'>" + item.priority + "</span>";
    output += "<button onclick='toggleItem(" + item.id + ")' style='padding:5px 10px;border:none;border-radius:4px;cursor:pointer'>" + (item.completed ? "Undo" : "Done") + "</button>";
    output += "</li>";
  });
  output += "</ul>";
  
  output += "<p style='color:#666;font-size:12px'>TrackBy: item.id ensures efficient DOM updates</p>";
  output += "</div>";
  
  // Add item
  output += "<div style='background:#e3f2fd;padding:20px;border-radius:8px;margin:15px 0'>";
  output += "<h4>Add New Item</h4>";
  output += "<input id='newItem' type='text' placeholder='New task name' style='padding:10px;width:200px;border:1px solid #ddd;border-radius:4px'>";
  output += "<button onclick='addItem()' style='padding:10px 20px;margin-left:10px;background:#2196f3;color:white;border:none;border-radius:4px;cursor:pointer'>Add</button>";
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

function toggleLogin() {
  state.isLoggedIn = !state.isLoggedIn;
  render();
}

function setFilter(filter) {
  state.filter = filter;
  render();
}

function toggleItem(id) {
  let item = state.items.find(function(i) { return i.id === id; });
  if (item) item.completed = !item.completed;
  render();
}

function addItem() {
  let input = document.getElementById("newItem");
  if (input.value.trim()) {
    let newId = Math.max.apply(null, state.items.map(function(i) { return i.id; })) + 1;
    state.items.push({
      id: newId,
      name: input.value.trim(),
      priority: "medium",
      completed: false
    });
    input.value = "";
    render();
  }
}

render();
</script>

</body>
</html>`,
    },

    // Continue with Phase 3-11 lessons...
    'forms-intro': {
      title: 'Angular Forms Intro',
      content: `# Angular Forms

Forms are critical for enterprise applications.

### Template-Driven vs Reactive Forms

| Aspect | Template-Driven | Reactive |
|--------|-----------------|----------|
| Logic Location | Template | Component |
| Model | Implicit | Explicit |
| Validation | Directives | Functions |
| Testing | Harder | Easier |
| Dynamic Forms | Difficult | Easy |
| Best For | Simple forms | Complex forms |

### Why Enterprises Choose Reactive Forms

1. **Explicit Model**: Form structure in TypeScript
2. **Type Safety**: Full TypeScript support
3. **Testability**: Easy unit testing
4. **Dynamic**: Add/remove fields at runtime
5. **Validation**: Programmatic control

### Template-Driven Form

\`\`\`typescript
// Module: import { FormsModule } from '@angular/forms';

@Component({
  template: \`
    <form #userForm="ngForm" (ngSubmit)="onSubmit(userForm)">
      <input name="email" ngModel required email>
      <button [disabled]="userForm.invalid">Submit</button>
    </form>
  \`
})
export class UserFormComponent {
  onSubmit(form: NgForm) {
    console.log(form.value);
  }
}
\`\`\`

### Reactive Form

\`\`\`typescript
// Module: import { ReactiveFormsModule } from '@angular/forms';

@Component({
  template: \`
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <input formControlName="email">
      <button [disabled]="form.invalid">Submit</button>
    </form>
  \`
})
export class UserFormComponent {
  form = new FormGroup({
    email: new FormControl('', [Validators.required, Validators.email])
  });
  
  onSubmit() {
    console.log(this.form.value);
  }
}
\`\`\`

### When to Use Which

**Template-Driven:**
- Login forms
- Simple contact forms
- Quick prototypes

**Reactive:**
- Multi-step wizards
- Dynamic field arrays
- Complex validation
- Enterprise applications
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Angular Forms Comparison</h2>
<div id="demo"></div>

<script>
// Simulating different form approaches

function render() {
  let output = "";
  
  // Template-Driven Simulation
  output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px;margin:15px 0'>";
  output += "<h4>Template-Driven Form</h4>";
  output += "<p style='color:#666;font-size:14px'>Simple forms with ngModel</p>";
  output += "<form id='templateForm' onsubmit='handleTemplateSubmit(event)'>";
  output += "<div style='margin-bottom:15px'>";
  output += "<label style='display:block;margin-bottom:5px'>Email</label>";
  output += "<input id='td-email' type='email' required style='padding:10px;width:100%;box-sizing:border-box;border:1px solid #ddd;border-radius:4px'>";
  output += "</div>";
  output += "<div style='margin-bottom:15px'>";
  output += "<label style='display:block;margin-bottom:5px'>Password</label>";
  output += "<input id='td-password' type='password' required minlength='6' style='padding:10px;width:100%;box-sizing:border-box;border:1px solid #ddd;border-radius:4px'>";
  output += "</div>";
  output += "<button type='submit' style='padding:10px 20px;background:#DD0031;color:white;border:none;border-radius:4px;cursor:pointer'>Login</button>";
  output += "</form>";
  output += "</div>";
  
  // Reactive Form Simulation
  output += "<div style='background:#fff5f7;padding:20px;border-radius:8px;margin:15px 0'>";
  output += "<h4>Reactive Form</h4>";
  output += "<p style='color:#666;font-size:14px'>Complex forms with FormGroup/FormControl</p>";
  output += "<form id='reactiveForm' onsubmit='handleReactiveSubmit(event)'>";
  output += "<div style='margin-bottom:15px'>";
  output += "<label style='display:block;margin-bottom:5px'>First Name <span id='fn-error' style='color:red;font-size:12px'></span></label>";
  output += "<input id='rf-firstName' type='text' oninput='validateReactive()' style='padding:10px;width:100%;box-sizing:border-box;border:1px solid #ddd;border-radius:4px'>";
  output += "</div>";
  output += "<div style='margin-bottom:15px'>";
  output += "<label style='display:block;margin-bottom:5px'>Last Name <span id='ln-error' style='color:red;font-size:12px'></span></label>";
  output += "<input id='rf-lastName' type='text' oninput='validateReactive()' style='padding:10px;width:100%;box-sizing:border-box;border:1px solid #ddd;border-radius:4px'>";
  output += "</div>";
  output += "<div style='margin-bottom:15px'>";
  output += "<label style='display:block;margin-bottom:5px'>Email <span id='email-error' style='color:red;font-size:12px'></span></label>";
  output += "<input id='rf-email' type='email' oninput='validateReactive()' style='padding:10px;width:100%;box-sizing:border-box;border:1px solid #ddd;border-radius:4px'>";
  output += "</div>";
  output += "<button id='rf-submit' type='submit' disabled style='padding:10px 20px;background:#ccc;color:white;border:none;border-radius:4px'>Register</button>";
  output += "<p id='form-status' style='margin-top:10px;font-size:12px;color:#666'></p>";
  output += "</form>";
  output += "</div>";
  
  // Comparison Table
  output += "<div style='background:#e3f2fd;padding:20px;border-radius:8px;margin:15px 0'>";
  output += "<h4>When to Use Each</h4>";
  output += "<table style='width:100%;border-collapse:collapse'>";
  output += "<tr style='background:#DD0031;color:white'><th style='padding:10px;text-align:left'>Use Case</th><th style='padding:10px;text-align:left'>Recommendation</th></tr>";
  output += "<tr><td style='padding:10px;border-bottom:1px solid #ddd'>Login form</td><td style='padding:10px;border-bottom:1px solid #ddd'>Template-Driven</td></tr>";
  output += "<tr><td style='padding:10px;border-bottom:1px solid #ddd'>Registration with validation</td><td style='padding:10px;border-bottom:1px solid #ddd'>Reactive</td></tr>";
  output += "<tr><td style='padding:10px;border-bottom:1px solid #ddd'>Multi-step wizard</td><td style='padding:10px;border-bottom:1px solid #ddd'>Reactive</td></tr>";
  output += "<tr><td style='padding:10px;border-bottom:1px solid #ddd'>Dynamic field arrays</td><td style='padding:10px;border-bottom:1px solid #ddd'>Reactive</td></tr>";
  output += "<tr><td style='padding:10px'>Unit testing</td><td style='padding:10px'>Reactive</td></tr>";
  output += "</table>";
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

function handleTemplateSubmit(event) {
  event.preventDefault();
  let email = document.getElementById("td-email").value;
  let password = document.getElementById("td-password").value;
  alert("Template-Driven Submit:\\nEmail: " + email + "\\nPassword: " + password.replace(/./g, '*'));
}

function validateReactive() {
  let firstName = document.getElementById("rf-firstName").value;
  let lastName = document.getElementById("rf-lastName").value;
  let email = document.getElementById("rf-email").value;
  
  let fnValid = firstName.length >= 2;
  let lnValid = lastName.length >= 2;
  let emailValid = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);
  
  document.getElementById("fn-error").textContent = !firstName ? "" : (!fnValid ? "Min 2 chars" : "");
  document.getElementById("ln-error").textContent = !lastName ? "" : (!lnValid ? "Min 2 chars" : "");
  document.getElementById("email-error").textContent = !email ? "" : (!emailValid ? "Invalid email" : "");
  
  let allValid = fnValid && lnValid && emailValid;
  let btn = document.getElementById("rf-submit");
  btn.disabled = !allValid;
  btn.style.background = allValid ? "#DD0031" : "#ccc";
  btn.style.cursor = allValid ? "pointer" : "not-allowed";
  
  document.getElementById("form-status").textContent = 
    "Form Status: " + (allValid ? " Valid" : " Invalid (" + (3 - (fnValid?1:0) - (lnValid?1:0) - (emailValid?1:0)) + " errors)");
}

function handleReactiveSubmit(event) {
  event.preventDefault();
  let firstName = document.getElementById("rf-firstName").value;
  let lastName = document.getElementById("rf-lastName").value;
  let email = document.getElementById("rf-email").value;
  alert("Reactive Form Submit:\\n" + JSON.stringify({firstName, lastName, email}, null, 2));
}

render();
</script>

</body>
</html>`,
    },

    'reactive-forms': {
      title: 'Angular Reactive Forms',
      content: `# Reactive Forms Deep Dive

Master Angular's powerful reactive forms for enterprise applications.

### FormGroup, FormControl, FormArray

\`\`\`typescript
import { FormGroup, FormControl, FormArray, Validators } from '@angular/forms';

// FormGroup - Container for controls
const form = new FormGroup({
  // FormControl - Single input
  firstName: new FormControl('', Validators.required),
  lastName: new FormControl(''),
  
  // Nested FormGroup
  address: new FormGroup({
    street: new FormControl(''),
    city: new FormControl(''),
    zip: new FormControl('')
  }),
  
  // FormArray - Dynamic list
  phones: new FormArray([
    new FormControl('')
  ])
});
\`\`\`

### Accessing Values

\`\`\`typescript
// Get single value
const firstName = form.get('firstName')?.value;

// Get nested value
const city = form.get('address.city')?.value;

// Get entire form value
const formData = form.value;

// Get raw value (includes disabled)
const rawData = form.getRawValue();
\`\`\`

### FormArray Operations

\`\`\`typescript
get phones(): FormArray {
  return this.form.get('phones') as FormArray;
}

addPhone() {
  this.phones.push(new FormControl(''));
}

removePhone(index: number) {
  this.phones.removeAt(index);
}
\`\`\`

### Template Integration

\`\`\`html
<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <input formControlName="firstName">
  
  <div formGroupName="address">
    <input formControlName="street">
    <input formControlName="city">
  </div>
  
  <div formArrayName="phones">
    <div *ngFor="let phone of phones.controls; let i = index">
      <input [formControlName]="i">
      <button (click)="removePhone(i)">Remove</button>
    </div>
    <button (click)="addPhone()">Add Phone</button>
  </div>
  
  <button [disabled]="form.invalid">Submit</button>
</form>
\`\`\`

### FormBuilder Shorthand

\`\`\`typescript
constructor(private fb: FormBuilder) {}

form = this.fb.group({
  firstName: ['', Validators.required],
  lastName: [''],
  address: this.fb.group({
    street: [''],
    city: ['']
  }),
  phones: this.fb.array([''])
});
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Angular Reactive Forms</h2>
<div id="demo"></div>

<script>
// Simulating Reactive Forms

let form = {
  firstName: { value: "", valid: false, touched: false },
  lastName: { value: "", valid: true, touched: false },
  email: { value: "", valid: false, touched: false },
  address: {
    street: { value: "", valid: true, touched: false },
    city: { value: "", valid: true, touched: false },
    zip: { value: "", valid: true, touched: false }
  },
  phones: [{ value: "" }]
};

function getFormValue() {
  return {
    firstName: form.firstName.value,
    lastName: form.lastName.value,
    email: form.email.value,
    address: {
      street: form.address.street.value,
      city: form.address.city.value,
      zip: form.address.zip.value
    },
    phones: form.phones.map(function(p) { return p.value; })
  };
}

function isFormValid() {
  return form.firstName.value.length >= 2 && 
         /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(form.email.value);
}

function render() {
  let output = "";
  
  output += "<form id='reactiveForm' onsubmit='handleSubmit(event)' style='max-width:500px'>";
  
  // FormControl: firstName
  output += "<div style='margin-bottom:15px'>";
  output += "<label style='display:block;margin-bottom:5px;font-weight:bold'>First Name *</label>";
  output += "<input id='firstName' value='" + form.firstName.value + "' oninput='updateField(\"firstName\", this.value)' onblur='touchField(\"firstName\")' style='padding:10px;width:100%;box-sizing:border-box;border:2px solid " + (form.firstName.touched && !form.firstName.valid ? "#f44336" : "#ddd") + ";border-radius:4px'>";
  if (form.firstName.touched && !form.firstName.valid) {
    output += "<span style='color:#f44336;font-size:12px'>First name is required (min 2 chars)</span>";
  }
  output += "</div>";
  
  // FormControl: lastName
  output += "<div style='margin-bottom:15px'>";
  output += "<label style='display:block;margin-bottom:5px;font-weight:bold'>Last Name</label>";
  output += "<input id='lastName' value='" + form.lastName.value + "' oninput='updateField(\"lastName\", this.value)' style='padding:10px;width:100%;box-sizing:border-box;border:2px solid #ddd;border-radius:4px'>";
  output += "</div>";
  
  // FormControl: email
  output += "<div style='margin-bottom:15px'>";
  output += "<label style='display:block;margin-bottom:5px;font-weight:bold'>Email *</label>";
  output += "<input id='email' type='email' value='" + form.email.value + "' oninput='updateField(\"email\", this.value)' onblur='touchField(\"email\")' style='padding:10px;width:100%;box-sizing:border-box;border:2px solid " + (form.email.touched && !form.email.valid ? "#f44336" : "#ddd") + ";border-radius:4px'>";
  if (form.email.touched && !form.email.valid) {
    output += "<span style='color:#f44336;font-size:12px'>Valid email is required</span>";
  }
  output += "</div>";
  
  // FormGroup: address
  output += "<div style='background:#f5f5f5;padding:15px;border-radius:8px;margin-bottom:15px'>";
  output += "<h4 style='margin-top:0'>Address (FormGroup)</h4>";
  output += "<input id='street' value='" + form.address.street.value + "' oninput='updateNested(\"street\", this.value)' placeholder='Street' style='padding:10px;width:100%;box-sizing:border-box;margin-bottom:10px;border:1px solid #ddd;border-radius:4px'>";
  output += "<div style='display:flex;gap:10px'>";
  output += "<input id='city' value='" + form.address.city.value + "' oninput='updateNested(\"city\", this.value)' placeholder='City' style='padding:10px;flex:2;border:1px solid #ddd;border-radius:4px'>";
  output += "<input id='zip' value='" + form.address.zip.value + "' oninput='updateNested(\"zip\", this.value)' placeholder='ZIP' style='padding:10px;flex:1;border:1px solid #ddd;border-radius:4px'>";
  output += "</div>";
  output += "</div>";
  
  // FormArray: phones
  output += "<div style='background:#fff5f7;padding:15px;border-radius:8px;margin-bottom:15px'>";
  output += "<h4 style='margin-top:0'>Phone Numbers (FormArray)</h4>";
  form.phones.forEach(function(phone, index) {
    output += "<div style='display:flex;gap:10px;margin-bottom:10px'>";
    output += "<input value='" + phone.value + "' oninput='updatePhone(" + index + ", this.value)' placeholder='Phone " + (index + 1) + "' style='padding:10px;flex:1;border:1px solid #ddd;border-radius:4px'>";
    if (form.phones.length > 1) {
      output += "<button type='button' onclick='removePhone(" + index + ")' style='padding:10px 15px;background:#f44336;color:white;border:none;border-radius:4px;cursor:pointer'></button>";
    }
    output += "</div>";
  });
  output += "<button type='button' onclick='addPhone()' style='padding:10px 15px;background:#2196f3;color:white;border:none;border-radius:4px;cursor:pointer'>+ Add Phone</button>";
  output += "</div>";
  
  // Submit
  let valid = isFormValid();
  output += "<button type='submit' " + (!valid ? "disabled" : "") + " style='padding:12px 24px;background:" + (valid ? "#DD0031" : "#ccc") + ";color:white;border:none;border-radius:4px;cursor:" + (valid ? "pointer" : "not-allowed") + ";font-size:16px'>Submit Form</button>";
  
  output += "</form>";
  
  // Form Value Display
  output += "<div style='margin-top:20px;padding:15px;background:#1e1e1e;color:#9cdcfe;border-radius:8px;font-family:monospace;font-size:12px'>";
  output += "<strong style='color:#4ec9b0'>form.value:</strong><br>";
  output += JSON.stringify(getFormValue(), null, 2).replace(/\\n/g, "<br>").replace(/ /g, "&nbsp;");
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

function updateField(field, value) {
  form[field].value = value;
  if (field === "firstName") form[field].valid = value.length >= 2;
  if (field === "email") form[field].valid = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value);
  render();
}

function touchField(field) {
  form[field].touched = true;
  render();
}

function updateNested(field, value) {
  form.address[field].value = value;
  render();
}

function updatePhone(index, value) {
  form.phones[index].value = value;
  render();
}

function addPhone() {
  form.phones.push({ value: "" });
  render();
}

function removePhone(index) {
  form.phones.splice(index, 1);
  render();
}

function handleSubmit(event) {
  event.preventDefault();
  if (isFormValid()) {
    alert("Form Submitted!\\n\\n" + JSON.stringify(getFormValue(), null, 2));
  }
}

render();
</script>

</body>
</html>`,
    },

    'form-validation': {
      title: 'Angular Form Validation',
      content: `# Angular Form Validation

Comprehensive validation for enterprise forms.

### Built-in Validators

\`\`\`typescript
import { Validators } from '@angular/forms';

const form = new FormGroup({
  email: new FormControl('', [
    Validators.required,
    Validators.email
  ]),
  age: new FormControl('', [
    Validators.required,
    Validators.min(18),
    Validators.max(100)
  ]),
  username: new FormControl('', [
    Validators.required,
    Validators.minLength(3),
    Validators.maxLength(20),
    Validators.pattern(/^[a-zA-Z0-9_]+$/)
  ])
});
\`\`\`

### Cross-Field Validation

\`\`\`typescript
function passwordMatchValidator(group: FormGroup): ValidationErrors | null {
  const password = group.get('password')?.value;
  const confirm = group.get('confirmPassword')?.value;
  
  return password === confirm ? null : { passwordMismatch: true };
}

const form = new FormGroup({
  password: new FormControl('', Validators.required),
  confirmPassword: new FormControl('', Validators.required)
}, { validators: passwordMatchValidator });
\`\`\`

### Async Validators

\`\`\`typescript
function usernameExistsValidator(
  userService: UserService
): AsyncValidatorFn {
  return (control: AbstractControl): Observable<ValidationErrors | null> => {
    return userService.checkUsername(control.value).pipe(
      map(exists => exists ? { usernameTaken: true } : null),
      catchError(() => of(null))
    );
  };
}

const username = new FormControl('', 
  [Validators.required], 
  [usernameExistsValidator(this.userService)]
);
\`\`\`

### Display Validation Errors

\`\`\`html
<input formControlName="email">
<div *ngIf="form.get('email')?.errors as errors">
  <span *ngIf="errors['required']">Email is required</span>
  <span *ngIf="errors['email']">Invalid email format</span>
</div>
\`\`\`

### Validation States

| State | Description |
|-------|-------------|
| \`valid\` | Passes all validators |
| \`invalid\` | Fails one or more |
| \`pending\` | Async validator running |
| \`touched\` | User has focused and left |
| \`dirty\` | Value has been changed |
| \`pristine\` | Value unchanged |
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Angular Form Validation</h2>
<div id="demo"></div>

<script>
let formState = {
  email: { value: "", touched: false },
  password: { value: "", touched: false },
  confirmPassword: { value: "", touched: false },
  username: { value: "", touched: false, pending: false, asyncError: null }
};

// Simulated taken usernames
let takenUsernames = ["admin", "user", "test", "john", "angular"];

function validateEmail(email) {
  let errors = [];
  if (!email) errors.push("Email is required");
  else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) errors.push("Invalid email format");
  return errors;
}

function validatePassword(password) {
  let errors = [];
  if (!password) errors.push("Password is required");
  else {
    if (password.length < 8) errors.push("Minimum 8 characters");
    if (!/[A-Z]/.test(password)) errors.push("Must contain uppercase");
    if (!/[0-9]/.test(password)) errors.push("Must contain number");
  }
  return errors;
}

function validatePasswordMatch() {
  if (formState.password.value && formState.confirmPassword.value) {
    if (formState.password.value !== formState.confirmPassword.value) {
      return ["Passwords do not match"];
    }
  }
  return [];
}

function validateUsername(username) {
  let errors = [];
  if (!username) errors.push("Username is required");
  else {
    if (username.length < 3) errors.push("Minimum 3 characters");
    if (!/^[a-zA-Z0-9_]+$/.test(username)) errors.push("Only letters, numbers, underscore");
  }
  return errors;
}

function render() {
  let emailErrors = formState.email.touched ? validateEmail(formState.email.value) : [];
  let passwordErrors = formState.password.touched ? validatePassword(formState.password.value) : [];
  let confirmErrors = formState.confirmPassword.touched ? validatePasswordMatch() : [];
  let usernameErrors = formState.username.touched ? validateUsername(formState.username.value) : [];
  
  if (formState.username.asyncError && formState.username.touched) {
    usernameErrors.push(formState.username.asyncError);
  }
  
  let allValid = emailErrors.length === 0 && passwordErrors.length === 0 && 
                 confirmErrors.length === 0 && usernameErrors.length === 0 &&
                 formState.email.value && formState.password.value && 
                 formState.confirmPassword.value && formState.username.value &&
                 !formState.username.pending && !formState.username.asyncError;
  
  let output = "<form style='max-width:400px'>";
  
  // Email with validation
  output += "<div style='margin-bottom:20px'>";
  output += "<label style='display:block;margin-bottom:5px;font-weight:bold'>Email</label>";
  output += "<input value='" + formState.email.value + "' oninput='update(\"email\", this.value)' onblur='touch(\"email\")' style='padding:12px;width:100%;box-sizing:border-box;border:2px solid " + (emailErrors.length ? "#f44336" : (formState.email.touched && formState.email.value ? "#4caf50" : "#ddd")) + ";border-radius:4px'>";
  if (emailErrors.length) {
    output += "<div style='margin-top:5px'>";
    emailErrors.forEach(function(err) {
      output += "<div style='color:#f44336;font-size:12px'> " + err + "</div>";
    });
    output += "</div>";
  } else if (formState.email.touched && formState.email.value) {
    output += "<div style='color:#4caf50;font-size:12px'> Valid email</div>";
  }
  output += "</div>";
  
  // Password with strength indicator
  output += "<div style='margin-bottom:20px'>";
  output += "<label style='display:block;margin-bottom:5px;font-weight:bold'>Password</label>";
  output += "<input type='password' value='" + formState.password.value + "' oninput='update(\"password\", this.value)' onblur='touch(\"password\")' style='padding:12px;width:100%;box-sizing:border-box;border:2px solid " + (passwordErrors.length ? "#f44336" : (formState.password.touched && passwordErrors.length === 0 && formState.password.value ? "#4caf50" : "#ddd")) + ";border-radius:4px'>";
  if (formState.password.touched) {
    let requirements = [
      { label: "8+ characters", met: formState.password.value.length >= 8 },
      { label: "Uppercase letter", met: /[A-Z]/.test(formState.password.value) },
      { label: "Number", met: /[0-9]/.test(formState.password.value) }
    ];
    output += "<div style='margin-top:8px'>";
    requirements.forEach(function(req) {
      output += "<span style='display:inline-block;margin-right:10px;font-size:12px;color:" + (req.met ? "#4caf50" : "#999") + "'>" + (req.met ? "" : "") + " " + req.label + "</span>";
    });
    output += "</div>";
  }
  output += "</div>";
  
  // Confirm Password (cross-field validation)
  output += "<div style='margin-bottom:20px'>";
  output += "<label style='display:block;margin-bottom:5px;font-weight:bold'>Confirm Password</label>";
  output += "<input type='password' value='" + formState.confirmPassword.value + "' oninput='update(\"confirmPassword\", this.value)' onblur='touch(\"confirmPassword\")' style='padding:12px;width:100%;box-sizing:border-box;border:2px solid " + (confirmErrors.length ? "#f44336" : (formState.confirmPassword.touched && confirmErrors.length === 0 && formState.confirmPassword.value ? "#4caf50" : "#ddd")) + ";border-radius:4px'>";
  if (confirmErrors.length) {
    output += "<div style='color:#f44336;font-size:12px'> " + confirmErrors[0] + "</div>";
  } else if (formState.confirmPassword.touched && formState.confirmPassword.value) {
    output += "<div style='color:#4caf50;font-size:12px'> Passwords match</div>";
  }
  output += "</div>";
  
  // Username with async validation
  output += "<div style='margin-bottom:20px'>";
  output += "<label style='display:block;margin-bottom:5px;font-weight:bold'>Username</label>";
  output += "<input value='" + formState.username.value + "' oninput='update(\"username\", this.value)' onblur='touch(\"username\")' style='padding:12px;width:100%;box-sizing:border-box;border:2px solid " + (usernameErrors.length ? "#f44336" : (formState.username.pending ? "#ff9800" : (formState.username.touched && formState.username.value && !formState.username.asyncError ? "#4caf50" : "#ddd"))) + ";border-radius:4px'>";
  if (formState.username.pending) {
    output += "<div style='color:#ff9800;font-size:12px'> Checking availability...</div>";
  } else if (usernameErrors.length) {
    output += "<div style='margin-top:5px'>";
    usernameErrors.forEach(function(err) {
      output += "<div style='color:#f44336;font-size:12px'> " + err + "</div>";
    });
    output += "</div>";
  } else if (formState.username.touched && formState.username.value) {
    output += "<div style='color:#4caf50;font-size:12px'> Username available</div>";
  }
  output += "<div style='font-size:11px;color:#999;margin-top:5px'>Try: admin, user, test (taken)</div>";
  output += "</div>";
  
  output += "<button type='submit' " + (!allValid ? "disabled" : "") + " style='padding:15px 30px;width:100%;background:" + (allValid ? "#DD0031" : "#ccc") + ";color:white;border:none;border-radius:4px;font-size:16px;cursor:" + (allValid ? "pointer" : "not-allowed") + "'>Create Account</button>";
  
  output += "</form>";
  
  document.getElementById("demo").innerHTML = output;
}

function update(field, value) {
  formState[field].value = value;
  if (field === "username" && value.length >= 3) {
    // Simulate async validation
    formState.username.pending = true;
    formState.username.asyncError = null;
    render();
    setTimeout(function() {
      formState.username.pending = false;
      if (takenUsernames.includes(value.toLowerCase())) {
        formState.username.asyncError = "Username is already taken";
      } else {
        formState.username.asyncError = null;
      }
      render();
    }, 800);
  } else if (field === "username") {
    formState.username.asyncError = null;
  }
  render();
}

function touch(field) {
  formState[field].touched = true;
  render();
}

render();
</script>

</body>
</html>`,
    },

    'dynamic-forms': {
      title: 'Angular Dynamic Forms',
      content: `# Dynamic Forms in Angular

Build forms from configuration for maximum flexibility.

### Why Dynamic Forms?

- Form structure from API/database
- User-configurable forms
- Reduce repetitive code
- A/B testing form layouts

### Form Field Configuration

\`\`\`typescript
interface FormFieldConfig {
  key: string;
  label: string;
  type: 'text' | 'email' | 'number' | 'select' | 'checkbox';
  required?: boolean;
  options?: { value: string; label: string }[];
  validators?: ValidatorFn[];
}

const formConfig: FormFieldConfig[] = [
  { key: 'firstName', label: 'First Name', type: 'text', required: true },
  { key: 'email', label: 'Email', type: 'email', required: true },
  { key: 'role', label: 'Role', type: 'select', options: [
    { value: 'user', label: 'User' },
    { value: 'admin', label: 'Admin' }
  ]}
];
\`\`\`

### Generate FormGroup from Config

\`\`\`typescript
function createFormGroup(config: FormFieldConfig[]): FormGroup {
  const group: { [key: string]: FormControl } = {};
  
  config.forEach(field => {
    const validators = field.required ? [Validators.required] : [];
    if (field.validators) validators.push(...field.validators);
    
    group[field.key] = new FormControl('', validators);
  });
  
  return new FormGroup(group);
}
\`\`\`

### Dynamic Template

\`\`\`html
<form [formGroup]="form">
  <div *ngFor="let field of formConfig">
    <label>{{ field.label }}</label>
    
    <ng-container [ngSwitch]="field.type">
      <input *ngSwitchCase="'text'" 
             [formControlName]="field.key">
      
      <input *ngSwitchCase="'email'" 
             type="email" 
             [formControlName]="field.key">
      
      <select *ngSwitchCase="'select'" 
              [formControlName]="field.key">
        <option *ngFor="let opt of field.options" 
                [value]="opt.value">
          {{ opt.label }}
        </option>
      </select>
    </ng-container>
  </div>
</form>
\`\`\`

### Use Cases

1. **CMS Form Builder**: Users design their own forms
2. **Survey Systems**: Dynamic questionnaires
3. **Admin Panels**: CRUD forms from models
4. **Wizards**: Multi-step with conditional fields
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Angular Dynamic Forms</h2>
<div id="demo"></div>

<script>
// Form configuration (could come from API)
let formConfig = [
  { key: "firstName", label: "First Name", type: "text", required: true },
  { key: "lastName", label: "Last Name", type: "text", required: true },
  { key: "email", label: "Email", type: "email", required: true },
  { key: "age", label: "Age", type: "number", required: false },
  { key: "role", label: "Role", type: "select", required: true, options: [
    { value: "", label: "Select Role" },
    { value: "developer", label: "Developer" },
    { value: "designer", label: "Designer" },
    { value: "manager", label: "Manager" }
  ]},
  { key: "newsletter", label: "Subscribe to Newsletter", type: "checkbox", required: false }
];

let formValues = {};
formConfig.forEach(function(field) {
  formValues[field.key] = field.type === "checkbox" ? false : "";
});

function validate(field, value) {
  if (field.required) {
    if (field.type === "checkbox") return true;
    return value !== "" && value !== null && value !== undefined;
  }
  return true;
}

function isFormValid() {
  return formConfig.every(function(field) {
    return validate(field, formValues[field.key]);
  });
}

function render() {
  let output = "";
  
  // Config Display
  output += "<div style='background:#e3f2fd;padding:15px;border-radius:8px;margin-bottom:20px'>";
  output += "<h4 style='margin-top:0'> Form Configuration (from API)</h4>";
  output += "<pre style='background:#1e1e1e;color:#9cdcfe;padding:10px;border-radius:4px;font-size:11px;overflow-x:auto'>" + JSON.stringify(formConfig.slice(0, 2), null, 2) + "\\n// ... " + (formConfig.length - 2) + " more fields</pre>";
  output += "</div>";
  
  // Dynamic Form
  output += "<form id='dynamicForm' style='background:#fff;padding:20px;border-radius:8px;border:1px solid #ddd'>";
  output += "<h4 style='margin-top:0'>Generated Form</h4>";
  
  formConfig.forEach(function(field, index) {
    let isValid = validate(field, formValues[field.key]);
    let hasValue = formValues[field.key] !== "" && formValues[field.key] !== false;
    
    output += "<div style='margin-bottom:15px'>";
    
    if (field.type === "checkbox") {
      output += "<label style='display:flex;align-items:center;cursor:pointer'>";
      output += "<input type='checkbox' " + (formValues[field.key] ? "checked" : "") + " onchange='updateValue(\"" + field.key + "\", this.checked)' style='margin-right:10px;width:18px;height:18px'>";
      output += field.label;
      output += "</label>";
    } else {
      output += "<label style='display:block;margin-bottom:5px;font-weight:bold'>" + field.label + (field.required ? " *" : "") + "</label>";
      
      if (field.type === "select") {
        output += "<select onchange='updateValue(\"" + field.key + "\", this.value)' style='padding:12px;width:100%;box-sizing:border-box;border:2px solid " + (!isValid && hasValue ? "#f44336" : "#ddd") + ";border-radius:4px'>";
        field.options.forEach(function(opt) {
          output += "<option value='" + opt.value + "'" + (formValues[field.key] === opt.value ? " selected" : "") + ">" + opt.label + "</option>";
        });
        output += "</select>";
      } else {
        output += "<input type='" + field.type + "' value='" + formValues[field.key] + "' oninput='updateValue(\"" + field.key + "\", this.value)' style='padding:12px;width:100%;box-sizing:border-box;border:2px solid " + (!isValid && hasValue ? "#f44336" : "#ddd") + ";border-radius:4px'>";
      }
    }
    output += "</div>";
  });
  
  let valid = isFormValid();
  output += "<button type='button' onclick='submitForm()' " + (!valid ? "disabled" : "") + " style='padding:12px 24px;width:100%;background:" + (valid ? "#DD0031" : "#ccc") + ";color:white;border:none;border-radius:4px;font-size:16px;cursor:" + (valid ? "pointer" : "not-allowed") + "'>Submit</button>";
  output += "</form>";
  
  // Form Value Preview
  output += "<div style='margin-top:20px;padding:15px;background:#1e1e1e;color:#9cdcfe;border-radius:8px'>";
  output += "<strong style='color:#4ec9b0'>form.value:</strong><br>";
  output += "<pre style='margin:0'>" + JSON.stringify(formValues, null, 2) + "</pre>";
  output += "</div>";
  
  // Add Field Button
  output += "<button onclick='addField()' style='margin-top:15px;padding:10px 20px;background:#2196f3;color:white;border:none;border-radius:4px;cursor:pointer'>+ Add Custom Field</button>";
  
  document.getElementById("demo").innerHTML = output;
}

function updateValue(key, value) {
  formValues[key] = value;
  render();
}

function addField() {
  let fieldName = prompt("Enter field name:");
  if (fieldName) {
    let key = fieldName.toLowerCase().replace(/\\s+/g, "_");
    formConfig.push({
      key: key,
      label: fieldName,
      type: "text",
      required: false
    });
    formValues[key] = "";
    render();
  }
}

function submitForm() {
  if (isFormValid()) {
    alert("Form Submitted!\\n\\n" + JSON.stringify(formValues, null, 2));
  }
}

render();
</script>

</body>
</html>`,
    },

    // PHASE 4  ROUTING & NAVIGATION
    'router-core': {
      title: 'Angular Router Core',
      content: `# Angular Router

Navigate between views in your Angular application.

### Route Configuration

\`\`\`typescript
import { Routes } from '@angular/router';

const routes: Routes = [
  { path: '', component: HomeComponent },
  { path: 'about', component: AboutComponent },
  { path: 'users/:id', component: UserDetailComponent },
  { path: '**', component: NotFoundComponent }
];
\`\`\`

### RouterOutlet

The placeholder where routed components render:

\`\`\`html
<nav>
  <a routerLink="/">Home</a>
  <a routerLink="/about">About</a>
  <a [routerLink]="['/users', userId]">User</a>
</nav>

<router-outlet></router-outlet>
\`\`\`

### RouterLinkActive

Highlight active links:

\`\`\`html
<a routerLink="/" 
   routerLinkActive="active"
   [routerLinkActiveOptions]="{ exact: true }">
  Home
</a>
\`\`\`

### Navigation Lifecycle

1. **NavigationStart**: Navigation begins
2. **RoutesRecognized**: Routes matched
3. **GuardsCheckStart**: Guards running
4. **ResolveStart**: Resolvers running
5. **NavigationEnd**: Navigation complete

\`\`\`typescript
constructor(private router: Router) {
  router.events.subscribe(event => {
    if (event instanceof NavigationEnd) {
      console.log('Navigation complete:', event.url);
    }
  });
}
\`\`\`

### Programmatic Navigation

\`\`\`typescript
// Navigate to path
this.router.navigate(['/users', userId]);

// With query params
this.router.navigate(['/search'], { 
  queryParams: { q: 'angular' } 
});

// Replace history
this.router.navigate(['/home'], { replaceUrl: true });
\`\`\`

### Reading Route Parameters

\`\`\`typescript
import { ActivatedRoute } from '@angular/router';

constructor(private route: ActivatedRoute) {}

ngOnInit() {
  // Snapshot (one-time)
  const id = this.route.snapshot.paramMap.get('id');
  
  // Observable (reactive)
  this.route.paramMap.subscribe(params => {
    const id = params.get('id');
  });
}
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Angular Router Simulation</h2>
<div id="app"></div>

<script>
// Simulating Angular Router

let currentRoute = "/";
let routes = {
  "/": { component: "HomeComponent", title: "Home" },
  "/about": { component: "AboutComponent", title: "About Us" },
  "/users": { component: "UsersComponent", title: "Users" },
  "/users/1": { component: "UserDetailComponent", title: "User 1", params: { id: "1" } },
  "/users/2": { component: "UserDetailComponent", title: "User 2", params: { id: "2" } },
  "/contact": { component: "ContactComponent", title: "Contact" }
};

let navigationHistory = [];

function render() {
  let output = "";
  
  // Navigation Bar
  output += "<nav style='background:#DD0031;padding:15px;border-radius:8px 8px 0 0'>";
  output += "<div style='display:flex;gap:20px'>";
  
  let navLinks = [
    { path: "/", label: "Home" },
    { path: "/about", label: "About" },
    { path: "/users", label: "Users" },
    { path: "/contact", label: "Contact" }
  ];
  
  navLinks.forEach(function(link) {
    let isActive = currentRoute === link.path || (link.path !== "/" && currentRoute.startsWith(link.path));
    output += "<a href='#' onclick='navigate(\"" + link.path + "\"); return false;' style='color:" + (isActive ? "#fff" : "rgba(255,255,255,0.7)") + ";text-decoration:none;font-weight:" + (isActive ? "bold" : "normal") + ";padding:5px 10px;background:" + (isActive ? "rgba(255,255,255,0.2)" : "transparent") + ";border-radius:4px'>" + link.label + "</a>";
  });
  
  output += "</div>";
  output += "</nav>";
  
  // Router Outlet
  output += "<div style='border:1px solid #ddd;border-top:none;padding:20px;min-height:300px;background:#fff;border-radius:0 0 8px 8px'>";
  output += "<p style='color:#666;font-size:12px;margin-bottom:15px'> Current Route: <code style='background:#f5f5f5;padding:2px 8px;border-radius:4px'>" + currentRoute + "</code></p>";
  
  let route = routes[currentRoute];
  if (route) {
    output += "<h3 style='color:#DD0031'>" + route.title + "</h3>";
    output += renderComponent(route);
  } else {
    output += "<h3 style='color:#f44336'>404 - Page Not Found</h3>";
    output += "<p>The route <code>" + currentRoute + "</code> does not exist.</p>";
    output += "<button onclick='navigate(\"/\")' style='padding:10px 20px;background:#DD0031;color:white;border:none;border-radius:4px;cursor:pointer'>Go Home</button>";
  }
  
  output += "</div>";
  
  // Navigation Events Log
  output += "<div style='margin-top:20px;background:#1e1e1e;padding:15px;border-radius:8px'>";
  output += "<h4 style='color:#4ec9b0;margin-top:0'>Navigation Events</h4>";
  output += "<div style='color:#9cdcfe;font-family:monospace;font-size:12px;max-height:150px;overflow-y:auto'>";
  navigationHistory.slice(-5).forEach(function(event) {
    output += "<div style='padding:5px 0;border-bottom:1px solid #333'>";
    output += "<span style='color:#ce9178'>" + event.type + "</span>: " + event.url;
    output += "</div>";
  });
  output += "</div>";
  output += "</div>";
  
  document.getElementById("app").innerHTML = output;
}

function renderComponent(route) {
  let output = "";
  
  switch (route.component) {
    case "HomeComponent":
      output += "<p>Welcome to the Angular Router demo!</p>";
      output += "<div style='display:flex;gap:15px;margin-top:15px'>";
      output += "<div onclick='navigate(\"/about\")' style='padding:20px;background:#f5f5f5;border-radius:8px;cursor:pointer;flex:1;text-align:center'><strong>About Us</strong><br><small>Learn more</small></div>";
      output += "<div onclick='navigate(\"/users\")' style='padding:20px;background:#f5f5f5;border-radius:8px;cursor:pointer;flex:1;text-align:center'><strong>Users</strong><br><small>View all</small></div>";
      output += "</div>";
      break;
      
    case "AboutComponent":
      output += "<p>This is the About page.</p>";
      output += "<p>Angular Router provides powerful navigation capabilities for SPAs.</p>";
      break;
      
    case "UsersComponent":
      output += "<p>User List:</p>";
      output += "<ul style='list-style:none;padding:0'>";
      output += "<li style='padding:10px;background:#f5f5f5;margin:5px 0;border-radius:4px;cursor:pointer' onclick='navigate(\"/users/1\")'> User 1 - John Doe</li>";
      output += "<li style='padding:10px;background:#f5f5f5;margin:5px 0;border-radius:4px;cursor:pointer' onclick='navigate(\"/users/2\")'> User 2 - Jane Smith</li>";
      output += "</ul>";
      break;
      
    case "UserDetailComponent":
      let userId = route.params.id;
      output += "<p>Viewing details for User #" + userId + "</p>";
      output += "<div style='background:#f5f5f5;padding:15px;border-radius:8px'>";
      output += "<p><strong>Route Parameter:</strong> id = " + userId + "</p>";
      output += "<code>this.route.snapshot.paramMap.get('id')</code>";
      output += "</div>";
      output += "<button onclick='navigate(\"/users\")' style='margin-top:15px;padding:10px 20px;background:#DD0031;color:white;border:none;border-radius:4px;cursor:pointer'> Back to Users</button>";
      break;
      
    case "ContactComponent":
      output += "<p>Contact us at: contact@angular.io</p>";
      break;
  }
  
  return output;
}

function navigate(path) {
  navigationHistory.push({ type: "NavigationStart", url: path });
  navigationHistory.push({ type: "RoutesRecognized", url: path });
  currentRoute = path;
  navigationHistory.push({ type: "NavigationEnd", url: path });
  render();
}

render();
</script>

</body>
</html>`,
    },

    // More routing, services, lifecycle lessons...
    'route-params': {
      title: 'Route Parameters',
      content: `# Route Parameters

Pass data through URLs in Angular.

### Path Parameters

Define dynamic segments in routes:

\`\`\`typescript
const routes: Routes = [
  { path: 'users/:id', component: UserComponent },
  { path: 'products/:category/:id', component: ProductComponent }
];
\`\`\`

### Reading Path Parameters

\`\`\`typescript
import { ActivatedRoute } from '@angular/router';

export class UserComponent implements OnInit {
  userId: string;
  
  constructor(private route: ActivatedRoute) {}
  
  ngOnInit() {
    // Snapshot (one-time read)
    this.userId = this.route.snapshot.paramMap.get('id');
    
    // Observable (reacts to changes)
    this.route.paramMap.subscribe(params => {
      this.userId = params.get('id');
      this.loadUser(this.userId);
    });
  }
}
\`\`\`

### Query Parameters

\`\`\`html
<a [routerLink]="['/search']" 
   [queryParams]="{ q: 'angular', page: 1 }">
  Search
</a>
\`\`\`

\`\`\`typescript
// Reading query params
this.route.queryParamMap.subscribe(params => {
  const query = params.get('q');
  const page = params.get('page');
});
\`\`\`

### Fragment

\`\`\`html
<a routerLink="/docs" fragment="installation">
  Installation
</a>
<!-- Results in: /docs#installation -->
\`\`\`

### Preserving Parameters

\`\`\`typescript
this.router.navigate(['/new-path'], {
  queryParamsHandling: 'preserve', // or 'merge'
  preserveFragment: true
});
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Route Parameters</h2>
<div id="demo"></div>

<script>
let currentPath = "/products";
let pathParams = {};
let queryParams = {};
let fragment = "";

function parseUrl(url) {
  // Parse path params, query params, and fragment
  let [pathAndQuery, frag] = url.split("#");
  fragment = frag || "";
  
  let [path, query] = pathAndQuery.split("?");
  currentPath = path;
  
  // Parse query params
  queryParams = {};
  if (query) {
    query.split("&").forEach(function(pair) {
      let [key, value] = pair.split("=");
      queryParams[key] = decodeURIComponent(value);
    });
  }
  
  // Parse path params (simulated)
  pathParams = {};
  let pathParts = path.split("/").filter(Boolean);
  if (pathParts[0] === "products" && pathParts[1]) {
    pathParams.category = pathParts[1];
    if (pathParts[2]) {
      pathParams.id = pathParts[2];
    }
  }
  if (pathParts[0] === "users" && pathParts[1]) {
    pathParams.id = pathParts[1];
  }
}

function render() {
  let output = "";
  
  // URL Input
  output += "<div style='background:#f5f5f5;padding:15px;border-radius:8px;margin-bottom:20px'>";
  output += "<h4 style='margin-top:0'>Navigate to URL</h4>";
  output += "<div style='display:flex;gap:10px'>";
  output += "<input id='urlInput' value='" + buildUrl() + "' style='flex:1;padding:12px;border:2px solid #DD0031;border-radius:4px;font-family:monospace'>";
  output += "<button onclick='goToUrl()' style='padding:12px 24px;background:#DD0031;color:white;border:none;border-radius:4px;cursor:pointer'>Go</button>";
  output += "</div>";
  output += "</div>";
  
  // Quick Links
  output += "<div style='background:#fff5f7;padding:15px;border-radius:8px;margin-bottom:20px'>";
  output += "<h4 style='margin-top:0'>Quick Links</h4>";
  output += "<div style='display:flex;flex-wrap:wrap;gap:10px'>";
  let links = [
    { url: "/products", label: "Products" },
    { url: "/products/electronics", label: "Electronics Category" },
    { url: "/products/electronics/123", label: "Product #123" },
    { url: "/users/456", label: "User #456" },
    { url: "/search?q=angular&page=1&sort=date", label: "Search with Query" },
    { url: "/docs#installation", label: "Docs with Fragment" }
  ];
  links.forEach(function(link) {
    output += "<button onclick='navigateTo(\"" + link.url + "\")' style='padding:8px 15px;background:#fff;border:1px solid #DD0031;color:#DD0031;border-radius:4px;cursor:pointer'>" + link.label + "</button>";
  });
  output += "</div>";
  output += "</div>";
  
  // Parsed Parameters
  output += "<div style='display:grid;grid-template-columns:1fr 1fr;gap:20px'>";
  
  // Path Params
  output += "<div style='background:#e3f2fd;padding:15px;border-radius:8px'>";
  output += "<h4 style='margin-top:0'> Path Parameters</h4>";
  output += "<pre style='background:#1e1e1e;color:#9cdcfe;padding:10px;border-radius:4px;font-size:12px'>";
  output += "route.snapshot.paramMap:\\n";
  output += JSON.stringify(pathParams, null, 2);
  output += "</pre>";
  if (Object.keys(pathParams).length) {
    output += "<div style='margin-top:10px'>";
    for (let key in pathParams) {
      output += "<p style='margin:5px 0'><code>params.get('" + key + "')</code> = <strong>" + pathParams[key] + "</strong></p>";
    }
    output += "</div>";
  }
  output += "</div>";
  
  // Query Params
  output += "<div style='background:#f0fff0;padding:15px;border-radius:8px'>";
  output += "<h4 style='margin-top:0'> Query Parameters</h4>";
  output += "<pre style='background:#1e1e1e;color:#9cdcfe;padding:10px;border-radius:4px;font-size:12px'>";
  output += "route.queryParamMap:\\n";
  output += JSON.stringify(queryParams, null, 2);
  output += "</pre>";
  if (Object.keys(queryParams).length) {
    output += "<div style='margin-top:10px'>";
    for (let key in queryParams) {
      output += "<p style='margin:5px 0'><code>queryParams.get('" + key + "')</code> = <strong>" + queryParams[key] + "</strong></p>";
    }
    output += "</div>";
  }
  output += "</div>";
  
  output += "</div>";
  
  // Fragment
  if (fragment) {
    output += "<div style='background:#fff3e0;padding:15px;border-radius:8px;margin-top:20px'>";
    output += "<h4 style='margin-top:0'># Fragment</h4>";
    output += "<p><code>route.fragment</code> = <strong>" + fragment + "</strong></p>";
    output += "</div>";
  }
  
  document.getElementById("demo").innerHTML = output;
}

function buildUrl() {
  let url = currentPath;
  if (Object.keys(queryParams).length) {
    url += "?" + Object.entries(queryParams).map(function([k, v]) {
      return k + "=" + encodeURIComponent(v);
    }).join("&");
  }
  if (fragment) {
    url += "#" + fragment;
  }
  return url;
}

function navigateTo(url) {
  parseUrl(url);
  render();
}

function goToUrl() {
  let url = document.getElementById("urlInput").value;
  parseUrl(url);
  render();
}

parseUrl("/products");
render();
</script>

</body>
</html>`,
    },

    // PHASE 4 continued - Lazy Loading, Guards, Resolvers
    'lazy-loading': {
      title: 'Angular Lazy Loading',
      content: `# Lazy Loading Modules

Load feature modules on demand for better performance.

### Why Lazy Loading?

- Smaller initial bundle
- Faster first paint
- Load features when needed
- Better user experience

### Lazy Route Configuration

\`\`\`typescript
const routes: Routes = [
  { path: '', component: HomeComponent },
  {
    path: 'admin',
    loadChildren: () => import('./admin/admin.module')
      .then(m => m.AdminModule)
  },
  {
    path: 'dashboard',
    loadComponent: () => import('./dashboard/dashboard.component')
      .then(c => c.DashboardComponent)
  }
];
\`\`\`

### Feature Module Setup

\`\`\`typescript
// admin.module.ts
@NgModule({
  imports: [
    CommonModule,
    RouterModule.forChild([
      { path: '', component: AdminHomeComponent },
      { path: 'users', component: AdminUsersComponent }
    ])
  ],
  declarations: [AdminHomeComponent, AdminUsersComponent]
})
export class AdminModule { }
\`\`\`

### Preloading Strategies

\`\`\`typescript
// Preload all lazy modules
RouterModule.forRoot(routes, {
  preloadingStrategy: PreloadAllModules
});

// Custom preloading
@Injectable()
export class SelectivePreload implements PreloadingStrategy {
  preload(route: Route, load: () => Observable<any>) {
    return route.data?.['preload'] ? load() : of(null);
  }
}
\`\`\`

### Bundle Analysis

Check lazy chunks with:

\`\`\`bash
ng build --stats-json
npx webpack-bundle-analyzer dist/stats.json
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Angular Lazy Loading</h2>
<div id="demo"></div>

<script>
// Simulating lazy loading

let loadedModules = new Set(["main"]);
let currentRoute = "/";
let loadingModule = null;

let routes = {
  "/": { module: "main", component: "HomeComponent", title: "Home" },
  "/admin": { module: "admin", component: "AdminHomeComponent", title: "Admin Dashboard" },
  "/admin/users": { module: "admin", component: "AdminUsersComponent", title: "Manage Users" },
  "/dashboard": { module: "dashboard", component: "DashboardComponent", title: "Dashboard" },
  "/reports": { module: "reports", component: "ReportsComponent", title: "Reports" }
};

let moduleSizes = {
  "main": 150,
  "admin": 85,
  "dashboard": 45,
  "reports": 120
};

function render() {
  let output = "";
  
  // Bundle Visualization
  output += "<div style='background:#1e1e1e;padding:20px;border-radius:8px;margin-bottom:20px'>";
  output += "<h4 style='color:#4ec9b0;margin-top:0'> Bundle Status</h4>";
  output += "<div style='display:flex;gap:15px;flex-wrap:wrap'>";
  
  for (let mod in moduleSizes) {
    let isLoaded = loadedModules.has(mod);
    let isLoading = loadingModule === mod;
    
    output += "<div style='padding:15px;background:" + (isLoaded ? "#4caf50" : (isLoading ? "#ff9800" : "#333")) + ";border-radius:8px;text-align:center;min-width:80px'>";
    output += "<div style='color:white;font-weight:bold'>" + mod + "</div>";
    output += "<div style='color:rgba(255,255,255,0.7);font-size:12px'>" + moduleSizes[mod] + " KB</div>";
    output += "<div style='color:rgba(255,255,255,0.7);font-size:11px;margin-top:5px'>";
    output += isLoaded ? " Loaded" : (isLoading ? " Loading..." : " Not loaded");
    output += "</div>";
    output += "</div>";
  }
  
  output += "</div>";
  
  // Loaded size
  let loadedSize = 0;
  loadedModules.forEach(function(mod) {
    loadedSize += moduleSizes[mod];
  });
  let totalSize = Object.values(moduleSizes).reduce(function(a, b) { return a + b; }, 0);
  
  output += "<p style='color:#9cdcfe;margin-top:15px'>Initial Bundle: <strong style='color:#4caf50'>" + loadedSize + " KB</strong> / " + totalSize + " KB total</p>";
  output += "</div>";
  
  // Navigation
  output += "<nav style='background:#DD0031;padding:15px;border-radius:8px 8px 0 0'>";
  output += "<div style='display:flex;gap:15px'>";
  
  Object.keys(routes).forEach(function(path) {
    let isActive = currentRoute === path;
    let route = routes[path];
    let isLazy = route.module !== "main";
    
    output += "<a href='#' onclick='navigate(\"" + path + "\"); return false;' style='color:" + (isActive ? "#fff" : "rgba(255,255,255,0.7)") + ";text-decoration:none;padding:5px 10px;background:" + (isActive ? "rgba(255,255,255,0.2)" : "transparent") + ";border-radius:4px'>";
    output += route.title;
    if (isLazy && !loadedModules.has(route.module)) {
      output += " <span style='font-size:10px;background:rgba(255,255,255,0.3);padding:2px 5px;border-radius:3px'>LAZY</span>";
    }
    output += "</a>";
  });
  
  output += "</div>";
  output += "</nav>";
  
  // Content
  output += "<div style='border:1px solid #ddd;border-top:none;padding:20px;min-height:200px;background:#fff;border-radius:0 0 8px 8px'>";
  
  if (loadingModule) {
    output += "<div style='text-align:center;padding:50px'>";
    output += "<div style='font-size:40px;margin-bottom:10px'></div>";
    output += "<p>Loading <strong>" + loadingModule + "</strong> module...</p>";
    output += "</div>";
  } else {
    let route = routes[currentRoute];
    if (route) {
      output += "<h3 style='color:#DD0031'>" + route.title + "</h3>";
      output += "<p>Component: <code>" + route.component + "</code></p>";
      output += "<p>Module: <code>" + route.module + "</code></p>";
    }
  }
  
  output += "</div>";
  
  // Code example
  output += "<div style='margin-top:20px;background:#1e1e1e;padding:15px;border-radius:8px'>";
  output += "<h4 style='color:#4ec9b0;margin-top:0'>Route Configuration</h4>";
  output += "<pre style='color:#9cdcfe;font-size:12px;margin:0'>";
  output += "{\n";
  output += "  path: 'admin',\n";
  output += "  loadChildren: () => import('./admin/admin.module')\n";
  output += "    .then(m => m.AdminModule)\n";
  output += "}";
  output += "</pre>";
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

function navigate(path) {
  let route = routes[path];
  if (!route) return;
  
  if (!loadedModules.has(route.module)) {
    // Simulate lazy loading
    loadingModule = route.module;
    render();
    
    setTimeout(function() {
      loadedModules.add(route.module);
      loadingModule = null;
      currentRoute = path;
      render();
    }, 1000);
  } else {
    currentRoute = path;
    render();
  }
}

render();
</script>

</body>
</html>`,
    },

    'guards': {
      title: 'Angular Guards',
      content: `# Route Guards

Protect routes with authentication and authorization.

### Types of Guards

| Guard | Purpose |
|-------|---------|
| \`CanActivate\` | Can route be activated? |
| \`CanDeactivate\` | Can leave current route? |
| \`CanLoad\` | Can lazy module load? |
| \`CanActivateChild\` | Can child routes activate? |
| \`Resolve\` | Pre-fetch data before activation |

### Auth Guard Example

\`\`\`typescript
@Injectable({ providedIn: 'root' })
export class AuthGuard implements CanActivate {
  constructor(
    private authService: AuthService,
    private router: Router
  ) {}
  
  canActivate(
    route: ActivatedRouteSnapshot,
    state: RouterStateSnapshot
  ): boolean | UrlTree {
    if (this.authService.isLoggedIn()) {
      return true;
    }
    
    // Redirect to login with return URL
    return this.router.createUrlTree(['/login'], {
      queryParams: { returnUrl: state.url }
    });
  }
}
\`\`\`

### Role-Based Guard

\`\`\`typescript
@Injectable({ providedIn: 'root' })
export class RoleGuard implements CanActivate {
  constructor(private authService: AuthService) {}
  
  canActivate(route: ActivatedRouteSnapshot): boolean {
    const requiredRoles = route.data['roles'] as string[];
    const userRoles = this.authService.getUserRoles();
    
    return requiredRoles.some(role => userRoles.includes(role));
  }
}
\`\`\`

### Route Configuration

\`\`\`typescript
const routes: Routes = [
  {
    path: 'admin',
    component: AdminComponent,
    canActivate: [AuthGuard, RoleGuard],
    data: { roles: ['admin', 'superadmin'] }
  },
  {
    path: 'dashboard',
    loadChildren: () => import('./dashboard/dashboard.module'),
    canLoad: [AuthGuard]
  }
];
\`\`\`

### Functional Guards (Modern)

\`\`\`typescript
export const authGuard: CanActivateFn = (route, state) => {
  const authService = inject(AuthService);
  const router = inject(Router);
  
  return authService.isLoggedIn() 
    || router.createUrlTree(['/login']);
};
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Angular Route Guards</h2>
<div id="demo"></div>

<script>
let auth = {
  isLoggedIn: false,
  user: null,
  roles: []
};

let routes = {
  "/": { public: true, title: "Home" },
  "/login": { public: true, title: "Login" },
  "/dashboard": { public: false, title: "Dashboard", roles: ["user", "admin"] },
  "/admin": { public: false, title: "Admin Panel", roles: ["admin"] },
  "/settings": { public: false, title: "Settings", roles: ["user", "admin"] }
};

let currentRoute = "/";
let guardLog = [];

function log(message, type) {
  guardLog.unshift({ message, type, time: new Date().toLocaleTimeString() });
  if (guardLog.length > 8) guardLog.pop();
}

function canActivate(route) {
  let config = routes[route];
  
  if (config.public) {
    log(" Public route - access granted", "success");
    return true;
  }
  
  if (!auth.isLoggedIn) {
    log(" AuthGuard: User not logged in", "error");
    return false;
  }
  
  if (config.roles && config.roles.length) {
    let hasRole = config.roles.some(function(role) {
      return auth.roles.includes(role);
    });
    
    if (!hasRole) {
      log(" RoleGuard: Missing required role (" + config.roles.join(" or ") + ")", "error");
      return false;
    }
    
    log(" RoleGuard: Access granted (role: " + auth.roles.join(", ") + ")", "success");
  }
  
  return true;
}

function render() {
  let output = "";
  
  // Auth Status
  output += "<div style='background:" + (auth.isLoggedIn ? "#e8f5e9" : "#ffebee") + ";padding:15px;border-radius:8px;margin-bottom:20px;display:flex;justify-content:space-between;align-items:center'>";
  output += "<div>";
  output += "<strong>Auth Status:</strong> " + (auth.isLoggedIn ? " Logged In" : " Logged Out");
  if (auth.user) {
    output += "<br><span style='color:#666'>User: " + auth.user + " | Roles: " + auth.roles.join(", ") + "</span>";
  }
  output += "</div>";
  output += "<div>";
  if (auth.isLoggedIn) {
    output += "<button onclick='logout()' style='padding:8px 16px;background:#f44336;color:white;border:none;border-radius:4px;cursor:pointer'>Logout</button>";
  } else {
    output += "<button onclick='loginAs(\"user\")' style='padding:8px 16px;background:#2196f3;color:white;border:none;border-radius:4px;cursor:pointer;margin-right:10px'>Login as User</button>";
    output += "<button onclick='loginAs(\"admin\")' style='padding:8px 16px;background:#DD0031;color:white;border:none;border-radius:4px;cursor:pointer'>Login as Admin</button>";
  }
  output += "</div>";
  output += "</div>";
  
  // Navigation
  output += "<nav style='background:#333;padding:15px;border-radius:8px 8px 0 0'>";
  output += "<div style='display:flex;gap:15px'>";
  
  Object.keys(routes).forEach(function(path) {
    let config = routes[path];
    let isActive = currentRoute === path;
    let isProtected = !config.public;
    let canAccess = canActivateCheck(path);
    
    output += "<a href='#' onclick='navigate(\"" + path + "\"); return false;' style='color:" + (canAccess ? (isActive ? "#fff" : "rgba(255,255,255,0.7)") : "#f44336") + ";text-decoration:none;padding:5px 10px;background:" + (isActive ? "rgba(255,255,255,0.2)" : "transparent") + ";border-radius:4px'>";
    output += config.title;
    if (isProtected) {
      output += " <span style='font-size:10px'></span>";
    }
    output += "</a>";
  });
  
  output += "</div>";
  output += "</nav>";
  
  // Content
  output += "<div style='border:1px solid #ddd;border-top:none;padding:20px;min-height:150px;background:#fff;border-radius:0 0 8px 8px'>";
  
  let config = routes[currentRoute];
  if (currentRoute === "/login") {
    output += "<h3>Login Page</h3>";
    output += "<p>Choose a role to login:</p>";
    output += "<button onclick='loginAs(\"user\")' style='padding:10px 20px;margin-right:10px;background:#2196f3;color:white;border:none;border-radius:4px;cursor:pointer'>Login as User</button>";
    output += "<button onclick='loginAs(\"admin\")' style='padding:10px 20px;background:#DD0031;color:white;border:none;border-radius:4px;cursor:pointer'>Login as Admin</button>";
  } else {
    output += "<h3 style='color:#DD0031'>" + config.title + "</h3>";
    output += "<p>Welcome to " + config.title + "!</p>";
    if (config.roles) {
      output += "<p style='color:#666'>Required roles: " + config.roles.join(", ") + "</p>";
    }
  }
  
  output += "</div>";
  
  // Guard Log
  output += "<div style='margin-top:20px;background:#1e1e1e;padding:15px;border-radius:8px'>";
  output += "<h4 style='color:#4ec9b0;margin-top:0'> Guard Log</h4>";
  output += "<div style='font-family:monospace;font-size:12px;max-height:200px;overflow-y:auto'>";
  guardLog.forEach(function(entry) {
    let color = entry.type === "success" ? "#4caf50" : "#f44336";
    output += "<div style='padding:5px 0;border-bottom:1px solid #333;color:" + color + "'>";
    output += "<span style='color:#666'>[" + entry.time + "]</span> " + entry.message;
    output += "</div>";
  });
  if (!guardLog.length) {
    output += "<div style='color:#666'>Navigate to see guard logs...</div>";
  }
  output += "</div>";
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

function canActivateCheck(route) {
  let config = routes[route];
  if (config.public) return true;
  if (!auth.isLoggedIn) return false;
  if (config.roles && config.roles.length) {
    return config.roles.some(function(role) {
      return auth.roles.includes(role);
    });
  }
  return true;
}

function navigate(path) {
  log(" NavigationStart: " + path, "info");
  
  if (canActivate(path)) {
    currentRoute = path;
  } else {
    log(" Redirecting to /login", "error");
    currentRoute = "/login";
  }
  
  render();
}

function loginAs(role) {
  auth.isLoggedIn = true;
  auth.user = role === "admin" ? "Admin User" : "Regular User";
  auth.roles = role === "admin" ? ["user", "admin"] : ["user"];
  log(" Logged in as " + role, "success");
  navigate("/dashboard");
}

function logout() {
  auth.isLoggedIn = false;
  auth.user = null;
  auth.roles = [];
  log(" Logged out", "info");
  navigate("/");
}

render();
</script>

</body>
</html>`,
    },

    'resolvers': {
      title: 'Angular Resolvers',
      content: `# Route Resolvers

Pre-fetch data before route activation.

### Why Resolvers?

- Load data before component renders
- Prevent loading spinners in components
- Handle errors in one place
- Better UX for data-dependent views

### Basic Resolver

\`\`\`typescript
@Injectable({ providedIn: 'root' })
export class UserResolver implements Resolve<User> {
  constructor(private userService: UserService) {}
  
  resolve(route: ActivatedRouteSnapshot): Observable<User> {
    const userId = route.paramMap.get('id');
    return this.userService.getUser(userId);
  }
}
\`\`\`

### Route Configuration

\`\`\`typescript
const routes: Routes = [
  {
    path: 'users/:id',
    component: UserDetailComponent,
    resolve: {
      user: UserResolver
    }
  }
];
\`\`\`

### Access Resolved Data

\`\`\`typescript
export class UserDetailComponent implements OnInit {
  user: User;
  
  constructor(private route: ActivatedRoute) {}
  
  ngOnInit() {
    // Snapshot
    this.user = this.route.snapshot.data['user'];
    
    // Or Observable
    this.route.data.subscribe(data => {
      this.user = data['user'];
    });
  }
}
\`\`\`

### Functional Resolver (Modern)

\`\`\`typescript
export const userResolver: ResolveFn<User> = (route) => {
  const userService = inject(UserService);
  const userId = route.paramMap.get('id');
  return userService.getUser(userId);
};

// Usage
{
  path: 'users/:id',
  resolve: { user: userResolver }
}
\`\`\`

### Error Handling

\`\`\`typescript
resolve(route: ActivatedRouteSnapshot): Observable<User> {
  return this.userService.getUser(route.paramMap.get('id')).pipe(
    catchError(error => {
      this.router.navigate(['/error']);
      return EMPTY;
    })
  );
}
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Angular Resolvers</h2>
<div id="demo"></div>

<script>
// Simulated database
let database = {
  users: [
    { id: 1, name: "John Doe", email: "john@example.com", role: "Developer" },
    { id: 2, name: "Jane Smith", email: "jane@example.com", role: "Designer" },
    { id: 3, name: "Bob Wilson", email: "bob@example.com", role: "Manager" }
  ],
  posts: [
    { id: 1, title: "Angular Resolvers Guide", author: "John", views: 1200 },
    { id: 2, title: "RxJS Patterns", author: "Jane", views: 850 },
    { id: 3, title: "Enterprise Architecture", author: "Bob", views: 2100 }
  ]
};

let currentRoute = "/users";
let resolvedData = null;
let isResolving = false;
let resolverLog = [];

function log(message) {
  resolverLog.unshift({ message, time: new Date().toLocaleTimeString() });
  if (resolverLog.length > 6) resolverLog.pop();
}

// Simulate async data fetching
function fetchUser(id) {
  return new Promise(function(resolve, reject) {
    setTimeout(function() {
      let user = database.users.find(function(u) { return u.id === parseInt(id); });
      if (user) {
        resolve(user);
      } else {
        reject("User not found");
      }
    }, 800);
  });
}

function fetchPost(id) {
  return new Promise(function(resolve, reject) {
    setTimeout(function() {
      let post = database.posts.find(function(p) { return p.id === parseInt(id); });
      if (post) {
        resolve(post);
      } else {
        reject("Post not found");
      }
    }, 600);
  });
}

function render() {
  let output = "";
  
  // Navigation
  output += "<nav style='background:#DD0031;padding:15px;border-radius:8px 8px 0 0'>";
  output += "<div style='display:flex;gap:15px;flex-wrap:wrap'>";
  
  let navItems = [
    { path: "/users", label: "Users List" },
    { path: "/users/1", label: "User #1" },
    { path: "/users/2", label: "User #2" },
    { path: "/posts/1", label: "Post #1" },
    { path: "/users/999", label: "User #999 (Error)" }
  ];
  
  navItems.forEach(function(item) {
    let isActive = currentRoute === item.path;
    output += "<a href='#' onclick='navigate(\"" + item.path + "\"); return false;' style='color:" + (isActive ? "#fff" : "rgba(255,255,255,0.7)") + ";text-decoration:none;padding:5px 10px;background:" + (isActive ? "rgba(255,255,255,0.2)" : "transparent") + ";border-radius:4px'>" + item.label + "</a>";
  });
  
  output += "</div>";
  output += "</nav>";
  
  // Content
  output += "<div style='border:1px solid #ddd;border-top:none;padding:20px;min-height:200px;background:#fff;border-radius:0 0 8px 8px'>";
  
  if (isResolving) {
    output += "<div style='text-align:center;padding:40px'>";
    output += "<div style='font-size:40px;margin-bottom:15px'></div>";
    output += "<p>Resolver is fetching data...</p>";
    output += "<div style='width:200px;height:4px;background:#eee;border-radius:2px;margin:15px auto'>";
    output += "<div style='width:60%;height:100%;background:#DD0031;border-radius:2px;animation:pulse 1s infinite'></div>";
    output += "</div>";
    output += "</div>";
  } else if (resolvedData && resolvedData.error) {
    output += "<div style='text-align:center;padding:40px;color:#f44336'>";
    output += "<div style='font-size:40px;margin-bottom:15px'></div>";
    output += "<h3>Error</h3>";
    output += "<p>" + resolvedData.error + "</p>";
    output += "<button onclick='navigate(\"/users\")' style='padding:10px 20px;background:#DD0031;color:white;border:none;border-radius:4px;cursor:pointer'>Go Back</button>";
    output += "</div>";
  } else if (resolvedData) {
    output += "<div style='background:#e8f5e9;padding:15px;border-radius:8px;margin-bottom:15px'>";
    output += "<strong> Data resolved before component rendered</strong>";
    output += "</div>";
    
    if (resolvedData.type === "user") {
      output += "<h3 style='color:#DD0031'>User Details</h3>";
      output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px'>";
      output += "<p><strong>ID:</strong> " + resolvedData.data.id + "</p>";
      output += "<p><strong>Name:</strong> " + resolvedData.data.name + "</p>";
      output += "<p><strong>Email:</strong> " + resolvedData.data.email + "</p>";
      output += "<p><strong>Role:</strong> " + resolvedData.data.role + "</p>";
      output += "</div>";
    } else if (resolvedData.type === "post") {
      output += "<h3 style='color:#DD0031'>Post Details</h3>";
      output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px'>";
      output += "<p><strong>Title:</strong> " + resolvedData.data.title + "</p>";
      output += "<p><strong>Author:</strong> " + resolvedData.data.author + "</p>";
      output += "<p><strong>Views:</strong> " + resolvedData.data.views + "</p>";
      output += "</div>";
    } else if (resolvedData.type === "list") {
      output += "<h3 style='color:#DD0031'>Users</h3>";
      output += "<ul style='list-style:none;padding:0'>";
      database.users.forEach(function(user) {
        output += "<li onclick='navigate(\"/users/" + user.id + "\")' style='padding:15px;background:#f5f5f5;margin:8px 0;border-radius:8px;cursor:pointer;display:flex;align-items:center'>";
        output += "<span style='font-size:24px;margin-right:15px'></span>";
        output += "<div><strong>" + user.name + "</strong><br><span style='color:#666'>" + user.email + "</span></div>";
        output += "</li>";
      });
      output += "</ul>";
    }
    
    output += "<div style='margin-top:15px;padding:15px;background:#e3f2fd;border-radius:8px'>";
    output += "<strong>Component Access:</strong>";
    output += "<pre style='margin:10px 0 0 0;font-size:12px'>this.route.snapshot.data['user']</pre>";
    output += "</div>";
  }
  
  output += "</div>";
  
  // Resolver Log
  output += "<div style='margin-top:20px;background:#1e1e1e;padding:15px;border-radius:8px'>";
  output += "<h4 style='color:#4ec9b0;margin-top:0'> Resolver Log</h4>";
  output += "<div style='font-family:monospace;font-size:12px'>";
  resolverLog.forEach(function(entry) {
    output += "<div style='padding:5px 0;border-bottom:1px solid #333;color:#9cdcfe'>";
    output += "<span style='color:#666'>[" + entry.time + "]</span> " + entry.message;
    output += "</div>";
  });
  if (!resolverLog.length) {
    output += "<div style='color:#666'>Navigate to see resolver activity...</div>";
  }
  output += "</div>";
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

function navigate(path) {
  currentRoute = path;
  isResolving = true;
  resolvedData = null;
  render();
  
  log(" Route: " + path);
  
  // Parse route and resolve data
  let parts = path.split("/").filter(Boolean);
  
  if (parts[0] === "users" && parts[1]) {
    log(" UserResolver.resolve({ id: " + parts[1] + " })");
    
    fetchUser(parts[1]).then(function(user) {
      log(" Resolved user: " + user.name);
      isResolving = false;
      resolvedData = { type: "user", data: user };
      render();
    }).catch(function(error) {
      log(" Resolver error: " + error);
      isResolving = false;
      resolvedData = { error: error };
      render();
    });
  } else if (parts[0] === "posts" && parts[1]) {
    log(" PostResolver.resolve({ id: " + parts[1] + " })");
    
    fetchPost(parts[1]).then(function(post) {
      log(" Resolved post: " + post.title);
      isResolving = false;
      resolvedData = { type: "post", data: post };
      render();
    }).catch(function(error) {
      log(" Resolver error: " + error);
      isResolving = false;
      resolvedData = { error: error };
      render();
    });
  } else if (parts[0] === "users") {
    log(" No resolver needed for list view");
    isResolving = false;
    resolvedData = { type: "list" };
    render();
  } else {
    isResolving = false;
    resolvedData = { type: "list" };
    render();
  }
}

navigate("/users");
</script>

</body>
</html>`,
    },

    // PHASE 5  SERVICES & DATA FLOW
    'services-di': {
      title: 'Angular Services & DI',
      content: `# Services & Dependency Injection

Angular's powerful DI system for clean architecture.

### What is a Service?

A class with a focused purpose:
- API calls
- State management
- Shared logic
- Cross-component communication

### Creating a Service

\`\`\`typescript
@Injectable({
  providedIn: 'root' // Singleton
})
export class UserService {
  private users: User[] = [];
  
  getUsers(): Observable<User[]> {
    return this.http.get<User[]>('/api/users');
  }
  
  addUser(user: User): void {
    this.users.push(user);
  }
}
\`\`\`

### Provider Hierarchy

| Level | Scope | Usage |
|-------|-------|-------|
| \`root\` | App-wide singleton | Most services |
| Module | Module singleton | Feature isolation |
| Component | Instance per component | Stateful components |

### Injecting Services

\`\`\`typescript
// Constructor injection
@Component({...})
export class UserComponent {
  constructor(private userService: UserService) {}
}

// inject() function (modern)
@Component({...})
export class UserComponent {
  private userService = inject(UserService);
}
\`\`\`

### Singleton vs Scoped Services

\`\`\`typescript
// Singleton (shared state)
@Injectable({ providedIn: 'root' })
export class AuthService { }

// New instance per component
@Component({
  providers: [FormStateService]
})
export class FormComponent { }
\`\`\`

### Service Design Patterns

1. **Stateless**: Pure functions, no state
2. **Stateful**: Manages shared state
3. **Facade**: Simplifies complex APIs
4. **Repository**: Data access abstraction
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Angular Services & DI</h2>
<div id="demo"></div>

<script>
// Simulating Angular's DI system

// Services (Singletons)
let services = {
  authService: {
    name: "AuthService",
    scope: "root",
    instance: null,
    state: { isLoggedIn: false, user: null }
  },
  userService: {
    name: "UserService",
    scope: "root",
    instance: null,
    users: [
      { id: 1, name: "John Doe" },
      { id: 2, name: "Jane Smith" }
    ]
  },
  logService: {
    name: "LogService",
    scope: "root",
    instance: null,
    logs: []
  }
};

// Component instances with their injected services
let components = [
  { name: "AppComponent", injected: ["authService", "logService"] },
  { name: "UserListComponent", injected: ["userService", "logService"] },
  { name: "HeaderComponent", injected: ["authService"] }
];

function render() {
  let output = "";
  
  // Services Registry
  output += "<div style='background:#e3f2fd;padding:20px;border-radius:8px;margin-bottom:20px'>";
  output += "<h4 style='margin-top:0'> Services Registry (Injector)</h4>";
  output += "<div style='display:flex;gap:15px;flex-wrap:wrap'>";
  
  for (let key in services) {
    let service = services[key];
    output += "<div style='background:white;padding:15px;border-radius:8px;border:2px solid #2196f3;min-width:150px'>";
    output += "<strong style='color:#2196f3'>" + service.name + "</strong>";
    output += "<div style='font-size:12px;color:#666;margin-top:5px'>Scope: " + service.scope + "</div>";
    output += "<div style='font-size:12px;color:#666'>Instance: " + (service.instance ? " Created" : " Lazy") + "</div>";
    output += "</div>";
  }
  
  output += "</div>";
  output += "</div>";
  
  // Components with DI
  output += "<div style='background:#fff5f7;padding:20px;border-radius:8px;margin-bottom:20px'>";
  output += "<h4 style='margin-top:0'> Components with Injected Services</h4>";
  
  components.forEach(function(comp) {
    output += "<div style='background:white;padding:15px;border-radius:8px;margin:10px 0;border-left:4px solid #DD0031'>";
    output += "<strong>" + comp.name + "</strong>";
    output += "<div style='margin-top:10px;display:flex;gap:10px;flex-wrap:wrap'>";
    comp.injected.forEach(function(svc) {
      output += "<span style='padding:5px 10px;background:#e3f2fd;border-radius:4px;font-size:12px'> " + services[svc].name + "</span>";
    });
    output += "</div>";
    output += "</div>";
  });
  
  output += "</div>";
  
  // Interactive Demo
  output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px;margin-bottom:20px'>";
  output += "<h4 style='margin-top:0'> Interactive Demo</h4>";
  
  // AuthService Demo
  output += "<div style='background:white;padding:15px;border-radius:8px;margin-bottom:15px'>";
  output += "<strong>AuthService</strong> (Shared across components)";
  output += "<div style='margin-top:10px'>";
  output += "<span style='color:" + (services.authService.state.isLoggedIn ? "#4caf50" : "#f44336") + "'>Status: " + (services.authService.state.isLoggedIn ? "Logged In" : "Logged Out") + "</span>";
  if (services.authService.state.user) {
    output += " | User: " + services.authService.state.user;
  }
  output += "</div>";
  output += "<button onclick='toggleAuth()' style='margin-top:10px;padding:8px 16px;background:#DD0031;color:white;border:none;border-radius:4px;cursor:pointer'>" + (services.authService.state.isLoggedIn ? "Logout" : "Login") + "</button>";
  output += "</div>";
  
  // UserService Demo
  output += "<div style='background:white;padding:15px;border-radius:8px;margin-bottom:15px'>";
  output += "<strong>UserService</strong> (Data access)";
  output += "<ul style='margin:10px 0;padding-left:20px'>";
  services.userService.users.forEach(function(user) {
    output += "<li>" + user.name + "</li>";
  });
  output += "</ul>";
  output += "<button onclick='addUser()' style='padding:8px 16px;background:#2196f3;color:white;border:none;border-radius:4px;cursor:pointer'>Add User</button>";
  output += "</div>";
  
  // LogService Demo
  output += "<div style='background:white;padding:15px;border-radius:8px'>";
  output += "<strong>LogService</strong> (Cross-cutting concern)";
  output += "<div style='margin-top:10px;background:#1e1e1e;padding:10px;border-radius:4px;max-height:100px;overflow-y:auto'>";
  if (services.logService.logs.length === 0) {
    output += "<span style='color:#666'>No logs yet...</span>";
  }
  services.logService.logs.slice(-5).forEach(function(log) {
    output += "<div style='color:#9cdcfe;font-size:12px;font-family:monospace'>" + log + "</div>";
  });
  output += "</div>";
  output += "</div>";
  
  output += "</div>";
  
  // Code Example
  output += "<div style='background:#1e1e1e;padding:15px;border-radius:8px'>";
  output += "<h4 style='color:#4ec9b0;margin-top:0'>Service Definition</h4>";
  output += "<pre style='color:#9cdcfe;font-size:12px;margin:0'>";
  output += "@Injectable({ providedIn: 'root' })\\n";
  output += "export class UserService {\\n";
  output += "  constructor(private http: HttpClient) {}\\n\\n";
  output += "  getUsers(): Observable<User[]> {\\n";
  output += "    return this.http.get<User[]>('/api/users');\\n";
  output += "  }\\n";
  output += "}";
  output += "</pre>";
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

function toggleAuth() {
  services.authService.instance = true;
  services.authService.state.isLoggedIn = !services.authService.state.isLoggedIn;
  services.authService.state.user = services.authService.state.isLoggedIn ? "Admin" : null;
  
  services.logService.instance = true;
  services.logService.logs.push("[" + new Date().toLocaleTimeString() + "] AuthService: " + (services.authService.state.isLoggedIn ? "User logged in" : "User logged out"));
  
  render();
}

function addUser() {
  services.userService.instance = true;
  let newId = services.userService.users.length + 1;
  services.userService.users.push({ id: newId, name: "User " + newId });
  
  services.logService.instance = true;
  services.logService.logs.push("[" + new Date().toLocaleTimeString() + "] UserService: Added User " + newId);
  
  render();
}

render();
</script>

</body>
</html>`,
    },

    // Add remaining lessons...
    'http-client': {
      title: 'Angular HTTP Client',
      content: `# Angular HTTP Client

Make API requests with Angular's HttpClient.

### Setup

\`\`\`typescript
// app.config.ts (standalone)
import { provideHttpClient } from '@angular/common/http';

export const appConfig = {
  providers: [provideHttpClient()]
};
\`\`\`

### Basic Requests

\`\`\`typescript
@Injectable({ providedIn: 'root' })
export class ApiService {
  constructor(private http: HttpClient) {}
  
  // GET
  getUsers(): Observable<User[]> {
    return this.http.get<User[]>('/api/users');
  }
  
  // POST
  createUser(user: User): Observable<User> {
    return this.http.post<User>('/api/users', user);
  }
  
  // PUT
  updateUser(id: number, user: User): Observable<User> {
    return this.http.put<User>(\`/api/users/\${id}\`, user);
  }
  
  // DELETE
  deleteUser(id: number): Observable<void> {
    return this.http.delete<void>(\`/api/users/\${id}\`);
  }
}
\`\`\`

### Request Options

\`\`\`typescript
this.http.get<User[]>('/api/users', {
  headers: new HttpHeaders({
    'Authorization': 'Bearer token'
  }),
  params: new HttpParams()
    .set('page', '1')
    .set('limit', '10'),
  observe: 'response' // Full response
});
\`\`\`

### Error Handling

\`\`\`typescript
getUsers(): Observable<User[]> {
  return this.http.get<User[]>('/api/users').pipe(
    retry(3),
    catchError(this.handleError)
  );
}

private handleError(error: HttpErrorResponse) {
  console.error('API Error:', error);
  return throwError(() => new Error('Something went wrong'));
}
\`\`\`

### Observables

HTTP calls return Observables:
- Subscribe to execute
- Can be cancelled
- Support operators (map, filter, etc.)
- Hot vs Cold (HTTP is cold)
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Angular HTTP Client</h2>
<div id="demo"></div>

<script>
// Simulating HTTP Client and API

let mockDatabase = {
  users: [
    { id: 1, name: "John Doe", email: "john@example.com" },
    { id: 2, name: "Jane Smith", email: "jane@example.com" }
  ]
};

let requestLog = [];

function simulateHttp(method, url, body) {
  return new Promise(function(resolve, reject) {
    let startTime = Date.now();
    
    // Log request
    requestLog.unshift({
      method: method,
      url: url,
      status: "pending",
      time: new Date().toLocaleTimeString()
    });
    render();
    
    // Simulate network delay
    setTimeout(function() {
      let response;
      let status = 200;
      
      if (url === "/api/users" && method === "GET") {
        response = { data: mockDatabase.users };
      } else if (url === "/api/users" && method === "POST") {
        let newUser = { ...body, id: mockDatabase.users.length + 1 };
        mockDatabase.users.push(newUser);
        response = { data: newUser };
        status = 201;
      } else if (url.match(/\\/api\\/users\\/\\d+/) && method === "DELETE") {
        let id = parseInt(url.split("/").pop());
        mockDatabase.users = mockDatabase.users.filter(function(u) { return u.id !== id; });
        response = { data: null };
        status = 204;
      } else {
        status = 404;
        response = { error: "Not found" };
      }
      
      // Update log
      requestLog[0].status = status;
      requestLog[0].duration = Date.now() - startTime;
      
      if (status >= 400) {
        reject(response);
      } else {
        resolve(response);
      }
      
      render();
    }, 500 + Math.random() * 500);
  });
}

function render() {
  let output = "";
  
  // Request Controls
  output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px;margin-bottom:20px'>";
  output += "<h4 style='margin-top:0'> HTTP Requests</h4>";
  output += "<div style='display:flex;gap:10px;flex-wrap:wrap'>";
  output += "<button onclick='fetchUsers()' style='padding:10px 20px;background:#4caf50;color:white;border:none;border-radius:4px;cursor:pointer'>GET /api/users</button>";
  output += "<button onclick='createUser()' style='padding:10px 20px;background:#2196f3;color:white;border:none;border-radius:4px;cursor:pointer'>POST /api/users</button>";
  output += "<button onclick='deleteUser()' style='padding:10px 20px;background:#f44336;color:white;border:none;border-radius:4px;cursor:pointer'>DELETE /api/users/1</button>";
  output += "</div>";
  output += "</div>";
  
  // Data Display
  output += "<div style='display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px'>";
  
  // Users List
  output += "<div style='background:#fff;padding:20px;border-radius:8px;border:1px solid #ddd'>";
  output += "<h4 style='margin-top:0'> Users (from API)</h4>";
  if (mockDatabase.users.length === 0) {
    output += "<p style='color:#666'>No users found</p>";
  }
  output += "<ul style='list-style:none;padding:0;margin:0'>";
  mockDatabase.users.forEach(function(user) {
    output += "<li style='padding:10px;background:#f5f5f5;margin:5px 0;border-radius:4px;display:flex;justify-content:space-between'>";
    output += "<span>" + user.name + "</span>";
    output += "<span style='color:#666;font-size:12px'>#" + user.id + "</span>";
    output += "</li>";
  });
  output += "</ul>";
  output += "</div>";
  
  // Request Log
  output += "<div style='background:#1e1e1e;padding:20px;border-radius:8px'>";
  output += "<h4 style='margin-top:0;color:#4ec9b0'> Request Log</h4>";
  output += "<div style='max-height:200px;overflow-y:auto'>";
  requestLog.slice(0, 6).forEach(function(req) {
    let statusColor = req.status === "pending" ? "#ff9800" : (req.status < 400 ? "#4caf50" : "#f44336");
    output += "<div style='padding:8px;border-bottom:1px solid #333;font-family:monospace;font-size:12px'>";
    output += "<span style='color:#ce9178'>" + req.method + "</span> ";
    output += "<span style='color:#9cdcfe'>" + req.url + "</span> ";
    output += "<span style='color:" + statusColor + "'>[" + req.status + "]</span>";
    if (req.duration) {
      output += " <span style='color:#666'>" + req.duration + "ms</span>";
    }
    output += "</div>";
  });
  if (requestLog.length === 0) {
    output += "<div style='color:#666'>Make a request to see logs...</div>";
  }
  output += "</div>";
  output += "</div>";
  
  output += "</div>";
  
  // Code Example
  output += "<div style='background:#1e1e1e;padding:15px;border-radius:8px'>";
  output += "<h4 style='color:#4ec9b0;margin-top:0'>HTTP Client Usage</h4>";
  output += "<pre style='color:#9cdcfe;font-size:12px;margin:0'>";
  output += "// GET request\\n";
  output += "this.http.get<User[]>('/api/users').subscribe({\\n";
  output += "  next: (users) => this.users = users,\\n";
  output += "  error: (err) => console.error(err)\\n";
  output += "});\\n\\n";
  output += "// POST request\\n";
  output += "this.http.post<User>('/api/users', newUser).subscribe();";
  output += "</pre>";
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

function fetchUsers() {
  simulateHttp("GET", "/api/users", null).then(function(res) {
    console.log("Users fetched:", res.data);
  }).catch(function(err) {
    console.error("Error:", err);
  });
}

function createUser() {
  let newUser = {
    name: "User " + (mockDatabase.users.length + 1),
    email: "user" + (mockDatabase.users.length + 1) + "@example.com"
  };
  simulateHttp("POST", "/api/users", newUser).then(function(res) {
    console.log("User created:", res.data);
  });
}

function deleteUser() {
  if (mockDatabase.users.length > 0) {
    let id = mockDatabase.users[0].id;
    simulateHttp("DELETE", "/api/users/" + id, null).then(function() {
      console.log("User deleted");
    });
  }
}

render();
</script>

</body>
</html>`,
    },

    // PHASE 5 continued  Interceptors & Error Handling
    'interceptors': {
      title: 'Angular Interceptors',
      content: `# Angular Interceptors 

Think of interceptors like **security guards at a building entrance**. Everyone who comes in or goes out passes through them!

### What Are Interceptors?

Imagine you're sending letters (HTTP requests) to your friend:
- An interceptor is like a **mail sorter** who checks every letter
- They can add stamps (tokens), check addresses, or even return letters that look suspicious!

### Why Use Interceptors?

| Use Case | Real-World Example |
|----------|-------------------|
| **Add Auth Token** | Like showing your ID card at every door |
| **Log Requests** | Like a security camera recording who comes and goes |
| **Handle Errors** | Like a receptionist who helps when something goes wrong |
| **Transform Data** | Like a translator who converts languages |

### Creating an Interceptor

\`\`\`typescript
// auth.interceptor.ts
// This is like hiring a security guard!

import { HttpInterceptorFn } from '@angular/common/http';

export const authInterceptor: HttpInterceptorFn = (req, next) => {
  // Get the secret password (token) from storage
  const token = localStorage.getItem('auth_token');
  
  // If we have a token, add it to every request
  // Like showing your ID badge at every door!
  if (token) {
    const clonedRequest = req.clone({
      headers: req.headers.set('Authorization', \`Bearer \${token}\`)
    });
    return next(clonedRequest);
  }
  
  // No token? Just let the request through
  return next(req);
};
\`\`\`

### Register in App Config

\`\`\`typescript
// app.config.ts
import { provideHttpClient, withInterceptors } from '@angular/common/http';
import { authInterceptor } from './auth.interceptor';

export const appConfig = {
  providers: [
    provideHttpClient(
      withInterceptors([authInterceptor])  // Add our guard!
    )
  ]
};
\`\`\`

### Logging Interceptor (For Debugging)

\`\`\`typescript
// Like a diary that writes down everything!
export const loggingInterceptor: HttpInterceptorFn = (req, next) => {
  console.log(' Request going out:', req.url);
  const startTime = Date.now();
  
  return next(req).pipe(
    tap({
      next: (response) => {
        const duration = Date.now() - startTime;
        console.log(\` Response received in \${duration}ms\`);
      },
      error: (error) => {
        console.log(' Oops! Something went wrong:', error.message);
      }
    })
  );
};
\`\`\`

### Key Points to Remember 

1. **Order Matters**: Interceptors run in order, like a line of security checkpoints
2. **Clone Requests**: Always clone before modifying (requests are immutable)
3. **Use for Cross-Cutting Concerns**: Things that apply to ALL requests
4. **Keep Them Simple**: Each interceptor should do ONE thing well

### Think of It Like This 

Interceptors are like a **factory assembly line**:
- Each station (interceptor) does a specific job
- The product (request) passes through each station
- At the end, you get a finished product ready to send!
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> HTTP Interceptors Demo</h2>
<div id="demo"></div>

<script>
// Simulate interceptor chain
let interceptors = [];
let logs = [];

// Auth Interceptor - adds token
function authInterceptor(request) {
  logs.push(" Auth Interceptor: Adding token...");
  return {
    ...request,
    headers: { ...request.headers, 'Authorization': 'Bearer abc123' }
  };
}

// Logging Interceptor - tracks requests
function loggingInterceptor(request) {
  logs.push(" Logging: " + request.method + " " + request.url);
  return request;
}

// Cache Interceptor - checks cache first
function cacheInterceptor(request) {
  logs.push(" Cache: Checking if cached...");
  return request;
}

// Add interceptors
interceptors.push(authInterceptor);
interceptors.push(loggingInterceptor);
interceptors.push(cacheInterceptor);

// Simulate a request going through interceptors
function makeRequest(url) {
  logs = [];
  let request = { url: url, method: 'GET', headers: {} };
  
  logs.push("<b> Starting request to: " + url + "</b>");
  logs.push("");
  
  // Pass through each interceptor
  interceptors.forEach(function(interceptor, index) {
    logs.push(" Interceptor " + (index + 1) + ":");
    request = interceptor(request);
  });
  
  logs.push("");
  logs.push("<b> Final request ready!</b>");
  logs.push("Headers: " + JSON.stringify(request.headers));
  
  return logs;
}

// Display demo
function render() {
  let output = "<div style='background:#f5f5f5;padding:20px;border-radius:8px;margin-bottom:20px'>";
  output += "<h3> Registered Interceptors</h3>";
  output += "<ol>";
  output += "<li> <b>Auth Interceptor</b> - Adds authentication token</li>";
  output += "<li> <b>Logging Interceptor</b> - Logs all requests</li>";
  output += "<li> <b>Cache Interceptor</b> - Checks cache first</li>";
  output += "</ol></div>";
  
  output += "<button onclick='simulateRequest()' style='padding:12px 24px;background:#DD0031;color:white;border:none;border-radius:6px;cursor:pointer;font-size:16px;margin-bottom:20px'> Make API Request</button>";
  
  output += "<div id='result' style='background:#1e1e1e;color:#9cdcfe;padding:20px;border-radius:8px;font-family:monospace;min-height:200px'>";
  output += "<p style='color:#888'>Click the button to see interceptors in action!</p>";
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

function simulateRequest() {
  let logs = makeRequest("/api/users");
  let resultHtml = logs.map(function(log) {
    return "<div style='margin:5px 0'>" + log + "</div>";
  }).join("");
  document.getElementById("result").innerHTML = resultHtml;
}

render();
</script>

</body>
</html>`,
    },

    'error-handling': {
      title: 'Error Handling',
      content: `# Error Handling in Angular 

Think of error handling like having a **safety net when you're learning to ride a bike**. Even if you fall, you won't get hurt!

### Why Handle Errors?

Imagine you're playing a video game:
- Sometimes the game **freezes** (server error)
- Sometimes your **internet goes out** (network error)
- Sometimes you type the **wrong password** (user error)

Good error handling means the game tells you what happened instead of just crashing!

### Types of Errors

| Error Type | Example | What to Do |
|------------|---------|------------|
| **400 Bad Request** | Sent wrong data | Tell user what's wrong |
| **401 Unauthorized** | Not logged in | Redirect to login |
| **403 Forbidden** | No permission | Show "access denied" |
| **404 Not Found** | Page doesn't exist | Show "not found" page |
| **500 Server Error** | Server broke | "Try again later" |

### Basic Error Handling

\`\`\`typescript
// Like catching a ball - if you miss, you still handle it!
this.http.get('/api/users').subscribe({
  next: (data) => {
    console.log('Yay! Got the data:', data);
  },
  error: (error) => {
    console.log('Oops! Something went wrong:', error);
    // Show a friendly message to the user
    this.showErrorMessage('Sorry, we could not load the users.');
  }
});
\`\`\`

### Error Handling Interceptor

\`\`\`typescript
// This catches ALL errors, like a superhero protecting everyone!
export const errorInterceptor: HttpInterceptorFn = (req, next) => {
  return next(req).pipe(
    catchError((error) => {
      // Figure out what went wrong
      if (error.status === 401) {
        // Not logged in? Go to login page!
        router.navigate(['/login']);
      } else if (error.status === 404) {
        // Page not found
        console.log('That page does not exist!');
      } else if (error.status >= 500) {
        // Server problem
        console.log('The server is having a bad day. Try again later!');
      }
      
      // Pass the error along
      return throwError(() => error);
    })
  );
};
\`\`\`

### Retry Strategy

\`\`\`typescript
// Sometimes things work if you try again!
// Like when your internet is slow
this.http.get('/api/data').pipe(
  retry(3),  // Try 3 times before giving up
  catchError(error => {
    console.log('Tried 3 times, still broken!');
    return of(null);  // Return empty instead of crashing
  })
);
\`\`\`

### User-Friendly Error Messages

Instead of showing scary error codes, show friendly messages:

| Error | Bad Message  | Good Message  |
|-------|---------------|----------------|
| 401 | "Error 401: Unauthorized" | "Please log in to continue" |
| 404 | "Error 404: Not Found" | "We couldn't find that page" |
| 500 | "Internal Server Error" | "Something went wrong. We're fixing it!" |

### Remember! 

1. **Always catch errors** - Don't let your app crash
2. **Show friendly messages** - Users aren't developers
3. **Log errors** - So you can fix them later
4. **Retry when appropriate** - Networks can be flaky
5. **Have a fallback plan** - Show cached data or a nice error page
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Error Handling Demo</h2>
<div id="demo"></div>

<script>
let errorLog = [];

// Simulate different API responses
function simulateAPI(endpoint) {
  return new Promise(function(resolve, reject) {
    setTimeout(function() {
      if (endpoint === '/api/users') {
        resolve({ data: ['Alice', 'Bob', 'Charlie'] });
      } else if (endpoint === '/api/secret') {
        reject({ status: 401, message: 'Unauthorized' });
      } else if (endpoint === '/api/missing') {
        reject({ status: 404, message: 'Not Found' });
      } else if (endpoint === '/api/broken') {
        reject({ status: 500, message: 'Server Error' });
      }
    }, 500);
  });
}

// Handle errors nicely
function handleError(error) {
  let friendlyMessage = "";
  let emoji = "";
  
  switch(error.status) {
    case 401:
      friendlyMessage = "Please log in to continue ";
      emoji = "";
      break;
    case 404:
      friendlyMessage = "We couldn't find that page ";
      emoji = "";
      break;
    case 500:
      friendlyMessage = "Something went wrong. We're fixing it! ";
      emoji = "";
      break;
    default:
      friendlyMessage = "An unexpected error occurred";
  }
  
  return { emoji: emoji, message: friendlyMessage, code: error.status };
}

// Make request with error handling
async function makeRequest(endpoint, displayName) {
  let resultDiv = document.getElementById("result");
  resultDiv.innerHTML = "<p> Loading...</p>";
  
  try {
    let response = await simulateAPI(endpoint);
    resultDiv.innerHTML = "<div style='color:#4caf50;padding:15px;background:#e8f5e9;border-radius:8px'>" +
      "<h4> Success!</h4>" +
      "<p>Data: " + JSON.stringify(response.data) + "</p></div>";
  } catch(error) {
    let handled = handleError(error);
    resultDiv.innerHTML = "<div style='padding:15px;background:#ffebee;border-radius:8px'>" +
      "<h4>" + handled.emoji + " Error " + handled.code + "</h4>" +
      "<p>" + handled.message + "</p>" +
      "<small style='color:#888'>Technical: " + error.message + "</small></div>";
  }
}

function render() {
  let output = "<div style='margin-bottom:20px'>";
  output += "<p>Click buttons to see how we handle different responses:</p>";
  output += "</div>";
  
  output += "<div style='display:flex;gap:10px;flex-wrap:wrap;margin-bottom:20px'>";
  output += "<button onclick='makeRequest(\"/api/users\", \"Users\")' style='padding:10px 20px;background:#4caf50;color:white;border:none;border-radius:6px;cursor:pointer'> Success Request</button>";
  output += "<button onclick='makeRequest(\"/api/secret\", \"Secret\")' style='padding:10px 20px;background:#ff9800;color:white;border:none;border-radius:6px;cursor:pointer'> 401 Unauthorized</button>";
  output += "<button onclick='makeRequest(\"/api/missing\", \"Missing\")' style='padding:10px 20px;background:#2196f3;color:white;border:none;border-radius:6px;cursor:pointer'> 404 Not Found</button>";
  output += "<button onclick='makeRequest(\"/api/broken\", \"Broken\")' style='padding:10px 20px;background:#f44336;color:white;border:none;border-radius:6px;cursor:pointer'> 500 Server Error</button>";
  output += "</div>";
  
  output += "<div id='result' style='background:#f5f5f5;padding:20px;border-radius:8px;min-height:100px'>";
  output += "<p style='color:#888'>Click a button to make a request!</p>";
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },

    'lifecycle-hooks': {
      title: 'Angular Lifecycle Hooks',
      content: `# Angular Lifecycle Hooks 

Think of lifecycle hooks like **stages of growing a plant** :
1. Plant the seed (create)
2. Water it (initialize)
3. Watch it grow (update)
4. Trim dead leaves (cleanup)
5. Eventually remove (destroy)

### What Are Lifecycle Hooks?

Hooks are special moments in a component's life when Angular says:
> "Hey! Something is happening! Do you want to do something now?"

It's like getting notifications at important moments!

### The Main Lifecycle Hooks

| Hook | When It Runs | Real-World Example |
|------|--------------|-------------------|
| **ngOnInit** | After component is created | "I'm born! Let me get my data!" |
| **ngOnChanges** | When @Input values change | "Mom gave me a new toy!" |
| **ngAfterViewInit** | After view is ready | "The room is decorated, let me look around!" |
| **ngOnDestroy** | Before component dies | "Goodbye! Let me clean up my toys first." |

### ngOnInit - The Most Common Hook 

\`\`\`typescript
// This runs ONCE when the component starts
// Perfect for loading data!

@Component({...})
export class UserProfileComponent implements OnInit {
  user: User;
  
  ngOnInit() {
    console.log('Component is ready! Loading user data...');
    this.loadUserData();  // Get data from server
  }
  
  loadUserData() {
    this.userService.getUser().subscribe(data => {
      this.user = data;
    });
  }
}
\`\`\`

### ngOnChanges - When Inputs Change 

\`\`\`typescript
// This runs when a parent sends new data
// Like getting a new present!

@Component({...})
export class GreetingComponent implements OnChanges {
  @Input() name: string;
  
  ngOnChanges(changes: SimpleChanges) {
    if (changes['name']) {
      console.log('Name changed from', 
        changes['name'].previousValue, 
        'to', 
        changes['name'].currentValue
      );
    }
  }
}
\`\`\`

### ngOnDestroy - Cleanup Time! 

\`\`\`typescript
// This runs before the component is removed
// Like cleaning your room before going on vacation!

@Component({...})
export class ChatComponent implements OnDestroy {
  private subscription: Subscription;
  
  ngOnInit() {
    // Start listening to messages
    this.subscription = this.chatService.messages$.subscribe();
  }
  
  ngOnDestroy() {
    // Stop listening - very important!
    // Otherwise we have "memory leaks" (messy room)
    this.subscription.unsubscribe();
    console.log('Cleaned up! Goodbye!');
  }
}
\`\`\`

### The Complete Lifecycle Order

1.  **constructor** - Component is built
2.  **ngOnChanges** - First time inputs arrive
3.  **ngOnInit** - Component is ready to start
4.  **ngDoCheck** - Every change detection
5.  **ngAfterViewInit** - View is ready
6.  **ngOnChanges** - Inputs change again (repeats)
7.  **ngOnDestroy** - Time to clean up and go

### Quick Tips 

1. **Use ngOnInit** for loading data (not constructor)
2. **Use ngOnDestroy** to clean up subscriptions
3. **Use ngOnChanges** when you need to react to @Input changes
4. **Keep hooks simple** - don't put too much code in them
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Lifecycle Hooks Demo</h2>
<div id="demo"></div>

<script>
let lifecycleLog = [];
let componentCount = 0;

class SimulatedComponent {
  constructor(name) {
    this.name = name;
    this.logs = [];
    this.addLog(" constructor", "Component built");
  }
  
  addLog(hook, message) {
    this.logs.push({ hook: hook, message: message, time: new Date().toLocaleTimeString() });
  }
  
  ngOnChanges(changes) {
    this.addLog(" ngOnChanges", "Input changed: " + JSON.stringify(changes));
  }
  
  ngOnInit() {
    this.addLog(" ngOnInit", "Component initialized - Loading data...");
  }
  
  ngAfterViewInit() {
    this.addLog(" ngAfterViewInit", "View is ready!");
  }
  
  ngOnDestroy() {
    this.addLog(" ngOnDestroy", "Cleaning up... Goodbye!");
  }
}

let currentComponent = null;

function createComponent() {
  componentCount++;
  currentComponent = new SimulatedComponent("UserProfile_" + componentCount);
  
  // Simulate lifecycle
  setTimeout(function() { 
    currentComponent.ngOnChanges({ name: "Alice" }); 
    renderLogs();
  }, 300);
  
  setTimeout(function() { 
    currentComponent.ngOnInit(); 
    renderLogs();
  }, 600);
  
  setTimeout(function() { 
    currentComponent.ngAfterViewInit(); 
    renderLogs();
  }, 900);
  
  renderLogs();
}

function updateComponent() {
  if (currentComponent) {
    currentComponent.ngOnChanges({ name: "Bob (changed)" });
    renderLogs();
  }
}

function destroyComponent() {
  if (currentComponent) {
    currentComponent.ngOnDestroy();
    renderLogs();
    setTimeout(function() {
      currentComponent = null;
      renderLogs();
    }, 500);
  }
}

function renderLogs() {
  let output = "<div style='margin-bottom:20px'>";
  output += "<p>Watch the lifecycle hooks in action!</p>";
  output += "</div>";
  
  output += "<div style='display:flex;gap:10px;margin-bottom:20px'>";
  output += "<button onclick='createComponent()' style='padding:10px 20px;background:#4caf50;color:white;border:none;border-radius:6px;cursor:pointer'> Create Component</button>";
  output += "<button onclick='updateComponent()' style='padding:10px 20px;background:#2196f3;color:white;border:none;border-radius:6px;cursor:pointer'> Update Input</button>";
  output += "<button onclick='destroyComponent()' style='padding:10px 20px;background:#f44336;color:white;border:none;border-radius:6px;cursor:pointer'> Destroy Component</button>";
  output += "</div>";
  
  output += "<div style='background:#1e1e1e;color:#9cdcfe;padding:20px;border-radius:8px;min-height:200px;font-family:monospace'>";
  
  if (currentComponent) {
    output += "<div style='color:#4ec9b0;margin-bottom:10px'> Component: " + currentComponent.name + "</div>";
    currentComponent.logs.forEach(function(log) {
      let color = log.hook.includes("Destroy") ? "#f44336" : log.hook.includes("Init") ? "#4caf50" : "#dcdcaa";
      output += "<div style='margin:8px 0;padding:8px;background:#2d2d2d;border-radius:4px'>";
      output += "<span style='color:" + color + "'>" + log.hook + "</span>";
      output += " <span style='color:#888'>| " + log.message + "</span>";
      output += "</div>";
    });
  } else {
    output += "<p style='color:#888'>No component. Click 'Create Component' to start!</p>";
  }
  
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

renderLogs();
</script>

</body>
</html>`,
    },

    // PHASE 6  Pipes, Styling
    'pipes': {
      title: 'Angular Pipes',
      content: `# Angular Pipes 

Think of pipes like **magic translators** that transform data before you see it!

### What Are Pipes?

Imagine you have a number like \`1234567.89\`
- Without a pipe: 1234567.89 (hard to read!)
- With a pipe: $1,234,567.89 (much better!)

Pipes **transform** data into a nice format!

### Built-in Pipes (Free Magic! )

| Pipe | What It Does | Example |
|------|--------------|---------|
| **date** | Formats dates nicely | Jan 15, 2024 |
| **uppercase** | MAKES TEXT LOUD | HELLO WORLD |
| **lowercase** | makes text quiet | hello world |
| **currency** | Adds money symbols | $1,234.56 |
| **number** | Formats numbers | 1,234.567 |
| **percent** | Makes percentages | 75% |
| **json** | Shows objects nicely | {"name": "Bob"} |

### Using Pipes in Templates

\`\`\`html
<!-- The pipe symbol | is the magic wand! -->

<!-- Date pipe -->
<p>Today is {{ today | date:'fullDate' }}</p>
<!-- Output: Today is Monday, January 15, 2024 -->

<!-- Currency pipe -->
<p>Price: {{ 99.99 | currency:'USD' }}</p>
<!-- Output: Price: $99.99 -->

<!-- Uppercase pipe -->
<p>{{ 'hello world' | uppercase }}</p>
<!-- Output: HELLO WORLD -->

<!-- Chain pipes together! -->
<p>{{ birthday | date:'shortDate' | uppercase }}</p>
<!-- Output: 1/15/24 (but uppercase) -->
\`\`\`

### Create Your Own Pipe! 

\`\`\`typescript
// A pipe that adds emojis based on mood!
@Pipe({ name: 'moodEmoji' })
export class MoodEmojiPipe implements PipeTransform {
  transform(mood: string): string {
    switch(mood.toLowerCase()) {
      case 'happy': return mood + ' ';
      case 'sad': return mood + ' ';
      case 'excited': return mood + ' ';
      case 'sleepy': return mood + ' ';
      default: return mood + ' ';
    }
  }
}

// Use it in template:
// <p>{{ 'happy' | moodEmoji }}</p>
// Output: happy 
\`\`\`

### Pure vs Impure Pipes

**Pure Pipes** (Default) - Only update when input changes
- Like a vending machine: same input = same output
- Fast and efficient!

**Impure Pipes** - Update on every change detection
- Like checking your watch every second
- Use carefully - can be slow!

### Remember! 

1. Pipes are for **displaying** data, not changing it
2. Built-in pipes handle 90% of cases
3. Keep custom pipes **simple** and **pure**
4. Chain pipes with multiple \`|\` symbols
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Angular Pipes Demo</h2>
<div id="demo"></div>

<script>
// Simulate Angular pipes

function datePipe(date, format) {
  let d = new Date(date);
  let options = {};
  
  switch(format) {
    case 'short': return d.toLocaleDateString();
    case 'full': return d.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
    case 'time': return d.toLocaleTimeString();
    default: return d.toDateString();
  }
}

function currencyPipe(amount, currency) {
  return new Intl.NumberFormat('en-US', { style: 'currency', currency: currency || 'USD' }).format(amount);
}

function percentPipe(value) {
  return (value * 100).toFixed(0) + '%';
}

function uppercasePipe(text) {
  return text.toUpperCase();
}

function lowercasePipe(text) {
  return text.toLowerCase();
}

function moodEmojiPipe(mood) {
  let emojis = { happy: '', sad: '', excited: '', sleepy: '', angry: '' };
  return mood + ' ' + (emojis[mood.toLowerCase()] || '');
}

function render() {
  let now = new Date();
  let price = 1234.56;
  let discount = 0.25;
  
  let output = "<div style='background:#f5f5f5;padding:20px;border-radius:8px'>";
  
  // Date pipes
  output += "<h3> Date Pipe</h3>";
  output += "<table style='width:100%;border-collapse:collapse;margin-bottom:20px'>";
  output += "<tr style='background:#DD0031;color:white'><th style='padding:10px;text-align:left'>Original</th><th>Pipe</th><th>Result</th></tr>";
  output += "<tr><td style='padding:10px;border-bottom:1px solid #ddd'>" + now.toISOString() + "</td><td>date:'short'</td><td><b>" + datePipe(now, 'short') + "</b></td></tr>";
  output += "<tr><td style='padding:10px;border-bottom:1px solid #ddd'>" + now.toISOString() + "</td><td>date:'full'</td><td><b>" + datePipe(now, 'full') + "</b></td></tr>";
  output += "</table>";
  
  // Currency pipe
  output += "<h3> Currency Pipe</h3>";
  output += "<table style='width:100%;border-collapse:collapse;margin-bottom:20px'>";
  output += "<tr style='background:#4caf50;color:white'><th style='padding:10px;text-align:left'>Number</th><th>Pipe</th><th>Result</th></tr>";
  output += "<tr><td style='padding:10px;border-bottom:1px solid #ddd'>" + price + "</td><td>currency:'USD'</td><td><b>" + currencyPipe(price, 'USD') + "</b></td></tr>";
  output += "<tr><td style='padding:10px;border-bottom:1px solid #ddd'>" + price + "</td><td>currency:'EUR'</td><td><b>" + currencyPipe(price, 'EUR') + "</b></td></tr>";
  output += "</table>";
  
  // Percent pipe
  output += "<h3> Percent Pipe</h3>";
  output += "<p>" + discount + "  <b>" + percentPipe(discount) + "</b></p>";
  
  // Text pipes
  output += "<h3> Text Pipes</h3>";
  output += "<p>'Hello World' | uppercase  <b>" + uppercasePipe('Hello World') + "</b></p>";
  output += "<p>'Hello World' | lowercase  <b>" + lowercasePipe('Hello World') + "</b></p>";
  
  // Custom pipe
  output += "<h3> Custom Mood Emoji Pipe</h3>";
  ['happy', 'sad', 'excited', 'sleepy'].forEach(function(mood) {
    output += "<span style='display:inline-block;padding:8px 16px;margin:5px;background:white;border-radius:20px;box-shadow:0 2px 4px rgba(0,0,0,0.1)'>" + moodEmojiPipe(mood) + "</span>";
  });
  
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },

    'styling': {
      title: 'Angular Styling',
      content: `# Angular Styling 

Think of Angular styling like **giving each room in a house its own decoration** - each component can have its own style that doesn't mess up other rooms!

### Why Component Styles Are Special

In regular HTML, if you write:
\`\`\`css
h1 { color: red; }
\`\`\`
EVERY h1 on the WHOLE page turns red!

In Angular, styles stay **inside their component** like magic! 

### Three Ways to Add Styles

**1. Inline Styles in @Component**
\`\`\`typescript
@Component({
  selector: 'app-card',
  template: '<div class="card">Hello!</div>',
  styles: [\`
    .card {
      background: #f5f5f5;
      padding: 20px;
      border-radius: 8px;
    }
  \`]
})
\`\`\`

**2. External Style File (Recommended)**
\`\`\`typescript
@Component({
  selector: 'app-card',
  templateUrl: './card.component.html',
  styleUrls: ['./card.component.css']  // Styles live here!
})
\`\`\`

**3. Global Styles (styles.css)**
For things that apply everywhere (fonts, colors, reset)

### View Encapsulation (The Magic!)

Angular adds special attributes to keep styles isolated:

| Mode | What It Does |
|------|--------------|
| **Emulated** (Default) | Styles only affect this component |
| **None** | Styles leak everywhere (like regular CSS) |
| **ShadowDom** | Uses browser's Shadow DOM |

\`\`\`typescript
@Component({
  encapsulation: ViewEncapsulation.Emulated  // Default - keeps styles safe!
})
\`\`\`

### Special Selectors

\`\`\`css
/* :host - styles the component itself */
:host {
  display: block;
  border: 1px solid #ddd;
}

/* :host-context - styles based on parent */
:host-context(.dark-theme) {
  background: #333;
  color: white;
}

/* ::ng-deep - ESCAPES encapsulation (use carefully!) */
::ng-deep .third-party-widget {
  color: red;
}
\`\`\`

### CSS Variables for Theming

\`\`\`css
/* In styles.css (global) */
:root {
  --primary-color: #DD0031;
  --text-color: #333;
}

/* In component */
.button {
  background: var(--primary-color);
  color: var(--text-color);
}
\`\`\`

### Remember! 

1. **Component styles are isolated** by default
2. Use **styleUrls** for separate CSS files
3. Use **:host** to style the component element itself
4. Use **CSS variables** for themes
5. Avoid **::ng-deep** when possible
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Angular Styling Demo</h2>
<div id="demo"></div>

<script>
function render() {
  let output = "";
  
  // Show encapsulation example
  output += "<div style='margin-bottom:30px'>";
  output += "<h3> View Encapsulation</h3>";
  output += "<p>Angular adds special attributes to isolate component styles:</p>";
  output += "<div style='background:#1e1e1e;color:#9cdcfe;padding:15px;border-radius:8px;font-family:monospace;font-size:13px'>";
  output += "&lt;div <span style='color:#4ec9b0'>_ngcontent-abc-c42</span>&gt;<br>";
  output += "  &lt;h1 <span style='color:#4ec9b0'>_ngcontent-abc-c42</span>&gt;Title&lt;/h1&gt;<br>";
  output += "&lt;/div&gt;";
  output += "</div>";
  output += "<p style='color:#888;font-size:14px'>The special attribute ensures styles only affect this component!</p>";
  output += "</div>";
  
  // Component examples
  output += "<h3> Component Style Isolation</h3>";
  output += "<div style='display:flex;gap:20px;flex-wrap:wrap;margin-bottom:30px'>";
  
  // Component A
  output += "<div style='flex:1;min-width:200px;padding:20px;background:#e3f2fd;border-radius:8px;border:2px solid #2196f3'>";
  output += "<h4 style='color:#1976d2;margin-top:0'> Component A</h4>";
  output += "<p style='color:#333'>h1 { color: <span style='color:#2196f3;font-weight:bold'>blue</span>; }</p>";
  output += "<h1 style='color:#2196f3'>I'm Blue!</h1>";
  output += "</div>";
  
  // Component B
  output += "<div style='flex:1;min-width:200px;padding:20px;background:#fce4ec;border-radius:8px;border:2px solid #e91e63'>";
  output += "<h4 style='color:#c2185b;margin-top:0'> Component B</h4>";
  output += "<p style='color:#333'>h1 { color: <span style='color:#e91e63;font-weight:bold'>pink</span>; }</p>";
  output += "<h1 style='color:#e91e63'>I'm Pink!</h1>";
  output += "</div>";
  
  output += "</div>";
  output += "<p style='color:#4caf50'> Each component has its own h1 style - they don't conflict!</p>";
  
  // :host example
  output += "<h3> :host Selector</h3>";
  output += "<div style='display:inline-block;padding:20px;border:3px dashed #DD0031;border-radius:8px;margin-bottom:20px'>";
  output += "<code style='color:#DD0031'>:host { border: 3px dashed red; }</code><br><br>";
  output += "<span>This styles the component element itself!</span>";
  output += "</div>";
  
  // CSS Variables
  output += "<h3> CSS Variables for Theming</h3>";
  output += "<div style='display:flex;gap:20px;flex-wrap:wrap'>";
  
  // Light theme
  output += "<div style='flex:1;min-width:150px;padding:20px;background:white;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1)'>";
  output += "<h4 style='margin-top:0'> Light Theme</h4>";
  output += "<button style='padding:10px 20px;background:#DD0031;color:white;border:none;border-radius:4px'>Button</button>";
  output += "<p style='font-size:12px;color:#888;margin-bottom:0'>--primary: #DD0031</p>";
  output += "</div>";
  
  // Dark theme
  output += "<div style='flex:1;min-width:150px;padding:20px;background:#1e1e1e;border-radius:8px'>";
  output += "<h4 style='margin-top:0;color:white'> Dark Theme</h4>";
  output += "<button style='padding:10px 20px;background:#ff5252;color:white;border:none;border-radius:4px'>Button</button>";
  output += "<p style='font-size:12px;color:#888;margin-bottom:0'>--primary: #ff5252</p>";
  output += "</div>";
  
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },

    'bootstrap': {
      title: 'Angular Bootstrap',
      content: `# Angular Bootstrap 

Think of Angular bootstrap like **starting a car**:
1. Turn the key (run the app)
2. Engine checks everything (Angular initializes)
3. Dashboard lights up (components render)
4. You can drive! (app is ready)

### How Angular Starts

When you run \`ng serve\`, this happens:

1. **index.html** loads
2. **main.ts** runs
3. Angular **bootstraps** your app
4. **Root component** (usually AppComponent) appears
5. **Other components** load as needed

### main.ts - The Starting Point

\`\`\`typescript
// main.ts - This is where it all begins!
import { bootstrapApplication } from '@angular/platform-browser';
import { AppComponent } from './app/app.component';
import { appConfig } from './app/app.config';

//  START THE APP!
bootstrapApplication(AppComponent, appConfig)
  .catch(err => console.error(err));
\`\`\`

### Two Ways to Bootstrap

**1. Standalone (Modern - Angular 14+) **
\`\`\`typescript
// Clean and simple!
bootstrapApplication(AppComponent, {
  providers: [
    provideRouter(routes),
    provideHttpClient()
  ]
});
\`\`\`

**2. NgModule (Traditional)**
\`\`\`typescript
// The old way - still works!
@NgModule({
  declarations: [AppComponent],
  imports: [BrowserModule],
  bootstrap: [AppComponent]
})
export class AppModule { }

// In main.ts
platformBrowserDynamic().bootstrapModule(AppModule);
\`\`\`

### App Config (Modern Pattern)

\`\`\`typescript
// app.config.ts - Configure everything here!
import { ApplicationConfig } from '@angular/core';
import { provideRouter } from '@angular/router';
import { provideHttpClient } from '@angular/common/http';
import { routes } from './app.routes';

export const appConfig: ApplicationConfig = {
  providers: [
    provideRouter(routes),
    provideHttpClient(),
    // Add more providers here!
  ]
};
\`\`\`

### Environment Configurations

\`\`\`typescript
// environment.ts (Development)
export const environment = {
  production: false,
  apiUrl: 'http://localhost:3000'
};

// environment.prod.ts (Production)
export const environment = {
  production: true,
  apiUrl: 'https://api.myapp.com'
};
\`\`\`

### Bootstrap Order 

1. Browser loads \`index.html\`
2. Browser loads JavaScript bundles
3. Angular starts (platform created)
4. Root component bootstrapped
5. Components initialize (ngOnInit)
6. View rendered
7. App is ready! 

### Remember! 

1. **main.ts** is the entry point
2. Use **Standalone** for new projects
3. **AppComponent** is usually the root
4. Configure providers in **app.config.ts**
5. Use **environments** for different settings
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Angular Bootstrap Demo</h2>
<div id="demo"></div>

<script>
let bootstrapSteps = [];
let currentStep = 0;

function simulateBootstrap() {
  bootstrapSteps = [
    { icon: "", label: "index.html loaded", detail: "Browser downloads the initial HTML file" },
    { icon: "", label: "main.js loaded", detail: "Angular bundles are downloaded and parsed" },
    { icon: "", label: "Platform created", detail: "Angular runtime initializes" },
    { icon: "", label: "bootstrapApplication called", detail: "Starting the app with AppComponent" },
    { icon: "", label: "AppComponent created", detail: "Root component constructor runs" },
    { icon: "", label: "Providers injected", detail: "Services and dependencies are ready" },
    { icon: "", label: "ngOnInit runs", detail: "Component initialization logic executes" },
    { icon: "", label: "View rendered", detail: "Template is compiled and displayed" },
    { icon: "", label: "App Ready!", detail: "Application is fully bootstrapped" }
  ];
  
  currentStep = 0;
  animateSteps();
}

function animateSteps() {
  if (currentStep <= bootstrapSteps.length) {
    renderProgress();
    currentStep++;
    if (currentStep <= bootstrapSteps.length) {
      setTimeout(animateSteps, 400);
    }
  }
}

function renderProgress() {
  let output = "<div style='margin-bottom:20px'>";
  output += "<button onclick='simulateBootstrap()' style='padding:12px 24px;background:#DD0031;color:white;border:none;border-radius:6px;cursor:pointer;font-size:16px'> Start Bootstrap</button>";
  output += "</div>";
  
  // Code preview
  output += "<div style='background:#1e1e1e;color:#9cdcfe;padding:15px;border-radius:8px;font-family:monospace;font-size:13px;margin-bottom:20px'>";
  output += "<span style='color:#c586c0'>import</span> { <span style='color:#4ec9b0'>bootstrapApplication</span> } <span style='color:#c586c0'>from</span> <span style='color:#ce9178'>'@angular/platform-browser'</span>;<br><br>";
  output += "<span style='color:#dcdcaa'>bootstrapApplication</span>(<span style='color:#4ec9b0'>AppComponent</span>, <span style='color:#4ec9b0'>appConfig</span>)<br>";
  output += "  .<span style='color:#dcdcaa'>catch</span>(<span style='color:#9cdcfe'>err</span> => <span style='color:#9cdcfe'>console</span>.<span style='color:#dcdcaa'>error</span>(<span style='color:#9cdcfe'>err</span>));";
  output += "</div>";
  
  // Steps visualization
  output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px'>";
  output += "<h3 style='margin-top:0'>Bootstrap Sequence</h3>";
  
  bootstrapSteps.forEach(function(step, index) {
    let isComplete = index < currentStep;
    let isCurrent = index === currentStep - 1;
    
    let bgColor = isComplete ? "#e8f5e9" : "#fff";
    let borderColor = isCurrent ? "#DD0031" : (isComplete ? "#4caf50" : "#ddd");
    let borderWidth = isCurrent ? "2px" : "1px";
    
    output += "<div style='display:flex;align-items:center;padding:12px;margin:8px 0;background:" + bgColor + ";border:" + borderWidth + " solid " + borderColor + ";border-radius:8px;transition:all 0.3s'>";
    output += "<span style='font-size:24px;margin-right:15px'>" + (isComplete ? "" : step.icon) + "</span>";
    output += "<div>";
    output += "<div style='font-weight:bold'>" + step.label + "</div>";
    output += "<div style='font-size:12px;color:#666'>" + step.detail + "</div>";
    output += "</div>";
    output += "</div>";
  });
  
  output += "</div>";
  
  if (currentStep === bootstrapSteps.length) {
    output += "<div style='margin-top:20px;padding:20px;background:#e8f5e9;border-radius:8px;text-align:center'>";
    output += "<h3 style='color:#2e7d32;margin:0'> Application Bootstrapped Successfully!</h3>";
    output += "</div>";
  }
  
  document.getElementById("demo").innerHTML = output;
}

// Initial render
bootstrapSteps = [
  { icon: "", label: "index.html loaded", detail: "Browser downloads the initial HTML file" },
  { icon: "", label: "main.js loaded", detail: "Angular bundles are downloaded and parsed" },
  { icon: "", label: "Platform created", detail: "Angular runtime initializes" },
  { icon: "", label: "bootstrapApplication called", detail: "Starting the app with AppComponent" },
  { icon: "", label: "AppComponent created", detail: "Root component constructor runs" },
  { icon: "", label: "Providers injected", detail: "Services and dependencies are ready" },
  { icon: "", label: "ngOnInit runs", detail: "Component initialization logic executes" },
  { icon: "", label: "View rendered", detail: "Template is compiled and displayed" },
  { icon: "", label: "App Ready!", detail: "Application is fully bootstrapped" }
];
renderProgress();
</script>

</body>
</html>`,
    },

    'control-flow': {
      title: 'Angular Control Flow',
      content: `# Angular Control Flow 

Think of control flow like **traffic lights** - they tell Angular when to show, hide, or repeat things!

### The New Way (Angular 17+) 

Angular 17 introduced a NEW syntax that's easier to read:

### @if - Show or Hide

\`\`\`html
<!-- New way - looks like code! -->
@if (isLoggedIn) {
  <p>Welcome back!</p>
} @else {
  <p>Please log in</p>
}

<!-- Old way with *ngIf -->
<p *ngIf="isLoggedIn; else loginTemplate">Welcome back!</p>
<ng-template #loginTemplate><p>Please log in</p></ng-template>
\`\`\`

### @for - Loop Through Items

\`\`\`html
<!-- New way - clean and simple! -->
@for (item of items; track item.id) {
  <div>{{ item.name }}</div>
} @empty {
  <p>No items found</p>
}

<!-- Old way with *ngFor -->
<div *ngFor="let item of items; trackBy: trackById">
  {{ item.name }}
</div>
\`\`\`

### @switch - Multiple Choices

\`\`\`html
@switch (status) {
  @case ('loading') {
    <p>Loading...</p>
  }
  @case ('success') {
    <p>Done! </p>
  }
  @case ('error') {
    <p>Oops! </p>
  }
  @default {
    <p>Unknown status</p>
  }
}
\`\`\`

### Why track Is Important 

When you loop through items, Angular needs to know which is which:

\`\`\`html
<!-- GOOD: Angular knows each item by its ID -->
@for (user of users; track user.id) {
  <user-card [user]="user" />
}

<!-- BAD: Angular has to guess (slower!) -->
@for (user of users; track $index) {
  <user-card [user]="user" />
}
\`\`\`

Think of it like name tags at a party - with IDs, Angular can quickly find who's who!

### Special Variables in @for

| Variable | What It Means |
|----------|---------------|
| \`$index\` | Current position (0, 1, 2...) |
| \`$first\` | Is this the first item? |
| \`$last\` | Is this the last item? |
| \`$even\` | Is position even? (0, 2, 4...) |
| \`$odd\` | Is position odd? (1, 3, 5...) |
| \`$count\` | Total number of items |

\`\`\`html
@for (item of items; track item.id; let i = $index, let isFirst = $first) {
  <div [class.first-item]="isFirst">
    {{ i + 1 }}. {{ item.name }}
  </div>
}
\`\`\`

### Remember! 

1. Use **@if** for showing/hiding
2. Use **@for** for lists (always use track!)
3. Use **@switch** for multiple conditions
4. New syntax is **cleaner and faster**
5. Old directives (*ngIf, *ngFor) still work!
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Angular Control Flow Demo</h2>
<div id="demo"></div>

<script>
let isLoggedIn = false;
let items = [
  { id: 1, name: 'Apple', emoji: '' },
  { id: 2, name: 'Banana', emoji: '' },
  { id: 3, name: 'Orange', emoji: '' },
  { id: 4, name: 'Grape', emoji: '' }
];
let status = 'loading';

function toggleLogin() {
  isLoggedIn = !isLoggedIn;
  render();
}

function setStatus(newStatus) {
  status = newStatus;
  render();
}

function addItem() {
  let fruits = [
    { name: 'Watermelon', emoji: '' },
    { name: 'Strawberry', emoji: '' },
    { name: 'Cherry', emoji: '' },
    { name: 'Peach', emoji: '' }
  ];
  let random = fruits[Math.floor(Math.random() * fruits.length)];
  items.push({ id: Date.now(), ...random });
  render();
}

function removeItem() {
  if (items.length > 0) {
    items.pop();
    render();
  }
}

function render() {
  let output = "";
  
  // @if demo
  output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px;margin-bottom:20px'>";
  output += "<h3 style='margin-top:0'>@if - Conditional Rendering</h3>";
  output += "<code style='background:#e0e0e0;padding:4px 8px;border-radius:4px'>@if (isLoggedIn) { ... } @else { ... }</code>";
  output += "<div style='margin:15px 0'>";
  output += "<button onclick='toggleLogin()' style='padding:10px 20px;background:#2196f3;color:white;border:none;border-radius:6px;cursor:pointer'>Toggle Login</button>";
  output += "</div>";
  output += "<div style='padding:15px;background:" + (isLoggedIn ? "#e8f5e9" : "#fff3e0") + ";border-radius:8px'>";
  if (isLoggedIn) {
    output += "<span> Welcome back, User! <b>isLoggedIn = true</b></span>";
  } else {
    output += "<span> Please log in. <b>isLoggedIn = false</b></span>";
  }
  output += "</div></div>";
  
  // @for demo
  output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px;margin-bottom:20px'>";
  output += "<h3 style='margin-top:0'>@for - Loop Rendering</h3>";
  output += "<code style='background:#e0e0e0;padding:4px 8px;border-radius:4px'>@for (item of items; track item.id) { ... }</code>";
  output += "<div style='margin:15px 0'>";
  output += "<button onclick='addItem()' style='padding:8px 16px;background:#4caf50;color:white;border:none;border-radius:6px;cursor:pointer;margin-right:10px'> Add</button>";
  output += "<button onclick='removeItem()' style='padding:8px 16px;background:#f44336;color:white;border:none;border-radius:6px;cursor:pointer'> Remove</button>";
  output += "</div>";
  
  if (items.length === 0) {
    output += "<div style='padding:20px;background:#ffebee;border-radius:8px;text-align:center'>@empty { <b>No items found!</b> }</div>";
  } else {
    output += "<div style='display:flex;flex-wrap:wrap;gap:10px'>";
    items.forEach(function(item, index) {
      let isFirst = index === 0;
      let isLast = index === items.length - 1;
      let isEven = index % 2 === 0;
      let bg = isEven ? "#e3f2fd" : "#fff";
      let border = isFirst ? "2px solid #4caf50" : (isLast ? "2px solid #f44336" : "1px solid #ddd");
      
      output += "<div style='padding:12px 16px;background:" + bg + ";border:" + border + ";border-radius:8px;min-width:100px;text-align:center'>";
      output += "<div style='font-size:24px'>" + item.emoji + "</div>";
      output += "<div>" + item.name + "</div>";
      output += "<div style='font-size:11px;color:#888'>$index: " + index + "</div>";
      if (isFirst) output += "<div style='font-size:10px;color:#4caf50'>$first </div>";
      if (isLast) output += "<div style='font-size:10px;color:#f44336'>$last </div>";
      output += "</div>";
    });
    output += "</div>";
    output += "<div style='margin-top:10px;color:#888;font-size:13px'>$count: " + items.length + "</div>";
  }
  output += "</div>";
  
  // @switch demo
  output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px'>";
  output += "<h3 style='margin-top:0'>@switch - Multiple Conditions</h3>";
  output += "<div style='margin:15px 0;display:flex;gap:10px;flex-wrap:wrap'>";
  output += "<button onclick='setStatus(\"loading\")' style='padding:8px 16px;background:" + (status === 'loading' ? '#ff9800' : '#e0e0e0') + ";color:" + (status === 'loading' ? 'white' : 'black') + ";border:none;border-radius:6px;cursor:pointer'>Loading</button>";
  output += "<button onclick='setStatus(\"success\")' style='padding:8px 16px;background:" + (status === 'success' ? '#4caf50' : '#e0e0e0') + ";color:" + (status === 'success' ? 'white' : 'black') + ";border:none;border-radius:6px;cursor:pointer'>Success</button>";
  output += "<button onclick='setStatus(\"error\")' style='padding:8px 16px;background:" + (status === 'error' ? '#f44336' : '#e0e0e0') + ";color:" + (status === 'error' ? 'white' : 'black') + ";border:none;border-radius:6px;cursor:pointer'>Error</button>";
  output += "</div>";
  
  let statusContent = "";
  if (status === 'loading') statusContent = "<div style='padding:20px;background:#fff3e0;border-radius:8px'> Loading...</div>";
  else if (status === 'success') statusContent = "<div style='padding:20px;background:#e8f5e9;border-radius:8px'> Success!</div>";
  else if (status === 'error') statusContent = "<div style='padding:20px;background:#ffebee;border-radius:8px'> Error occurred</div>";
  
  output += statusContent;
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },

    // PHASE 8  Change Detection & Signals
    'change-detection': {
      title: 'Change Detection',
      content: `# Change Detection 

Think of change detection like a **teacher checking homework** - Angular looks at every component to see if anything changed!

### What Is Change Detection?

When something changes in your app (button click, data arrives), Angular needs to know so it can update the screen.

It's like a security camera that watches for any movement! 

### How It Works (Zone.js)

Angular uses **Zone.js** to detect changes automatically:

1. You click a button 
2. Zone.js says "Hey Angular, something happened!"
3. Angular checks ALL components for changes
4. Screen updates with new values

### Default vs OnPush Strategy

| Strategy | How It Works | Speed |
|----------|--------------|-------|
| **Default** | Checks EVERY component | Slower |
| **OnPush** | Only checks when @Input changes | Faster!  |

### Default Strategy (Automatic)

\`\`\`typescript
// Angular checks this component on EVERY change
// Easy but can be slow with many components
@Component({
  selector: 'app-counter'
})
export class CounterComponent {
  count = 0;
  
  increment() {
    this.count++;  // Angular automatically updates!
  }
}
\`\`\`

### OnPush Strategy (Performance)

\`\`\`typescript
// Angular only checks when @Input changes or events occur
// Like telling the teacher "only check me when I raise my hand!"
@Component({
  selector: 'app-user-card',
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class UserCardComponent {
  @Input() user: User;
  
  // Only updates when 'user' input changes!
}
\`\`\`

### When Does Angular Check?

| Event | Triggers Check |
|-------|---------------|
| Button click |  Yes |
| Input typing |  Yes |
| HTTP response |  Yes |
| setTimeout |  Yes |
| Observable emit |  Yes |

### Manual Change Detection

Sometimes you need to tell Angular "Hey, check now!":

\`\`\`typescript
constructor(private cdr: ChangeDetectorRef) {}

updateData() {
  this.data = newData;
  
  // Tell Angular to check NOW
  this.cdr.detectChanges();
  
  // Or mark for next cycle
  this.cdr.markForCheck();
}
\`\`\`

### Best Practices 

1. **Use OnPush** for most components (faster!)
2. **Use immutable data** - create new objects instead of modifying
3. **Use async pipe** - handles subscriptions automatically
4. **Avoid complex getters** in templates

\`\`\`html
<!-- GOOD: Use async pipe -->
<div *ngFor="let item of items$ | async">
  {{ item.name }}
</div>

<!-- BAD: Complex getter runs on every check -->
<div>{{ getCalculatedValue() }}</div>
\`\`\`

### Think of It Like... 

**Default**: Teacher checks EVERYONE's homework every minute
**OnPush**: Teacher only checks when you raise your hand

For big apps, OnPush saves a LOT of time!
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Change Detection Demo</h2>
<div id="demo"></div>

<script>
let defaultChecks = 0;
let onPushChecks = 0;
let globalCounter = 0;
let users = [
  { id: 1, name: 'Alice', inputChanged: false },
  { id: 2, name: 'Bob', inputChanged: false },
  { id: 3, name: 'Charlie', inputChanged: false }
];

function simulateDefaultCD() {
  // Default checks ALL components
  globalCounter++;
  defaultChecks += users.length;  // All components checked!
  render();
}

function simulateOnPushCD(userId) {
  // OnPush only checks specific component
  globalCounter++;
  users.forEach(function(u) { u.inputChanged = u.id === userId; });
  onPushChecks += 1;  // Only ONE component checked!
  setTimeout(function() {
    users.forEach(function(u) { u.inputChanged = false; });
    render();
  }, 800);
  render();
}

function render() {
  let output = "";
  
  // Explanation
  output += "<div style='background:#fff3e0;padding:15px;border-radius:8px;margin-bottom:20px'>";
  output += "<p style='margin:0'> Global Counter: <b>" + globalCounter + "</b> changes detected</p>";
  output += "</div>";
  
  // Side by side comparison
  output += "<div style='display:grid;grid-template-columns:1fr 1fr;gap:20px'>";
  
  // Default strategy
  output += "<div style='background:#ffebee;padding:20px;border-radius:8px'>";
  output += "<h3 style='margin-top:0;color:#c62828'>Default Strategy</h3>";
  output += "<p>Checks ALL components on every change</p>";
  output += "<button onclick='simulateDefaultCD()' style='padding:10px 20px;background:#f44336;color:white;border:none;border-radius:6px;cursor:pointer;width:100%;margin-bottom:15px'> Trigger Change</button>";
  
  output += "<div style='display:flex;flex-direction:column;gap:10px'>";
  users.forEach(function(user) {
    output += "<div style='padding:10px;background:#fff;border-radius:6px;border:2px solid #f44336;animation:flash 0.3s'>";
    output += " " + user.name + " <span style='color:#f44336'> checked</span>";
    output += "</div>";
  });
  output += "</div>";
  
  output += "<div style='margin-top:15px;padding:10px;background:#ffcdd2;border-radius:6px'>";
  output += "Total checks: <b>" + defaultChecks + "</b>";
  output += "</div></div>";
  
  // OnPush strategy
  output += "<div style='background:#e8f5e9;padding:20px;border-radius:8px'>";
  output += "<h3 style='margin-top:0;color:#2e7d32'>OnPush Strategy</h3>";
  output += "<p>Only checks when @Input changes</p>";
  output += "<div style='display:flex;gap:5px;flex-wrap:wrap;margin-bottom:15px'>";
  users.forEach(function(user) {
    output += "<button onclick='simulateOnPushCD(" + user.id + ")' style='padding:8px 12px;background:#4caf50;color:white;border:none;border-radius:6px;cursor:pointer;flex:1;min-width:60px'>Update " + user.name + "</button>";
  });
  output += "</div>";
  
  output += "<div style='display:flex;flex-direction:column;gap:10px'>";
  users.forEach(function(user) {
    let checked = user.inputChanged;
    let borderColor = checked ? "#4caf50" : "#ddd";
    let bg = checked ? "#c8e6c9" : "#fff";
    output += "<div style='padding:10px;background:" + bg + ";border-radius:6px;border:2px solid " + borderColor + ";transition:all 0.3s'>";
    output += " " + user.name + " ";
    if (checked) {
      output += "<span style='color:#4caf50'> checked</span>";
    } else {
      output += "<span style='color:#888'> skipped</span>";
    }
    output += "</div>";
  });
  output += "</div>";
  
  output += "<div style='margin-top:15px;padding:10px;background:#c8e6c9;border-radius:6px'>";
  output += "Total checks: <b>" + onPushChecks + "</b>";
  output += "</div></div>";
  
  output += "</div>";
  
  // Summary
  output += "<div style='margin-top:20px;padding:20px;background:#e3f2fd;border-radius:8px;text-align:center'>";
  let savings = defaultChecks > 0 ? Math.round((1 - onPushChecks / defaultChecks) * 100) : 0;
  output += "<h3 style='margin:0'> OnPush saved ~" + savings + "% of checks!</h3>";
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },

    'signals': {
      title: 'Angular Signals',
      content: `# Angular Signals 

Think of Signals like **magic boxes that tell everyone when their contents change**!

### What Are Signals?

Signals are a NEW way in Angular to handle data that changes. They're like:
- A **mailbox** that notifies you when mail arrives 
- A **notification bell** that rings when something updates 

### Why Signals? (The Problem They Solve)

**Before Signals (Old Way)**:
- Angular checks EVERYTHING for changes
- Like searching the whole house for your keys

**With Signals (New Way)**:
- Only updates what actually changed
- Like the keys telling you "I'm on the table!"

### Creating a Signal

\`\`\`typescript
import { signal, computed, effect } from '@angular/core';

// Create a signal (like a magic box!)
const count = signal(0);

// Read the value (open the box)
console.log(count());  // Output: 0

// Update the value (put something new in)
count.set(5);
console.log(count());  // Output: 5

// Update based on current value
count.update(value => value + 1);
console.log(count());  // Output: 6
\`\`\`

### Computed Signals (Auto-Calculate!)

\`\`\`typescript
// These update automatically when their sources change!
const price = signal(100);
const quantity = signal(2);

// This AUTOMATICALLY updates when price or quantity changes!
const total = computed(() => price() * quantity());

console.log(total());  // Output: 200

price.set(150);
console.log(total());  // Output: 300 (auto-updated!)
\`\`\`

It's like a calculator that recalculates automatically! 

### Effects (React to Changes)

\`\`\`typescript
// Do something whenever a signal changes
effect(() => {
  console.log(\`The count is now: \\\${count()}\`);
  // This runs every time count changes!
});

count.set(10);  // Console: "The count is now: 10"
count.set(20);  // Console: "The count is now: 20"
\`\`\`

Like a robot that does something whenever the mailbox gets mail!

### Using Signals in Components

\`\`\`typescript
@Component({
  template: \`
    <p>Count: {{ count() }}</p>
    <p>Double: {{ doubleCount() }}</p>
    <button (click)="increment()">+1</button>
  \`
})
export class CounterComponent {
  count = signal(0);
  doubleCount = computed(() => this.count() * 2);
  
  increment() {
    this.count.update(n => n + 1);
  }
}
\`\`\`

### Signal Methods

| Method | What It Does | Example |
|--------|--------------|---------|
| \`signal()\` | Create a signal | \`signal(0)\` |
| \`.set()\` | Replace value | \`count.set(10)\` |
| \`.update()\` | Update based on current | \`count.update(n => n+1)\` |
| \`computed()\` | Auto-calculate | \`computed(() => a() + b())\` |
| \`effect()\` | React to changes | \`effect(() => log(count()))\` |

### Signals vs Observables

| Signals | Observables |
|---------|-------------|
| Simpler syntax | More powerful features |
| Synchronous | Async by default |
| Get value with \`()\` | Subscribe to get values |
| Perfect for UI state | Perfect for streams |

### Remember! 

1. Call signals like functions: \`count()\` not \`count\`
2. Use \`set()\` for new values, \`update()\` for transforms
3. \`computed()\` auto-updates when sources change
4. Signals make Angular FASTER and code SIMPLER!
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Angular Signals Demo</h2>
<div id="demo"></div>

<script>
// Simulate Angular Signals
function createSignal(initialValue) {
  let value = initialValue;
  let subscribers = [];
  
  function signal() {
    return value;
  }
  
  signal.set = function(newValue) {
    value = newValue;
    subscribers.forEach(fn => fn());
  };
  
  signal.update = function(fn) {
    value = fn(value);
    subscribers.forEach(fn => fn());
  };
  
  signal.subscribe = function(fn) {
    subscribers.push(fn);
  };
  
  return signal;
}

function createComputed(fn, deps) {
  let cachedValue = fn();
  
  function computed() {
    return cachedValue;
  }
  
  deps.forEach(function(dep) {
    dep.subscribe(function() {
      cachedValue = fn();
    });
  });
  
  return computed;
}

// Create signals
let count = createSignal(0);
let multiplier = createSignal(2);
let logs = [];

// Computed signals
function getDouble() {
  return count() * multiplier();
}

function getSquare() {
  return count() * count();
}

// Effect
function logChange(action) {
  logs.unshift({
    time: new Date().toLocaleTimeString(),
    action: action,
    count: count(),
    double: count() * multiplier()
  });
  if (logs.length > 5) logs.pop();
}

function increment() {
  count.update(n => n + 1);
  logChange('Increment (+1)');
  render();
}

function decrement() {
  count.update(n => n - 1);
  logChange('Decrement (-1)');
  render();
}

function setTo(value) {
  count.set(value);
  logChange('Set to ' + value);
  render();
}

function changeMultiplier(value) {
  multiplier.set(value);
  logChange('Multiplier  ' + value);
  render();
}

function render() {
  let output = "";
  
  // Signal visualization
  output += "<div style='display:grid;grid-template-columns:repeat(auto-fit, minmax(150px, 1fr));gap:15px;margin-bottom:20px'>";
  
  // Count signal
  output += "<div style='background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);color:white;padding:20px;border-radius:12px;text-align:center'>";
  output += "<div style='font-size:12px;opacity:0.8'>signal</div>";
  output += "<div style='font-size:36px;font-weight:bold'>" + count() + "</div>";
  output += "<div>count()</div>";
  output += "</div>";
  
  // Multiplier signal
  output += "<div style='background:linear-gradient(135deg, #f093fb 0%, #f5576c 100%);color:white;padding:20px;border-radius:12px;text-align:center'>";
  output += "<div style='font-size:12px;opacity:0.8'>signal</div>";
  output += "<div style='font-size:36px;font-weight:bold'>" + multiplier() + "</div>";
  output += "<div>multiplier()</div>";
  output += "</div>";
  
  // Computed: double
  output += "<div style='background:linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);color:white;padding:20px;border-radius:12px;text-align:center'>";
  output += "<div style='font-size:12px;opacity:0.8'>computed</div>";
  output += "<div style='font-size:36px;font-weight:bold'>" + getDouble() + "</div>";
  output += "<div>count  multiplier</div>";
  output += "</div>";
  
  // Computed: square
  output += "<div style='background:linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);color:white;padding:20px;border-radius:12px;text-align:center'>";
  output += "<div style='font-size:12px;opacity:0.8'>computed</div>";
  output += "<div style='font-size:36px;font-weight:bold'>" + getSquare() + "</div>";
  output += "<div>count</div>";
  output += "</div>";
  
  output += "</div>";
  
  // Controls
  output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px;margin-bottom:20px'>";
  output += "<h4 style='margin-top:0'> Signal Methods</h4>";
  
  output += "<div style='display:flex;gap:10px;flex-wrap:wrap;margin-bottom:15px'>";
  output += "<button onclick='decrement()' style='padding:10px 20px;background:#f44336;color:white;border:none;border-radius:6px;cursor:pointer;font-size:18px'></button>";
  output += "<button onclick='increment()' style='padding:10px 20px;background:#4caf50;color:white;border:none;border-radius:6px;cursor:pointer;font-size:18px'>+</button>";
  output += "<span style='padding:10px;color:#888'>|</span>";
  output += "<button onclick='setTo(0)' style='padding:10px 15px;background:#2196f3;color:white;border:none;border-radius:6px;cursor:pointer'>set(0)</button>";
  output += "<button onclick='setTo(10)' style='padding:10px 15px;background:#2196f3;color:white;border:none;border-radius:6px;cursor:pointer'>set(10)</button>";
  output += "<button onclick='setTo(100)' style='padding:10px 15px;background:#2196f3;color:white;border:none;border-radius:6px;cursor:pointer'>set(100)</button>";
  output += "</div>";
  
  output += "<div style='display:flex;gap:10px;align-items:center'>";
  output += "<span>Multiplier:</span>";
  [1, 2, 5, 10].forEach(function(m) {
    let active = multiplier() === m;
    output += "<button onclick='changeMultiplier(" + m + ")' style='padding:8px 16px;background:" + (active ? '#9c27b0' : '#e0e0e0') + ";color:" + (active ? 'white' : 'black') + ";border:none;border-radius:6px;cursor:pointer'>" + m + "</button>";
  });
  output += "</div>";
  output += "</div>";
  
  // Effect logs
  output += "<div style='background:#1e1e1e;color:#9cdcfe;padding:15px;border-radius:8px;font-family:monospace'>";
  output += "<h4 style='margin-top:0;color:#4ec9b0'> effect() logs</h4>";
  if (logs.length === 0) {
    output += "<p style='color:#888'>Click buttons to see effects...</p>";
  } else {
    logs.forEach(function(log) {
      output += "<div style='padding:8px;margin:5px 0;background:#2d2d2d;border-radius:4px;font-size:12px'>";
      output += "<span style='color:#888'>" + log.time + "</span> ";
      output += "<span style='color:#dcdcaa'>" + log.action + "</span>  ";
      output += "<span style='color:#ce9178'>count=" + log.count + ", computed=" + log.double + "</span>";
      output += "</div>";
    });
  }
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },

    // PHASE 9  Dynamic Components, Advanced DI, State Management
    'dynamic-components': {
      title: 'Dynamic Components',
      content: `# Dynamic Components 

Think of dynamic components like a **magic TV** that can show different channels based on what you want to watch!

### What Are Dynamic Components?

Normally, you write components in your template:
\`\`\`html
<app-user-profile></app-user-profile>
\`\`\`

But sometimes you don't know WHICH component to show until the app is running!

**Examples**:
- Show different widgets on a dashboard
- Load plugins from external sources
- Display different forms based on user role

### Creating Components Dynamically

\`\`\`typescript
@Component({
  template: \`
    <div #container></div>
    <button (click)="loadComponent('chart')">Show Chart</button>
    <button (click)="loadComponent('table')">Show Table</button>
  \`
})
export class DashboardComponent {
  @ViewChild('container', { read: ViewContainerRef }) 
  container!: ViewContainerRef;
  
  async loadComponent(type: string) {
    // Clear existing component
    this.container.clear();
    
    // Pick the right component
    let component;
    if (type === 'chart') {
      const { ChartComponent } = await import('./chart.component');
      component = ChartComponent;
    } else {
      const { TableComponent } = await import('./table.component');
      component = TableComponent;
    }
    
    // Create and insert it!
    this.container.createComponent(component);
  }
}
\`\`\`

### Passing Data to Dynamic Components

\`\`\`typescript
loadWidget(type: string, data: any) {
  const componentRef = this.container.createComponent(WidgetComponent);
  
  // Set input properties
  componentRef.instance.title = 'My Widget';
  componentRef.instance.data = data;
  
  // Listen to outputs
  componentRef.instance.onClick.subscribe(event => {
    console.log('Widget clicked!', event);
  });
}
\`\`\`

### NgComponentOutlet (Template Way)

\`\`\`typescript
// In your component
currentComponent = ChartComponent;

// In template - simpler!
<ng-container *ngComponentOutlet="currentComponent"></ng-container>

// Change what's displayed
switchToTable() {
  this.currentComponent = TableComponent;
}
\`\`\`

### Real-World Uses 

| Use Case | Example |
|----------|---------|
| **Dashboard** | User picks which widgets to show |
| **Forms** | Different form based on product type |
| **Plugins** | Third-party features loaded at runtime |
| **Wizards** | Different steps loaded dynamically |
| **Modals** | Various dialog types from one service |

### Remember! 

1. Use \`ViewContainerRef\` to host dynamic components
2. Use \`createComponent()\` to create them
3. Access inputs via \`componentRef.instance\`
4. Clean up with \`container.clear()\`
5. Consider lazy loading for performance
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Dynamic Components Demo</h2>
<div id="demo"></div>

<script>
// Simulate different components
let widgets = {
  chart: {
    name: 'Chart Widget',
    icon: '',
    render: function(data) {
      let output = "<div style='background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);color:white;padding:20px;border-radius:12px'>";
      output += "<h3 style='margin-top:0'> " + data.title + "</h3>";
      output += "<div style='display:flex;align-items:flex-end;gap:10px;height:100px'>";
      data.values.forEach(function(val, i) {
        let height = (val / Math.max(...data.values)) * 80;
        output += "<div style='width:40px;background:rgba(255,255,255,0.3);border-radius:4px 4px 0 0;height:" + height + "px;display:flex;align-items:flex-end;justify-content:center;padding-bottom:5px'>" + val + "</div>";
      });
      output += "</div></div>";
      return output;
    }
  },
  table: {
    name: 'Table Widget',
    icon: '',
    render: function(data) {
      let output = "<div style='background:white;border:1px solid #ddd;border-radius:12px;overflow:hidden'>";
      output += "<div style='background:#f5f5f5;padding:15px;font-weight:bold'> " + data.title + "</div>";
      output += "<table style='width:100%;border-collapse:collapse'>";
      data.rows.forEach(function(row, i) {
        let bg = i % 2 === 0 ? '#fff' : '#f9f9f9';
        output += "<tr style='background:" + bg + "'>";
        row.forEach(function(cell) {
          output += "<td style='padding:12px;border-bottom:1px solid #eee'>" + cell + "</td>";
        });
        output += "</tr>";
      });
      output += "</table></div>";
      return output;
    }
  },
  card: {
    name: 'Card Widget',
    icon: '',
    render: function(data) {
      let output = "<div style='background:linear-gradient(135deg, #f093fb 0%, #f5576c 100%);color:white;padding:20px;border-radius:12px;text-align:center'>";
      output += "<h3 style='margin-top:0'> " + data.title + "</h3>";
      output += "<div style='font-size:48px;font-weight:bold;margin:20px 0'>" + data.value + "</div>";
      output += "<div style='opacity:0.8'>" + data.subtitle + "</div>";
      output += "</div>";
      return output;
    }
  }
};

let currentWidget = null;
let widgetData = {
  chart: { title: 'Sales Data', values: [30, 45, 60, 35, 80, 55] },
  table: { title: 'Users', rows: [['Alice', 'Admin'], ['Bob', 'User'], ['Charlie', 'Editor']] },
  card: { title: 'Revenue', value: '$45,230', subtitle: '+12% from last month' }
};

function loadWidget(type) {
  currentWidget = type;
  render();
}

function clearWidget() {
  currentWidget = null;
  render();
}

function render() {
  let output = "";
  
  // Controls
  output += "<div style='display:flex;gap:10px;flex-wrap:wrap;margin-bottom:20px'>";
  Object.keys(widgets).forEach(function(type) {
    let w = widgets[type];
    let active = currentWidget === type;
    output += "<button onclick='loadWidget(\"" + type + "\")' style='padding:12px 20px;background:" + (active ? '#DD0031' : '#e0e0e0') + ";color:" + (active ? 'white' : 'black') + ";border:none;border-radius:8px;cursor:pointer;font-size:14px'>" + w.icon + " Load " + w.name + "</button>";
  });
  output += "<button onclick='clearWidget()' style='padding:12px 20px;background:#f5f5f5;color:#666;border:1px solid #ddd;border-radius:8px;cursor:pointer'> Clear</button>";
  output += "</div>";
  
  // Code preview
  output += "<div style='background:#1e1e1e;color:#9cdcfe;padding:15px;border-radius:8px;font-family:monospace;font-size:12px;margin-bottom:20px'>";
  if (currentWidget) {
    output += "<span style='color:#c586c0'>const</span> ref = container.<span style='color:#dcdcaa'>createComponent</span>(<span style='color:#4ec9b0'>" + widgets[currentWidget].name.replace(' ', '') + "</span>);<br>";
    output += "ref.instance.data = <span style='color:#ce9178'>" + JSON.stringify(widgetData[currentWidget]).substring(0, 50) + "...</span>;";
  } else {
    output += "container.<span style='color:#dcdcaa'>clear</span>();  <span style='color:#6a9955'>// No component loaded</span>";
  }
  output += "</div>";
  
  // Container
  output += "<div style='background:#f5f5f5;padding:20px;border-radius:12px;min-height:200px;border:2px dashed #ccc'>";
  output += "<div style='color:#888;font-size:12px;margin-bottom:15px'> #container (ViewContainerRef)</div>";
  
  if (currentWidget && widgets[currentWidget]) {
    output += widgets[currentWidget].render(widgetData[currentWidget]);
  } else {
    output += "<div style='text-align:center;color:#aaa;padding:40px'>";
    output += "<div style='font-size:48px'></div>";
    output += "<p>Click a button to dynamically load a component!</p>";
    output += "</div>";
  }
  
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },

    'advanced-di': {
      title: 'Advanced DI',
      content: `# Advanced Dependency Injection 

Think of DI like a **restaurant where you order food** - you don't cook it yourself, the kitchen (Angular) brings it to you!

### Quick Recap: What is DI?

\`\`\`typescript
// You "order" a service, Angular delivers it
constructor(private userService: UserService) {
  // UserService is automatically created and given to you!
}
\`\`\`

### Injection Tokens (Custom Orders)

Sometimes you need to inject things that aren't classes:

\`\`\`typescript
// Create a token (like a menu item number)
export const API_URL = new InjectionToken<string>('API_URL');

// Provide a value for it
providers: [
  { provide: API_URL, useValue: 'https://api.example.com' }
]

// Inject it
constructor(@Inject(API_URL) private apiUrl: string) {
  console.log(this.apiUrl);  // 'https://api.example.com'
}
\`\`\`

### Provider Types

| Type | Use When | Example |
|------|----------|---------|
| **useClass** | Want a class instance | \`{ provide: Logger, useClass: FileLogger }\` |
| **useValue** | Have a ready value | \`{ provide: API_URL, useValue: 'http://...' }\` |
| **useFactory** | Need logic to create | \`{ provide: Config, useFactory: () => {...} }\` |
| **useExisting** | Alias for another | \`{ provide: OldService, useExisting: NewService }\` |

### Provider Scope (Where Things Live)

\`\`\`typescript
// 1. ROOT - One for the whole app
@Injectable({ providedIn: 'root' })  // Most common!

// 2. COMPONENT - New one for each component
@Component({
  providers: [CartService]  // Each component gets its own!
})

// 3. MODULE - One per lazy-loaded module
@Injectable({ providedIn: MyFeatureModule })
\`\`\`

### Multi Providers (Multiple Values)

\`\`\`typescript
// Add multiple validators!
providers: [
  { provide: VALIDATORS, useClass: EmailValidator, multi: true },
  { provide: VALIDATORS, useClass: PhoneValidator, multi: true },
  { provide: VALIDATORS, useClass: AgeValidator, multi: true }
]

// Get all of them
constructor(@Inject(VALIDATORS) private validators: Validator[]) {
  // validators is an ARRAY with all three!
}
\`\`\`

### Optional Dependencies

\`\`\`typescript
constructor(
  @Optional() private analytics?: AnalyticsService
) {
  // If AnalyticsService isn't provided, it's undefined
  // App won't crash!
  if (this.analytics) {
    this.analytics.track('page_view');
  }
}
\`\`\`

### Self vs SkipSelf

\`\`\`typescript
// SELF: Only look at MY providers
@Self() private service: MyService

// SKIP_SELF: Look at parent, not me
@SkipSelf() private service: MyService
\`\`\`

### Remember! 

1. Use \`providedIn: 'root'\` for shared services
2. Use component providers for isolated state
3. Use InjectionToken for non-class values
4. Multi providers allow plugins/extensions
5. \`@Optional()\` prevents crashes
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Advanced DI Demo</h2>
<div id="demo"></div>

<script>
// Simulate Angular's DI System

// Token registry
let providers = {};
let instances = {};

// Injection Token simulation
function InjectionToken(name) {
  return { name: name, id: Math.random().toString(36) };
}

// Create some tokens
let API_URL = InjectionToken('API_URL');
let VALIDATORS = InjectionToken('VALIDATORS');

// Provider functions
function provide(token, config) {
  let key = typeof token === 'string' ? token : token.id;
  
  if (config.multi) {
    if (!providers[key]) providers[key] = [];
    providers[key].push(config);
  } else {
    providers[key] = config;
  }
}

function inject(token) {
  let key = typeof token === 'string' ? token : token.id;
  let config = providers[key];
  
  if (!config) return null;
  
  if (Array.isArray(config)) {
    // Multi provider
    return config.map(function(c) {
      if (c.useClass) return new c.useClass();
      if (c.useValue) return c.useValue;
      if (c.useFactory) return c.useFactory();
      return null;
    });
  }
  
  if (config.useClass) {
    if (!instances[key]) instances[key] = new config.useClass();
    return instances[key];
  }
  if (config.useValue) return config.useValue;
  if (config.useFactory) return config.useFactory();
  
  return null;
}

// Setup providers
provide(API_URL, { useValue: 'https://api.vertechie.com' });

provide(VALIDATORS, { 
  useValue: { name: 'EmailValidator', validate: (v) => v.includes('@') }, 
  multi: true 
});
provide(VALIDATORS, { 
  useValue: { name: 'LengthValidator', validate: (v) => v.length >= 3 }, 
  multi: true 
});
provide(VALIDATORS, { 
  useValue: { name: 'NoSpaceValidator', validate: (v) => !v.includes(' ') }, 
  multi: true 
});

function UserService() {
  this.name = 'UserService';
  this.getUser = function() { return { name: 'Alice', role: 'Admin' }; };
}

provide('UserService', { useClass: UserService });

provide('Config', { 
  useFactory: function() {
    return { 
      version: '1.0.0', 
      env: 'development',
      timestamp: new Date().toLocaleTimeString()
    };
  }
});

function render() {
  let output = "";
  
  // API_URL (useValue)
  output += "<div style='background:#e3f2fd;padding:20px;border-radius:8px;margin-bottom:15px'>";
  output += "<h4 style='margin-top:0'> useValue - API_URL Token</h4>";
  output += "<code>{ provide: API_URL, useValue: '...' }</code>";
  output += "<div style='margin-top:10px;padding:10px;background:#fff;border-radius:6px'>";
  output += "<b>Injected value:</b> " + inject(API_URL);
  output += "</div></div>";
  
  // UserService (useClass)
  output += "<div style='background:#e8f5e9;padding:20px;border-radius:8px;margin-bottom:15px'>";
  output += "<h4 style='margin-top:0'> useClass - UserService</h4>";
  output += "<code>{ provide: 'UserService', useClass: UserService }</code>";
  let userService = inject('UserService');
  let user = userService.getUser();
  output += "<div style='margin-top:10px;padding:10px;background:#fff;border-radius:6px'>";
  output += "<b>Service:</b> " + userService.name + "<br>";
  output += "<b>getUser():</b> " + JSON.stringify(user);
  output += "</div></div>";
  
  // Config (useFactory)
  output += "<div style='background:#fff3e0;padding:20px;border-radius:8px;margin-bottom:15px'>";
  output += "<h4 style='margin-top:0'> useFactory - Config</h4>";
  output += "<code>{ provide: 'Config', useFactory: () => {...} }</code>";
  let config = inject('Config');
  output += "<div style='margin-top:10px;padding:10px;background:#fff;border-radius:6px'>";
  output += "<b>Created at runtime:</b><br>";
  output += JSON.stringify(config, null, 2).replace(/\\n/g, '<br>').replace(/ /g, '&nbsp;');
  output += "</div></div>";
  
  // Multi providers
  output += "<div style='background:#fce4ec;padding:20px;border-radius:8px;margin-bottom:15px'>";
  output += "<h4 style='margin-top:0'> multi: true - VALIDATORS</h4>";
  output += "<code>{ provide: VALIDATORS, useValue: {...}, multi: true }</code>";
  let validators = inject(VALIDATORS);
  output += "<div style='margin-top:10px'>";
  output += "<p><b>All validators injected as array:</b></p>";
  validators.forEach(function(v, i) {
    output += "<div style='padding:10px;background:#fff;border-radius:6px;margin-bottom:8px;display:flex;justify-content:space-between;align-items:center'>";
    output += "<span>" + (i+1) + ". " + v.name + "</span>";
    let testVal = 'test@email.com';
    let result = v.validate(testVal);
    output += "<span style='color:" + (result ? 'green' : 'red') + "'>" + (result ? '' : '') + " '" + testVal + "'</span>";
    output += "</div>";
  });
  output += "</div></div>";
  
  // Provider types summary
  output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px'>";
  output += "<h4 style='margin-top:0'> Provider Types Summary</h4>";
  output += "<table style='width:100%;border-collapse:collapse'>";
  output += "<tr style='background:#DD0031;color:white'><th style='padding:10px;text-align:left'>Type</th><th>When to Use</th></tr>";
  output += "<tr><td style='padding:10px;border-bottom:1px solid #ddd'><b>useClass</b></td><td>Create a class instance</td></tr>";
  output += "<tr><td style='padding:10px;border-bottom:1px solid #ddd'><b>useValue</b></td><td>Provide a ready value</td></tr>";
  output += "<tr><td style='padding:10px;border-bottom:1px solid #ddd'><b>useFactory</b></td><td>Need logic to create</td></tr>";
  output += "<tr><td style='padding:10px'><b>useExisting</b></td><td>Alias for another provider</td></tr>";
  output += "</table></div>";
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },

    'state-management': {
      title: 'State Management',
      content: `# State Management 

Think of state management like a **central library** where everyone goes to borrow and return books (data)!

### What is State?

**State** = The data your app remembers

Examples:
- Is the user logged in? (yes/no)
- Items in shopping cart (array)
- Current page (string)
- Form data (object)

### The Problem: State Spaghetti 

Without proper management:
- Component A changes data
- Component B doesn't know
- Component C shows old data
- Bugs everywhere!

### Solution 1: Service-Based State (Simple)

\`\`\`typescript
// A central place for state
@Injectable({ providedIn: 'root' })
export class CartService {
  private itemsSubject = new BehaviorSubject<Item[]>([]);
  items$ = this.itemsSubject.asObservable();
  
  addItem(item: Item) {
    const current = this.itemsSubject.value;
    this.itemsSubject.next([...current, item]);
  }
  
  removeItem(id: number) {
    const current = this.itemsSubject.value;
    this.itemsSubject.next(current.filter(i => i.id !== id));
  }
  
  getTotal() {
    return this.itemsSubject.value.reduce((sum, i) => sum + i.price, 0);
  }
}
\`\`\`

### Solution 2: Signal-Based State (Modern)

\`\`\`typescript
@Injectable({ providedIn: 'root' })
export class CartStore {
  // State as signals
  items = signal<Item[]>([]);
  
  // Computed values
  itemCount = computed(() => this.items().length);
  total = computed(() => 
    this.items().reduce((sum, i) => sum + i.price, 0)
  );
  
  addItem(item: Item) {
    this.items.update(items => [...items, item]);
  }
  
  removeItem(id: number) {
    this.items.update(items => items.filter(i => i.id !== id));
  }
}
\`\`\`

### Solution 3: NgRx (Enterprise Scale)

NgRx is like having a **formal library system** with rules:

| Concept | What It Does | Example |
|---------|--------------|---------|
| **Store** | Central state container | The library |
| **Actions** | Events that happen | "Borrow book", "Return book" |
| **Reducers** | How state changes | Book goes out  count decreases |
| **Selectors** | Get specific data | "Show me all sci-fi books" |
| **Effects** | Side effects | Notify librarian when borrowed |

### When to Use What?

| Approach | When to Use |
|----------|-------------|
| **Component state** | Data used only in one component |
| **Service state** | Shared between a few components |
| **Signals** | Modern Angular, simpler than RxJS |
| **NgRx** | Large apps, complex flows, team projects |

### Best Practices 

1. **Keep state minimal** - Only store what you need
2. **Immutable updates** - Create new objects, don't modify
3. **Single source of truth** - One place for each piece of state
4. **Derive, don't duplicate** - Use computed values
5. **Centralize wisely** - Not everything needs global state
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> State Management Demo</h2>
<div id="demo"></div>

<script>
// Simulate different state management approaches

// ========== SERVICE-BASED STATE ==========
let cartState = {
  items: [],
  subscribers: []
};

function subscribeToCart(callback) {
  cartState.subscribers.push(callback);
}

function notifySubscribers() {
  cartState.subscribers.forEach(fn => fn(cartState.items));
}

function addToCart(item) {
  cartState.items = [...cartState.items, { ...item, id: Date.now() }];
  logAction('ADD_ITEM', item.name);
  notifySubscribers();
}

function removeFromCart(id) {
  let item = cartState.items.find(i => i.id === id);
  cartState.items = cartState.items.filter(i => i.id !== id);
  logAction('REMOVE_ITEM', item?.name);
  notifySubscribers();
}

function getTotal() {
  return cartState.items.reduce((sum, item) => sum + item.price, 0);
}

// ========== ACTION LOGGING (NgRx style) ==========
let actionLog = [];

function logAction(type, payload) {
  actionLog.unshift({
    time: new Date().toLocaleTimeString(),
    type: type,
    payload: payload
  });
  if (actionLog.length > 8) actionLog.pop();
}

// ========== SAMPLE PRODUCTS ==========
let products = [
  { name: 'Apple', price: 1.50, emoji: '' },
  { name: 'Banana', price: 0.75, emoji: '' },
  { name: 'Orange', price: 2.00, emoji: '' },
  { name: 'Pizza', price: 12.99, emoji: '' }
];

function render() {
  let output = "";
  
  // Products section
  output += "<div style='display:grid;grid-template-columns:1fr 1fr;gap:20px'>";
  
  // Left: Products
  output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px'>";
  output += "<h3 style='margin-top:0'> Products</h3>";
  output += "<div style='display:grid;gap:10px'>";
  products.forEach(function(product) {
    output += "<div style='background:white;padding:15px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 1px 3px rgba(0,0,0,0.1)'>";
    output += "<span style='font-size:24px'>" + product.emoji + "</span>";
    output += "<span><b>" + product.name + "</b><br><small>$" + product.price.toFixed(2) + "</small></span>";
    output += "<button onclick='addToCart(" + JSON.stringify(product).replace(/'/g, "\\'") + ")' style='padding:8px 16px;background:#4caf50;color:white;border:none;border-radius:6px;cursor:pointer'>Add</button>";
    output += "</div>";
  });
  output += "</div></div>";
  
  // Right: Cart (State)
  output += "<div style='background:#e8f5e9;padding:20px;border-radius:8px'>";
  output += "<h3 style='margin-top:0'> Cart State</h3>";
  
  if (cartState.items.length === 0) {
    output += "<p style='color:#888;text-align:center;padding:20px'>Cart is empty</p>";
  } else {
    output += "<div style='display:grid;gap:8px;margin-bottom:15px'>";
    cartState.items.forEach(function(item) {
      output += "<div style='background:white;padding:10px;border-radius:6px;display:flex;justify-content:space-between;align-items:center'>";
      output += "<span>" + item.emoji + " " + item.name + " - $" + item.price.toFixed(2) + "</span>";
      output += "<button onclick='removeFromCart(" + item.id + ")' style='padding:4px 10px;background:#f44336;color:white;border:none;border-radius:4px;cursor:pointer'></button>";
      output += "</div>";
    });
    output += "</div>";
    
    output += "<div style='padding:15px;background:#c8e6c9;border-radius:8px;text-align:right'>";
    output += "<b>Total: $" + getTotal().toFixed(2) + "</b>";
    output += "</div>";
  }
  output += "</div>";
  
  output += "</div>";
  
  // State visualization
  output += "<div style='margin-top:20px;display:grid;grid-template-columns:1fr 1fr;gap:20px'>";
  
  // Current state
  output += "<div style='background:#1e1e1e;color:#9cdcfe;padding:15px;border-radius:8px;font-family:monospace;font-size:12px'>";
  output += "<h4 style='margin-top:0;color:#4ec9b0'> Current State</h4>";
  output += "<pre style='margin:0;overflow:auto'>" + JSON.stringify({
    items: cartState.items.map(i => ({ name: i.name, price: i.price })),
    itemCount: cartState.items.length,
    total: getTotal()
  }, null, 2) + "</pre>";
  output += "</div>";
  
  // Action log
  output += "<div style='background:#2d2d2d;color:#dcdcaa;padding:15px;border-radius:8px;font-family:monospace;font-size:12px'>";
  output += "<h4 style='margin-top:0;color:#ce9178'> Action Log (NgRx Style)</h4>";
  if (actionLog.length === 0) {
    output += "<p style='color:#888'>No actions yet...</p>";
  } else {
    actionLog.forEach(function(action) {
      let color = action.type.includes('ADD') ? '#4caf50' : '#f44336';
      output += "<div style='padding:6px;margin:4px 0;background:#383838;border-radius:4px'>";
      output += "<span style='color:#888'>" + action.time + "</span> ";
      output += "<span style='color:" + color + "'>" + action.type + "</span>";
      output += " <span style='color:#9cdcfe'>" + action.payload + "</span>";
      output += "</div>";
    });
  }
  output += "</div>";
  
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

subscribeToCart(render);
render();
</script>

</body>
</html>`,
    },

    // PHASE 11  Animations
    'animations': {
      title: 'Angular Animations',
      content: `# Angular Animations 

Think of animations like **adding magic to your app** - things slide, fade, and bounce instead of just appearing!

### Why Animations Matter

Without animations:
> Button appears suddenly  User confused 

With animations:
> Button slides in smoothly  User delighted! 

### Setting Up Animations

\`\`\`typescript
// 1. Import in your component
import { trigger, state, style, transition, animate } from '@angular/animations';

@Component({
  animations: [
    trigger('fadeInOut', [
      state('void', style({ opacity: 0 })),
      state('*', style({ opacity: 1 })),
      transition('void => *', animate('300ms ease-in')),
      transition('* => void', animate('300ms ease-out'))
    ])
  ]
})
\`\`\`

### Animation Building Blocks

| Concept | What It Does | Example |
|---------|--------------|---------|
| **trigger** | Names the animation | \`trigger('fadeIn', [...])\` |
| **state** | How element looks | \`state('open', style({...}))\` |
| **style** | CSS properties | \`style({ opacity: 1 })\` |
| **transition** | When to animate | \`transition('closed => open')\` |
| **animate** | How long/easing | \`animate('300ms ease-in')\` |

### Simple Fade Animation

\`\`\`typescript
trigger('fade', [
  transition(':enter', [  // When element appears
    style({ opacity: 0 }),
    animate('300ms', style({ opacity: 1 }))
  ]),
  transition(':leave', [  // When element disappears
    animate('300ms', style({ opacity: 0 }))
  ])
])
\`\`\`

### Using in Template

\`\`\`html
<div [@fade]="isVisible">
  This fades in and out!
</div>

<button [@bounce]="'active'">
  I bounce when clicked!
</button>
\`\`\`

### Common Animation Patterns

**Slide In**
\`\`\`typescript
transition(':enter', [
  style({ transform: 'translateX(-100%)' }),
  animate('300ms ease-out', style({ transform: 'translateX(0)' }))
])
\`\`\`

**Scale Up**
\`\`\`typescript
transition(':enter', [
  style({ transform: 'scale(0)' }),
  animate('200ms', style({ transform: 'scale(1)' }))
])
\`\`\`

### Performance Tips 

1. Animate **transform** and **opacity** (GPU accelerated)
2. Avoid animating **width**, **height**, **top**, **left**
3. Use \`will-change\` for complex animations
4. Keep animations short (200-500ms)
`,
      tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes slideIn { from { transform: translateX(-100%); } to { transform: translateX(0); } }
@keyframes scaleUp { from { transform: scale(0); } to { transform: scale(1); } }
@keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
.animate-fade { animation: fadeIn 0.5s ease-out forwards; }
.animate-slide { animation: slideIn 0.5s ease-out forwards; }
.animate-scale { animation: scaleUp 0.3s ease-out forwards; }
.animate-bounce { animation: bounce 0.5s ease-in-out; }
</style>
</head>
<body>

<h2> Angular Animations Demo</h2>
<div id="demo"></div>

<script>
let items = [];
let nextId = 1;

function addItem(animationType) {
  items.push({ id: nextId++, animation: animationType, time: Date.now() });
  render();
}

function removeItem(id) {
  items = items.filter(i => i.id !== id);
  render();
}

function clearAll() {
  items = [];
  render();
}

function render() {
  let output = "";
  
  // Controls
  output += "<div style='display:flex;gap:10px;flex-wrap:wrap;margin-bottom:20px'>";
  output += "<button onclick='addItem(\"fade\")' style='padding:10px 20px;background:#9c27b0;color:white;border:none;border-radius:6px;cursor:pointer'> Fade In</button>";
  output += "<button onclick='addItem(\"slide\")' style='padding:10px 20px;background:#2196f3;color:white;border:none;border-radius:6px;cursor:pointer'> Slide In</button>";
  output += "<button onclick='addItem(\"scale\")' style='padding:10px 20px;background:#4caf50;color:white;border:none;border-radius:6px;cursor:pointer'> Scale Up</button>";
  output += "<button onclick='addItem(\"bounce\")' style='padding:10px 20px;background:#ff9800;color:white;border:none;border-radius:6px;cursor:pointer'> Bounce</button>";
  output += "<button onclick='clearAll()' style='padding:10px 20px;background:#f44336;color:white;border:none;border-radius:6px;cursor:pointer'> Clear</button>";
  output += "</div>";
  
  // Animation showcase
  output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px;min-height:200px'>";
  output += "<h4 style='margin-top:0'>Animation Playground</h4>";
  output += "<div style='display:flex;flex-wrap:wrap;gap:10px'>";
  
  items.forEach(function(item) {
    let bg = {fade:'#9c27b0',slide:'#2196f3',scale:'#4caf50',bounce:'#ff9800'}[item.animation];
    let animClass = 'animate-' + item.animation;
    output += "<div class='" + animClass + "' key='" + item.id + "' style='padding:15px 20px;background:" + bg + ";color:white;border-radius:8px;display:flex;align-items:center;gap:10px'>";
    output += "<span>" + item.animation.toUpperCase() + " #" + item.id + "</span>";
    output += "<button onclick='removeItem(" + item.id + ")' style='padding:4px 8px;background:rgba(255,255,255,0.3);color:white;border:none;border-radius:4px;cursor:pointer'></button>";
    output += "</div>";
  });
  
  if (items.length === 0) {
    output += "<p style='color:#888'>Click buttons above to add animated elements!</p>";
  }
  
  output += "</div></div>";
  
  // Code example
  output += "<div style='background:#1e1e1e;color:#9cdcfe;padding:15px;border-radius:8px;font-family:monospace;font-size:12px;margin-top:20px'>";
  output += "<span style='color:#c586c0'>trigger</span>(<span style='color:#ce9178'>'fadeIn'</span>, [<br>";
  output += "  <span style='color:#c586c0'>transition</span>(<span style='color:#ce9178'>':enter'</span>, [<br>";
  output += "    <span style='color:#dcdcaa'>style</span>({ opacity: <span style='color:#b5cea8'>0</span> }),<br>";
  output += "    <span style='color:#dcdcaa'>animate</span>(<span style='color:#ce9178'>'300ms'</span>, <span style='color:#dcdcaa'>style</span>({ opacity: <span style='color:#b5cea8'>1</span> }))<br>";
  output += "  ])<br>";
  output += "])";
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },

    'testing': {
      title: 'Angular Testing',
      content: `# Angular Testing 

Think of testing like **checking your homework before turning it in** - you catch mistakes before the teacher (users) sees them!

### Why Test?

- Find bugs BEFORE users do
- Make changes confidently
- Document how code should work
- Sleep better at night! 

### Types of Tests

| Type | What It Tests | Speed |
|------|---------------|-------|
| **Unit** | One function/component |  Fast |
| **Integration** | Components together |  Medium |
| **E2E** | Whole app flow |  Slow |

### Unit Testing a Component

\`\`\`typescript
describe('CounterComponent', () => {
  let component: CounterComponent;
  let fixture: ComponentFixture<CounterComponent>;
  
  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [CounterComponent]
    }).compileComponents();
    
    fixture = TestBed.createComponent(CounterComponent);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });
  
  it('should start at 0', () => {
    expect(component.count).toBe(0);
  });
  
  it('should increment when button clicked', () => {
    component.increment();
    expect(component.count).toBe(1);
  });
});
\`\`\`

### Testing Services

\`\`\`typescript
describe('UserService', () => {
  let service: UserService;
  let httpMock: HttpTestingController;
  
  beforeEach(() => {
    TestBed.configureTestingModule({
      imports: [HttpClientTestingModule],
      providers: [UserService]
    });
    
    service = TestBed.inject(UserService);
    httpMock = TestBed.inject(HttpTestingController);
  });
  
  it('should fetch users', () => {
    const mockUsers = [{ id: 1, name: 'Alice' }];
    
    service.getUsers().subscribe(users => {
      expect(users).toEqual(mockUsers);
    });
    
    const req = httpMock.expectOne('/api/users');
    req.flush(mockUsers);
  });
});
\`\`\`

### Testing Template

\`\`\`typescript
it('should display user name', () => {
  component.user = { name: 'Alice' };
  fixture.detectChanges();
  
  const element = fixture.nativeElement.querySelector('.user-name');
  expect(element.textContent).toContain('Alice');
});
\`\`\`

### Mocking Dependencies

\`\`\`typescript
const mockUserService = {
  getUser: jasmine.createSpy().and.returnValue(of({ name: 'Alice' }))
};

beforeEach(() => {
  TestBed.configureTestingModule({
    providers: [
      { provide: UserService, useValue: mockUserService }
    ]
  });
});
\`\`\`

### Testing Best Practices 

1. Test behavior, not implementation
2. Use descriptive test names
3. Keep tests independent
4. Mock external dependencies
5. Aim for meaningful coverage (not 100%)
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Angular Testing Demo</h2>
<div id="demo"></div>

<script>
let testResults = [];
let testsPassed = 0;
let testsFailed = 0;

// Simple test framework
function describe(name, fn) {
  testResults.push({ type: 'suite', name: name });
  fn();
}

function it(name, fn) {
  try {
    fn();
    testResults.push({ type: 'test', name: name, passed: true });
    testsPassed++;
  } catch(e) {
    testResults.push({ type: 'test', name: name, passed: false, error: e.message });
    testsFailed++;
  }
}

function expect(actual) {
  return {
    toBe: function(expected) {
      if (actual !== expected) {
        throw new Error('Expected ' + expected + ' but got ' + actual);
      }
    },
    toEqual: function(expected) {
      if (JSON.stringify(actual) !== JSON.stringify(expected)) {
        throw new Error('Expected ' + JSON.stringify(expected) + ' but got ' + JSON.stringify(actual));
      }
    },
    toContain: function(expected) {
      if (!actual.includes(expected)) {
        throw new Error('Expected "' + actual + '" to contain "' + expected + '"');
      }
    }
  };
}

// Sample component to test
class CounterComponent {
  constructor() {
    this.count = 0;
  }
  increment() { this.count++; }
  decrement() { this.count--; }
  reset() { this.count = 0; }
}

function runTests() {
  testResults = [];
  testsPassed = 0;
  testsFailed = 0;
  
  describe('CounterComponent', function() {
    let component = new CounterComponent();
    
    it('should start at 0', function() {
      expect(component.count).toBe(0);
    });
    
    it('should increment when increment() called', function() {
      component.increment();
      expect(component.count).toBe(1);
    });
    
    it('should decrement when decrement() called', function() {
      component.decrement();
      expect(component.count).toBe(0);
    });
    
    it('should reset to 0 when reset() called', function() {
      component.increment();
      component.increment();
      component.reset();
      expect(component.count).toBe(0);
    });
  });
  
  describe('Array Methods', function() {
    it('should filter correctly', function() {
      let nums = [1, 2, 3, 4, 5];
      let evens = nums.filter(n => n % 2 === 0);
      expect(evens).toEqual([2, 4]);
    });
    
    it('should map correctly', function() {
      let nums = [1, 2, 3];
      let doubled = nums.map(n => n * 2);
      expect(doubled).toEqual([2, 4, 6]);
    });
  });
  
  describe('String Methods', function() {
    it('should contain substring', function() {
      let greeting = 'Hello World';
      expect(greeting).toContain('World');
    });
    
    it('should fail intentionally', function() {
      expect('Hello').toContain('Goodbye');
    });
  });
  
  render();
}

function render() {
  let output = "";
  
  output += "<button onclick='runTests()' style='padding:12px 24px;background:#4caf50;color:white;border:none;border-radius:6px;cursor:pointer;font-size:16px;margin-bottom:20px'> Run Tests</button>";
  
  if (testResults.length === 0) {
    output += "<div style='background:#f5f5f5;padding:40px;border-radius:8px;text-align:center;color:#888'>";
    output += "<div style='font-size:48px'></div>";
    output += "<p>Click 'Run Tests' to execute the test suite!</p>";
    output += "</div>";
  } else {
    // Summary
    output += "<div style='display:flex;gap:20px;margin-bottom:20px'>";
    output += "<div style='flex:1;padding:20px;background:#e8f5e9;border-radius:8px;text-align:center'>";
    output += "<div style='font-size:36px;font-weight:bold;color:#4caf50'>" + testsPassed + "</div>";
    output += "<div style='color:#2e7d32'>Passed</div>";
    output += "</div>";
    output += "<div style='flex:1;padding:20px;background:#ffebee;border-radius:8px;text-align:center'>";
    output += "<div style='font-size:36px;font-weight:bold;color:#f44336'>" + testsFailed + "</div>";
    output += "<div style='color:#c62828'>Failed</div>";
    output += "</div>";
    output += "</div>";
    
    // Results
    output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px'>";
    testResults.forEach(function(result) {
      if (result.type === 'suite') {
        output += "<h4 style='margin-top:15px;margin-bottom:10px;color:#333'> " + result.name + "</h4>";
      } else {
        let icon = result.passed ? '' : '';
        let bg = result.passed ? '#e8f5e9' : '#ffebee';
        let color = result.passed ? '#2e7d32' : '#c62828';
        output += "<div style='padding:12px;margin:5px 0;background:" + bg + ";border-radius:6px;border-left:4px solid " + color + "'>";
        output += icon + " " + result.name;
        if (!result.passed) {
          output += "<br><small style='color:#c62828'>Error: " + result.error + "</small>";
        }
        output += "</div>";
      }
    });
    output += "</div>";
  }
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },

    'compiler': {
      title: 'Angular Compiler',
      content: `# Angular Compiler 

Think of the compiler like a **translator** that converts your TypeScript code into super-fast JavaScript that browsers can understand!

### Why Does Angular Need a Compiler?

Your code:
\`\`\`html
<div *ngFor="let item of items">{{ item.name }}</div>
\`\`\`

Browsers don't understand \`*ngFor\`! The compiler translates it.

### Two Compilation Modes

| Mode | When It Happens | Use For |
|------|-----------------|---------|
| **JIT** (Just-in-Time) | In browser | Development |
| **AOT** (Ahead-of-Time) | Build time | Production  |

### JIT vs AOT

**JIT (Development)**:
1. You run \`ng serve\`
2. Browser downloads TypeScript
3. Compiler runs IN the browser
4. App starts

**AOT (Production)**:
1. You run \`ng build\`
2. Compiler runs on YOUR computer
3. Browser gets pre-compiled JavaScript
4. App starts FAST! 

### Why AOT is Better for Production

| Benefit | Explanation |
|---------|-------------|
| **Faster startup** | No compilation in browser |
| **Smaller bundle** | Compiler not included |
| **Earlier error detection** | Catches template errors at build time |
| **Better security** | Templates pre-processed |

### Build Commands

\`\`\`bash
# Development (JIT)
ng serve

# Production (AOT) - default since Angular 9
ng build --configuration production

# Analyze bundle size
ng build --stats-json
npx webpack-bundle-analyzer dist/my-app/stats.json
\`\`\`

### Build Optimizations

Angular applies these automatically:
- **Tree-shaking**: Removes unused code
- **Minification**: Makes code smaller
- **Dead code elimination**: Removes unreachable code
- **Differential loading**: Modern + legacy bundles

### Common Build Errors

| Error | Cause | Fix |
|-------|-------|-----|
| Template error | Invalid HTML/binding | Fix template syntax |
| Missing module | Not imported | Add to imports |
| AOT restriction | Dynamic templates | Use static templates |

### Remember! 

1. Use \`ng build\` for production
2. AOT catches errors earlier
3. Check bundle size regularly
4. Enable source maps for debugging
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Angular Compiler Demo</h2>
<div id="demo"></div>

<script>
function render() {
  let output = "";
  
  // JIT vs AOT comparison
  output += "<div style='display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px'>";
  
  // JIT
  output += "<div style='background:#fff3e0;padding:20px;border-radius:8px'>";
  output += "<h3 style='margin-top:0;color:#e65100'> JIT (Just-in-Time)</h3>";
  output += "<p><b>When:</b> Development</p>";
  output += "<div style='background:white;padding:15px;border-radius:6px;margin:10px 0'>";
  output += "<div style='display:flex;flex-direction:column;gap:10px'>";
  output += "<div style='padding:10px;background:#ffecb3;border-radius:4px'>1.  Write code</div>";
  output += "<div style='padding:10px;background:#ffecb3;border-radius:4px'>2.  Browser downloads</div>";
  output += "<div style='padding:10px;background:#ffe0b2;border-radius:4px'>3.  Compiles in browser</div>";
  output += "<div style='padding:10px;background:#ffccbc;border-radius:4px'>4.  App runs</div>";
  output += "</div></div>";
  output += "<div style='color:#e65100'> Slower startup</div>";
  output += "</div>";
  
  // AOT
  output += "<div style='background:#e8f5e9;padding:20px;border-radius:8px'>";
  output += "<h3 style='margin-top:0;color:#2e7d32'> AOT (Ahead-of-Time)</h3>";
  output += "<p><b>When:</b> Production</p>";
  output += "<div style='background:white;padding:15px;border-radius:6px;margin:10px 0'>";
  output += "<div style='display:flex;flex-direction:column;gap:10px'>";
  output += "<div style='padding:10px;background:#c8e6c9;border-radius:4px'>1.  Write code</div>";
  output += "<div style='padding:10px;background:#a5d6a7;border-radius:4px'>2.  Compiles during build</div>";
  output += "<div style='padding:10px;background:#81c784;border-radius:4px'>3.  Browser downloads JS</div>";
  output += "<div style='padding:10px;background:#66bb6a;border-radius:4px'>4.  App runs FAST!</div>";
  output += "</div></div>";
  output += "<div style='color:#2e7d32'> Fast startup!</div>";
  output += "</div>";
  
  output += "</div>";
  
  // Build optimization
  output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px;margin-bottom:20px'>";
  output += "<h3 style='margin-top:0'> Build Optimizations</h3>";
  
  let optimizations = [
    { name: 'Tree-shaking', desc: 'Removes unused code', icon: '' },
    { name: 'Minification', desc: 'Makes code smaller', icon: '' },
    { name: 'Dead Code Removal', desc: 'Removes unreachable code', icon: '' },
    { name: 'Differential Loading', desc: 'Modern + legacy bundles', icon: '' }
  ];
  
  output += "<div style='display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:10px'>";
  optimizations.forEach(function(opt) {
    output += "<div style='padding:15px;background:white;border-radius:8px;box-shadow:0 1px 3px rgba(0,0,0,0.1)'>";
    output += "<div style='font-size:24px;margin-bottom:5px'>" + opt.icon + "</div>";
    output += "<div style='font-weight:bold'>" + opt.name + "</div>";
    output += "<div style='font-size:12px;color:#666'>" + opt.desc + "</div>";
    output += "</div>";
  });
  output += "</div></div>";
  
  // Bundle size visualization
  output += "<div style='background:#1e1e1e;color:#9cdcfe;padding:20px;border-radius:8px'>";
  output += "<h3 style='margin-top:0;color:#4ec9b0'> Bundle Size Comparison</h3>";
  
  let bundles = [
    { name: 'Development (JIT)', size: 2800, color: '#f44336' },
    { name: 'Production (AOT)', size: 450, color: '#4caf50' },
    { name: 'Lazy Loaded Module', size: 85, color: '#2196f3' }
  ];
  
  let maxSize = Math.max(...bundles.map(b => b.size));
  
  bundles.forEach(function(bundle) {
    let width = (bundle.size / maxSize) * 100;
    output += "<div style='margin:15px 0'>";
    output += "<div style='display:flex;justify-content:space-between;margin-bottom:5px'>";
    output += "<span>" + bundle.name + "</span>";
    output += "<span>" + bundle.size + " KB</span>";
    output += "</div>";
    output += "<div style='background:#333;border-radius:4px;height:24px;overflow:hidden'>";
    output += "<div style='background:" + bundle.color + ";height:100%;width:" + width + "%;transition:width 0.5s'></div>";
    output += "</div></div>";
  });
  
  output += "<p style='margin-top:20px;color:#888;font-size:12px'> AOT reduces bundle size by ~80%!</p>";
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },

    // PHASE 13  Security
    'security': {
      title: 'Angular Security',
      content: `# Angular Security 

Think of security like **locks on your house** - they keep bad guys out and protect what's valuable inside!

### Why Security Matters

Without security, hackers can:
- Steal user data 
- Take over accounts 
- Break your app 
- Get you in legal trouble 

### Common Attack Types

| Attack | What It Does | How Angular Helps |
|--------|--------------|-------------------|
| **XSS** | Injects bad scripts | Auto-sanitization |
| **CSRF** | Tricks users into actions | XSRF token support |
| **Injection** | Puts bad data in forms | Input validation |

### XSS Protection (Built-in!)

Angular automatically protects you:

\`\`\`typescript
// SAFE - Angular escapes this!
<p>{{ userInput }}</p>
// If userInput = "<script>alert('hacked!')</script>"
// Shows as text, not code!

// DANGEROUS - Only when you really need it
<div [innerHTML]="trustedHtml"></div>
// Angular sanitizes this too!
\`\`\`

### Trusting Content (When Needed)

\`\`\`typescript
import { DomSanitizer } from '@angular/platform-browser';

constructor(private sanitizer: DomSanitizer) {}

// Only use when you TRUST the source!
getTrustedUrl(url: string) {
  return this.sanitizer.bypassSecurityTrustResourceUrl(url);
}
\`\`\`

### CSRF Protection

\`\`\`typescript
// Angular automatically handles XSRF tokens
// Just configure HttpClient properly
provideHttpClient(
  withXsrfConfiguration({
    cookieName: 'XSRF-TOKEN',
    headerName: 'X-XSRF-TOKEN'
  })
)
\`\`\`

### Authentication Best Practices

\`\`\`typescript
// Store tokens securely
// GOOD: HttpOnly cookies (server handles)
// OK: sessionStorage (cleared on close)
// BAD: localStorage (vulnerable to XSS)

// Use Guards
canActivate() {
  if (!this.authService.isLoggedIn()) {
    this.router.navigate(['/login']);
    return false;
  }
  return true;
}
\`\`\`

### Security Checklist 

1. **Never trust user input**
2. **Use Angular's sanitization**
3. **Implement proper auth guards**
4. **Use HTTPS always**
5. **Validate on server too**
6. **Keep Angular updated**
7. **Don't expose secrets in code**
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Angular Security Demo</h2>
<div id="demo"></div>

<script>
let userInput = '';

// Simulate Angular's sanitization
function sanitize(html) {
  return html
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;')
    .replace(/'/g, '&#39;');
}

function updateInput() {
  userInput = document.getElementById('inputField').value;
  render();
}

function setExample(example) {
  let examples = {
    safe: 'Hello, World!',
    xss: '<script>alert("Hacked!")</script>',
    img: '<img src=x onerror="alert(1)">',
    html: '<b>Bold</b> and <i>italic</i>'
  };
  document.getElementById('inputField').value = examples[example];
  userInput = examples[example];
  render();
}

function render() {
  let output = "";
  
  // Input section
  output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px;margin-bottom:20px'>";
  output += "<h4 style='margin-top:0'>Try XSS Attacks!</h4>";
  output += "<input id='inputField' type='text' value='" + sanitize(userInput) + "' oninput='updateInput()' style='width:100%;padding:12px;border:1px solid #ddd;border-radius:6px;font-size:16px;box-sizing:border-box' placeholder='Type something...'>";
  
  output += "<div style='margin-top:10px;display:flex;gap:10px;flex-wrap:wrap'>";
  output += "<button onclick='setExample(\"safe\")' style='padding:8px 16px;background:#4caf50;color:white;border:none;border-radius:6px;cursor:pointer'> Safe Text</button>";
  output += "<button onclick='setExample(\"xss\")' style='padding:8px 16px;background:#f44336;color:white;border:none;border-radius:6px;cursor:pointer'> Script Tag</button>";
  output += "<button onclick='setExample(\"img\")' style='padding:8px 16px;background:#ff9800;color:white;border:none;border-radius:6px;cursor:pointer'> Img Attack</button>";
  output += "<button onclick='setExample(\"html\")' style='padding:8px 16px;background:#2196f3;color:white;border:none;border-radius:6px;cursor:pointer'> HTML</button>";
  output += "</div></div>";
  
  // Comparison
  output += "<div style='display:grid;grid-template-columns:1fr 1fr;gap:20px'>";
  
  // Without protection
  output += "<div style='background:#ffebee;padding:20px;border-radius:8px'>";
  output += "<h4 style='margin-top:0;color:#c62828'> Without Protection</h4>";
  output += "<p style='font-size:12px;color:#666'>dangerouslySetInnerHTML</p>";
  output += "<div style='background:white;padding:15px;border-radius:6px;border:2px solid #f44336'>";
  // Show what would happen without sanitization
  output += "<code style='word-break:break-all;color:#c62828'>" + userInput + "</code>";
  output += "</div>";
  output += "<p style='color:#c62828;font-size:12px;margin-bottom:0'> Scripts would execute!</p>";
  output += "</div>";
  
  // With Angular protection
  output += "<div style='background:#e8f5e9;padding:20px;border-radius:8px'>";
  output += "<h4 style='margin-top:0;color:#2e7d32'> With Angular Protection</h4>";
  output += "<p style='font-size:12px;color:#666'>{{ userInput }} - Auto-sanitized</p>";
  output += "<div style='background:white;padding:15px;border-radius:6px;border:2px solid #4caf50'>";
  output += "<code style='word-break:break-all'>" + sanitize(userInput) + "</code>";
  output += "</div>";
  output += "<p style='color:#2e7d32;font-size:12px;margin-bottom:0'> Scripts shown as text!</p>";
  output += "</div>";
  
  output += "</div>";
  
  // Security tips
  output += "<div style='background:#e3f2fd;padding:20px;border-radius:8px;margin-top:20px'>";
  output += "<h4 style='margin-top:0'> Angular Security Features</h4>";
  output += "<ul style='margin:0;padding-left:20px'>";
  output += "<li><b>Auto-Sanitization</b> - HTML/JS escaped by default</li>";
  output += "<li><b>Content Security Policy</b> - Headers support</li>";
  output += "<li><b>XSRF Protection</b> - Built-in token handling</li>";
  output += "<li><b>Safe Navigation</b> - Router guards</li>";
  output += "</ul></div>";
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },

    'ssr': {
      title: 'Angular SSR',
      content: `# Angular SSR (Server-Side Rendering) 

Think of SSR like **preparing a meal in the kitchen** before serving it, instead of making guests watch you cook!

### What is SSR?

**Without SSR (Client-Side)**:
1. Browser gets empty HTML
2. Downloads JavaScript
3. JS builds the page
4. User finally sees content

**With SSR (Server-Side)**:
1. Server builds full HTML
2. Browser gets complete page
3. User sees content immediately! 
4. JS takes over for interactivity

### Why Use SSR?

| Benefit | Explanation |
|---------|-------------|
| **SEO** | Search engines see your content |
| **Performance** | First paint is faster |
| **Social sharing** | Proper previews on Facebook/Twitter |
| **Accessibility** | Works without JavaScript |

### Setting Up Angular Universal

\`\`\`bash
# Add SSR to your project
ng add @angular/ssr

# This creates:
# - server.ts
# - app.config.server.ts
# - main.server.ts
\`\`\`

### Server Entry Point

\`\`\`typescript
// server.ts - Node.js server
import express from 'express';
import { APP_BASE_HREF } from '@angular/common';
import { CommonEngine } from '@angular/ssr';
import bootstrap from './src/main.server';

const app = express();

app.get('*', (req, res) => {
  const engine = new CommonEngine();
  
  engine.render({
    bootstrap,
    url: req.originalUrl,
    providers: [{ provide: APP_BASE_HREF, useValue: '/' }]
  }).then(html => res.send(html));
});
\`\`\`

### Checking if Server or Browser

\`\`\`typescript
import { isPlatformBrowser, isPlatformServer } from '@angular/common';

constructor(@Inject(PLATFORM_ID) private platformId: Object) {}

ngOnInit() {
  if (isPlatformBrowser(this.platformId)) {
    // Only runs in browser
    window.addEventListener('scroll', this.onScroll);
  }
  
  if (isPlatformServer(this.platformId)) {
    // Only runs on server
    console.log('Rendering on server!');
  }
}
\`\`\`

### Things to Watch Out For

\`\`\`typescript
//  BAD - window doesn't exist on server
ngOnInit() {
  const width = window.innerWidth;
}

//  GOOD - Check platform first
ngOnInit() {
  if (isPlatformBrowser(this.platformId)) {
    const width = window.innerWidth;
  }
}
\`\`\`

### Remember! 

1. SSR improves SEO and initial load
2. Check platform before using browser APIs
3. Handle state transfer properly
4. Consider hydration for interactivity
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Server-Side Rendering Demo</h2>
<div id="demo"></div>

<script>
function render() {
  let output = "";
  
  // Comparison diagram
  output += "<div style='display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px'>";
  
  // Client-side
  output += "<div style='background:#fff3e0;padding:20px;border-radius:8px'>";
  output += "<h4 style='margin-top:0;color:#e65100'> Client-Side Rendering</h4>";
  output += "<div style='display:flex;flex-direction:column;gap:8px'>";
  
  let csrSteps = [
    { step: 1, text: 'Browser requests page', time: '0ms', bar: 20 },
    { step: 2, text: 'Gets empty HTML + JS links', time: '100ms', bar: 30 },
    { step: 3, text: 'Downloads JavaScript', time: '300ms', bar: 50 },
    { step: 4, text: 'JS executes & builds DOM', time: '500ms', bar: 70 },
    { step: 5, text: 'User sees content! ', time: '800ms', bar: 100 }
  ];
  
  csrSteps.forEach(function(s) {
    output += "<div style='background:white;padding:10px;border-radius:6px'>";
    output += "<div style='display:flex;justify-content:space-between;font-size:12px'>";
    output += "<span>" + s.step + ". " + s.text + "</span>";
    output += "<span style='color:#e65100'>" + s.time + "</span>";
    output += "</div>";
    output += "<div style='background:#ffe0b2;height:8px;border-radius:4px;margin-top:5px'>";
    output += "<div style='background:#ff9800;height:100%;border-radius:4px;width:" + s.bar + "%;transition:width 0.5s'></div>";
    output += "</div></div>";
  });
  output += "</div>";
  output += "<div style='margin-top:15px;color:#e65100'> Time to content: <b>800ms</b></div>";
  output += "</div>";
  
  // Server-side
  output += "<div style='background:#e8f5e9;padding:20px;border-radius:8px'>";
  output += "<h4 style='margin-top:0;color:#2e7d32'> Server-Side Rendering</h4>";
  output += "<div style='display:flex;flex-direction:column;gap:8px'>";
  
  let ssrSteps = [
    { step: 1, text: 'Browser requests page', time: '0ms', bar: 20 },
    { step: 2, text: 'Server renders HTML', time: '50ms', bar: 40 },
    { step: 3, text: 'Browser gets full HTML', time: '150ms', bar: 60 },
    { step: 4, text: 'User sees content! ', time: '200ms', bar: 100 }
  ];
  
  ssrSteps.forEach(function(s) {
    output += "<div style='background:white;padding:10px;border-radius:6px'>";
    output += "<div style='display:flex;justify-content:space-between;font-size:12px'>";
    output += "<span>" + s.step + ". " + s.text + "</span>";
    output += "<span style='color:#2e7d32'>" + s.time + "</span>";
    output += "</div>";
    output += "<div style='background:#c8e6c9;height:8px;border-radius:4px;margin-top:5px'>";
    output += "<div style='background:#4caf50;height:100%;border-radius:4px;width:" + s.bar + "%;transition:width 0.5s'></div>";
    output += "</div></div>";
  });
  output += "</div>";
  output += "<div style='margin-top:15px;color:#2e7d32'> Time to content: <b>200ms</b> (4x faster!)</div>";
  output += "</div>";
  
  output += "</div>";
  
  // Platform check code
  output += "<div style='background:#1e1e1e;color:#9cdcfe;padding:15px;border-radius:8px;font-family:monospace;font-size:12px;margin-bottom:20px'>";
  output += "<span style='color:#6a9955'>// Check if running on server or browser</span><br><br>";
  output += "<span style='color:#c586c0'>if</span> (<span style='color:#dcdcaa'>isPlatformBrowser</span>(<span style='color:#9cdcfe'>platformId</span>)) {<br>";
  output += "  <span style='color:#6a9955'>// Safe to use window, document</span><br>";
  output += "  <span style='color:#9cdcfe'>window</span>.<span style='color:#dcdcaa'>addEventListener</span>(<span style='color:#ce9178'>'scroll'</span>, ...);<br>";
  output += "}<br><br>";
  output += "<span style='color:#c586c0'>if</span> (<span style='color:#dcdcaa'>isPlatformServer</span>(<span style='color:#9cdcfe'>platformId</span>)) {<br>";
  output += "  <span style='color:#6a9955'>// Running on Node.js</span><br>";
  output += "}";
  output += "</div>";
  
  // Benefits
  output += "<div style='background:#e3f2fd;padding:20px;border-radius:8px'>";
  output += "<h4 style='margin-top:0'> SSR Benefits</h4>";
  output += "<div style='display:grid;grid-template-columns:repeat(auto-fit, minmax(150px, 1fr));gap:10px'>";
  
  let benefits = [
    { icon: '', title: 'SEO', desc: 'Search engines see content' },
    { icon: '', title: 'Speed', desc: 'Faster first paint' },
    { icon: '', title: 'Social', desc: 'Good link previews' },
    { icon: '', title: 'Accessibility', desc: 'Works without JS' }
  ];
  
  benefits.forEach(function(b) {
    output += "<div style='background:white;padding:15px;border-radius:8px;text-align:center'>";
    output += "<div style='font-size:32px'>" + b.icon + "</div>";
    output += "<div style='font-weight:bold'>" + b.title + "</div>";
    output += "<div style='font-size:12px;color:#666'>" + b.desc + "</div>";
    output += "</div>";
  });
  
  output += "</div></div>";
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },

    'hydration': {
      title: 'Angular Hydration',
      content: `# Angular Hydration 

Think of hydration like **bringing a statue to life** - the server creates the shape (HTML), then Angular adds the magic (interactivity)!

### What is Hydration?

After SSR sends HTML to the browser:
1. User sees static content 
2. JavaScript downloads
3. Angular "hydrates" the page
4. Buttons start working! 

Without hydration, Angular would:
- Delete all server HTML 
- Rebuild everything from scratch 
- Cause a flash of content 

### How Hydration Works

**Before (Bad)**:
1. Server sends HTML
2. Angular destroys it
3. Angular rebuilds from scratch
4. User sees flicker

**With Hydration (Good)**:
1. Server sends HTML
2. Angular attaches to existing HTML
3. Adds event listeners
4. Smooth transition! 

### Enabling Hydration

\`\`\`typescript
// app.config.ts
import { provideClientHydration } from '@angular/platform-browser';

export const appConfig: ApplicationConfig = {
  providers: [
    provideClientHydration()  // That's it!
  ]
};
\`\`\`

### Skipping Hydration (When Needed)

\`\`\`typescript
// Some components shouldn't hydrate
@Component({
  host: { ngSkipHydration: 'true' }
})
export class ThirdPartyWidgetComponent {}

// Or in template
<third-party-widget ngSkipHydration></third-party-widget>
\`\`\`

### Common Pitfalls

| Problem | Cause | Solution |
|---------|-------|----------|
| Mismatch error | Server/client HTML differs | Ensure same data |
| Missing interactivity | Hydration failed | Check console errors |
| Layout shift | Content changes | Use consistent data |

### Hydration States

\`\`\`
Server HTML  [Static]  JS Loads  [Hydrating]  [Interactive]
                                            
\`\`\`

### Remember! 

1. Always enable \`provideClientHydration()\` with SSR
2. Ensure server and client render the same HTML
3. Use \`ngSkipHydration\` for problematic components
4. Test hydration in production builds
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Angular Hydration Demo</h2>
<div id="demo"></div>

<script>
let hydrationState = 'server';
let isInteractive = false;

function simulateHydration() {
  hydrationState = 'loading';
  render();
  
  setTimeout(function() {
    hydrationState = 'hydrating';
    render();
  }, 1000);
  
  setTimeout(function() {
    hydrationState = 'interactive';
    isInteractive = true;
    render();
  }, 2000);
}

function resetDemo() {
  hydrationState = 'server';
  isInteractive = false;
  render();
}

function handleClick() {
  if (isInteractive) {
    alert(' Button works! Angular is hydrated!');
  }
}

function render() {
  let output = "";
  
  // State indicator
  output += "<div style='display:flex;gap:10px;margin-bottom:20px'>";
  
  let states = [
    { id: 'server', label: ' Server HTML', color: '#9c27b0' },
    { id: 'loading', label: ' JS Loading', color: '#ff9800' },
    { id: 'hydrating', label: ' Hydrating', color: '#2196f3' },
    { id: 'interactive', label: ' Interactive', color: '#4caf50' }
  ];
  
  states.forEach(function(s) {
    let active = hydrationState === s.id;
    let passed = states.findIndex(x => x.id === hydrationState) >= states.findIndex(x => x.id === s.id);
    output += "<div style='flex:1;padding:15px;background:" + (active ? s.color : (passed ? '#e0e0e0' : '#f5f5f5')) + ";color:" + (active ? 'white' : (passed ? '#333' : '#888')) + ";border-radius:8px;text-align:center;transition:all 0.3s'>";
    output += s.label;
    output += "</div>";
  });
  output += "</div>";
  
  // Simulated page
  output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px;margin-bottom:20px'>";
  output += "<h4 style='margin-top:0'> Rendered Page</h4>";
  
  output += "<div style='background:white;padding:20px;border-radius:8px;border:2px solid " + (isInteractive ? '#4caf50' : '#ddd') + "'>";
  
  // Header
  output += "<div style='display:flex;justify-content:space-between;align-items:center;padding-bottom:15px;border-bottom:1px solid #eee;margin-bottom:15px'>";
  output += "<span style='font-size:20px;font-weight:bold'> My Store</span>";
  output += "<nav style='display:flex;gap:15px;color:#666'>Home Products Cart</nav>";
  output += "</div>";
  
  // Content
  output += "<div style='display:grid;grid-template-columns:repeat(3, 1fr);gap:15px;margin-bottom:20px'>";
  for (let i = 1; i <= 3; i++) {
    output += "<div style='background:#f9f9f9;padding:15px;border-radius:8px;text-align:center'>";
    output += "<div style='font-size:40px'></div>";
    output += "<div>Product " + i + "</div>";
    output += "<div style='color:#4caf50;font-weight:bold'>$" + (i * 10) + "</div>";
    output += "</div>";
  }
  output += "</div>";
  
  // Interactive button
  let btnStyle = isInteractive 
    ? 'background:#4caf50;cursor:pointer' 
    : 'background:#ccc;cursor:not-allowed';
  output += "<button onclick='handleClick()' style='padding:15px 30px;" + btnStyle + ";color:white;border:none;border-radius:8px;font-size:16px;width:100%'>";
  output += isInteractive ? ' Add to Cart (Click me!)' : ' Add to Cart (Loading...)';
  output += "</button>";
  
  output += "</div>";
  
  // Status message
  let statusMsg = '';
  let statusColor = '';
  if (hydrationState === 'server') {
    statusMsg = ' Static HTML from server - buttons don\\'t work yet';
    statusColor = '#9c27b0';
  } else if (hydrationState === 'loading') {
    statusMsg = ' JavaScript is downloading...';
    statusColor = '#ff9800';
  } else if (hydrationState === 'hydrating') {
    statusMsg = ' Angular is hydrating - attaching event listeners...';
    statusColor = '#2196f3';
  } else {
    statusMsg = ' Fully interactive! Try clicking the button!';
    statusColor = '#4caf50';
  }
  
  output += "<div style='padding:10px;background:" + statusColor + ";color:white;border-radius:6px;text-align:center'>" + statusMsg + "</div>";
  output += "</div>";
  
  // Controls
  output += "<div style='display:flex;gap:10px'>";
  if (hydrationState === 'server') {
    output += "<button onclick='simulateHydration()' style='flex:1;padding:15px;background:#2196f3;color:white;border:none;border-radius:8px;cursor:pointer;font-size:16px'> Simulate Hydration Process</button>";
  } else {
    output += "<button onclick='resetDemo()' style='flex:1;padding:15px;background:#666;color:white;border:none;border-radius:8px;cursor:pointer;font-size:16px'> Reset Demo</button>";
  }
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },

    // PHASE 16  Exercises, Quiz, Interview, Certificate
    'exercises': {
      title: 'Angular Exercises',
      content: `# Angular Exercises 

Practice makes perfect! These exercises will help you become an Angular master.

### Exercise 1: Counter Component (Beginner)

Create a counter that:
- Shows current count
- Has increment (+) button
- Has decrement (-) button
- Has reset button

**Skills**: Components, Event binding, State

### Exercise 2: Todo List (Beginner)

Build a todo app that:
- Adds new todos
- Marks todos complete
- Deletes todos
- Shows count of remaining

**Skills**: Forms, *ngFor, Event handling

### Exercise 3: User Search (Intermediate)

Create a search feature that:
- Fetches users from API
- Filters as you type
- Shows loading state
- Handles errors

**Skills**: HttpClient, RxJS, Pipes

### Exercise 4: Shopping Cart (Intermediate)

Build a cart that:
- Lists products
- Adds items to cart
- Updates quantities
- Shows total price

**Skills**: Services, State, Computed values

### Exercise 5: Auth System (Advanced)

Implement authentication:
- Login form with validation
- Store token securely
- Protected routes
- Auto-logout on expiry

**Skills**: Guards, Interceptors, Forms

### Exercise 6: Dashboard (Advanced)

Create a dashboard with:
- Multiple widget types
- Drag to rearrange
- Save layout preference
- Real-time updates

**Skills**: Dynamic components, State, Storage

### Tips for Success 

1. **Start simple** - Get it working, then improve
2. **Read errors** - They tell you what's wrong
3. **Use DevTools** - Inspect and debug
4. **Check docs** - angular.dev is your friend
5. **Practice daily** - 30 minutes beats 3 hours once
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Angular Exercises</h2>
<div id="demo"></div>

<script>
let currentExercise = 0;
let count = 0;
let todos = [];
let todoInput = '';

function setExercise(num) {
  currentExercise = num;
  render();
}

// Counter exercise functions
function increment() { count++; render(); }
function decrement() { count--; render(); }
function reset() { count = 0; render(); }

// Todo exercise functions
function addTodo() {
  if (todoInput.trim()) {
    todos.push({ id: Date.now(), text: todoInput, done: false });
    todoInput = '';
    render();
  }
}
function toggleTodo(id) {
  todos = todos.map(t => t.id === id ? {...t, done: !t.done} : t);
  render();
}
function deleteTodo(id) {
  todos = todos.filter(t => t.id !== id);
  render();
}
function updateInput(val) {
  todoInput = val;
}

function render() {
  let output = "";
  
  // Exercise selector
  output += "<div style='display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap'>";
  let exercises = [
    { num: 1, name: 'Counter', icon: '', level: 'Beginner' },
    { num: 2, name: 'Todo List', icon: '', level: 'Beginner' },
    { num: 3, name: 'User Search', icon: '', level: 'Intermediate' },
    { num: 4, name: 'Shopping Cart', icon: '', level: 'Intermediate' }
  ];
  
  exercises.forEach(function(ex) {
    let active = currentExercise === ex.num;
    output += "<button onclick='setExercise(" + ex.num + ")' style='padding:10px 15px;background:" + (active ? '#DD0031' : '#f5f5f5') + ";color:" + (active ? 'white' : '#333') + ";border:none;border-radius:8px;cursor:pointer'>";
    output += ex.icon + " " + ex.name;
    output += "</button>";
  });
  output += "</div>";
  
  // Exercise content
  output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px;min-height:300px'>";
  
  if (currentExercise === 0) {
    output += "<div style='text-align:center;padding:40px;color:#888'>";
    output += "<div style='font-size:48px'></div>";
    output += "<h3>Select an exercise to begin!</h3>";
    output += "<p>Practice your Angular skills with hands-on challenges.</p>";
    output += "</div>";
  } else if (currentExercise === 1) {
    // Counter exercise
    output += "<h3 style='margin-top:0'> Exercise 1: Counter Component</h3>";
    output += "<p>Your challenge: Implement a counter with increment, decrement, and reset!</p>";
    
    output += "<div style='background:white;padding:30px;border-radius:8px;text-align:center;margin:20px 0'>";
    output += "<div style='font-size:64px;font-weight:bold;color:#DD0031;margin-bottom:20px'>" + count + "</div>";
    output += "<div style='display:flex;gap:10px;justify-content:center'>";
    output += "<button onclick='decrement()' style='padding:15px 25px;background:#f44336;color:white;border:none;border-radius:8px;font-size:20px;cursor:pointer'></button>";
    output += "<button onclick='reset()' style='padding:15px 25px;background:#9e9e9e;color:white;border:none;border-radius:8px;font-size:16px;cursor:pointer'>Reset</button>";
    output += "<button onclick='increment()' style='padding:15px 25px;background:#4caf50;color:white;border:none;border-radius:8px;font-size:20px;cursor:pointer'>+</button>";
    output += "</div></div>";
    
    output += "<div style='background:#e8f5e9;padding:15px;border-radius:8px'>";
    output += "<b> Skills practiced:</b> Components, State, Event binding";
    output += "</div>";
    
  } else if (currentExercise === 2) {
    // Todo exercise
    output += "<h3 style='margin-top:0'> Exercise 2: Todo List</h3>";
    output += "<p>Your challenge: Build a fully functional todo list!</p>";
    
    output += "<div style='background:white;padding:20px;border-radius:8px;margin:20px 0'>";
    output += "<div style='display:flex;gap:10px;margin-bottom:20px'>";
    output += "<input id='todoInput' type='text' value='" + todoInput + "' onkeyup='if(event.key===\"Enter\")addTodo();updateInput(this.value)' placeholder='Add a todo...' style='flex:1;padding:12px;border:1px solid #ddd;border-radius:6px;font-size:16px'>";
    output += "<button onclick='addTodo()' style='padding:12px 24px;background:#4caf50;color:white;border:none;border-radius:6px;cursor:pointer'>Add</button>";
    output += "</div>";
    
    if (todos.length === 0) {
      output += "<p style='text-align:center;color:#888'>No todos yet. Add one above!</p>";
    } else {
      todos.forEach(function(todo) {
        output += "<div style='display:flex;align-items:center;gap:10px;padding:12px;background:#f9f9f9;border-radius:6px;margin-bottom:8px'>";
        output += "<input type='checkbox' " + (todo.done ? 'checked' : '') + " onchange='toggleTodo(" + todo.id + ")' style='width:20px;height:20px;cursor:pointer'>";
        output += "<span style='flex:1;text-decoration:" + (todo.done ? 'line-through' : 'none') + ";color:" + (todo.done ? '#888' : '#333') + "'>" + todo.text + "</span>";
        output += "<button onclick='deleteTodo(" + todo.id + ")' style='padding:5px 10px;background:#f44336;color:white;border:none;border-radius:4px;cursor:pointer'></button>";
        output += "</div>";
      });
    }
    
    let remaining = todos.filter(t => !t.done).length;
    output += "<div style='margin-top:15px;color:#666;font-size:14px'>" + remaining + " items remaining</div>";
    output += "</div>";
    
    output += "<div style='background:#e8f5e9;padding:15px;border-radius:8px'>";
    output += "<b> Skills practiced:</b> Forms, *ngFor, Event handling, State";
    output += "</div>";
    
  } else if (currentExercise === 3) {
    output += "<h3 style='margin-top:0'> Exercise 3: User Search</h3>";
    output += "<p>Challenge: Fetch users from API, filter by name, handle loading/errors.</p>";
    output += "<div style='background:white;padding:20px;border-radius:8px'>";
    output += "<p style='color:#666'>This exercise requires HttpClient and RxJS.</p>";
    output += "<p>Key concepts to practice:</p>";
    output += "<ul><li>HttpClient.get()</li><li>debounceTime for search</li><li>Loading states</li><li>Error handling</li></ul>";
    output += "</div>";
    
  } else if (currentExercise === 4) {
    output += "<h3 style='margin-top:0'> Exercise 4: Shopping Cart</h3>";
    output += "<p>Challenge: Build a cart with add/remove, quantities, and totals.</p>";
    output += "<div style='background:white;padding:20px;border-radius:8px'>";
    output += "<p style='color:#666'>This exercise requires Services and State management.</p>";
    output += "<p>Key concepts to practice:</p>";
    output += "<ul><li>CartService with BehaviorSubject</li><li>Computed totals</li><li>Quantity updates</li><li>State persistence</li></ul>";
    output += "</div>";
  }
  
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },

    'quiz': {
      title: 'Angular Quiz',
      content: `# Angular Quiz 

Test your Angular knowledge with these questions!

### How This Works

- Answer questions to test understanding
- Learn from explanations
- Track your progress
- Identify areas to improve

### Topics Covered

1. **Components** - How they work
2. **Data Binding** - Different types
3. **Directives** - Structural & attribute
4. **Services & DI** - Dependency injection
5. **Routing** - Navigation patterns
6. **Forms** - Template vs Reactive
7. **Change Detection** - OnPush strategy
8. **Lifecycle Hooks** - When they run
9. **Signals** - Modern reactivity
10. **Testing** - Unit test patterns

### Sample Questions

**Q1: What does OnPush change detection do?**
- A) Checks all components always
- B) Only checks when @Input changes 
- C) Disables change detection
- D) Runs change detection twice

**Q2: Which lifecycle hook runs first?**
- A) ngOnInit
- B) ngAfterViewInit
- C) constructor 
- D) ngOnChanges

**Q3: How do you read a signal's value?**
- A) signal.value
- B) signal.get()
- C) signal() 
- D) signal.$

### Tips for the Quiz 

1. **Read carefully** - Details matter
2. **Eliminate wrong answers** - Narrow down
3. **Think of real code** - Imagine examples
4. **Learn from mistakes** - Wrong answers teach too
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Angular Quiz</h2>
<div id="demo"></div>

<script>
let questions = [
  {
    q: "What is the correct way to read a signal's value?",
    options: ['signal.value', 'signal.get()', 'signal()', 'signal.$'],
    correct: 2,
    explanation: "Signals are called as functions: mySignal()"
  },
  {
    q: "Which change detection strategy is more performant?",
    options: ['Default', 'OnPush', 'OnChange', 'Manual'],
    correct: 1,
    explanation: "OnPush only checks when inputs change, making it faster."
  },
  {
    q: "What does *ngFor do?",
    options: ['Hides elements', 'Loops through items', 'Checks conditions', 'Animates'],
    correct: 1,
    explanation: "*ngFor repeats an element for each item in an array."
  },
  {
    q: "Which hook runs when @Input values change?",
    options: ['ngOnInit', 'ngOnChanges', 'ngDoCheck', 'ngAfterViewInit'],
    correct: 1,
    explanation: "ngOnChanges runs whenever @Input properties change."
  },
  {
    q: "What does provideHttpClient() do?",
    options: ['Creates HTTP server', 'Enables HTTP requests', 'Blocks HTTP', 'Logs HTTP'],
    correct: 1,
    explanation: "provideHttpClient() enables the HttpClient service for API calls."
  }
];

let currentQuestion = 0;
let score = 0;
let answered = false;
let selectedAnswer = -1;

function selectAnswer(index) {
  if (answered) return;
  selectedAnswer = index;
  answered = true;
  if (index === questions[currentQuestion].correct) {
    score++;
  }
  render();
}

function nextQuestion() {
  if (currentQuestion < questions.length - 1) {
    currentQuestion++;
    answered = false;
    selectedAnswer = -1;
    render();
  }
}

function restartQuiz() {
  currentQuestion = 0;
  score = 0;
  answered = false;
  selectedAnswer = -1;
  render();
}

function render() {
  let output = "";
  
  // Progress
  output += "<div style='display:flex;justify-content:space-between;align-items:center;margin-bottom:20px'>";
  output += "<span>Question " + (currentQuestion + 1) + " of " + questions.length + "</span>";
  output += "<span style='background:#e3f2fd;padding:8px 16px;border-radius:20px'>Score: " + score + "/" + questions.length + "</span>";
  output += "</div>";
  
  // Progress bar
  output += "<div style='background:#e0e0e0;height:8px;border-radius:4px;margin-bottom:20px'>";
  output += "<div style='background:#DD0031;height:100%;border-radius:4px;width:" + ((currentQuestion + 1) / questions.length * 100) + "%;transition:width 0.3s'></div>";
  output += "</div>";
  
  let q = questions[currentQuestion];
  
  // Question
  output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px;margin-bottom:20px'>";
  output += "<h3 style='margin-top:0'>" + q.q + "</h3>";
  
  output += "<div style='display:flex;flex-direction:column;gap:10px'>";
  q.options.forEach(function(opt, i) {
    let isSelected = selectedAnswer === i;
    let isCorrect = q.correct === i;
    let bg = '#fff';
    let border = '#ddd';
    let color = '#333';
    
    if (answered) {
      if (isCorrect) {
        bg = '#e8f5e9';
        border = '#4caf50';
        color = '#2e7d32';
      } else if (isSelected) {
        bg = '#ffebee';
        border = '#f44336';
        color = '#c62828';
      }
    } else if (isSelected) {
      bg = '#e3f2fd';
      border = '#2196f3';
    }
    
    output += "<button onclick='selectAnswer(" + i + ")' style='padding:15px;background:" + bg + ";border:2px solid " + border + ";border-radius:8px;text-align:left;cursor:" + (answered ? 'default' : 'pointer') + ";color:" + color + ";font-size:16px'>";
    output += "<span style='font-weight:bold;margin-right:10px'>" + String.fromCharCode(65 + i) + "</span>" + opt;
    if (answered && isCorrect) output += " ";
    if (answered && isSelected && !isCorrect) output += " ";
    output += "</button>";
  });
  output += "</div>";
  
  // Explanation
  if (answered) {
    output += "<div style='margin-top:15px;padding:15px;background:#e3f2fd;border-radius:8px'>";
    output += "<b> Explanation:</b> " + q.explanation;
    output += "</div>";
  }
  
  output += "</div>";
  
  // Navigation
  if (answered) {
    if (currentQuestion < questions.length - 1) {
      output += "<button onclick='nextQuestion()' style='padding:15px 30px;background:#DD0031;color:white;border:none;border-radius:8px;cursor:pointer;font-size:16px'>Next Question </button>";
    } else {
      output += "<div style='background:#e8f5e9;padding:20px;border-radius:8px;text-align:center'>";
      output += "<h3 style='color:#2e7d32;margin-top:0'> Quiz Complete!</h3>";
      output += "<p style='font-size:24px;margin:10px 0'>You scored <b>" + score + "</b> out of <b>" + questions.length + "</b></p>";
      output += "<p>" + (score === questions.length ? "Perfect! " : score >= questions.length * 0.7 ? "Great job! " : "Keep practicing! ") + "</p>";
      output += "<button onclick='restartQuiz()' style='padding:12px 24px;background:#4caf50;color:white;border:none;border-radius:8px;cursor:pointer'>Try Again</button>";
      output += "</div>";
    }
  }
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },

    'interview-prep': {
      title: 'Angular Interview Prep',
      content: `# Angular Interview Prep 

Get ready to ace your Angular interview!

### Common Interview Questions

#### 1. What is Angular?
"Angular is a TypeScript-based framework for building web applications. It's developed by Google and provides features like components, dependency injection, routing, forms, and HTTP client out of the box."

#### 2. Components vs Directives?
- **Components** have templates, are building blocks of UI
- **Directives** add behavior to existing elements
- Components ARE directives (with templates)

#### 3. Explain Dependency Injection
"DI is a design pattern where dependencies are provided to a class rather than created inside it. Angular's DI system manages creating and injecting services, making code testable and modular."

#### 4. OnPush Change Detection?
"OnPush is a performance optimization. Components only check for changes when:
- @Input reference changes
- An event fires in the component
- Async pipe emits
- Manual trigger with ChangeDetectorRef"

#### 5. Signals vs Observables?
| Signals | Observables |
|---------|-------------|
| Synchronous | Async |
| Simple syntax | More features |
| Always have value | May not emit |
| Great for state | Great for streams |

### Behavioral Questions

#### "Tell me about a challenging Angular project"
- Describe the problem clearly
- Explain your approach
- Share the outcome
- Mention what you learned

#### "How do you stay updated with Angular?"
- Official Angular blog
- Angular YouTube channel
- Community events/meetups
- Open source contributions

### Technical Challenges

Be ready to:
- Build a component from scratch
- Debug change detection issues
- Implement a service with DI
- Create reactive forms
- Explain routing concepts

### Tips for Success 

1. **Practice explaining** - Say it out loud
2. **Build real projects** - Theory isn't enough
3. **Know the basics cold** - Components, DI, routing
4. **Admit what you don't know** - It's okay!
5. **Ask questions** - Show curiosity
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Interview Prep</h2>
<div id="demo"></div>

<script>
let currentTopic = 'basics';

let topics = {
  basics: {
    title: 'Angular Basics',
    questions: [
      { q: 'What is Angular?', a: 'A TypeScript-based framework by Google for building web applications with features like components, DI, routing, forms, and HTTP client.' },
      { q: 'What are Components?', a: 'Building blocks of Angular apps. They have a TypeScript class, HTML template, and optional CSS. They control a view.' },
      { q: 'What is a Module?', a: 'A container for components, directives, pipes, and services. AppModule is the root. Modules help organize code.' }
    ]
  },
  di: {
    title: 'Dependency Injection',
    questions: [
      { q: 'What is DI?', a: 'A design pattern where dependencies are injected rather than created. Makes code testable, modular, and maintainable.' },
      { q: 'What is providedIn: root?', a: 'Creates a singleton service available throughout the app. Angular tree-shakes unused services.' },
      { q: 'Explain InjectionToken', a: 'Used to inject non-class values like config objects or strings. Create with new InjectionToken().' }
    ]
  },
  performance: {
    title: 'Performance',
    questions: [
      { q: 'What is OnPush?', a: 'A change detection strategy that only checks when inputs change, events fire, or async pipe emits. Much faster!' },
      { q: 'What are Signals?', a: 'Modern reactive primitives in Angular 16+. Provide fine-grained reactivity and simpler syntax than RxJS for UI state.' },
      { q: 'How to optimize bundle size?', a: 'Lazy loading, tree shaking, AOT compilation, removing unused imports, using lightweight alternatives.' }
    ]
  }
};

function setTopic(topic) {
  currentTopic = topic;
  render();
}

function render() {
  let output = "";
  
  // Topic selector
  output += "<div style='display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap'>";
  Object.keys(topics).forEach(function(key) {
    let active = currentTopic === key;
    output += "<button onclick='setTopic(\"" + key + "\")' style='padding:10px 20px;background:" + (active ? '#DD0031' : '#f5f5f5') + ";color:" + (active ? 'white' : '#333') + ";border:none;border-radius:8px;cursor:pointer'>" + topics[key].title + "</button>";
  });
  output += "</div>";
  
  let topic = topics[currentTopic];
  
  output += "<h3 style='margin-top:0'> " + topic.title + "</h3>";
  
  // Questions
  topic.questions.forEach(function(qa, i) {
    output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px;margin-bottom:15px'>";
    output += "<div style='font-weight:bold;color:#DD0031;margin-bottom:10px'>Q" + (i+1) + ": " + qa.q + "</div>";
    output += "<div style='background:white;padding:15px;border-radius:6px;border-left:4px solid #4caf50'>";
    output += "<b>Answer:</b> " + qa.a;
    output += "</div></div>";
  });
  
  // Interview tips
  output += "<div style='background:#e3f2fd;padding:20px;border-radius:8px;margin-top:20px'>";
  output += "<h4 style='margin-top:0'> Quick Tips</h4>";
  output += "<ul style='margin:0;padding-left:20px'>";
  output += "<li>Speak clearly and explain your thought process</li>";
  output += "<li>Use real examples from your experience</li>";
  output += "<li>It's okay to say 'I don't know' - show willingness to learn</li>";
  output += "<li>Ask clarifying questions before answering</li>";
  output += "</ul></div>";
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },

    'certificate': {
      title: 'Angular Certificate',
      content: `# Angular Certificate 

Congratulations on completing the Angular course!

### What You've Learned

 **Phase 0-1**: Angular fundamentals, CLI, project setup
 **Phase 2**: Components, templates, data binding, directives
 **Phase 3**: Template-driven and reactive forms
 **Phase 4**: Routing, guards, lazy loading
 **Phase 5**: Services, DI, HTTP client, interceptors
 **Phase 6**: Lifecycle hooks, pipes, styling
 **Phase 7-8**: Change detection, signals, performance
 **Phase 9**: Dynamic components, advanced DI, state
 **Phase 10-11**: Animations, testing, compiler
 **Phase 12-13**: Security, SSR, hydration
 **Enterprise**: Case studies, best practices

### Skills Validated

| Skill | Level |
|-------|-------|
| Components & Templates | Expert |
| Forms & Validation | Expert |
| Routing & Navigation | Expert |
| Services & DI | Expert |
| HTTP & API Integration | Expert |
| State Management | Advanced |
| Performance Optimization | Advanced |
| Testing | Proficient |
| Security | Proficient |

### Next Steps

1. **Build projects** - Apply what you learned
2. **Contribute to open source** - Angular packages
3. **Stay updated** - Follow Angular releases
4. **Share knowledge** - Teach others
5. **Get certified** - Google Angular certification

### Resources

-  [Angular Documentation](https://angular.dev)
-  [Angular YouTube](https://youtube.com/@Angular)
-  [Angular Discord](https://discord.gg/angular)
-  [Angular GitHub](https://github.com/angular/angular)

### You're Now an Angular SME! 

You can:
- Architect scalable Angular applications
- Optimize performance and bundle size
- Implement enterprise patterns
- Lead Angular projects confidently
- Pass Angular interviews!
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Your Angular Certificate</h2>
<div id="demo"></div>

<script>
function render() {
  let output = "";
  
  // Certificate
  output += "<div style='background:linear-gradient(135deg, #1a237e 0%, #DD0031 100%);padding:40px;border-radius:16px;color:white;text-align:center;margin-bottom:20px'>";
  
  output += "<div style='background:white;margin:0 auto;padding:40px;border-radius:12px;max-width:500px;color:#333'>";
  
  // Logo
  output += "<div style='font-size:48px;margin-bottom:10px'></div>";
  output += "<div style='font-size:12px;color:#888;text-transform:uppercase;letter-spacing:2px'>Certificate of Completion</div>";
  
  // Title
  output += "<h1 style='color:#DD0031;margin:20px 0'>Angular Mastery</h1>";
  output += "<div style='font-size:18px;margin-bottom:20px'>0  Hero  SME Program</div>";
  
  // Recipient
  output += "<div style='padding:20px;background:#f5f5f5;border-radius:8px;margin:20px 0'>";
  output += "<div style='font-size:14px;color:#888'>This certifies that</div>";
  output += "<div style='font-size:24px;font-weight:bold;color:#1a237e;margin:10px 0'>VerTechie Learner</div>";
  output += "<div style='font-size:14px;color:#888'>has successfully completed the course</div>";
  output += "</div>";
  
  // Skills
  output += "<div style='display:flex;flex-wrap:wrap;justify-content:center;gap:8px;margin:20px 0'>";
  let skills = ['Components', 'Routing', 'Forms', 'Services', 'RxJS', 'Signals', 'Testing', 'SSR'];
  skills.forEach(function(skill) {
    output += "<span style='padding:6px 12px;background:#e3f2fd;color:#1565c0;border-radius:20px;font-size:12px'>" + skill + "</span>";
  });
  output += "</div>";
  
  // Date
  output += "<div style='margin-top:20px;color:#888;font-size:14px'>";
  output += "Issued: " + new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
  output += "</div>";
  
  // Signature
  output += "<div style='margin-top:20px;padding-top:20px;border-top:1px solid #ddd'>";
  output += "<div style='font-family:cursive;font-size:24px;color:#DD0031'>VerTechie Academy</div>";
  output += "</div>";
  
  output += "</div></div>";
  
  // Stats
  output += "<div style='display:grid;grid-template-columns:repeat(4, 1fr);gap:15px;margin-bottom:20px'>";
  let stats = [
    { icon: '', label: 'Lessons', value: '85' },
    { icon: '', label: 'Hours', value: '45' },
    { icon: '', label: 'Exercises', value: '50+' },
    { icon: '', label: 'Quizzes', value: '16' }
  ];
  stats.forEach(function(stat) {
    output += "<div style='background:#f5f5f5;padding:20px;border-radius:8px;text-align:center'>";
    output += "<div style='font-size:32px'>" + stat.icon + "</div>";
    output += "<div style='font-size:24px;font-weight:bold;color:#DD0031'>" + stat.value + "</div>";
    output += "<div style='font-size:14px;color:#666'>" + stat.label + "</div>";
    output += "</div>";
  });
  output += "</div>";
  
  // Share buttons
  output += "<div style='text-align:center'>";
  output += "<p style='color:#666'>Share your achievement!</p>";
  output += "<div style='display:flex;gap:10px;justify-content:center'>";
  output += "<button style='padding:12px 24px;background:#0077b5;color:white;border:none;border-radius:8px;cursor:pointer'>LinkedIn</button>";
  output += "<button style='padding:12px 24px;background:#1da1f2;color:white;border:none;border-radius:8px;cursor:pointer'>Twitter</button>";
  output += "<button style='padding:12px 24px;background:#4caf50;color:white;border:none;border-radius:8px;cursor:pointer'>Download PDF</button>";
  output += "</div></div>";
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },

    // Enterprise Case Studies lesson
    'case-studies': {
      title: 'Enterprise Case Studies',
      content: `# Angular Enterprise Case Studies

Real-world examples of Angular at scale.

---

## Case Study 1: Claims Management System
### Insurance / Healthcare

**Business Context**: National insurance provider's Claims Platform

**Users**: Claims agents, Supervisors, Auditors, External partners

**Technical Challenges**:
- Complex multi-step forms
- Heavy role-based access control
- Large datasets with pagination
- Strict audit compliance
- Performance issues in legacy AngularJS

**Angular Solution**:
\`\`\`
/app
 core/         (Singleton services)
 shared/       (UI library)
 claims/       (Feature module)
 payments/     (Lazy loaded)
 audit/        (Lazy loaded)
 auth/         (Guards, interceptors)
\`\`\`

**Key Features Used**:
- Reactive Forms with FormArray
- AuthGuard + RoleGuard
- HTTP Interceptors for JWT
- Custom pipes for data masking
- OnPush change detection

**Results**:
-  45% reduction in page load time
-  60% fewer production UI bugs
-  30% agent productivity
- Passed HIPAA & SOC audits

---

## Case Study 2: Banking Admin Dashboard
### Finance / Risk

**Business Context**: Real-time monitoring dashboard for Tier-1 bank

**Features**: Transactions, Fraud alerts, Risk thresholds

**Challenges**:
- Real-time data updates
- Avoiding excessive re-renders
- Strict performance SLAs
- Multiple microservices integration

**Angular Solution**:
- Standalone components
- Service-based state management
- RxJS streams for live data
- Signals for UI reactivity
- Dynamic widget components

**Results**:
-  Real-time latency < 300ms
-  40% CPU usage
- Zero downtime releases

---

## Case Study 3: Airline Operations Control
### Logistics / Aviation

**Mission Critical**: Flight schedules, Crew assignments, Disruptions

**Challenges**:
- Massive datasets (1000s of flights)
- Frequent UI updates
- Complex conditional rendering
- Offline tolerance

**Angular Solution**:
- Domain-driven modules
- Local caching strategy
- TrackBy optimization
- Angular Animations
- Resolver-based routing

**Results**:
- Near-zero screen freeze
- Faster disruption resolution
- Operator confidence increased

---

## Case Study 4: Government Grants System
### Public Sector

**Context**: 10+ year lifecycle application

**Requirements**:
- Frequent regulatory changes
- Multiple user roles
- Accessibility compliance
- High testability

**Angular Solution**:
- Strict CLI governance
- Versioned feature modules
- Strong TypeScript typing
- SSR for accessibility
- AOT builds

**Results**:
- Passed multiple audits
- Minimal regression during upgrades
- Predictable maintenance cost

---

## Case Study 5: Multi-Tenant SaaS Portal

**Challenges**:
- Tenant isolation
- Feature toggles
- Dynamic configuration
- White-label theming

**Angular Solution**:
- Tenant-aware services
- Injection tokens
- Route resolvers
- Runtime theming
- Signals for tenant state

**Results**:
- Faster tenant onboarding
- Reduced code duplication
- Product scalability improved
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>Enterprise Angular Architecture</h2>
<div id="demo"></div>

<script>
// Case Study: Claims Management Architecture

let architecture = {
  core: {
    name: "Core Module",
    description: "Singleton services, guards, interceptors",
    items: ["AuthService", "LogService", "AuthGuard", "HttpInterceptor"]
  },
  shared: {
    name: "Shared Module",
    description: "Reusable UI components",
    items: ["ButtonComponent", "ModalComponent", "DataTableComponent", "FormFieldComponent"]
  },
  features: [
    { name: "Claims", lazy: true, routes: ["/claims", "/claims/:id"] },
    { name: "Payments", lazy: true, routes: ["/payments"] },
    { name: "Audit", lazy: true, routes: ["/audit"] },
    { name: "Auth", lazy: false, routes: ["/login", "/logout"] }
  ]
};

let metrics = [
  { label: "Page Load Time", before: "4.2s", after: "2.3s", improvement: "-45%" },
  { label: "Production Bugs", before: "23/month", after: "9/month", improvement: "-60%" },
  { label: "Agent Productivity", before: "Base", after: "+30%", improvement: "+30%" },
  { label: "Bundle Size", before: "2.8MB", after: "1.1MB", improvement: "-61%" }
];

function render() {
  let output = "";
  
  // Architecture Diagram
  output += "<div style='background:#1e1e1e;padding:20px;border-radius:8px;margin-bottom:20px'>";
  output += "<h4 style='color:#4ec9b0;margin-top:0'> Enterprise Module Architecture</h4>";
  
  output += "<div style='display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:15px;margin-top:15px'>";
  
  // Core Module
  output += "<div style='background:#2d2d2d;padding:15px;border-radius:8px;border:2px solid #DD0031'>";
  output += "<h5 style='color:#DD0031;margin:0 0 10px 0'> " + architecture.core.name + "</h5>";
  output += "<p style='color:#888;font-size:12px;margin:0 0 10px 0'>" + architecture.core.description + "</p>";
  architecture.core.items.forEach(function(item) {
    output += "<div style='padding:5px 10px;background:#333;border-radius:4px;margin:5px 0;color:#9cdcfe;font-size:12px'>" + item + "</div>";
  });
  output += "</div>";
  
  // Shared Module
  output += "<div style='background:#2d2d2d;padding:15px;border-radius:8px;border:2px solid #4caf50'>";
  output += "<h5 style='color:#4caf50;margin:0 0 10px 0'> " + architecture.shared.name + "</h5>";
  output += "<p style='color:#888;font-size:12px;margin:0 0 10px 0'>" + architecture.shared.description + "</p>";
  architecture.shared.items.forEach(function(item) {
    output += "<div style='padding:5px 10px;background:#333;border-radius:4px;margin:5px 0;color:#9cdcfe;font-size:12px'>" + item + "</div>";
  });
  output += "</div>";
  
  // Feature Modules
  architecture.features.forEach(function(feature) {
    let color = feature.lazy ? "#2196f3" : "#ff9800";
    output += "<div style='background:#2d2d2d;padding:15px;border-radius:8px;border:2px solid " + color + "'>";
    output += "<h5 style='color:" + color + ";margin:0 0 10px 0'> " + feature.name + "Module";
    if (feature.lazy) output += " <span style='font-size:10px;background:" + color + ";color:white;padding:2px 6px;border-radius:3px'>LAZY</span>";
    output += "</h5>";
    output += "<div style='color:#888;font-size:12px'>";
    feature.routes.forEach(function(route) {
      output += "<div style='padding:3px 0'> " + route + "</div>";
    });
    output += "</div>";
    output += "</div>";
  });
  
  output += "</div>";
  output += "</div>";
  
  // Metrics
  output += "<div style='background:#fff;padding:20px;border-radius:8px;border:1px solid #ddd;margin-bottom:20px'>";
  output += "<h4 style='margin-top:0'> Performance Improvements</h4>";
  output += "<table style='width:100%;border-collapse:collapse'>";
  output += "<tr style='background:#DD0031;color:white'><th style='padding:10px;text-align:left'>Metric</th><th style='padding:10px'>Before</th><th style='padding:10px'>After</th><th style='padding:10px'>Change</th></tr>";
  
  metrics.forEach(function(metric) {
    let isPositive = metric.improvement.startsWith("-") || metric.improvement.startsWith("+3");
    output += "<tr>";
    output += "<td style='padding:12px;border-bottom:1px solid #eee'>" + metric.label + "</td>";
    output += "<td style='padding:12px;border-bottom:1px solid #eee;text-align:center;color:#666'>" + metric.before + "</td>";
    output += "<td style='padding:12px;border-bottom:1px solid #eee;text-align:center'>" + metric.after + "</td>";
    output += "<td style='padding:12px;border-bottom:1px solid #eee;text-align:center;color:" + (isPositive ? "#4caf50" : "#f44336") + ";font-weight:bold'>" + metric.improvement + "</td>";
    output += "</tr>";
  });
  
  output += "</table>";
  output += "</div>";
  
  // Key Takeaways
  output += "<div style='background:#e8f5e9;padding:20px;border-radius:8px'>";
  output += "<h4 style='margin-top:0;color:#2e7d32'> Enterprise Angular Patterns</h4>";
  output += "<ul style='margin:0;padding-left:20px'>";
  output += "<li>Feature-based module organization</li>";
  output += "<li>Lazy loading for performance</li>";
  output += "<li>Core module for singletons</li>";
  output += "<li>Shared module for UI components</li>";
  output += "<li>Guards for security</li>";
  output += "<li>Interceptors for cross-cutting concerns</li>";
  output += "<li>OnPush change detection</li>";
  output += "<li>TrackBy for list performance</li>";
  output += "</ul>";
  output += "</div>";
  
  document.getElementById("demo").innerHTML = output;
}

render();
</script>

</body>
</html>`,
    },
  };

  return angularLessons[lessonSlug] || {
    title: 'Coming Soon',
    content: '## This lesson is coming soon!\n\nCheck back later for this content.',
    tryItCode: '<!-- Coming soon -->',
  };
};

// Comprehensive Python lesson content generator
const generatePythonLessonContent = (lessonSlug: string) => {
  const pythonLessons: Record<string, any> = {
    // TRACK 0  STRATEGIC FOUNDATION
    'home': {
      title: 'Python HOME',
      content: `# Welcome to Python Mastery 

Think of Python like a **super smart robot friend** that understands almost plain English and can do amazing things!

## Why Learn Python?

Python is like the **Swiss Army knife** of programming - it can do EVERYTHING:

| What Python Does | Real Examples |
|-----------------|---------------|
|  **Web Apps** | Instagram, Pinterest, Spotify |
|  **AI/ML** | ChatGPT, Tesla Autopilot |
|  **Data Science** | Netflix recommendations |
|  **Games** | Parts of Civilization IV |
|  **Science** | NASA, CERN research |
|  **Enterprise** | Google, Dropbox, Reddit |

## Python's Superpowers

### 1. Easy to Read
\`\`\`python
# Python reads almost like English!
if age >= 18:
    print("You can vote!")
else:
    print("Not yet!")
\`\`\`

### 2. Huge Community
- 8.2+ million developers
- 400,000+ packages on PyPI
- Answers for every question on Stack Overflow

### 3. Versatile
- Same language for scripts and enterprise systems
- Works on Windows, Mac, Linux
- From Raspberry Pi to supercomputers

## What You'll Learn

By the end of this course, you'll be able to:
-  Write clean, professional Python code
-  Build production-ready systems
-  Work with databases confidently
-  Create ML pipelines
-  Pass senior Python interviews
-  Mentor teams and review code

## Course Structure

| Track | Focus | Level |
|-------|-------|-------|
| 0 | Strategic Foundation | Entry |
| 1 | Core Python | Beginner |
| 2 | OOP & Files | Professional |
| 3 | Data Engineering | Data Engineer |
| 4 | Databases & Backend | Backend Dev |
| 5 | DSA | Interview Ready |
| 6 | Machine Learning | ML Engineer |
| 7 | Enterprise | Senior/Lead |
| 8-9 | Reference & Cert | SME |

Let's begin your Python journey! 
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Philosophy</h2>
<div id="demo"></div>

<script>
// Python's Zen - guiding principles
const zen = [
  "Beautiful is better than ugly",
  "Simple is better than complex",
  "Complex is better than complicated",
  "Readability counts",
  "Explicit is better than implicit",
  "Errors should never pass silently",
  "In the face of ambiguity, refuse to guess"
];

let html = "<h3>The Zen of Python:</h3><ul>";
zen.forEach((line, i) => {
  html += "<li>" + line + "</li>";
});
html += "</ul>";
html += "<p><em>These principles make Python special!</em></p>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    'intro': {
      title: 'Python Introduction',
      content: `# Why Python Wins in Enterprises 

Think of Python like a **universal translator** - it speaks to computers in a way that's easy for humans to understand AND powerful enough for the biggest companies in the world!

## Python's Enterprise Dominance

### Who Uses Python?
| Company | How They Use Python |
|---------|-------------------|
| **Google** | YouTube, Search algorithms |
| **Netflix** | Recommendation engine |
| **Instagram** | Backend (Django) |
| **Spotify** | Data analysis, Backend |
| **Dropbox** | Desktop client |
| **NASA** | Scientific computing |
| **Banks** | Risk analysis, Trading |

## Why Python Wins

### 1. Developer Productivity 
\`\`\`python
# Python: 3 lines
def greet(name):
    return f"Hello, {name}!"
\`\`\`

\`\`\`java
// Java: 8 lines for the same thing!
public class Greeting {
    public static String greet(String name) {
        return "Hello, " + name + "!";
    }
}
\`\`\`

**Result**: 2-10x faster development time

### 2. Massive Ecosystem 
- **400,000+** packages on PyPI
- Libraries for EVERYTHING:
  - Web: Django, Flask, FastAPI
  - Data: Pandas, NumPy, SciPy
  - ML: TensorFlow, PyTorch, scikit-learn
  - Automation: Ansible, Fabric

### 3. Talent Availability 
- Most taught language in universities
- 8.2M+ Python developers globally
- Easy to hire, easy to train

### 4. Integration Power 
Python talks to everything:
- C/C++ libraries
- Java (Jython)
- .NET (IronPython)
- Databases (any!)
- APIs (REST, GraphQL)

## Enterprise Success Stories

### Instagram's Journey
- Started with Django in 2010
- Now handles 2 billion+ users
- Still Python! (with optimizations)

### Dropbox's Choice
- 99% Python codebase
- Migrated FROM Python 2 to Python 3
- Invested in custom Python interpreter

### JPMorgan's Adoption
- 35 million lines of Python
- Replaced legacy systems
- Risk analysis and trading

## The "Slow Python" Myth 

"But Python is slow!"

**Reality**:
- CPU-bound code: Yes, pure Python is slower
- Real-world apps: Speed rarely matters because...
  - Network I/O is the bottleneck
  - Database is the bottleneck
  - NumPy/Pandas use C under the hood

\`\`\`python
# This "slow" Python...
import numpy as np
result = np.dot(matrix_a, matrix_b)

# ...actually runs C code underneath!
# As fast as native C!
\`\`\`

## When NOT to Use Python

Be honest about limitations:
| Scenario | Better Choice |
|----------|---------------|
| Mobile apps | Swift, Kotlin |
| Game engines | C++, C# |
| Browser code | JavaScript |
| Embedded systems | C, Rust |
| Real-time systems | C++, Rust |

## Key Takeaway 

Python isn't the fastest language, but it's often the **fastest to production**.

Time to market > raw performance in most business cases.
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Enterprise Stats</h2>
<div id="demo"></div>

<script>
const stats = {
  companies: [
    { name: "Google", pythonUse: "YouTube, ML/AI" },
    { name: "Netflix", pythonUse: "Recommendations" },
    { name: "Instagram", pythonUse: "Django Backend" },
    { name: "Spotify", pythonUse: "Data Pipelines" }
  ],
  pypiPackages: 400000,
  developers: "8.2M+",
  rankings: "Top 3 language globally"
};

let html = "<h3>Companies Using Python:</h3>";
html += "<table border='1' style='border-collapse: collapse; width: 100%;'>";
html += "<tr><th>Company</th><th>Python Use Case</th></tr>";

stats.companies.forEach(company => {
  html += "<tr><td><b>" + company.name + "</b></td><td>" + company.pythonUse + "</td></tr>";
});
html += "</table>";

html += "<br><h3>By The Numbers:</h3>";
html += "<ul>";
html += "<li><b>" + stats.pypiPackages.toLocaleString() + "+</b> packages on PyPI</li>";
html += "<li><b>" + stats.developers + "</b> developers worldwide</li>";
html += "<li><b>" + stats.rankings + "</b></li>";
html += "</ul>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    'vs-others': {
      title: 'Python vs Other Languages',
      content: `# Python vs Java vs C++ vs JavaScript 

Think of programming languages like different **vehicles** - each is best for different journeys!

## The Big Comparison

| Aspect | Python  | Java  | C++  | JavaScript  |
|--------|----------|---------|--------|---------------|
| **Speed** | Moderate | Fast | Fastest | Moderate |
| **Learning** | Easy | Medium | Hard | Medium |
| **Typing** | Dynamic | Static | Static | Dynamic |
| **Memory** | Managed | Managed | Manual | Managed |
| **Use Case** | All-around | Enterprise | Systems | Web |

## Code Comparison: Same Task

**Task**: Print numbers 1-5

### Python 
\`\`\`python
for i in range(1, 6):
    print(i)
\`\`\`
**Lines: 2** | Clean and readable!

### Java 
\`\`\`java
public class Main {
    public static void main(String[] args) {
        for (int i = 1; i <= 5; i++) {
            System.out.println(i);
        }
    }
}
\`\`\`
**Lines: 7** | More ceremony

### C++ 
\`\`\`cpp
#include <iostream>
using namespace std;

int main() {
    for (int i = 1; i <= 5; i++) {
        cout << i << endl;
    }
    return 0;
}
\`\`\`
**Lines: 9** | Most verbose

### JavaScript 
\`\`\`javascript
for (let i = 1; i <= 5; i++) {
    console.log(i);
}
\`\`\`
**Lines: 3** | Similar to Python

## Speed Comparison 

| Task | Python | Java | C++ |
|------|--------|------|-----|
| Simple loop | 1x | 50x | 100x |
| NumPy math | 100x | 100x | 100x |
| Real webapp | ~same | ~same | ~same |

**Why?** In real apps, the database/network is the bottleneck, not the language!

## When to Choose Each

### Choose Python When 
-  Rapid prototyping
-  Data science / ML
-  Automation / scripting
-  Web backends (Django, FastAPI)
-  Glue code between systems
-  Teaching / learning

### Choose Java When 
-  Large enterprise systems
-  Android apps (though Kotlin now)
-  High-throughput backends
-  Strict type safety required
-  Long-term maintenance critical

### Choose C++ When 
-  Game engines
-  Operating systems
-  Embedded systems
-  Real-time requirements
-  Memory-critical applications

### Choose JavaScript When 
-  Web frontends (only choice!)
-  Full-stack web (Node.js)
-  Mobile (React Native)
-  Electron desktop apps

## The Trade-offs

### Python's Strengths
1. **Productivity**: Write more with less
2. **Readability**: Easy to maintain
3. **Libraries**: Best ecosystem for data/ML
4. **Flexibility**: Quick iterations

### Python's Weaknesses
1. **Raw speed**: Slower than compiled languages
2. **Mobile**: Not suitable for native apps
3. **Threading**: GIL limits true parallelism
4. **Type safety**: Errors at runtime

## Real-World Decision

**Scenario**: Building a startup

| Stage | Best Choice | Why |
|-------|-------------|-----|
| MVP | Python | Fastest to market |
| Scale | Python + optimizations | Still works! |
| Specific perf issues | Rewrite hot paths in C | 1% of code |

**Instagram** followed this exact path and serves 2 billion users!

## Key Insight 

> "Premature optimization is the root of all evil" - Donald Knuth

Start with Python. Optimize only when you PROVE it's needed.
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Language Comparison</h2>
<div id="demo"></div>

<script>
const languages = [
  { 
    name: "Python",
    emoji: "",
    pros: ["Easy to learn", "Huge ecosystem", "Great for AI/ML"],
    cons: ["Slower execution", "GIL limitation"],
    bestFor: "Data Science, ML, Scripting"
  },
  { 
    name: "Java",
    emoji: "",
    pros: ["Type safety", "Performance", "Enterprise proven"],
    cons: ["Verbose", "Slower development"],
    bestFor: "Large Enterprise Systems"
  },
  { 
    name: "C++",
    emoji: "",
    pros: ["Fastest", "Low-level control"],
    cons: ["Complex", "Memory management"],
    bestFor: "Games, Systems, Embedded"
  },
  { 
    name: "JavaScript",
    emoji: "",
    pros: ["Web monopoly", "Full-stack"],
    cons: ["Type issues", "Callback complexity"],
    bestFor: "Web Development"
  }
];

let html = "";
languages.forEach(lang => {
  html += "<div style='border: 1px solid #ccc; padding: 10px; margin: 10px 0; border-radius: 8px;'>";
  html += "<h3>" + lang.emoji + " " + lang.name + "</h3>";
  html += "<p><b>Best for:</b> " + lang.bestFor + "</p>";
  html += "<p style='color: green;'> " + lang.pros.join(" | ") + "</p>";
  html += "<p style='color: orange;'> " + lang.cons.join(" | ") + "</p>";
  html += "</div>";
});

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    'execution': {
      title: 'Python Execution Model',
      content: `# How Python Actually Runs 

Think of Python like a **translator at the UN** - it takes your code and converts it into something the computer understands, one step at a time!

## The Python Execution Pipeline

\`\`\`
Your Code (.py)
    
[Lexer]  Tokens
    
[Parser]  AST (Abstract Syntax Tree)
    
[Compiler]  Bytecode (.pyc)
    
[Python VM]  Execution
\`\`\`

## What is CPython? 

CPython is the **default** Python implementation - written in C!

When you install Python from python.org, you get CPython.

### Other Python Implementations
| Implementation | Written In | Purpose |
|----------------|-----------|---------|
| **CPython** | C | Default, reference |
| **PyPy** | Python | JIT, 5-10x faster |
| **Jython** | Java | JVM integration |
| **IronPython** | C# | .NET integration |
| **MicroPython** | C | Microcontrollers |

## Interpreted vs Compiled

### Compiled Languages (C, C++, Rust)
\`\`\`
Source Code  Compiler  Machine Code  Run
                         (one time)
\`\`\`
**Pros**: Fast execution
**Cons**: Platform-specific, longer compile

### Interpreted Languages (Old BASIC)
\`\`\`
Source Code  Interpreter  Run line by line
                (every time)
\`\`\`
**Pros**: Flexible
**Cons**: Slow execution

### Python (Hybrid!)
\`\`\`
Source Code  Compiler  Bytecode  VM  Run
              (once)     (.pyc)    (every time)
\`\`\`

**Python IS compiled** - just to bytecode, not machine code!

## Understanding Bytecode

\`\`\`python
# Your code
def add(a, b):
    return a + b
\`\`\`

\`\`\`python
# See the bytecode!
import dis
dis.dis(add)

# Output:
#   LOAD_FAST    0 (a)
#   LOAD_FAST    1 (b)
#   BINARY_ADD
#   RETURN_VALUE
\`\`\`

## The __pycache__ Folder

Ever noticed \`__pycache__\` appearing?

\`\`\`
myproject/
 main.py
 utils.py
 __pycache__/
     utils.cpython-311.pyc   Cached bytecode!
\`\`\`

Python caches bytecode to speed up subsequent runs.

## The GIL (Global Interpreter Lock) 

The GIL is Python's most controversial feature:

\`\`\`
Thread 1: "I want to run!"
Thread 2: "I want to run!"
Thread 3: "I want to run!"

GIL: "ONE AT A TIME!"
\`\`\`

### Why the GIL Exists
- CPython's memory management isn't thread-safe
- GIL makes it simpler and safer
- Single-threaded code is actually faster with GIL

### GIL Impact

| Workload | GIL Impact |
|----------|------------|
| CPU-bound, multi-thread |  Bad - use multiprocessing |
| I/O-bound, multi-thread |  Fine - GIL released during I/O |
| Single-threaded |  Fine - no impact |

### Workarounds
\`\`\`python
# For CPU-bound parallel work:
from multiprocessing import Pool

# Each process has its own GIL!
with Pool(4) as p:
    results = p.map(cpu_intensive_func, data)
\`\`\`

## Python 3.13: Free-Threading! 

Coming soon: Optional GIL-free Python!
\`\`\`bash
# Experimental in Python 3.13
python3.13t your_script.py  # 't' for thread-safe
\`\`\`

## Performance Tips 

### 1. Use C Extensions
\`\`\`python
# NumPy runs in C - bypasses Python overhead
import numpy as np
result = np.dot(huge_matrix, another_matrix)  # Fast!
\`\`\`

### 2. Use PyPy for CPU-bound code
\`\`\`bash
# 5-10x faster for pure Python
pypy your_script.py
\`\`\`

### 3. Profile First!
\`\`\`python
import cProfile
cProfile.run('your_function()')
# Find the REAL bottleneck before optimizing
\`\`\`

## Key Takeaways 

1. Python compiles to **bytecode**, not machine code
2. CPython is the reference implementation
3. The GIL limits CPU parallelism (use multiprocessing)
4. I/O-bound code works fine with threads
5. NumPy/Pandas bypass Python's speed limits
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Execution Pipeline</h2>
<div id="demo"></div>

<script>
// Simulate Python execution stages
const stages = [
  { name: "Source Code", symbol: "", desc: "Your .py file" },
  { name: "Lexer", symbol: "", desc: "Breaks into tokens" },
  { name: "Parser", symbol: "", desc: "Creates AST" },
  { name: "Compiler", symbol: "", desc: "Generates bytecode" },
  { name: "Python VM", symbol: "", desc: "Executes bytecode" }
];

let html = "<h3>Execution Pipeline:</h3>";
html += "<div style='text-align: center;'>";

stages.forEach((stage, i) => {
  html += "<div style='display: inline-block; margin: 10px; padding: 15px; border: 2px solid #3776AB; border-radius: 8px; background: #f0f6ff;'>";
  html += "<div style='font-size: 24px;'>" + stage.symbol + "</div>";
  html += "<div><b>" + stage.name + "</b></div>";
  html += "<div style='font-size: 12px; color: #666;'>" + stage.desc + "</div>";
  html += "</div>";
  
  if (i < stages.length - 1) {
    html += "<span style='font-size: 24px;'></span>";
  }
});

html += "</div>";

html += "<br><h3>Python Implementations:</h3>";
html += "<ul>";
html += "<li><b>CPython</b> - Default (C)</li>";
html += "<li><b>PyPy</b> - JIT compiled (5-10x faster)</li>";
html += "<li><b>Jython</b> - JVM integration</li>";
html += "<li><b>MicroPython</b> - Microcontrollers</li>";
html += "</ul>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    // TRACK 1  CORE PYTHON
    'get-started': {
      title: 'Python Get Started',
      content: `# Getting Started with Python 

Think of installing Python like setting up your **workshop** - you need the right tools before you can build amazing things!

## Installing Python

### Windows 
1. Go to [python.org](https://python.org)
2. Download Python 3.11+ (latest stable)
3. **IMPORTANT**: Check "Add Python to PATH" 
4. Click "Install Now"

### macOS 
\`\`\`bash
# Using Homebrew (recommended)
brew install python

# Verify installation
python3 --version
\`\`\`

### Linux 
\`\`\`bash
# Ubuntu/Debian
sudo apt update
sudo apt install python3 python3-pip

# Fedora
sudo dnf install python3 python3-pip
\`\`\`

## Verify Installation

Open terminal/command prompt:
\`\`\`bash
python3 --version
# Python 3.11.5

pip3 --version
# pip 23.2.1
\`\`\`

## Your First Python Program!

Create a file called \`hello.py\`:
\`\`\`python
print("Hello, World!")
print("Welcome to Python! ")
\`\`\`

Run it:
\`\`\`bash
python3 hello.py
# Output:
# Hello, World!
# Welcome to Python! 
\`\`\`

## The Python REPL

REPL = Read, Evaluate, Print, Loop

Start it by typing \`python3\`:
\`\`\`python
>>> 2 + 2
4
>>> "Hello" + " World"
'Hello World'
>>> print("Python is fun!")
Python is fun!
>>> exit()  # To quit
\`\`\`

## Recommended Tools

### Code Editors
| Editor | Best For |
|--------|----------|
| **VS Code** | Most popular, free, great extensions |
| **PyCharm** | Full IDE, professional features |
| **Jupyter** | Data science, notebooks |
| **Vim/Neovim** | Terminal lovers |

### VS Code Setup
1. Install VS Code
2. Install "Python" extension by Microsoft
3. Install "Pylance" for better intellisense
4. Optional: "Python Indent", "autoDocstring"

## Python File Extensions

| Extension | Purpose |
|-----------|---------|
| \`.py\` | Python script |
| \`.pyw\` | Python script (no console window) |
| \`.pyc\` | Compiled bytecode |
| \`.pyd\` | Python DLL (Windows) |
| \`.pyi\` | Type stub file |
| \`.ipynb\` | Jupyter notebook |

## Hello World Explained

\`\`\`python
print("Hello, World!")
#         
#  |        String argument
#   Built-in function
\`\`\`

- \`print()\` - Displays output
- \`"Hello, World!"\` - A string (text in quotes)
- No semicolons needed! 
- Indentation matters in Python!

## Quick Tips 

1. **Use Python 3**, not Python 2 (Python 2 is dead!)
2. **Consistent naming**: Use \`python3\` and \`pip3\`
3. **Virtual environments**: Always use them (coming soon!)
4. **Official docs**: docs.python.org is excellent

## Practice Exercise

Create \`calculator.py\`:
\`\`\`python
# Simple calculator
num1 = 10
num2 = 5

print("Addition:", num1 + num2)
print("Subtraction:", num1 - num2)
print("Multiplication:", num1 * num2)
print("Division:", num1 / num2)
\`\`\`

Run it and see the results!
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Get Started</h2>
<div id="demo"></div>

<script>
// Simulating Python code execution
function runPython() {
  const output = [];
  
  // Simulated Python print statements
  output.push("Hello, World!");
  output.push("Welcome to Python! ");
  output.push("");
  output.push("=== Calculator Demo ===");
  
  const num1 = 10;
  const num2 = 5;
  
  output.push("num1 = " + num1);
  output.push("num2 = " + num2);
  output.push("Addition: " + (num1 + num2));
  output.push("Subtraction: " + (num1 - num2));
  output.push("Multiplication: " + (num1 * num2));
  output.push("Division: " + (num1 / num2));
  
  return output;
}

const results = runPython();
let html = "<pre style='background: #1a1a2e; color: #0f0; padding: 20px; border-radius: 8px;'>";
html += "<code>";
results.forEach(line => {
  html += line + "\\n";
});
html += "</code></pre>";

html += "<p><b>Congratulations!</b> You've run your first Python code! </p>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    'syntax': {
      title: 'Python Syntax',
      content: `# Python Syntax 

Think of Python syntax like **grammar rules** - they tell Python how to understand your code!

## Python's Golden Rule: Indentation

Python uses **indentation** (spaces) to define code blocks:

\`\`\`python
#  Correct - consistent indentation
if True:
    print("This is indented")
    print("Same level")

#  Wrong - inconsistent indentation
if True:
    print("This works")
  print("This causes an error!")  # IndentationError!
\`\`\`

### Indentation Rules
- Use **4 spaces** (recommended) or tabs (be consistent!)
- Never mix tabs and spaces
- All code in a block must have the same indentation

## Statements and Lines

### One Statement Per Line
\`\`\`python
name = "Alice"
age = 25
print(name)
\`\`\`

### Multiple Statements (Not Recommended)
\`\`\`python
name = "Alice"; age = 25  # Works, but avoid!
\`\`\`

### Line Continuation
\`\`\`python
# Long line with backslash
total = 1 + 2 + 3 + \\
        4 + 5 + 6

# Better: Use parentheses
total = (1 + 2 + 3 +
         4 + 5 + 6)

# Collections naturally continue
my_list = [
    "apple",
    "banana",
    "cherry"
]
\`\`\`

## Case Sensitivity

Python is case-sensitive!

\`\`\`python
Name = "Alice"
name = "Bob"
NAME = "Charlie"

# These are THREE different variables!
print(Name)   # Alice
print(name)   # Bob
print(NAME)   # Charlie
\`\`\`

## Python Keywords

These words are reserved - you can't use them as variable names:

\`\`\`python
import keyword
print(keyword.kwlist)

# False, True, None, and, as, assert, async, await,
# break, class, continue, def, del, elif, else,
# except, finally, for, from, global, if, import,
# in, is, lambda, nonlocal, not, or, pass, raise,
# return, try, while, with, yield
\`\`\`

## Naming Conventions

\`\`\`python
# Variables and functions: snake_case
user_name = "Alice"
def calculate_total():
    pass

# Classes: PascalCase
class UserAccount:
    pass

# Constants: UPPER_SNAKE_CASE
MAX_CONNECTIONS = 100
PI = 3.14159

# Private: leading underscore
_internal_value = 42

# "Very private": double underscore
__secret = "hidden"
\`\`\`

## Code Blocks

Code blocks are defined by indentation after \`:\`

\`\`\`python
# If statement
if condition:
    do_something()
    do_more()

# For loop
for item in items:
    process(item)

# Function
def greet(name):
    message = f"Hello, {name}!"
    return message

# Class
class Person:
    def __init__(self, name):
        self.name = name
\`\`\`

## Blank Lines

- 2 blank lines before top-level definitions
- 1 blank line between methods

\`\`\`python
import os


def function_one():
    pass


def function_two():
    pass


class MyClass:
    
    def method_one(self):
        pass
    
    def method_two(self):
        pass
\`\`\`

## String Quotes

Both work - be consistent!

\`\`\`python
single = 'Hello'
double = "Hello"
triple_single = '''Multi
line'''
triple_double = """Multi
line"""

# Use the other type to include quotes
message = "She said 'Hello!'"
message = 'He said "Hi!"'
\`\`\`

## Quick Syntax Rules 

| Rule | Example |
|------|---------|
| Indentation | 4 spaces per level |
| Line length | 79 characters max (PEP 8) |
| Imports | Top of file |
| Spaces after , | Yes: \`(a, b, c)\` |
| Spaces around = | Yes: \`x = 1\` |
| No semicolons | Just newlines! |
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Syntax Demo</h2>
<div id="demo"></div>

<script>
// Demonstrating Python syntax concepts

const pythonExamples = {
  indentation: {
    title: "Indentation Matters!",
    correct: \`if age >= 18:
    print("Adult")
    print("Can vote")\`,
    wrong: \`if age >= 18:
    print("Adult")
  print("Wrong indent!")  # Error!\`
  },
  
  naming: {
    title: "Naming Conventions",
    examples: [
      { type: "Variables", style: "snake_case", example: "user_name" },
      { type: "Functions", style: "snake_case", example: "calculate_total()" },
      { type: "Classes", style: "PascalCase", example: "UserAccount" },
      { type: "Constants", style: "UPPER_CASE", example: "MAX_SIZE" }
    ]
  }
};

let html = "<h3>" + pythonExamples.indentation.title + "</h3>";
html += "<div style='display: flex; gap: 20px;'>";

html += "<div style='flex: 1; background: #d4edda; padding: 10px; border-radius: 8px;'>";
html += "<b> Correct:</b><pre>" + pythonExamples.indentation.correct + "</pre></div>";

html += "<div style='flex: 1; background: #f8d7da; padding: 10px; border-radius: 8px;'>";
html += "<b> Wrong:</b><pre>" + pythonExamples.indentation.wrong + "</pre></div>";

html += "</div>";

html += "<h3>" + pythonExamples.naming.title + "</h3>";
html += "<table border='1' style='border-collapse: collapse; width: 100%;'>";
html += "<tr><th>Type</th><th>Convention</th><th>Example</th></tr>";
pythonExamples.naming.examples.forEach(item => {
  html += "<tr><td>" + item.type + "</td><td>" + item.style + "</td><td><code>" + item.example + "</code></td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    'output': {
      title: 'Python Output',
      content: `# Python Output 

Think of \`print()\` like a **megaphone** - it announces your messages to the world!

## Basic Print

\`\`\`python
print("Hello, World!")
# Output: Hello, World!

print("Line 1")
print("Line 2")
# Output:
# Line 1
# Line 2
\`\`\`

## Print Multiple Values

\`\`\`python
name = "Alice"
age = 25

# Comma-separated (adds space automatically)
print("Name:", name, "Age:", age)
# Output: Name: Alice Age: 25

# Multiple arguments
print(1, 2, 3, 4, 5)
# Output: 1 2 3 4 5
\`\`\`

## The sep Parameter

Control what goes between values:

\`\`\`python
print("a", "b", "c")
# Output: a b c

print("a", "b", "c", sep="-")
# Output: a-b-c

print("a", "b", "c", sep="")
# Output: abc

print(2024, 1, 15, sep="/")
# Output: 2024/1/15
\`\`\`

## The end Parameter

Control what goes at the end:

\`\`\`python
print("Hello", end=" ")
print("World")
# Output: Hello World (same line!)

# Progress bar simulation
print("Loading", end="")
print(".", end="")
print(".", end="")
print(".", end="")
print(" Done!")
# Output: Loading... Done!
\`\`\`

## F-Strings (Best Practice!) 

\`\`\`python
name = "Alice"
age = 25
score = 95.5

# F-string (Python 3.6+)
print(f"Hello, {name}!")
# Output: Hello, Alice!

print(f"{name} is {age} years old")
# Output: Alice is 25 years old

# Expressions inside
print(f"Next year: {age + 1}")
# Output: Next year: 26

# Formatting numbers
print(f"Score: {score:.1f}%")
# Output: Score: 95.5%

print(f"Price: \${49.99:,.2f}")
# Output: Price: \$49.99
\`\`\`

## Format Specifications

\`\`\`python
# Width and alignment
print(f"{'left':<10}")   # Left align
print(f"{'center':^10}") # Center
print(f"{'right':>10}")  # Right align

# Numbers
num = 42
print(f"{num:05d}")      # 00042 (zero-padded)
print(f"{num:+d}")       # +42 (show sign)

# Floats
pi = 3.14159
print(f"{pi:.2f}")       # 3.14
print(f"{pi:10.2f}")     # "      3.14"

# Percentages
ratio = 0.85
print(f"{ratio:.1%}")    # 85.0%

# Large numbers
big = 1234567
print(f"{big:,}")        # 1,234,567
\`\`\`

## Old Formatting (Know It, Don't Use It)

\`\`\`python
# %-formatting (C-style, old)
print("Hello, %s!" % name)

# .format() method (Python 2.6+)
print("Hello, {}!".format(name))

# F-strings (Python 3.6+)  USE THIS
print(f"Hello, {name}!")
\`\`\`

## Printing Special Characters

\`\`\`python
# Newline
print("Line 1\\nLine 2")
# Output:
# Line 1
# Line 2

# Tab
print("Column1\\tColumn2")
# Output: Column1    Column2

# Backslash
print("C:\\\\Users\\\\name")
# Output: C:\\Users\\name

# Raw string (no escaping)
print(r"C:\\Users\\name")
# Output: C:\\Users\\name
\`\`\`

## Print to File

\`\`\`python
with open("output.txt", "w") as f:
    print("Hello, File!", file=f)
\`\`\`

## Debugging with Print

\`\`\`python
# Debug variable values
x = 42
print(f"{x=}")  # Python 3.8+
# Output: x=42

# With expression
print(f"{x * 2=}")
# Output: x * 2=84
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Output Demo</h2>
<div id="demo"></div>

<script>
// Simulating Python print functions

const examples = [
  {
    title: "Basic Print",
    code: 'print("Hello, World!")',
    output: "Hello, World!"
  },
  {
    title: "Multiple Values",
    code: 'print("Name:", "Alice", "Age:", 25)',
    output: "Name: Alice Age: 25"
  },
  {
    title: "sep Parameter",
    code: 'print(2024, 1, 15, sep="/")',
    output: "2024/1/15"
  },
  {
    title: "F-String",
    code: 'name = "Bob"\\nprint(f"Hello, {name}!")',
    output: "Hello, Bob!"
  },
  {
    title: "Number Formatting",
    code: 'pi = 3.14159\\nprint(f"{pi:.2f}")',
    output: "3.14"
  },
  {
    title: "Large Numbers",
    code: 'big = 1234567\\nprint(f"{big:,}")',
    output: "1,234,567"
  }
];

let html = "<table style='width: 100%; border-collapse: collapse;'>";
html += "<tr style='background: #3776AB; color: white;'>";
html += "<th style='padding: 10px; text-align: left;'>Example</th>";
html += "<th style='padding: 10px; text-align: left;'>Code</th>";
html += "<th style='padding: 10px; text-align: left;'>Output</th>";
html += "</tr>";

examples.forEach((ex, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background: " + bg + ";'>";
  html += "<td style='padding: 10px;'><b>" + ex.title + "</b></td>";
  html += "<td style='padding: 10px;'><code style='background: #e9ecef; padding: 2px 6px;'>" + ex.code.replace(/\\n/g, "<br>") + "</code></td>";
  html += "<td style='padding: 10px; font-family: monospace;'>" + ex.output + "</td>";
  html += "</tr>";
});

html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    'comments': {
      title: 'Python Comments',
      content: `# Python Comments 

Think of comments like **sticky notes** in your code - they explain what's happening without affecting how the code runs!

## Single-Line Comments

Use \`#\` for single-line comments:

\`\`\`python
# This is a comment
print("Hello!")  # This is also a comment

# Calculate the total price
# including tax and shipping
total = price * 1.08 + shipping
\`\`\`

## Multi-Line Comments

Python doesn't have official multi-line comments, but we use:

### Triple Quotes (Common Practice)
\`\`\`python
"""
This is a multi-line comment.
It can span multiple lines.
Used for longer explanations.
"""

'''
Single quotes work too.
Same purpose.
'''
\`\`\`

### Multiple # (Also Valid)
\`\`\`python
# This is line 1 of the comment
# This is line 2 of the comment
# This is line 3 of the comment
\`\`\`

## Docstrings 

Special comments that document functions, classes, and modules:

\`\`\`python
def calculate_area(radius):
    """
    Calculate the area of a circle.
    
    Args:
        radius: The radius of the circle (float or int)
    
    Returns:
        The area of the circle (float)
    
    Example:
        >>> calculate_area(5)
        78.53981633974483
    """
    import math
    return math.pi * radius ** 2
\`\`\`

Access docstrings:
\`\`\`python
print(calculate_area.__doc__)
help(calculate_area)
\`\`\`

## Good vs Bad Comments

###  Bad Comments
\`\`\`python
# Increment x by 1
x = x + 1  # Obvious - don't comment this!

# Loop through list
for item in list:  # We can see that!
    pass
\`\`\`

###  Good Comments
\`\`\`python
# Use exponential backoff to prevent API rate limiting
retry_delay = 2 ** attempt

# HACK: Temporary fix until API v2 is released
# TODO: Remove after migration (ticket #1234)
result = legacy_api_call()

# Business rule: Orders over $100 get free shipping
if order_total > 100:
    shipping = 0
\`\`\`

## Special Comment Tags

\`\`\`python
# TODO: Implement caching
# FIXME: This breaks with negative numbers
# HACK: Workaround for library bug
# NOTE: Requires Python 3.8+
# XXX: Needs attention
# OPTIMIZE: Consider memoization
\`\`\`

## Comment Best Practices 

| Do | Don't |
|-----|-------|
| Explain WHY, not WHAT | State the obvious |
| Keep comments updated | Let them get stale |
| Use docstrings for APIs | Skip documentation |
| Be concise | Write novels |

## Self-Documenting Code

The best comment is no comment - write clear code!

\`\`\`python
#  Needs comment
# Calculate tax
t = p * 0.08

#  Self-documenting
tax_rate = 0.08
tax_amount = price * tax_rate
\`\`\`

\`\`\`python
#  What does this mean?
if d > 30:
    pass

#  Clear without comment
if days_since_last_login > 30:
    send_reminder_email()
\`\`\`

## Type Hints as Documentation

\`\`\`python
# Modern Python uses type hints
def greet(name: str, times: int = 1) -> str:
    return (f"Hello, {name}! " * times).strip()

# Now we know:
# - name must be a string
# - times is optional, defaults to 1
# - Returns a string
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Comments Demo</h2>
<div id="demo"></div>

<script>
const commentTypes = [
  {
    type: "Single-line",
    syntax: "#",
    example: "# This is a comment\\nprint('Hello')  # Inline comment"
  },
  {
    type: "Multi-line",
    syntax: '"""..."""',
    example: '"""\\nThis is a\\nmulti-line comment\\n"""'
  },
  {
    type: "Docstring",
    syntax: '"""At function start"""',
    example: 'def greet(name):\\n    """Return greeting."""\\n    return f"Hi, {name}"'
  }
];

const specialTags = [
  { tag: "TODO:", meaning: "Feature to implement" },
  { tag: "FIXME:", meaning: "Bug to fix" },
  { tag: "HACK:", meaning: "Temporary workaround" },
  { tag: "NOTE:", meaning: "Important information" },
  { tag: "XXX:", meaning: "Needs attention" }
];

let html = "<h3>Comment Types</h3>";
html += "<div style='display: flex; gap: 15px; flex-wrap: wrap;'>";

commentTypes.forEach(ct => {
  html += "<div style='flex: 1; min-width: 200px; background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #3776AB;'>";
  html += "<h4>" + ct.type + "</h4>";
  html += "<code style='color: #666;'>" + ct.syntax + "</code>";
  html += "<pre style='background: #1a1a2e; color: #0f0; padding: 10px; border-radius: 4px; font-size: 12px;'>" + ct.example + "</pre>";
  html += "</div>";
});

html += "</div>";

html += "<h3>Special Comment Tags</h3>";
html += "<table style='width: 100%; border-collapse: collapse;'>";
html += "<tr style='background: #3776AB; color: white;'><th style='padding: 8px;'>Tag</th><th style='padding: 8px;'>Purpose</th></tr>";
specialTags.forEach((tag, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background: " + bg + ";'>";
  html += "<td style='padding: 8px;'><code style='color: #e83e8c;'>" + tag.tag + "</code></td>";
  html += "<td style='padding: 8px;'>" + tag.meaning + "</td>";
  html += "</tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    'input': {
      title: 'Python User Input',
      content: `# Python User Input 

Think of \`input()\` like asking someone a **question** - Python waits for their answer!

## Basic Input

\`\`\`python
name = input("What is your name? ")
print(f"Hello, {name}!")

# When you run this:
# What is your name? Alice
# Hello, Alice!
\`\`\`

## Important: Input Returns a String!

\`\`\`python
age = input("Enter your age: ")
print(type(age))  # <class 'str'>

# This won't work as expected!
# next_year = age + 1  # TypeError!

# Convert to int first
age = int(input("Enter your age: "))
next_year = age + 1  # Works!
\`\`\`

## Type Conversion

\`\`\`python
# Integer input
age = int(input("Age: "))

# Float input
price = float(input("Price: "))

# Boolean (custom)
answer = input("Continue? (y/n): ")
continue_flag = answer.lower() == 'y'
\`\`\`

## Input Validation

\`\`\`python
# Basic validation
while True:
    try:
        age = int(input("Enter your age: "))
        if 0 <= age <= 150:
            break
        print("Please enter a valid age (0-150)")
    except ValueError:
        print("Please enter a number!")

print(f"Your age is {age}")
\`\`\`

## Multiple Inputs

### One at a Time
\`\`\`python
name = input("Name: ")
age = int(input("Age: "))
city = input("City: ")
\`\`\`

### Space-Separated
\`\`\`python
# User enters: Alice 25 NYC
data = input("Enter name, age, city: ")
name, age, city = data.split()
age = int(age)

# Or using unpacking
x, y = map(int, input("Enter x y: ").split())
\`\`\`

### Multiple Values at Once
\`\`\`python
# Get list of numbers
numbers = input("Enter numbers (space-separated): ")
num_list = [int(x) for x in numbers.split()]
print(f"Sum: {sum(num_list)}")
\`\`\`

## Password Input

\`\`\`python
import getpass

# Password is hidden while typing
password = getpass.getpass("Enter password: ")
\`\`\`

## Command Line Arguments

\`\`\`python
import sys

# python script.py arg1 arg2
print(sys.argv)  # ['script.py', 'arg1', 'arg2']

# Better way: argparse
import argparse
parser = argparse.ArgumentParser()
parser.add_argument("--name", required=True)
args = parser.parse_args()
print(f"Hello, {args.name}!")
\`\`\`

## Real-World Example: Calculator

\`\`\`python
def calculator():
    print("Simple Calculator")
    print("================")
    
    while True:
        try:
            num1 = float(input("First number: "))
            operator = input("Operator (+, -, *, /): ")
            num2 = float(input("Second number: "))
            
            if operator == '+':
                result = num1 + num2
            elif operator == '-':
                result = num1 - num2
            elif operator == '*':
                result = num1 * num2
            elif operator == '/':
                if num2 == 0:
                    print("Cannot divide by zero!")
                    continue
                result = num1 / num2
            else:
                print("Invalid operator!")
                continue
            
            print(f"Result: {result}")
            
            again = input("Calculate again? (y/n): ")
            if again.lower() != 'y':
                break
                
        except ValueError:
            print("Please enter valid numbers!")

calculator()
\`\`\`

## Input Best Practices 

1. **Always validate** user input
2. **Handle exceptions** (try/except)
3. **Provide clear prompts** with expected format
4. **Use getpass** for sensitive data
5. **Use argparse** for command-line tools
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Input Demo</h2>
<div id="demo"></div>

<script>
// Simulate Python input examples

const examples = [
  {
    title: "Basic String Input",
    prompt: "What is your name?",
    input: "Alice",
    code: 'name = input("What is your name? ")',
    output: "Hello, Alice!"
  },
  {
    title: "Integer Input (with conversion)",
    prompt: "Enter your age:",
    input: "25",
    code: 'age = int(input("Enter your age: "))',
    output: "Next year you'll be 26!"
  },
  {
    title: "Multiple Values",
    prompt: "Enter two numbers:",
    input: "10 20",
    code: 'x, y = map(int, input().split())',
    output: "Sum: 30"
  }
];

let html = "<h3>Input Examples</h3>";

examples.forEach(ex => {
  html += "<div style='background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 8px; border-left: 4px solid #3776AB;'>";
  html += "<h4>" + ex.title + "</h4>";
  html += "<pre style='background: #1a1a2e; color: #0f0; padding: 10px; border-radius: 4px;'>";
  html += ">>> " + ex.code + "\\n";
  html += ex.prompt + " <span style='color: #ff0;'>" + ex.input + "</span>\\n";
  html += ">>> print(result)\\n";
  html += ex.output + "</pre>";
  html += "</div>";
});

html += "<h3>Input Validation Pattern</h3>";
html += "<pre style='background: #1a1a2e; color: #0f0; padding: 15px; border-radius: 8px;'>";
html += "while True:\\n";
html += "    try:\\n";
html += "        age = int(input('Age: '))\\n";
html += "        if 0 <= age <= 150:\\n";
html += "            break\\n";
html += "        print('Invalid age')\\n";
html += "    except ValueError:\\n";
html += "        print('Enter a number!')</pre>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    'venv': {
      title: 'Python Virtual Environments',
      content: `# Python Virtual Environments 

Think of a virtual environment like having a **separate toolbox for each project** - each project gets its own tools without conflicting with others!

## Why Virtual Environments? (Non-Negotiable!)

### The Problem
\`\`\`
Project A needs: Django 4.0
Project B needs: Django 3.2
System Python: Can only have ONE version!
\`\`\`

### The Solution: Virtual Environments!
\`\`\`
Project A  venv with Django 4.0
Project B  venv with Django 3.2
No conflicts! 
\`\`\`

## Creating a Virtual Environment

\`\`\`bash
# Navigate to your project
cd my_project

# Create virtual environment
python3 -m venv venv

# Your folder now has:
# my_project/
#    venv/
#        bin/ (or Scripts/ on Windows)
#        include/
#        lib/
#        pyvenv.cfg
\`\`\`

## Activating the Environment

### macOS/Linux
\`\`\`bash
source venv/bin/activate

# Your prompt changes:
# (venv) $
\`\`\`

### Windows
\`\`\`bash
venv\\Scripts\\activate

# Your prompt changes:
# (venv) C:\\>
\`\`\`

## Installing Packages

\`\`\`bash
# With venv activated:
pip install django
pip install requests pandas numpy

# Check installed packages
pip list

# Check specific package
pip show django
\`\`\`

## Freezing Dependencies

\`\`\`bash
# Save current packages to file
pip freeze > requirements.txt

# Your requirements.txt:
# Django==4.2.7
# requests==2.31.0
# pandas==2.1.3
# numpy==1.26.2
\`\`\`

## Installing from requirements.txt

\`\`\`bash
# On a new machine or fresh venv:
pip install -r requirements.txt
\`\`\`

## Deactivating

\`\`\`bash
deactivate

# Prompt returns to normal:
# $
\`\`\`

## Best Practices 

### 1. Project Structure
\`\`\`
my_project/
 venv/           # Virtual environment (git ignored!)
 src/            # Your source code
 tests/          # Test files
 requirements.txt
 requirements-dev.txt  # Dev dependencies
 .gitignore
 README.md
\`\`\`

### 2. .gitignore
\`\`\`
# Always ignore venv!
venv/
.venv/
env/
ENV/

# Other Python ignores
__pycache__/
*.pyc
*.pyo
.Python
build/
dist/
*.egg-info/
\`\`\`

### 3. Version Pinning

\`\`\`bash
# Bad: No version (can break later)
requests

# Good: Exact version
requests==2.31.0

# OK: Compatible version
requests>=2.31.0,<3.0.0
\`\`\`

### 4. Separate Dev Dependencies

\`\`\`bash
# requirements.txt (production)
django==4.2.7
gunicorn==21.2.0

# requirements-dev.txt
-r requirements.txt  # Include production deps
pytest==7.4.3
black==23.11.0
flake8==6.1.0
\`\`\`

## Modern Alternatives

### Poetry (Recommended for new projects)
\`\`\`bash
pip install poetry
poetry new my_project
poetry add django
poetry install
\`\`\`

### pipenv
\`\`\`bash
pip install pipenv
pipenv install django
pipenv shell
\`\`\`

## Quick Reference 

| Command | Purpose |
|---------|---------|
| \`python3 -m venv venv\` | Create venv |
| \`source venv/bin/activate\` | Activate (Mac/Linux) |
| \`venv\\Scripts\\activate\` | Activate (Windows) |
| \`pip install package\` | Install package |
| \`pip freeze > requirements.txt\` | Save dependencies |
| \`pip install -r requirements.txt\` | Install from file |
| \`deactivate\` | Exit venv |

## Enterprise Standard Workflow

\`\`\`bash
# 1. Clone project
git clone repo-url
cd my_project

# 2. Create venv
python3 -m venv venv

# 3. Activate
source venv/bin/activate

# 4. Install dependencies
pip install -r requirements.txt

# 5. Work on project
# ...

# 6. Add new dependency
pip install new_package
pip freeze > requirements.txt
git add requirements.txt
git commit -m "Add new_package dependency"
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Virtual Environments Demo</h2>
<div id="demo"></div>

<script>
const workflow = [
  { step: 1, command: "python3 -m venv venv", desc: "Create virtual environment" },
  { step: 2, command: "source venv/bin/activate", desc: "Activate environment" },
  { step: 3, command: "pip install django", desc: "Install packages" },
  { step: 4, command: "pip freeze > requirements.txt", desc: "Save dependencies" },
  { step: 5, command: "deactivate", desc: "Exit when done" }
];

const benefits = [
  " No conflicts between projects",
  " Easy to reproduce on any machine",
  " Clean system Python",
  " Version control friendly",
  " Team collaboration made easy"
];

let html = "<h3>Virtual Environment Workflow</h3>";
html += "<div style='background: #1a1a2e; color: #0f0; padding: 20px; border-radius: 8px; font-family: monospace;'>";

workflow.forEach(w => {
  html += "<div style='margin: 10px 0; padding: 10px; background: #2a2a4e; border-radius: 4px;'>";
  html += "<span style='color: #ff0;'>Step " + w.step + ":</span> ";
  html += "<code style='color: #0ff;'>$ " + w.command + "</code>";
  html += "<br><small style='color: #888;'>" + w.desc + "</small>";
  html += "</div>";
});

html += "</div>";

html += "<h3>Why Use Virtual Environments?</h3>";
html += "<ul style='background: #e8f5e9; padding: 20px 40px; border-radius: 8px;'>";
benefits.forEach(b => {
  html += "<li style='margin: 5px 0;'>" + b + "</li>";
});
html += "</ul>";

html += "<h3>Project Structure</h3>";
html += "<pre style='background: #f8f9fa; padding: 15px; border-radius: 8px;'>";
html += "my_project/\\n";
html += " venv/              <span style='color: #888;'>#  Git ignored!</span>\\n";
html += " src/\\n";
html += " tests/\\n";
html += " requirements.txt   <span style='color: #888;'>#  Commit this!</span>\\n";
html += " README.md</pre>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    // Variables & Data Types
    'variables': {
      title: 'Python Variables',
      content: `# Python Variables 

Think of variables like **labeled boxes** - you put something in and give it a name so you can find it later!

## Creating Variables

\`\`\`python
# No declaration needed - just assign!
name = "Alice"
age = 25
price = 19.99
is_active = True

# Python figures out the type automatically
print(type(name))      # <class 'str'>
print(type(age))       # <class 'int'>
print(type(price))     # <class 'float'>
print(type(is_active)) # <class 'bool'>
\`\`\`

## Variable Naming Rules

\`\`\`python
#  Valid names
name = "Alice"
_private = "secret"
user_name = "bob"
userName = "bob"    # Works but not Pythonic
name2 = "Charlie"
MAX_SIZE = 100

#  Invalid names
2name = "error"     # Can't start with number
my-name = "error"   # No hyphens
my name = "error"   # No spaces
class = "error"     # Reserved keyword
\`\`\`

## Multiple Assignment

\`\`\`python
# Assign same value
a = b = c = 0
print(a, b, c)  # 0 0 0

# Assign different values
x, y, z = 1, 2, 3
print(x, y, z)  # 1 2 3

# Swap values (Python magic!)
a, b = 1, 2
a, b = b, a
print(a, b)  # 2 1

# Unpack list
first, second, third = [1, 2, 3]
\`\`\`

## Variable Scope

\`\`\`python
# Global variable
counter = 0

def increment():
    global counter  # Must declare to modify global
    counter += 1

def show_local():
    counter = 100   # This is a LOCAL variable
    print(counter)  # 100

show_local()
print(counter)  # Still 0 (global unchanged)

increment()
print(counter)  # Now 1
\`\`\`

## Dynamic Typing

\`\`\`python
# Variable can change type
x = 10          # int
print(type(x))  # <class 'int'>

x = "hello"     # now str
print(type(x))  # <class 'str'>

x = [1, 2, 3]   # now list
print(type(x))  # <class 'list'>
\`\`\`

## Type Annotations (Best Practice)

\`\`\`python
# Python 3.5+ type hints
name: str = "Alice"
age: int = 25
price: float = 19.99
is_active: bool = True

# Function with types
def greet(name: str) -> str:
    return f"Hello, {name}!"

# Optional values
from typing import Optional
username: Optional[str] = None
\`\`\`

## Constants (by Convention)

\`\`\`python
# Python has no true constants
# Use UPPER_CASE by convention
PI = 3.14159
MAX_CONNECTIONS = 100
API_KEY = "secret123"

# Can still change (but don't!)
PI = 3  # Works, but BAD PRACTICE
\`\`\`

## Checking Variables

\`\`\`python
x = 10

# Check type
print(type(x))        # <class 'int'>
print(isinstance(x, int))  # True

# Check identity
y = x
print(id(x))          # Memory address
print(x is y)         # True (same object)

# Check if exists
print('x' in dir())   # True
\`\`\`

## Best Practices 

| Convention | Use Case |
|------------|----------|
| \`snake_case\` | Variables, functions |
| \`PascalCase\` | Classes |
| \`UPPER_CASE\` | Constants |
| \`_prefix\` | Private/internal |
| \`__dunder__\` | Python special methods |
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Variables Demo</h2>
<div id="demo"></div>

<script>
// Demonstrating Python variable concepts

const concepts = [
  {
    title: "Creating Variables",
    code: 'name = "Alice"\\nage = 25\\nprice = 19.99',
    explanation: "No type declaration needed!"
  },
  {
    title: "Multiple Assignment",
    code: 'x, y, z = 1, 2, 3\\na = b = c = 0',
    explanation: "Assign multiple values at once"
  },
  {
    title: "Swap Values",
    code: 'a, b = 1, 2\\na, b = b, a\\n# Now a=2, b=1',
    explanation: "Python's elegant swap!"
  },
  {
    title: "Type Hints",
    code: 'name: str = "Alice"\\nage: int = 25',
    explanation: "Modern Python best practice"
  }
];

let html = "";

concepts.forEach(c => {
  html += "<div style='background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 8px; border-left: 4px solid #3776AB;'>";
  html += "<h4>" + c.title + "</h4>";
  html += "<pre style='background: #1a1a2e; color: #0f0; padding: 10px; border-radius: 4px;'>" + c.code + "</pre>";
  html += "<p style='color: #666; margin: 5px 0;'>" + c.explanation + "</p>";
  html += "</div>";
});

html += "<h3>Naming Conventions</h3>";
html += "<table style='width: 100%; border-collapse: collapse;'>";
html += "<tr style='background: #3776AB; color: white;'>";
html += "<th style='padding: 8px;'>Convention</th><th style='padding: 8px;'>Use For</th><th style='padding: 8px;'>Example</th></tr>";
[
  ["snake_case", "Variables, Functions", "user_name"],
  ["PascalCase", "Classes", "UserAccount"],
  ["UPPER_CASE", "Constants", "MAX_SIZE"],
  ["_prefix", "Private", "_internal_var"]
].forEach((row, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background: " + bg + ";'>";
  html += "<td style='padding: 8px;'><code>" + row[0] + "</code></td>";
  html += "<td style='padding: 8px;'>" + row[1] + "</td>";
  html += "<td style='padding: 8px;'><code>" + row[2] + "</code></td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    // Data Types
    'datatypes': {
      title: 'Python Data Types',
      content: `# Python Data Types 

Think of data types like **different containers** - each one is designed to hold a specific kind of thing!

## Built-in Data Types

| Category | Types |
|----------|-------|
| **Text** | \`str\` |
| **Numeric** | \`int\`, \`float\`, \`complex\` |
| **Sequence** | \`list\`, \`tuple\`, \`range\` |
| **Mapping** | \`dict\` |
| **Set** | \`set\`, \`frozenset\` |
| **Boolean** | \`bool\` |
| **Binary** | \`bytes\`, \`bytearray\`, \`memoryview\` |
| **None** | \`NoneType\` |

## Examples of Each Type

\`\`\`python
# Text
name = "Alice"                    # str

# Numeric
age = 25                          # int
price = 19.99                     # float
z = 3 + 4j                        # complex

# Sequence
colors = ["red", "green"]         # list
point = (10, 20)                  # tuple
numbers = range(5)                # range

# Mapping
person = {"name": "Bob", "age": 30}  # dict

# Set
unique = {1, 2, 3}                # set
frozen = frozenset({1, 2, 3})     # frozenset

# Boolean
is_active = True                  # bool

# None
result = None                     # NoneType
\`\`\`

## Checking Types

\`\`\`python
x = 42
print(type(x))          # <class 'int'>
print(isinstance(x, int))  # True
print(isinstance(x, (int, float)))  # True (check multiple)
\`\`\`

## Mutable vs Immutable (Critical!)

| Mutable (Can Change) | Immutable (Can't Change) |
|---------------------|-------------------------|
| list | int, float |
| dict | str |
| set | tuple |
| bytearray | frozenset |

\`\`\`python
# Immutable - creates new object
name = "Alice"
name = name + " Smith"  # New string created

# Mutable - modifies in place
items = [1, 2, 3]
items.append(4)  # Same list modified
\`\`\`

## Why This Matters

\`\`\`python
# Immutable is safe for dict keys
d = {(1, 2): "point"}  #  tuple works

# Mutable fails as dict key
d = {[1, 2]: "list"}   #  TypeError!

# Function side effects
def bad_function(items=[]):  #  Danger!
    items.append(1)
    return items

print(bad_function())  # [1]
print(bad_function())  # [1, 1] - Unexpected!

def good_function(items=None):  #  Safe
    if items is None:
        items = []
    items.append(1)
    return items
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Data Types</h2>
<div id="demo"></div>

<script>
const types = [
  { name: "str", category: "Text", example: '"Hello"', mutable: false },
  { name: "int", category: "Numeric", example: "42", mutable: false },
  { name: "float", category: "Numeric", example: "3.14", mutable: false },
  { name: "list", category: "Sequence", example: "[1, 2, 3]", mutable: true },
  { name: "tuple", category: "Sequence", example: "(1, 2, 3)", mutable: false },
  { name: "dict", category: "Mapping", example: '{"a": 1}', mutable: true },
  { name: "set", category: "Set", example: "{1, 2, 3}", mutable: true },
  { name: "bool", category: "Boolean", example: "True", mutable: false },
  { name: "None", category: "None", example: "None", mutable: false }
];

let html = "<table style='width: 100%; border-collapse: collapse;'>";
html += "<tr style='background: #3776AB; color: white;'>";
html += "<th style='padding: 10px;'>Type</th>";
html += "<th style='padding: 10px;'>Category</th>";
html += "<th style='padding: 10px;'>Example</th>";
html += "<th style='padding: 10px;'>Mutable?</th></tr>";

types.forEach((t, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background: " + bg + ";'>";
  html += "<td style='padding: 10px;'><code>" + t.name + "</code></td>";
  html += "<td style='padding: 10px;'>" + t.category + "</td>";
  html += "<td style='padding: 10px;'><code>" + t.example + "</code></td>";
  html += "<td style='padding: 10px;'>" + (t.mutable ? " Yes" : " No") + "</td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    'numbers': {
      title: 'Python Numbers',
      content: `# Python Numbers 

Think of Python numbers like your **calculator** - but way more powerful!

## Number Types

\`\`\`python
# Integer (whole numbers)
age = 25
population = 7_900_000_000  # Underscores for readability!
negative = -42

# Float (decimals)
price = 19.99
pi = 3.14159
scientific = 1.5e10  # 1.5  10^10

# Complex (real + imaginary)
z = 3 + 4j
print(z.real)  # 3.0
print(z.imag)  # 4.0
\`\`\`

## Arithmetic Operations

\`\`\`python
a, b = 10, 3

print(a + b)   # 13 (addition)
print(a - b)   # 7 (subtraction)
print(a * b)   # 30 (multiplication)
print(a / b)   # 3.333... (division - always float!)
print(a // b)  # 3 (floor division)
print(a % b)   # 1 (modulo/remainder)
print(a ** b)  # 1000 (power)
\`\`\`

## Special Functions

\`\`\`python
import math

# Rounding
print(round(3.7))       # 4
print(round(3.14159, 2)) # 3.14
print(math.floor(3.7))  # 3
print(math.ceil(3.2))   # 4

# Absolute value
print(abs(-42))         # 42

# Power and roots
print(pow(2, 3))        # 8
print(math.sqrt(16))    # 4.0

# Min/Max
print(min(1, 5, 3))     # 1
print(max(1, 5, 3))     # 5
\`\`\`

## Number Systems

\`\`\`python
# Different bases
decimal = 42        # Base 10
binary = 0b101010   # Base 2
octal = 0o52        # Base 8
hexa = 0x2A         # Base 16

# All equal 42!
print(decimal, binary, octal, hexa)
# 42 42 42 42

# Convert to string
print(bin(42))   # '0b101010'
print(oct(42))   # '0o52'
print(hex(42))   # '0x2a'
\`\`\`

## Float Precision Warning! 

\`\`\`python
# Float math can be imprecise!
print(0.1 + 0.2)  # 0.30000000000000004

# For money, use Decimal
from decimal import Decimal
price = Decimal('19.99')
tax = Decimal('0.08')
total = price * (1 + tax)
print(total)  # 21.5892 (exact!)
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Numbers Demo</h2>
<div id="demo"></div>

<script>
const a = 10, b = 3;

const operations = [
  { op: "Addition", expr: "10 + 3", result: a + b },
  { op: "Subtraction", expr: "10 - 3", result: a - b },
  { op: "Multiplication", expr: "10 * 3", result: a * b },
  { op: "Division", expr: "10 / 3", result: (a / b).toFixed(4) },
  { op: "Floor Division", expr: "10 // 3", result: Math.floor(a / b) },
  { op: "Modulo", expr: "10 % 3", result: a % b },
  { op: "Power", expr: "10 ** 3", result: Math.pow(a, b) }
];

let html = "<h3>Arithmetic Operations (a=10, b=3)</h3>";
html += "<table style='width: 100%; border-collapse: collapse;'>";
html += "<tr style='background: #3776AB; color: white;'>";
html += "<th style='padding: 10px;'>Operation</th>";
html += "<th style='padding: 10px;'>Expression</th>";
html += "<th style='padding: 10px;'>Result</th></tr>";

operations.forEach((op, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background: " + bg + ";'>";
  html += "<td style='padding: 10px;'>" + op.op + "</td>";
  html += "<td style='padding: 10px;'><code>" + op.expr + "</code></td>";
  html += "<td style='padding: 10px; font-weight: bold;'>" + op.result + "</td></tr>";
});
html += "</table>";

html += "<h3> Float Precision Warning</h3>";
html += "<div style='background: #fff3cd; padding: 15px; border-radius: 8px;'>";
html += "<code>0.1 + 0.2 = " + (0.1 + 0.2) + "</code>";
html += "<p>Use <code>Decimal</code> for financial calculations!</p></div>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    'strings': {
      title: 'Python Strings',
      content: `# Python Strings 

Think of strings like **beads on a necklace** - each character has a position!

## Creating Strings

\`\`\`python
single = 'Hello'
double = "Hello"
triple = '''Multi
line
string'''
raw = r"C:\\Users\\name"  # No escaping
\`\`\`

## String Indexing

\`\`\`python
text = "Python"
#       012345
#      -6-5-4-3-2-1

print(text[0])   # 'P'
print(text[-1])  # 'n'
print(text[1:4]) # 'yth'
print(text[:3])  # 'Pyt'
print(text[3:])  # 'hon'
print(text[::-1]) # 'nohtyP' (reverse!)
\`\`\`

## Common String Methods

\`\`\`python
text = "  Hello, World!  "

# Case
print(text.upper())      # "  HELLO, WORLD!  "
print(text.lower())      # "  hello, world!  "
print(text.title())      # "  Hello, World!  "

# Trimming
print(text.strip())      # "Hello, World!"
print(text.lstrip())     # "Hello, World!  "
print(text.rstrip())     # "  Hello, World!"

# Finding
print(text.find("World"))   # 9
print(text.count("l"))      # 3
print("Hello" in text)      # True

# Replacing
print(text.replace("World", "Python"))

# Splitting & Joining
words = "a,b,c".split(",")  # ['a', 'b', 'c']
joined = "-".join(words)    # "a-b-c"
\`\`\`

## F-Strings (Best Practice!)

\`\`\`python
name = "Alice"
age = 25

# Modern way
print(f"Name: {name}, Age: {age}")
print(f"Next year: {age + 1}")
print(f"{name.upper()!r}")  # repr

# Formatting
pi = 3.14159
print(f"{pi:.2f}")      # 3.14
print(f"{1000000:,}")   # 1,000,000
print(f"{0.85:.1%}")    # 85.0%
\`\`\`

## String Validation

\`\`\`python
print("123".isdigit())     # True
print("abc".isalpha())     # True
print("abc123".isalnum())  # True
print("ABC".isupper())     # True
print("  ".isspace())      # True
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Strings Demo</h2>
<div id="demo"></div>

<script>
const text = "Python";

const indexExamples = [
  { expr: 'text[0]', result: text[0] },
  { expr: 'text[-1]', result: text[text.length-1] },
  { expr: 'text[1:4]', result: text.slice(1, 4) },
  { expr: 'text[:3]', result: text.slice(0, 3) },
  { expr: 'text[::-1]', result: text.split('').reverse().join('') }
];

let html = "<h3>String Indexing: '" + text + "'</h3>";
html += "<table style='width: 100%; border-collapse: collapse;'>";
html += "<tr style='background: #3776AB; color: white;'>";
html += "<th style='padding: 10px;'>Expression</th>";
html += "<th style='padding: 10px;'>Result</th></tr>";

indexExamples.forEach((ex, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background: " + bg + ";'>";
  html += "<td style='padding: 10px;'><code>" + ex.expr + "</code></td>";
  html += "<td style='padding: 10px;'><b>'" + ex.result + "'</b></td></tr>";
});
html += "</table>";

html += "<h3>String Methods</h3>";
html += "<div style='display: flex; gap: 10px; flex-wrap: wrap;'>";
const methods = ["upper()", "lower()", "strip()", "split()", "replace()"];
methods.forEach(m => {
  html += "<span style='background: #e8f5e9; padding: 5px 10px; border-radius: 15px;'>" + m + "</span>";
});
html += "</div>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    // Casting
    'casting': {
      title: 'Python Casting',
      content: `# Python Casting 

Think of casting like **changing costumes** - the same actor (data) puts on different outfits (types)!

## What is Casting?

Casting means converting one data type to another.

\`\`\`python
x = "123"      # This is a string
y = int(x)     # Now it's an integer!
print(type(y)) # <class 'int'>
\`\`\`

## Integer Casting: int()

\`\`\`python
# From float
x = int(3.14)    # 3 (truncates, doesn't round!)
x = int(3.99)    # 3 (still truncates!)

# From string
x = int("42")    # 42
x = int("3.14")  #  Error! Can't convert float string

# From boolean
x = int(True)    # 1
x = int(False)   # 0
\`\`\`

## Float Casting: float()

\`\`\`python
# From integer
x = float(5)       # 5.0

# From string
x = float("3.14")  # 3.14
x = float("42")    # 42.0

# From boolean
x = float(True)    # 1.0
\`\`\`

## String Casting: str()

\`\`\`python
# From any type
x = str(42)        # "42"
x = str(3.14)      # "3.14"
x = str(True)      # "True"
x = str([1,2,3])   # "[1, 2, 3]"
x = str(None)      # "None"
\`\`\`

## Boolean Casting: bool()

\`\`\`python
# Truthy values  True
bool(1)        # True
bool("hello")  # True
bool([1, 2])   # True

# Falsy values  False
bool(0)        # False
bool("")       # False
bool([])       # False
bool(None)     # False
\`\`\`

## List/Tuple/Set Casting

\`\`\`python
# String to list
list("hello")    # ['h', 'e', 'l', 'l', 'o']

# Tuple to list
list((1, 2, 3))  # [1, 2, 3]

# List to tuple
tuple([1, 2, 3]) # (1, 2, 3)

# List to set (removes duplicates!)
set([1, 1, 2, 2, 3])  # {1, 2, 3}
\`\`\`

## Common Casting Errors

\`\`\`python
# ValueError: invalid literal
int("hello")     #  Can't convert text to int

# ValueError: float string to int
int("3.14")      #  Use int(float("3.14"))

# Works!
int(float("3.14"))  #  3
\`\`\`

## Best Practices 

\`\`\`python
# Always validate before casting
user_input = "42"

if user_input.isdigit():
    number = int(user_input)
else:
    print("Not a valid number!")

# Or use try-except
try:
    number = int(user_input)
except ValueError:
    print("Invalid number!")
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Casting Demo</h2>
<div id="demo"></div>

<script>
const examples = [
  { from: '"123"', to: 'int("123")', result: 123, type: "int" },
  { from: '3.99', to: 'int(3.99)', result: 3, type: "int (truncates!)" },
  { from: '42', to: 'float(42)', result: 42.0, type: "float" },
  { from: '3.14', to: 'str(3.14)', result: '"3.14"', type: "str" },
  { from: '""', to: 'bool("")', result: false, type: "bool (falsy)" },
  { from: '"hello"', to: 'bool("hello")', result: true, type: "bool (truthy)" }
];

let html = "<table style='width: 100%; border-collapse: collapse;'>";
html += "<tr style='background: #3776AB; color: white;'>";
html += "<th style='padding: 10px;'>Original</th>";
html += "<th style='padding: 10px;'>Casting</th>";
html += "<th style='padding: 10px;'>Result</th>";
html += "<th style='padding: 10px;'>Type</th></tr>";

examples.forEach((ex, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background: " + bg + ";'>";
  html += "<td style='padding: 10px;'><code>" + ex.from + "</code></td>";
  html += "<td style='padding: 10px;'><code>" + ex.to + "</code></td>";
  html += "<td style='padding: 10px;'><b>" + ex.result + "</b></td>";
  html += "<td style='padding: 10px;'>" + ex.type + "</td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    // Booleans
    'booleans': {
      title: 'Python Booleans',
      content: `# Python Booleans 

Think of booleans like **light switches** - they're either ON (True) or OFF (False)!

## Boolean Values

Python has two boolean values:

\`\`\`python
is_sunny = True
is_raining = False

print(type(True))   # <class 'bool'>
print(type(False))  # <class 'bool'>
\`\`\`

## Comparison Operations Return Booleans

\`\`\`python
print(10 > 5)    # True
print(10 < 5)    # False
print(10 == 10)  # True
print(10 != 5)   # True
print(5 >= 5)    # True
print(5 <= 4)    # False
\`\`\`

## Truthy and Falsy Values

### Falsy Values (Evaluate to False)
\`\`\`python
bool(False)    # False
bool(None)     # False
bool(0)        # False
bool(0.0)      # False
bool("")       # False (empty string)
bool([])       # False (empty list)
bool({})       # False (empty dict)
bool(())       # False (empty tuple)
bool(set())    # False (empty set)
\`\`\`

### Truthy Values (Evaluate to True)
\`\`\`python
bool(True)     # True
bool(1)        # True (any non-zero number)
bool(-1)       # True
bool(3.14)     # True
bool("hello")  # True (any non-empty string)
bool([1, 2])   # True (any non-empty list)
bool({"a": 1}) # True
\`\`\`

## Logical Operators

\`\`\`python
# and - Both must be True
print(True and True)   # True
print(True and False)  # False

# or - At least one True
print(True or False)   # True
print(False or False)  # False

# not - Reverses the value
print(not True)        # False
print(not False)       # True
\`\`\`

## Practical Examples

\`\`\`python
age = 25
has_license = True

# Check if can drive
can_drive = age >= 18 and has_license
print(can_drive)  # True

# Check if list is empty
items = []
if not items:
    print("List is empty!")

# Short-circuit evaluation
username = ""
name = username or "Anonymous"
print(name)  # "Anonymous"
\`\`\`

## The bool() Function

\`\`\`python
# Convert to boolean
print(bool("Hello"))  # True
print(bool(0))        # False

# Useful for checking
if bool(user_input):
    process(user_input)
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Booleans Demo</h2>
<div id="demo"></div>

<script>
let html = "<h3>Truthy vs Falsy</h3>";

const falsy = ['False', 'None', '0', '""', '[]', '{}'];
const truthy = ['True', '1', '-1', '"hello"', '[1,2]', '{"a":1}'];

html += "<div style='display: flex; gap: 20px;'>";

html += "<div style='flex: 1; background: #ffebee; padding: 15px; border-radius: 8px;'>";
html += "<h4 style='color: #c62828;'> Falsy Values</h4>";
falsy.forEach(v => {
  html += "<div style='padding: 5px;'><code>" + v + "</code>  False</div>";
});
html += "</div>";

html += "<div style='flex: 1; background: #e8f5e9; padding: 15px; border-radius: 8px;'>";
html += "<h4 style='color: #2e7d32;'> Truthy Values</h4>";
truthy.forEach(v => {
  html += "<div style='padding: 5px;'><code>" + v + "</code>  True</div>";
});
html += "</div>";

html += "</div>";

html += "<h3>Logical Operators</h3>";
html += "<table style='width: 100%; border-collapse: collapse;'>";
html += "<tr style='background: #3776AB; color: white;'>";
html += "<th style='padding: 10px;'>Expression</th><th style='padding: 10px;'>Result</th></tr>";
[
  ["True and True", true],
  ["True and False", false],
  ["True or False", true],
  ["not True", false]
].forEach((row, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background: " + bg + ";'>";
  html += "<td style='padding: 10px;'><code>" + row[0] + "</code></td>";
  html += "<td style='padding: 10px;'><b>" + row[1] + "</b></td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    // None
    'none': {
      title: 'Python None',
      content: `# Python None 

Think of None like an **empty box** - it exists, but there's nothing inside!

## What is None?

None represents the **absence of a value**. It's Python's way of saying "nothing here!"

\`\`\`python
result = None
print(result)       # None
print(type(result)) # <class 'NoneType'>
\`\`\`

## None vs Other "Empty" Values

\`\`\`python
# None is NOT the same as:
None != 0       # True (None is not zero)
None != ""      # True (None is not empty string)
None != []      # True (None is not empty list)
None != False   # True (None is not False)

# But None IS falsy:
if not None:
    print("None is falsy!")  # This prints!
\`\`\`

## Common Uses of None

### 1. Default Return Value
\`\`\`python
def greet(name):
    print(f"Hello, {name}!")
    # No return statement

result = greet("Alice")  # Prints: Hello, Alice!
print(result)            # None (implicit return)
\`\`\`

### 2. Default Parameter
\`\`\`python
def process(data=None):
    if data is None:
        data = []  # Create new list
    data.append("item")
    return data

# Safe! Each call gets fresh list
print(process())  # ['item']
print(process())  # ['item']
\`\`\`

### 3. Placeholder
\`\`\`python
# Will be set later
user = None
config = None

# After initialization
user = get_user()
config = load_config()
\`\`\`

## Checking for None

\`\`\`python
value = None

#  Best way: use 'is'
if value is None:
    print("Value is None")

#  Check for NOT None
if value is not None:
    print("Value has something")

#  Avoid: == works but 'is' is better
if value == None:  # Works but not Pythonic
    pass
\`\`\`

## Why Use 'is' for None?

\`\`\`python
# There's only ONE None object in Python
a = None
b = None
print(a is b)  # True (same object!)

# 'is' checks identity, '==' checks equality
# For None, identity is more appropriate
\`\`\`

## None in Functions

\`\`\`python
def find_user(user_id):
    users = {1: "Alice", 2: "Bob"}
    return users.get(user_id)  # Returns None if not found

user = find_user(999)
if user is None:
    print("User not found!")
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python None Demo</h2>
<div id="demo"></div>

<script>
let html = "<h3>None Comparisons</h3>";

const comparisons = [
  { expr: "None == 0", result: false, note: "None is not zero" },
  { expr: 'None == ""', result: false, note: "None is not empty string" },
  { expr: "None == []", result: false, note: "None is not empty list" },
  { expr: "None == False", result: false, note: "None is not False" },
  { expr: "bool(None)", result: false, note: "But None IS falsy!" }
];

html += "<table style='width: 100%; border-collapse: collapse;'>";
html += "<tr style='background: #3776AB; color: white;'>";
html += "<th style='padding: 10px;'>Expression</th>";
html += "<th style='padding: 10px;'>Result</th>";
html += "<th style='padding: 10px;'>Note</th></tr>";

comparisons.forEach((c, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background: " + bg + ";'>";
  html += "<td style='padding: 10px;'><code>" + c.expr + "</code></td>";
  html += "<td style='padding: 10px;'><b>" + c.result + "</b></td>";
  html += "<td style='padding: 10px;'>" + c.note + "</td></tr>";
});
html += "</table>";

html += "<h3>Checking for None</h3>";
html += "<div style='background: #e8f5e9; padding: 15px; border-radius: 8px;'>";
html += "<p><b> Best:</b> <code>if value is None:</code></p>";
html += "<p><b> Also good:</b> <code>if value is not None:</code></p>";
html += "<p><b> Avoid:</b> <code>if value == None:</code></p>";
html += "</div>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    // Operators
    'operators': {
      title: 'Python Operators',
      content: `# Python Operators 

Think of operators like **tools in a toolbox** - each one does a specific job with your data!

## Arithmetic Operators

\`\`\`python
a, b = 10, 3

print(a + b)   # 13 (Addition)
print(a - b)   # 7  (Subtraction)
print(a * b)   # 30 (Multiplication)
print(a / b)   # 3.333... (Division)
print(a // b)  # 3  (Floor Division)
print(a % b)   # 1  (Modulo/Remainder)
print(a ** b)  # 1000 (Exponentiation)
\`\`\`

## Comparison Operators

\`\`\`python
x, y = 5, 10

print(x == y)  # False (Equal)
print(x != y)  # True  (Not Equal)
print(x > y)   # False (Greater Than)
print(x < y)   # True  (Less Than)
print(x >= y)  # False (Greater or Equal)
print(x <= y)  # True  (Less or Equal)
\`\`\`

## Logical Operators

\`\`\`python
a, b = True, False

print(a and b)  # False (Both must be True)
print(a or b)   # True  (At least one True)
print(not a)    # False (Reverses value)
\`\`\`

## Assignment Operators

\`\`\`python
x = 10      # Assign
x += 5      # x = x + 5  15
x -= 3      # x = x - 3  12
x *= 2      # x = x * 2  24
x /= 4      # x = x / 4  6.0
x //= 2     # x = x // 2  3.0
x %= 2      # x = x % 2  1.0
x **= 3     # x = x ** 3  1.0
\`\`\`

## Identity Operators

\`\`\`python
a = [1, 2, 3]
b = [1, 2, 3]
c = a

print(a is c)      # True (same object)
print(a is b)      # False (different objects)
print(a is not b)  # True
print(a == b)      # True (same values)
\`\`\`

## Membership Operators

\`\`\`python
fruits = ["apple", "banana", "cherry"]

print("apple" in fruits)      # True
print("mango" in fruits)      # False
print("mango" not in fruits)  # True

# Works with strings too
print("ell" in "hello")       # True
\`\`\`

## Bitwise Operators

\`\`\`python
a, b = 5, 3  # 5 = 101, 3 = 011 in binary

print(a & b)   # 1  (AND: 001)
print(a | b)   # 7  (OR: 111)
print(a ^ b)   # 6  (XOR: 110)
print(~a)      # -6 (NOT)
print(a << 1)  # 10 (Left shift)
print(a >> 1)  # 2  (Right shift)
\`\`\`

## Operator Precedence

\`\`\`python
# PEMDAS-like: Parentheses, Exponents, Multiply/Divide, Add/Subtract
result = 2 + 3 * 4     # 14 (not 20!)
result = (2 + 3) * 4   # 20 (parentheses first)
result = 2 ** 3 ** 2   # 512 (right to left for **)
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Operators Demo</h2>
<div id="demo"></div>

<script>
const a = 10, b = 3;

const arithmetic = [
  { op: "+", name: "Addition", result: a + b },
  { op: "-", name: "Subtraction", result: a - b },
  { op: "*", name: "Multiplication", result: a * b },
  { op: "/", name: "Division", result: (a / b).toFixed(2) },
  { op: "//", name: "Floor Division", result: Math.floor(a / b) },
  { op: "%", name: "Modulo", result: a % b },
  { op: "**", name: "Exponentiation", result: Math.pow(a, b) }
];

let html = "<h3>Arithmetic Operators (a=10, b=3)</h3>";
html += "<table style='width: 100%; border-collapse: collapse;'>";
html += "<tr style='background: #3776AB; color: white;'>";
html += "<th style='padding: 10px;'>Operator</th>";
html += "<th style='padding: 10px;'>Name</th>";
html += "<th style='padding: 10px;'>a " + "op" + " b</th>";
html += "<th style='padding: 10px;'>Result</th></tr>";

arithmetic.forEach((op, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background: " + bg + ";'>";
  html += "<td style='padding: 10px; text-align: center;'><b>" + op.op + "</b></td>";
  html += "<td style='padding: 10px;'>" + op.name + "</td>";
  html += "<td style='padding: 10px;'><code>10 " + op.op + " 3</code></td>";
  html += "<td style='padding: 10px; font-weight: bold;'>" + op.result + "</td></tr>";
});
html += "</table>";

html += "<h3>Comparison & Logical</h3>";
html += "<div style='display: flex; gap: 20px;'>";
html += "<div style='flex: 1; background: #e3f2fd; padding: 15px; border-radius: 8px;'>";
html += "<b>Comparison:</b> ==, !=, >, <, >=, <=</div>";
html += "<div style='flex: 1; background: #e8f5e9; padding: 15px; border-radius: 8px;'>";
html += "<b>Logical:</b> and, or, not</div>";
html += "</div>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    // Data Structures - Tuples
    'tuples': {
      title: 'Python Tuples',
      content: `# Python Tuples 

Think of tuples like **sealed packages** - once you pack them, you can't change what's inside!

## Creating Tuples

\`\`\`python
# With parentheses
colors = ("red", "green", "blue")

# Without parentheses (tuple packing)
point = 10, 20, 30

# Single element (need comma!)
single = ("hello",)  #  Tuple
not_tuple = ("hello") #  Just a string!

# From list
my_tuple = tuple([1, 2, 3])
\`\`\`

## Tuples are Immutable!

\`\`\`python
colors = ("red", "green", "blue")

#  Cannot modify!
colors[0] = "yellow"  # TypeError!
colors.append("yellow")  # AttributeError!

#  Create new tuple instead
colors = ("yellow",) + colors[1:]
\`\`\`

## Accessing Elements

\`\`\`python
point = (10, 20, 30)

print(point[0])    # 10
print(point[-1])   # 30
print(point[1:3])  # (20, 30)
\`\`\`

## Tuple Unpacking

\`\`\`python
# Basic unpacking
point = (10, 20, 30)
x, y, z = point
print(x, y, z)  # 10 20 30

# Swap values elegantly
a, b = 1, 2
a, b = b, a  # Now a=2, b=1

# Extended unpacking
first, *rest = (1, 2, 3, 4, 5)
print(first)  # 1
print(rest)   # [2, 3, 4, 5]
\`\`\`

## Why Use Tuples?

### 1. Dictionary Keys
\`\`\`python
# Tuples can be dict keys (immutable)
locations = {
    (40.7, -74.0): "New York",
    (51.5, -0.1): "London"
}

# Lists cannot!
# {[40.7, -74.0]: "NYC"}  # TypeError!
\`\`\`

### 2. Function Returns
\`\`\`python
def get_stats(numbers):
    return min(numbers), max(numbers), sum(numbers)

low, high, total = get_stats([1, 2, 3, 4, 5])
\`\`\`

### 3. Performance
\`\`\`python
# Tuples are faster than lists
# Use when data won't change
DAYS = ("Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun")
\`\`\`

## Tuple Methods

\`\`\`python
numbers = (1, 2, 2, 3, 2)

print(numbers.count(2))   # 3 (how many 2s)
print(numbers.index(3))   # 3 (position of 3)
print(len(numbers))       # 5
print(2 in numbers)       # True
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Tuples Demo</h2>
<div id="demo"></div>

<script>
let html = "<h3>Tuple vs List</h3>";
html += "<table style='width: 100%; border-collapse: collapse;'>";
html += "<tr style='background: #3776AB; color: white;'>";
html += "<th style='padding: 10px;'>Feature</th>";
html += "<th style='padding: 10px;'>Tuple</th>";
html += "<th style='padding: 10px;'>List</th></tr>";

const comparisons = [
  ["Syntax", "(1, 2, 3)", "[1, 2, 3]"],
  ["Mutable?", " No", " Yes"],
  ["Dict Key?", " Yes", " No"],
  ["Performance", " Faster", " Slower"],
  ["Use Case", "Fixed data", "Changing data"]
];

comparisons.forEach((row, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background: " + bg + ";'>";
  row.forEach(cell => {
    html += "<td style='padding: 10px;'>" + cell + "</td>";
  });
  html += "</tr>";
});
html += "</table>";

html += "<h3>Tuple Unpacking</h3>";
html += "<pre style='background: #1a1a2e; color: #0f0; padding: 15px; border-radius: 8px;'>";
html += "point = (10, 20, 30)\\n";
html += "x, y, z = point\\n";
html += "# x=10, y=20, z=30\\n\\n";
html += "# Swap values:\\n";
html += "a, b = b, a</pre>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    // Sets
    'sets': {
      title: 'Python Sets',
      content: `# Python Sets 

Think of sets like a **bag of unique items** - no duplicates allowed!

## Creating Sets

\`\`\`python
# With curly braces
fruits = {"apple", "banana", "cherry"}

# Empty set (NOT {}, that's a dict!)
empty = set()

# From list (removes duplicates!)
numbers = set([1, 2, 2, 3, 3, 3])
print(numbers)  # {1, 2, 3}

# From string
chars = set("hello")
print(chars)  # {'h', 'e', 'l', 'o'}
\`\`\`

## Sets Remove Duplicates!

\`\`\`python
# Instant deduplication
emails = ["a@b.com", "c@d.com", "a@b.com", "e@f.com", "c@d.com"]
unique = set(emails)
print(unique)  # {'a@b.com', 'c@d.com', 'e@f.com'}
print(len(unique))  # 3
\`\`\`

## Modifying Sets

\`\`\`python
fruits = {"apple", "banana"}

# Add single item
fruits.add("cherry")

# Add multiple items
fruits.update(["date", "elderberry"])

# Remove (error if not found)
fruits.remove("apple")

# Discard (no error if not found)
fruits.discard("mango")  # Safe!

# Pop (remove random item)
item = fruits.pop()

# Clear all
fruits.clear()
\`\`\`

## Set Operations (Like Math!)

\`\`\`python
a = {1, 2, 3, 4}
b = {3, 4, 5, 6}

# Union (all items)
print(a | b)        # {1, 2, 3, 4, 5, 6}
print(a.union(b))   # Same

# Intersection (common items)
print(a & b)            # {3, 4}
print(a.intersection(b)) # Same

# Difference (in a but not b)
print(a - b)            # {1, 2}
print(a.difference(b))  # Same

# Symmetric Difference (in either, not both)
print(a ^ b)                      # {1, 2, 5, 6}
print(a.symmetric_difference(b))  # Same
\`\`\`

## Set Comparisons

\`\`\`python
a = {1, 2, 3}
b = {1, 2, 3, 4, 5}

print(a.issubset(b))    # True (a  b)
print(b.issuperset(a))  # True (b  a)
print(a.isdisjoint({4, 5}))  # True (no common)
\`\`\`

## Practical Example

\`\`\`python
# Find users who viewed but didn't buy
viewers = {"alice", "bob", "charlie", "david"}
buyers = {"bob", "david"}

# Who to target with discounts?
potential = viewers - buyers
print(potential)  # {'alice', 'charlie'}
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Sets Demo</h2>
<div id="demo"></div>

<script>
let html = "<h3>Set Operations</h3>";

const a = new Set([1, 2, 3, 4]);
const b = new Set([3, 4, 5, 6]);

const operations = [
  { name: "Union (a | b)", symbol: "", result: [1,2,3,4,5,6], desc: "All items" },
  { name: "Intersection (a & b)", symbol: "", result: [3,4], desc: "Common items" },
  { name: "Difference (a - b)", symbol: "", result: [1,2], desc: "In a, not b" },
  { name: "Symmetric (a ^ b)", symbol: "", result: [1,2,5,6], desc: "Either, not both" }
];

html += "<p><b>a = {1, 2, 3, 4}</b> &nbsp; <b>b = {3, 4, 5, 6}</b></p>";

html += "<table style='width: 100%; border-collapse: collapse;'>";
html += "<tr style='background: #3776AB; color: white;'>";
html += "<th style='padding: 10px;'>Operation</th>";
html += "<th style='padding: 10px;'>Math</th>";
html += "<th style='padding: 10px;'>Result</th></tr>";

operations.forEach((op, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background: " + bg + ";'>";
  html += "<td style='padding: 10px;'>" + op.name + "</td>";
  html += "<td style='padding: 10px; font-size: 20px;'>" + op.symbol + "</td>";
  html += "<td style='padding: 10px;'><b>{" + op.result.join(", ") + "}</b></td></tr>";
});
html += "</table>";

html += "<h3>Deduplication Magic </h3>";
html += "<pre style='background: #e8f5e9; padding: 15px; border-radius: 8px;'>";
html += "emails = ['a@b.com', 'c@d.com', 'a@b.com']\\n";
html += "unique = set(emails)\\n";
html += "# Result: {'a@b.com', 'c@d.com'}</pre>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    // Arrays
    'arrays': {
      title: 'Python Arrays',
      content: `# Python Arrays vs Lists 

Think of arrays like **specialized storage containers** - they only hold one type of item!

## Lists vs Arrays

\`\`\`python
# Lists - mixed types, flexible
my_list = [1, "hello", 3.14, True]

# Arrays - same type, more efficient
from array import array
my_array = array('i', [1, 2, 3, 4, 5])  # 'i' = integers only
\`\`\`

## When to Use Which?

| Feature | List | array | NumPy |
|---------|------|-------|-------|
| Mixed types |  |  |  |
| Memory efficient |  |  |  |
| Math operations |  |  |  |
| General use |  | Rare | Data science |

## Python array Module

\`\`\`python
from array import array

# Type codes:
# 'b' = signed char, 'B' = unsigned char
# 'i' = int, 'I' = unsigned int
# 'f' = float, 'd' = double

# Create array of integers
numbers = array('i', [1, 2, 3, 4, 5])

# Operations
numbers.append(6)
numbers.insert(0, 0)
numbers.pop()
numbers.remove(3)

print(numbers)  # array('i', [0, 1, 2, 4, 5])
\`\`\`

## NumPy Arrays (Recommended!)

\`\`\`python
import numpy as np

# Create arrays
arr = np.array([1, 2, 3, 4, 5])
zeros = np.zeros(5)        # [0, 0, 0, 0, 0]
ones = np.ones(5)          # [1, 1, 1, 1, 1]
range_arr = np.arange(10)  # [0, 1, 2, ..., 9]

# Math operations (vectorized!)
print(arr * 2)      # [2, 4, 6, 8, 10]
print(arr + 10)     # [11, 12, 13, 14, 15]
print(arr ** 2)     # [1, 4, 9, 16, 25]

# Aggregations
print(arr.sum())    # 15
print(arr.mean())   # 3.0
print(arr.max())    # 5
\`\`\`

## Performance Comparison

\`\`\`python
import numpy as np
import time

# Python list
py_list = list(range(1000000))
start = time.time()
result = [x * 2 for x in py_list]
print(f"List: {time.time() - start:.4f}s")

# NumPy array
np_arr = np.array(py_list)
start = time.time()
result = np_arr * 2
print(f"NumPy: {time.time() - start:.4f}s")

# NumPy is 50-100x faster!
\`\`\`

## Key Takeaway

For most cases:
- Use **lists** for general data
- Use **NumPy arrays** for numerical work
- Rarely need the \`array\` module
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Arrays Demo</h2>
<div id="demo"></div>

<script>
let html = "<h3>Lists vs Arrays Comparison</h3>";

html += "<table style='width: 100%; border-collapse: collapse;'>";
html += "<tr style='background: #3776AB; color: white;'>";
html += "<th style='padding: 10px;'>Feature</th>";
html += "<th style='padding: 10px;'>List</th>";
html += "<th style='padding: 10px;'>array</th>";
html += "<th style='padding: 10px;'>NumPy</th></tr>";

const features = [
  ["Mixed types", "", "", ""],
  ["Memory efficient", "", "", ""],
  ["Math operations", "", "", ""],
  ["Speed", "", "", ""],
  ["Use case", "General", "Rare", "Data Science"]
];

features.forEach((row, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background: " + bg + ";'>";
  row.forEach(cell => {
    html += "<td style='padding: 10px; text-align: center;'>" + cell + "</td>";
  });
  html += "</tr>";
});
html += "</table>";

html += "<h3>NumPy Vectorization Magic </h3>";
html += "<pre style='background: #1a1a2e; color: #0f0; padding: 15px; border-radius: 8px;'>";
html += "import numpy as np\\n\\n";
html += "arr = np.array([1, 2, 3, 4, 5])\\n";
html += "print(arr * 2)   # [2, 4, 6, 8, 10]\\n";
html += "print(arr ** 2)  # [1, 4, 9, 16, 25]\\n";
html += "print(arr.sum()) # 15</pre>";

html += "<p style='background: #fff3cd; padding: 10px; border-radius: 8px;'>";
html += " <b>Tip:</b> Use NumPy for numerical work - it's 50-100x faster!</p>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    // Iterators
    'iterators': {
      title: 'Python Iterators',
      content: `# Python Iterators 

Think of iterators like a **bookmark** - it remembers where you are and gives you the next item!

## What is an Iterator?

An iterator is an object that:
1. Has a \`__iter__()\` method (returns itself)
2. Has a \`__next__()\` method (returns next value)

\`\`\`python
# Lists are iterable, not iterators
my_list = [1, 2, 3]

# Get an iterator from the list
my_iter = iter(my_list)

# Get next values
print(next(my_iter))  # 1
print(next(my_iter))  # 2
print(next(my_iter))  # 3
print(next(my_iter))  # StopIteration error!
\`\`\`

## Iterable vs Iterator

\`\`\`python
# Iterable: Has __iter__() method
# Examples: list, tuple, dict, set, string

# Iterator: Has both __iter__() and __next__()
# Created from iterables using iter()

my_list = [1, 2, 3]    # Iterable
my_iter = iter(my_list) # Iterator
\`\`\`

## For Loop Under the Hood

\`\`\`python
# This for loop:
for item in [1, 2, 3]:
    print(item)

# Is actually doing this:
iterator = iter([1, 2, 3])
while True:
    try:
        item = next(iterator)
        print(item)
    except StopIteration:
        break
\`\`\`

## Creating Custom Iterators

\`\`\`python
class Countdown:
    def __init__(self, start):
        self.start = start
    
    def __iter__(self):
        return self
    
    def __next__(self):
        if self.start <= 0:
            raise StopIteration
        self.start -= 1
        return self.start + 1

# Usage
for num in Countdown(5):
    print(num)  # 5, 4, 3, 2, 1
\`\`\`

## Generator Functions (Easier!)

\`\`\`python
# Generators are simpler iterators
def countdown(start):
    while start > 0:
        yield start  # yield instead of return
        start -= 1

for num in countdown(5):
    print(num)  # 5, 4, 3, 2, 1

# Generator expressions
squares = (x**2 for x in range(5))
print(list(squares))  # [0, 1, 4, 9, 16]
\`\`\`

## Built-in Iterator Functions

\`\`\`python
# enumerate - add index
for i, val in enumerate(['a', 'b', 'c']):
    print(i, val)  # 0 a, 1 b, 2 c

# zip - combine iterables
names = ['Alice', 'Bob']
ages = [25, 30]
for name, age in zip(names, ages):
    print(name, age)

# map - apply function
nums = [1, 2, 3]
squares = map(lambda x: x**2, nums)
print(list(squares))  # [1, 4, 9]

# filter - keep matching items
evens = filter(lambda x: x % 2 == 0, [1,2,3,4,5])
print(list(evens))  # [2, 4]
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Iterators Demo</h2>
<div id="demo"></div>

<script>
let html = "<h3>Iterator Protocol</h3>";

html += "<div style='display: flex; gap: 20px;'>";
html += "<div style='flex: 1; background: #e3f2fd; padding: 15px; border-radius: 8px;'>";
html += "<h4>Iterable</h4>";
html += "<p>Has <code>__iter__()</code> method</p>";
html += "<p>Examples: list, tuple, dict, str</p>";
html += "</div>";

html += "<div style='flex: 1; background: #e8f5e9; padding: 15px; border-radius: 8px;'>";
html += "<h4>Iterator</h4>";
html += "<p>Has <code>__iter__()</code> AND <code>__next__()</code></p>";
html += "<p>Created with <code>iter()</code></p>";
html += "</div>";
html += "</div>";

html += "<h3>How For Loop Works</h3>";
html += "<pre style='background: #1a1a2e; color: #0f0; padding: 15px; border-radius: 8px;'>";
html += "my_list = [1, 2, 3]\\n";
html += "iterator = iter(my_list)\\n\\n";
html += "next(iterator)  #  1\\n";
html += "next(iterator)  #  2\\n";
html += "next(iterator)  #  3\\n";
html += "next(iterator)  #  StopIteration!</pre>";

html += "<h3>Generator (Easy Iterator!)</h3>";
html += "<pre style='background: #fff3e0; padding: 15px; border-radius: 8px;'>";
html += "def countdown(n):\\n";
html += "    while n > 0:\\n";
html += "        yield n  # Magic word!\\n";
html += "        n -= 1\\n\\n";
html += "for num in countdown(3):\\n";
html += "    print(num)  # 3, 2, 1</pre>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    // Range
    'range': {
      title: 'Python Range',
      content: `# Python Range 

Think of range() like a **number generator** - it creates sequences of numbers on demand!

## Basic Range

\`\`\`python
# range(stop) - 0 to stop-1
for i in range(5):
    print(i)  # 0, 1, 2, 3, 4

# range(start, stop) - start to stop-1
for i in range(2, 6):
    print(i)  # 2, 3, 4, 5

# range(start, stop, step)
for i in range(0, 10, 2):
    print(i)  # 0, 2, 4, 6, 8
\`\`\`

## Negative Step (Countdown!)

\`\`\`python
# Count down
for i in range(5, 0, -1):
    print(i)  # 5, 4, 3, 2, 1

# Reverse range
for i in range(10, 0, -2):
    print(i)  # 10, 8, 6, 4, 2
\`\`\`

## Range is Memory Efficient!

\`\`\`python
# Range doesn't store all numbers in memory
r = range(1000000000)  # Instant! No memory used

# It generates numbers on demand
print(r[0])        # 0
print(r[999999])   # 999999
print(len(r))      # 1000000000

# Convert to list (careful - uses memory!)
small = list(range(10))  # [0, 1, 2, ..., 9]
\`\`\`

## Range Features

\`\`\`python
r = range(0, 10, 2)  # 0, 2, 4, 6, 8

# Length
print(len(r))  # 5

# Membership test
print(4 in r)   # True
print(3 in r)   # False

# Indexing
print(r[0])     # 0
print(r[-1])    # 8
print(r[2:4])   # range(4, 8, 2)

# Comparison
print(range(5) == range(0, 5))  # True
\`\`\`

## Common Patterns

\`\`\`python
# Iterate with index
items = ['a', 'b', 'c']
for i in range(len(items)):
    print(i, items[i])
# Better: use enumerate!
for i, item in enumerate(items):
    print(i, item)

# Repeat N times
for _ in range(3):
    print("Hello!")  # Prints 3 times

# Create number lists
evens = list(range(0, 20, 2))
# [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]
\`\`\`

## Range vs List

\`\`\`python
# Range: memory efficient, immutable
r = range(1000000)
print(sys.getsizeof(r))  # ~48 bytes!

# List: uses memory, mutable
l = list(range(1000000))
print(sys.getsizeof(l))  # ~8 MB!
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Range Demo</h2>
<div id="demo"></div>

<script>
let html = "<h3>Range Patterns</h3>";

const patterns = [
  { code: "range(5)", result: [0,1,2,3,4], desc: "0 to 4" },
  { code: "range(2, 6)", result: [2,3,4,5], desc: "2 to 5" },
  { code: "range(0, 10, 2)", result: [0,2,4,6,8], desc: "Even numbers" },
  { code: "range(5, 0, -1)", result: [5,4,3,2,1], desc: "Countdown" }
];

html += "<table style='width: 100%; border-collapse: collapse;'>";
html += "<tr style='background: #3776AB; color: white;'>";
html += "<th style='padding: 10px;'>Code</th>";
html += "<th style='padding: 10px;'>Output</th>";
html += "<th style='padding: 10px;'>Description</th></tr>";

patterns.forEach((p, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background: " + bg + ";'>";
  html += "<td style='padding: 10px;'><code>" + p.code + "</code></td>";
  html += "<td style='padding: 10px;'>[" + p.result.join(", ") + "]</td>";
  html += "<td style='padding: 10px;'>" + p.desc + "</td></tr>";
});
html += "</table>";

html += "<h3>Memory Efficiency </h3>";
html += "<div style='display: flex; gap: 20px;'>";
html += "<div style='flex: 1; background: #e8f5e9; padding: 15px; border-radius: 8px;'>";
html += "<h4>range(1000000)</h4>";
html += "<p>~48 bytes </p>";
html += "<p>Numbers generated on demand</p>";
html += "</div>";
html += "<div style='flex: 1; background: #ffebee; padding: 15px; border-radius: 8px;'>";
html += "<h4>list(range(1000000))</h4>";
html += "<p>~8 MB </p>";
html += "<p>All numbers stored in memory</p>";
html += "</div>";
html += "</div>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    // Match (modern Python)
    'match': {
      title: 'Python Match',
      content: `# Python Match (Pattern Matching) 

Think of match like a **smart switch** - it finds the right pattern and takes action!

## Basic Match (Python 3.10+)

\`\`\`python
def http_status(status):
    match status:
        case 200:
            return "OK"
        case 404:
            return "Not Found"
        case 500:
            return "Server Error"
        case _:
            return "Unknown"

print(http_status(200))  # OK
print(http_status(999))  # Unknown
\`\`\`

## Match with Patterns

\`\`\`python
def describe(value):
    match value:
        case 0:
            return "Zero"
        case int():
            return f"Integer: {value}"
        case float():
            return f"Float: {value}"
        case str():
            return f"String: {value}"
        case _:
            return "Something else"

print(describe(42))      # Integer: 42
print(describe(3.14))    # Float: 3.14
print(describe("hello")) # String: hello
\`\`\`

## Match with Tuples

\`\`\`python
def describe_point(point):
    match point:
        case (0, 0):
            return "Origin"
        case (0, y):
            return f"On Y-axis at {y}"
        case (x, 0):
            return f"On X-axis at {x}"
        case (x, y):
            return f"Point at ({x}, {y})"
        case _:
            return "Not a point"

print(describe_point((0, 0)))   # Origin
print(describe_point((5, 0)))   # On X-axis at 5
print(describe_point((3, 4)))   # Point at (3, 4)
\`\`\`

## Match with Guards

\`\`\`python
def categorize_age(age):
    match age:
        case n if n < 0:
            return "Invalid"
        case n if n < 13:
            return "Child"
        case n if n < 20:
            return "Teen"
        case n if n < 60:
            return "Adult"
        case _:
            return "Senior"

print(categorize_age(8))   # Child
print(categorize_age(25))  # Adult
\`\`\`

## Match with OR Patterns

\`\`\`python
def weekend_or_weekday(day):
    match day.lower():
        case "saturday" | "sunday":
            return "Weekend! "
        case "monday" | "tuesday" | "wednesday" | "thursday" | "friday":
            return "Weekday "
        case _:
            return "Invalid day"

print(weekend_or_weekday("Saturday"))  # Weekend! 
\`\`\`

## Match with Dictionaries

\`\`\`python
def process_action(action):
    match action:
        case {"type": "click", "x": x, "y": y}:
            return f"Click at ({x}, {y})"
        case {"type": "scroll", "direction": dir}:
            return f"Scroll {dir}"
        case {"type": "keypress", "key": key}:
            return f"Pressed {key}"
        case _:
            return "Unknown action"

print(process_action({"type": "click", "x": 100, "y": 200}))
# Click at (100, 200)
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Match Demo</h2>
<div id="demo"></div>

<script>
let html = "<h3>Match vs If-Else</h3>";

html += "<div style='display: flex; gap: 20px;'>";

html += "<div style='flex: 1; background: #e3f2fd; padding: 15px; border-radius: 8px;'>";
html += "<h4>Old Way (if-elif)</h4>";
html += "<pre style='background: #1a1a2e; color: #0f0; padding: 10px; border-radius: 4px; font-size: 12px;'>";
html += "if status == 200:\\n";
html += "    return 'OK'\\n";
html += "elif status == 404:\\n";
html += "    return 'Not Found'\\n";
html += "else:\\n";
html += "    return 'Unknown'</pre>";
html += "</div>";

html += "<div style='flex: 1; background: #e8f5e9; padding: 15px; border-radius: 8px;'>";
html += "<h4>New Way (match)</h4>";
html += "<pre style='background: #1a1a2e; color: #0f0; padding: 10px; border-radius: 4px; font-size: 12px;'>";
html += "match status:\\n";
html += "    case 200:\\n";
html += "        return 'OK'\\n";
html += "    case 404:\\n";
html += "        return 'Not Found'\\n";
html += "    case _:\\n";
html += "        return 'Unknown'</pre>";
html += "</div>";

html += "</div>";

html += "<h3>Pattern Examples</h3>";
html += "<table style='width: 100%; border-collapse: collapse;'>";
html += "<tr style='background: #3776AB; color: white;'>";
html += "<th style='padding: 10px;'>Pattern</th>";
html += "<th style='padding: 10px;'>Matches</th></tr>";

const patterns = [
  ["case 42:", "Exact value 42"],
  ["case int():", "Any integer"],
  ["case (x, y):", "Any 2-tuple"],
  ["case [x, *rest]:", "List with first + rest"],
  ["case {'name': n}:", "Dict with 'name' key"],
  ["case _ :", "Anything (wildcard)"]
];

patterns.forEach((p, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background: " + bg + ";'>";
  html += "<td style='padding: 10px;'><code>" + p[0] + "</code></td>";
  html += "<td style='padding: 10px;'>" + p[1] + "</td></tr>";
});
html += "</table>";

html += "<p style='background: #fff3cd; padding: 10px; border-radius: 8px;'>";
html += " <b>Note:</b> match requires Python 3.10+</p>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    // While Loops
    'while': {
      title: 'Python While Loops',
      content: `# Python While Loops 

Think of while loops like a **record player** - it keeps spinning until you tell it to stop!

## Basic While Loop

\`\`\`python
count = 0
while count < 5:
    print(count)
    count += 1  # Don't forget this!
# Output: 0, 1, 2, 3, 4
\`\`\`

## While with Condition

\`\`\`python
# Keep asking until valid input
while True:
    answer = input("Enter 'yes' or 'no': ")
    if answer in ['yes', 'no']:
        break
    print("Invalid input, try again!")

print(f"You said: {answer}")
\`\`\`

## Break and Continue

\`\`\`python
# break - exit loop immediately
i = 0
while i < 10:
    if i == 5:
        break  # Exit at 5
    print(i)
    i += 1
# Output: 0, 1, 2, 3, 4

# continue - skip to next iteration
i = 0
while i < 5:
    i += 1
    if i == 3:
        continue  # Skip 3
    print(i)
# Output: 1, 2, 4, 5
\`\`\`

## While-Else

\`\`\`python
# else runs if loop completes normally (no break)
count = 0
while count < 3:
    print(count)
    count += 1
else:
    print("Loop completed!")
# Output: 0, 1, 2, Loop completed!

# With break - else doesn't run
count = 0
while count < 10:
    if count == 5:
        break
    count += 1
else:
    print("This won't print!")
\`\`\`

## Common Patterns

\`\`\`python
# Countdown
n = 5
while n > 0:
    print(n)
    n -= 1
print("Liftoff! ")

# Process until empty
items = ["a", "b", "c"]
while items:
    item = items.pop()
    print(f"Processing: {item}")

# Read until sentinel
numbers = []
while True:
    num = input("Enter number (or 'done'): ")
    if num == 'done':
        break
    numbers.append(int(num))
\`\`\`

##  Infinite Loop Warning!

\`\`\`python
#  Infinite loop - forgot to update condition!
while True:
    print("Forever!")  # Ctrl+C to stop!

#  Condition never becomes False
x = 10
while x > 0:
    print(x)
    # Forgot x -= 1!

#  Always ensure loop will end
x = 10
while x > 0:
    print(x)
    x -= 1  # This makes it end!
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python While Loops Demo</h2>
<div id="demo"></div>

<script>
let html = "<h3>While Loop Execution</h3>";

// Simulate while loop
let count = 0;
let iterations = [];
while (count < 5) {
  iterations.push({ step: count + 1, value: count, condition: count + " < 5  true" });
  count++;
}
iterations.push({ step: count + 1, value: count, condition: count + " < 5  false (stop)" });

html += "<table style='width: 100%; border-collapse: collapse;'>";
html += "<tr style='background: #3776AB; color: white;'>";
html += "<th style='padding: 10px;'>Step</th>";
html += "<th style='padding: 10px;'>count</th>";
html += "<th style='padding: 10px;'>Condition</th></tr>";

iterations.forEach((iter, i) => {
  const bg = i === iterations.length - 1 ? "#ffebee" : (i % 2 === 0 ? "#f8f9fa" : "white");
  html += "<tr style='background: " + bg + ";'>";
  html += "<td style='padding: 10px;'>" + iter.step + "</td>";
  html += "<td style='padding: 10px;'><b>" + iter.value + "</b></td>";
  html += "<td style='padding: 10px;'>" + iter.condition + "</td></tr>";
});
html += "</table>";

html += "<h3>Control Statements</h3>";
html += "<div style='display: flex; gap: 20px;'>";

html += "<div style='flex: 1; background: #ffebee; padding: 15px; border-radius: 8px;'>";
html += "<h4>break</h4>";
html += "<p>Exit loop immediately</p>";
html += "<code>if x == 5: break</code>";
html += "</div>";

html += "<div style='flex: 1; background: #fff3e0; padding: 15px; border-radius: 8px;'>";
html += "<h4>continue</h4>";
html += "<p>Skip to next iteration</p>";
html += "<code>if x == 3: continue</code>";
html += "</div>";

html += "<div style='flex: 1; background: #e8f5e9; padding: 15px; border-radius: 8px;'>";
html += "<h4>else</h4>";
html += "<p>Runs if no break</p>";
html += "<code>while x: ... else: ...</code>";
html += "</div>";

html += "</div>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    // Control Flow
    'if-else': {
      title: 'Python If...Else',
      content: `# Python If...Else 

Think of if-else like **traffic lights** - they tell your code which way to go!

## Basic If Statement

\`\`\`python
age = 18

if age >= 18:
    print("You can vote!")
\`\`\`

## If-Else

\`\`\`python
age = 16

if age >= 18:
    print("Adult")
else:
    print("Minor")
\`\`\`

## If-Elif-Else

\`\`\`python
score = 85

if score >= 90:
    grade = "A"
elif score >= 80:
    grade = "B"
elif score >= 70:
    grade = "C"
elif score >= 60:
    grade = "D"
else:
    grade = "F"

print(f"Grade: {grade}")
\`\`\`

## Comparison Operators

| Operator | Meaning |
|----------|---------|
| \`==\` | Equal |
| \`!=\` | Not equal |
| \`>\` | Greater than |
| \`<\` | Less than |
| \`>=\` | Greater or equal |
| \`<=\` | Less or equal |

## Logical Operators

\`\`\`python
x = 15

# and - both must be True
if x > 10 and x < 20:
    print("x is between 10 and 20")

# or - at least one True
if x < 5 or x > 10:
    print("x is out of 5-10 range")

# not - reverse
if not x == 10:
    print("x is not 10")
\`\`\`

## Shorthand (Ternary)

\`\`\`python
age = 20
status = "adult" if age >= 18 else "minor"

# Same as:
if age >= 18:
    status = "adult"
else:
    status = "minor"
\`\`\`

## Truthiness

\`\`\`python
# Falsy values (evaluate to False)
if not 0:       print("0 is falsy")
if not "":      print("Empty string is falsy")
if not []:      print("Empty list is falsy")
if not None:    print("None is falsy")

# Everything else is truthy
if [1, 2, 3]:   print("Non-empty list is truthy")
if "hello":     print("Non-empty string is truthy")
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python If...Else Demo</h2>
<div id="demo"></div>

<script>
function getGrade(score) {
  if (score >= 90) return "A";
  else if (score >= 80) return "B";
  else if (score >= 70) return "C";
  else if (score >= 60) return "D";
  else return "F";
}

const scores = [95, 85, 75, 65, 55];
let html = "<h3>Grade Calculator</h3>";
html += "<table style='width: 100%; border-collapse: collapse;'>";
html += "<tr style='background: #3776AB; color: white;'>";
html += "<th style='padding: 10px;'>Score</th>";
html += "<th style='padding: 10px;'>Grade</th></tr>";

scores.forEach((score, i) => {
  const grade = getGrade(score);
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background: " + bg + ";'>";
  html += "<td style='padding: 10px;'>" + score + "</td>";
  html += "<td style='padding: 10px; font-size: 24px;'>" + grade + "</td></tr>";
});
html += "</table>";

html += "<h3>Logical Operators</h3>";
html += "<div style='background: #e8f5e9; padding: 15px; border-radius: 8px;'>";
html += "<code>x > 10 <b>and</b> x < 20</code> - Both must be True<br>";
html += "<code>x < 5 <b>or</b> x > 10</code> - At least one True<br>";
html += "<code><b>not</b> x == 10</code> - Reverses the condition</div>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    'for': {
      title: 'Python For Loops',
      content: `# Python For Loops 

Think of for loops like going through a **playlist** - one song at a time!

## Basic For Loop

\`\`\`python
fruits = ["apple", "banana", "cherry"]

for fruit in fruits:
    print(fruit)
# apple
# banana
# cherry
\`\`\`

## Range Function

\`\`\`python
# 0 to 4
for i in range(5):
    print(i)  # 0, 1, 2, 3, 4

# 2 to 5
for i in range(2, 6):
    print(i)  # 2, 3, 4, 5

# Step by 2
for i in range(0, 10, 2):
    print(i)  # 0, 2, 4, 6, 8

# Countdown
for i in range(5, 0, -1):
    print(i)  # 5, 4, 3, 2, 1
\`\`\`

## Enumerate (Get Index + Value)

\`\`\`python
fruits = ["apple", "banana", "cherry"]

for index, fruit in enumerate(fruits):
    print(f"{index}: {fruit}")
# 0: apple
# 1: banana
# 2: cherry

# Start from 1
for i, fruit in enumerate(fruits, start=1):
    print(f"{i}. {fruit}")
\`\`\`

## Loop Through Dictionary

\`\`\`python
person = {"name": "Alice", "age": 25}

# Keys
for key in person:
    print(key)

# Values
for value in person.values():
    print(value)

# Both
for key, value in person.items():
    print(f"{key}: {value}")
\`\`\`

## Loop Control

\`\`\`python
# break - exit loop
for i in range(10):
    if i == 5:
        break
    print(i)  # 0, 1, 2, 3, 4

# continue - skip iteration
for i in range(5):
    if i == 2:
        continue
    print(i)  # 0, 1, 3, 4

# else - runs if no break
for i in range(3):
    print(i)
else:
    print("Done!")  # Runs!
\`\`\`

## List Comprehension

\`\`\`python
# Traditional
squares = []
for x in range(5):
    squares.append(x ** 2)

# Pythonic!
squares = [x ** 2 for x in range(5)]
# [0, 1, 4, 9, 16]

# With condition
evens = [x for x in range(10) if x % 2 == 0]
# [0, 2, 4, 6, 8]
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python For Loops Demo</h2>
<div id="demo"></div>

<script>
let html = "<h3>Loop Examples</h3>";

// Basic loop
html += "<div style='background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 8px;'>";
html += "<b>Basic For Loop:</b><br>";
const fruits = ["apple", "banana", "cherry"];
fruits.forEach(f => {
  html += " " + f + "<br>";
});
html += "</div>";

// Range
html += "<div style='background: #e3f2fd; padding: 15px; margin: 10px 0; border-radius: 8px;'>";
html += "<b>range(5):</b> ";
for (let i = 0; i < 5; i++) {
  html += i + " ";
}
html += "</div>";

// Enumerate
html += "<div style='background: #e8f5e9; padding: 15px; margin: 10px 0; border-radius: 8px;'>";
html += "<b>enumerate(fruits):</b><br>";
fruits.forEach((f, i) => {
  html += i + ": " + f + "<br>";
});
html += "</div>";

// List comprehension
html += "<div style='background: #fff3e0; padding: 15px; margin: 10px 0; border-radius: 8px;'>";
html += "<b>List Comprehension:</b><br>";
html += "<code>[x ** 2 for x in range(5)]</code><br>";
html += "Result: [";
for (let i = 0; i < 5; i++) {
  html += (i * i);
  if (i < 4) html += ", ";
}
html += "]</div>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    // Functions
    'functions': {
      title: 'Python Functions',
      content: `# Python Functions 

Think of functions like **recipes** - write once, use many times!

## Basic Function

\`\`\`python
def greet(name):
    """Return a greeting message."""
    return f"Hello, {name}!"

# Call the function
message = greet("Alice")
print(message)  # Hello, Alice!
\`\`\`

## Parameters and Arguments

\`\`\`python
# Default parameter
def greet(name="World"):
    return f"Hello, {name}!"

print(greet())        # Hello, World!
print(greet("Alice")) # Hello, Alice!

# Multiple parameters
def add(a, b):
    return a + b

# Keyword arguments
def info(name, age, city):
    return f"{name}, {age}, from {city}"

print(info(name="Alice", age=25, city="NYC"))
print(info(age=25, name="Alice", city="NYC"))  # Order doesn't matter!
\`\`\`

## *args and **kwargs

\`\`\`python
# Variable positional arguments
def add_all(*args):
    return sum(args)

print(add_all(1, 2, 3, 4))  # 10

# Variable keyword arguments
def show_info(**kwargs):
    for key, value in kwargs.items():
        print(f"{key}: {value}")

show_info(name="Alice", age=25, city="NYC")

# Combined
def func(a, b, *args, **kwargs):
    print(a, b, args, kwargs)
\`\`\`

## Return Values

\`\`\`python
# Single return
def square(x):
    return x ** 2

# Multiple returns
def min_max(numbers):
    return min(numbers), max(numbers)

low, high = min_max([1, 5, 3, 9, 2])
print(low, high)  # 1 9

# No return = None
def say_hi():
    print("Hi!")

result = say_hi()  # Prints "Hi!"
print(result)      # None
\`\`\`

## Lambda Functions

\`\`\`python
# Anonymous functions
square = lambda x: x ** 2
print(square(5))  # 25

# Useful with map, filter
numbers = [1, 2, 3, 4]
squared = list(map(lambda x: x**2, numbers))
evens = list(filter(lambda x: x%2==0, numbers))
\`\`\`

## Scope

\`\`\`python
x = "global"

def func():
    x = "local"  # New local variable
    print(x)     # local

func()
print(x)  # global (unchanged)

# To modify global:
def modify_global():
    global x
    x = "modified"
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Functions Demo</h2>
<div id="demo"></div>

<script>
// Simulating Python functions

function greet(name = "World") {
  return "Hello, " + name + "!";
}

function addAll(...args) {
  return args.reduce((a, b) => a + b, 0);
}

function minMax(numbers) {
  return [Math.min(...numbers), Math.max(...numbers)];
}

let html = "<h3>Function Examples</h3>";

// Greet function
html += "<div style='background: #e8f5e9; padding: 15px; margin: 10px 0; border-radius: 8px;'>";
html += "<code>greet()</code>  " + greet() + "<br>";
html += "<code>greet('Alice')</code>  " + greet('Alice');
html += "</div>";

// addAll
html += "<div style='background: #e3f2fd; padding: 15px; margin: 10px 0; border-radius: 8px;'>";
html += "<code>add_all(1, 2, 3, 4)</code>  " + addAll(1, 2, 3, 4);
html += "</div>";

// minMax
const nums = [1, 5, 3, 9, 2];
const [low, high] = minMax(nums);
html += "<div style='background: #fff3e0; padding: 15px; margin: 10px 0; border-radius: 8px;'>";
html += "<code>min_max([1, 5, 3, 9, 2])</code>  (" + low + ", " + high + ")";
html += "</div>";

// Lambda
html += "<div style='background: #fce4ec; padding: 15px; margin: 10px 0; border-radius: 8px;'>";
html += "<b>Lambda:</b> <code>lambda x: x ** 2</code><br>";
html += "square(5)  " + (5 ** 2);
html += "</div>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    // OOP
    'classes': {
      title: 'Python Classes & Objects',
      content: `# Python Classes & Objects 

Think of a class like a **blueprint** for a house - you define it once, then build many houses from it!

## Basic Class

\`\`\`python
class Dog:
    def __init__(self, name, age):
        self.name = name
        self.age = age
    
    def bark(self):
        return f"{self.name} says Woof!"
    
    def info(self):
        return f"{self.name} is {self.age} years old"

# Create objects (instances)
buddy = Dog("Buddy", 3)
max = Dog("Max", 5)

print(buddy.bark())  # Buddy says Woof!
print(max.info())    # Max is 5 years old
\`\`\`

## The __init__ Method

\`\`\`python
class Person:
    def __init__(self, name, age=0):
        # self = the instance being created
        self.name = name      # Instance attribute
        self.age = age
        self.id = id(self)    # Can use other functions

alice = Person("Alice", 25)
bob = Person("Bob")  # age defaults to 0
\`\`\`

## Class vs Instance Attributes

\`\`\`python
class Counter:
    count = 0  # Class attribute (shared)
    
    def __init__(self, name):
        self.name = name  # Instance attribute
        Counter.count += 1

c1 = Counter("first")
c2 = Counter("second")
print(Counter.count)  # 2
\`\`\`

## Methods

\`\`\`python
class MyClass:
    class_var = "shared"
    
    def __init__(self, value):
        self.value = value
    
    # Instance method
    def instance_method(self):
        return f"Instance: {self.value}"
    
    # Class method
    @classmethod
    def class_method(cls):
        return f"Class var: {cls.class_var}"
    
    # Static method
    @staticmethod
    def static_method():
        return "I'm static!"
\`\`\`

## Special Methods (Dunder)

\`\`\`python
class Book:
    def __init__(self, title, pages):
        self.title = title
        self.pages = pages
    
    def __str__(self):
        return f"{self.title}"
    
    def __repr__(self):
        return f"Book('{self.title}', {self.pages})"
    
    def __len__(self):
        return self.pages
    
    def __eq__(self, other):
        return self.title == other.title

book = Book("Python 101", 300)
print(book)       # Python 101 (__str__)
print(repr(book)) # Book('Python 101', 300)
print(len(book))  # 300
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Classes Demo</h2>
<div id="demo"></div>

<script>
// Simulating Python class

class Dog {
  constructor(name, age) {
    this.name = name;
    this.age = age;
  }
  
  bark() {
    return this.name + " says Woof!";
  }
  
  info() {
    return this.name + " is " + this.age + " years old";
  }
}

const buddy = new Dog("Buddy", 3);
const max = new Dog("Max", 5);

let html = "<h3>Class: Dog</h3>";
html += "<pre style='background: #1a1a2e; color: #0f0; padding: 15px; border-radius: 8px;'>";
html += "class Dog:\\n";
html += "    def __init__(self, name, age):\\n";
html += "        self.name = name\\n";
html += "        self.age = age\\n";
html += "    \\n";
html += "    def bark(self):\\n";
html += "        return f'{self.name} says Woof!'</pre>";

html += "<h3>Objects Created</h3>";
html += "<div style='display: flex; gap: 20px;'>";

[buddy, max].forEach(dog => {
  html += "<div style='background: #e8f5e9; padding: 20px; border-radius: 8px; flex: 1;'>";
  html += "<h4> " + dog.name + "</h4>";
  html += "<p>" + dog.info() + "</p>";
  html += "<p><b>" + dog.bark() + "</b></p>";
  html += "</div>";
});

html += "</div>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    'init': {
      title: 'Python __init__',
      content: `# Python __init__ 

Think of __init__ as the **birth certificate** of an object - it sets up everything when an object is born!

## What is __init__?

\`\`\`python
class Person:
    def __init__(self, name, age):
        # This runs when you create an object
        self.name = name  # Store name
        self.age = age    # Store age
        print(f"New person created: {name}")

# Creating objects triggers __init__
alice = Person("Alice", 25)  # Prints: New person created: Alice
bob = Person("Bob", 30)      # Prints: New person created: Bob
\`\`\`

## Default Values

\`\`\`python
class Dog:
    def __init__(self, name, breed="Unknown"):
        self.name = name
        self.breed = breed
        self.tricks = []  # Empty list for each dog

dog1 = Dog("Buddy")           # breed = "Unknown"
dog2 = Dog("Max", "Labrador") # breed = "Labrador"
\`\`\`

## Setting Up Object State

\`\`\`python
class BankAccount:
    def __init__(self, owner, initial_balance=0):
        self.owner = owner
        self.balance = initial_balance
        self.transactions = []
        self.account_number = self._generate_number()
        self.created_at = datetime.now()
    
    def _generate_number(self):
        return f"ACC-{random.randint(10000, 99999)}"

account = BankAccount("Alice", 1000)
print(account.account_number)  # ACC-12345
\`\`\`

## Validation in __init__

\`\`\`python
class Age:
    def __init__(self, value):
        if value < 0:
            raise ValueError("Age cannot be negative")
        if value > 150:
            raise ValueError("Age seems unrealistic")
        self.value = value

age = Age(25)   # Works
age = Age(-5)   # ValueError!
\`\`\`

## Key Points

- __init__ is called automatically when creating objects
- First parameter is always \`self\`
- Set up all instance attributes here
- Can have default parameter values
- Can validate input
- Returns nothing (implicitly None)
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python __init__ Demo</h2>
<div id="demo"></div>
<script>
class Person {
  constructor(name, age) {
    this.name = name;
    this.age = age;
    this.createdAt = new Date();
  }
  greet() {
    return "Hello, I'm " + this.name + "!";
  }
}

const alice = new Person("Alice", 25);
const bob = new Person("Bob", 30);

let html = "<h3>Objects Created</h3>";
[alice, bob].forEach(p => {
  html += "<div style='background:#e8f5e9;padding:15px;margin:10px 0;border-radius:8px;'>";
  html += "<b>" + p.name + "</b> (age " + p.age + ")<br>";
  html += p.greet();
  html += "</div>";
});

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'self': {
      title: 'Python self',
      content: `# Python self 

Think of \`self\` as a **mirror** - it lets the object see and work with itself!

## What is self?

\`\`\`python
class Dog:
    def __init__(self, name):
        self.name = name  # self = this object
    
    def bark(self):
        # self lets us access our own name
        return f"{self.name} says Woof!"

buddy = Dog("Buddy")
print(buddy.bark())  # Buddy says Woof!
\`\`\`

## Why Do We Need self?

\`\`\`python
class Counter:
    def __init__(self):
        self.count = 0
    
    def increment(self):
        self.count += 1  # Access OUR count
        return self.count

# Two separate counters
c1 = Counter()
c2 = Counter()

c1.increment()  # c1.count = 1
c1.increment()  # c1.count = 2
c2.increment()  # c2.count = 1 (separate!)
\`\`\`

## self is Automatic

\`\`\`python
class Person:
    def greet(self, other_name):
        return f"Hi {other_name}, I'm {self.name}"

alice = Person()
alice.name = "Alice"

# Python passes 'alice' as 'self' automatically
alice.greet("Bob")  # Hi Bob, I'm Alice
# Same as: Person.greet(alice, "Bob")
\`\`\`

## Method Chaining with self

\`\`\`python
class Builder:
    def __init__(self):
        self.parts = []
    
    def add(self, part):
        self.parts.append(part)
        return self  # Return self for chaining!
    
    def build(self):
        return " ".join(self.parts)

result = Builder().add("Hello").add("World").build()
print(result)  # Hello World
\`\`\`

## Key Points

- \`self\` = the current instance
- Always first parameter in instance methods
- Python passes it automatically
- Can be named differently (but don't!)
- Not a keyword, just a convention
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python self Demo</h2>
<div id="demo"></div>
<script>
class Counter {
  constructor() { this.count = 0; }
  increment() { this.count++; return this; }
  decrement() { this.count--; return this; }
  getCount() { return this.count; }
}

const c1 = new Counter();
const c2 = new Counter();

c1.increment().increment().increment();
c2.increment();

let html = "<h3>Two Separate Counters</h3>";
html += "<div style='display:flex;gap:20px;'>";
html += "<div style='background:#e3f2fd;padding:20px;border-radius:8px;flex:1;text-align:center;'>";
html += "<h4>Counter 1</h4><p style='font-size:48px;'>" + c1.getCount() + "</p></div>";
html += "<div style='background:#e8f5e9;padding:20px;border-radius:8px;flex:1;text-align:center;'>";
html += "<h4>Counter 2</h4><p style='font-size:48px;'>" + c2.getCount() + "</p></div>";
html += "</div>";
html += "<p style='margin-top:20px;'>Each counter tracks its own count using <code>self</code>!</p>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'properties': {
      title: 'Python Properties',
      content: `# Python Properties 

Think of properties as **smart mailboxes** - they can check what goes in and out!

## Basic Property

\`\`\`python
class Circle:
    def __init__(self, radius):
        self._radius = radius  # "private" with _
    
    @property
    def radius(self):
        """Get the radius"""
        return self._radius
    
    @radius.setter
    def radius(self, value):
        """Set the radius with validation"""
        if value < 0:
            raise ValueError("Radius cannot be negative")
        self._radius = value

circle = Circle(5)
print(circle.radius)  # 5 (uses getter)
circle.radius = 10    # Uses setter
circle.radius = -1    # ValueError!
\`\`\`

## Computed Properties

\`\`\`python
class Rectangle:
    def __init__(self, width, height):
        self.width = width
        self.height = height
    
    @property
    def area(self):
        """Computed from width and height"""
        return self.width * self.height
    
    @property
    def perimeter(self):
        return 2 * (self.width + self.height)

rect = Rectangle(4, 3)
print(rect.area)       # 12
print(rect.perimeter)  # 14
\`\`\`

## Read-Only Properties

\`\`\`python
class Person:
    def __init__(self, first, last):
        self.first = first
        self.last = last
    
    @property
    def full_name(self):
        return f"{self.first} {self.last}"
    
    # No setter = read-only!

person = Person("Alice", "Smith")
print(person.full_name)    # Alice Smith
person.full_name = "Bob"   # AttributeError!
\`\`\`

## Delete Property

\`\`\`python
class Data:
    def __init__(self, value):
        self._value = value
    
    @property
    def value(self):
        return self._value
    
    @value.deleter
    def value(self):
        print("Deleting value...")
        del self._value

d = Data(42)
del d.value  # Prints: Deleting value...
\`\`\`

## Why Use Properties?

1. **Validation** - Check values before setting
2. **Computed values** - Calculate on the fly
3. **Encapsulation** - Control access
4. **Compatibility** - Change implementation without changing interface
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python Properties Demo</h2>
<div id="demo"></div>
<script>
class Rectangle {
  constructor(width, height) {
    this._width = width;
    this._height = height;
  }
  get width() { return this._width; }
  set width(v) { if (v > 0) this._width = v; }
  get height() { return this._height; }
  set height(v) { if (v > 0) this._height = v; }
  get area() { return this._width * this._height; }
  get perimeter() { return 2 * (this._width + this._height); }
}

const rect = new Rectangle(4, 3);

let html = "<h3>Rectangle Properties</h3>";
html += "<div style='background:#e8f5e9;padding:20px;border-radius:8px;'>";
html += "<p><b>Width:</b> " + rect.width + "</p>";
html += "<p><b>Height:</b> " + rect.height + "</p>";
html += "<p><b>Area:</b> " + rect.area + " (computed)</p>";
html += "<p><b>Perimeter:</b> " + rect.perimeter + " (computed)</p>";
html += "</div>";

rect.width = 10;
html += "<h3>After Setting width = 10</h3>";
html += "<p><b>Area:</b> " + rect.area + " (auto-updates!)</p>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'inheritance': {
      title: 'Python Inheritance',
      content: `# Python Inheritance 

Think of inheritance like **family traits** - children inherit features from parents but can also have their own!

## Basic Inheritance

\`\`\`python
# Parent class
class Animal:
    def __init__(self, name):
        self.name = name
    
    def speak(self):
        return "Some sound"

# Child class
class Dog(Animal):
    def speak(self):
        return f"{self.name} says Woof!"

class Cat(Animal):
    def speak(self):
        return f"{self.name} says Meow!"

dog = Dog("Buddy")
cat = Cat("Whiskers")

print(dog.speak())  # Buddy says Woof!
print(cat.speak())  # Whiskers says Meow!
\`\`\`

## The super() Function

\`\`\`python
class Animal:
    def __init__(self, name, age):
        self.name = name
        self.age = age

class Dog(Animal):
    def __init__(self, name, age, breed):
        super().__init__(name, age)  # Call parent
        self.breed = breed  # Add new attribute

dog = Dog("Buddy", 3, "Golden Retriever")
print(dog.name, dog.age, dog.breed)
\`\`\`

## Multiple Inheritance

\`\`\`python
class Flyable:
    def fly(self):
        return "Flying!"

class Swimmable:
    def swim(self):
        return "Swimming!"

class Duck(Flyable, Swimmable):
    def quack(self):
        return "Quack!"

duck = Duck()
print(duck.fly())   # Flying!
print(duck.swim())  # Swimming!
print(duck.quack()) # Quack!
\`\`\`

## Method Resolution Order (MRO)

\`\`\`python
class A:
    def method(self):
        return "A"

class B(A):
    def method(self):
        return "B"

class C(A):
    def method(self):
        return "C"

class D(B, C):
    pass

d = D()
print(d.method())  # "B"
print(D.__mro__)   # (D, B, C, A, object)
\`\`\`

## isinstance and issubclass

\`\`\`python
dog = Dog("Buddy", 3, "Lab")

print(isinstance(dog, Dog))     # True
print(isinstance(dog, Animal))  # True
print(issubclass(Dog, Animal))  # True
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Inheritance Demo</h2>
<div id="demo"></div>

<script>
// Simulating inheritance

class Animal {
  constructor(name) {
    this.name = name;
  }
  speak() { return "Some sound"; }
}

class Dog extends Animal {
  speak() { return this.name + " says Woof!"; }
}

class Cat extends Animal {
  speak() { return this.name + " says Meow!"; }
}

const dog = new Dog("Buddy");
const cat = new Cat("Whiskers");

let html = "<h3>Inheritance Hierarchy</h3>";
html += "<div style='text-align: center;'>";
html += "<div style='display: inline-block; background: #3776AB; color: white; padding: 15px 30px; border-radius: 8px;'>Animal</div>";
html += "<br><span style='font-size: 24px;'>  </span><br>";
html += "<div style='display: inline-flex; gap: 20px;'>";
html += "<div style='background: #f8d7da; padding: 15px 30px; border-radius: 8px;'>Dog </div>";
html += "<div style='background: #d4edda; padding: 15px 30px; border-radius: 8px;'>Cat </div>";
html += "</div></div>";

html += "<h3>Method Override</h3>";
html += "<table style='width: 100%; border-collapse: collapse;'>";
html += "<tr style='background: #3776AB; color: white;'>";
html += "<th style='padding: 10px;'>Object</th>";
html += "<th style='padding: 10px;'>.speak() Output</th></tr>";

html += "<tr><td style='padding: 10px;'>dog = Dog('Buddy')</td>";
html += "<td style='padding: 10px;'><b>" + dog.speak() + "</b></td></tr>";

html += "<tr style='background: #f8f9fa;'><td style='padding: 10px;'>cat = Cat('Whiskers')</td>";
html += "<td style='padding: 10px;'><b>" + cat.speak() + "</b></td></tr>";

html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    'polymorphism': {
      title: 'Python Polymorphism',
      content: `# Python Polymorphism 

Think of polymorphism as **shape-shifting** - same name, different behaviors!

## What is Polymorphism?

"Poly" = many, "morph" = form. Same method name, different behaviors.

\`\`\`python
class Dog:
    def speak(self):
        return "Woof!"

class Cat:
    def speak(self):
        return "Meow!"

class Duck:
    def speak(self):
        return "Quack!"

# Same method, different behavior
animals = [Dog(), Cat(), Duck()]
for animal in animals:
    print(animal.speak())
# Woof! Meow! Quack!
\`\`\`

## Duck Typing

"If it walks like a duck and quacks like a duck..."

\`\`\`python
class Car:
    def move(self):
        return "Driving on road"

class Boat:
    def move(self):
        return "Sailing on water"

class Plane:
    def move(self):
        return "Flying in sky"

def travel(vehicle):
    # Works with ANY object that has move()
    print(vehicle.move())

travel(Car())   # Driving on road
travel(Boat())  # Sailing on water
travel(Plane()) # Flying in sky
\`\`\`

## Function Polymorphism

\`\`\`python
# len() works on many types
print(len("hello"))      # 5 (string)
print(len([1, 2, 3]))    # 3 (list)
print(len({"a": 1}))     # 1 (dict)

# + operator
print(2 + 3)             # 5 (numbers)
print("Hello " + "World") # Hello World (strings)
print([1, 2] + [3, 4])   # [1, 2, 3, 4] (lists)
\`\`\`

## Method Overriding

\`\`\`python
class Shape:
    def area(self):
        return 0

class Rectangle(Shape):
    def __init__(self, width, height):
        self.width = width
        self.height = height
    
    def area(self):  # Override parent
        return self.width * self.height

class Circle(Shape):
    def __init__(self, radius):
        self.radius = radius
    
    def area(self):  # Override parent
        return 3.14159 * self.radius ** 2

shapes = [Rectangle(4, 5), Circle(3)]
for shape in shapes:
    print(shape.area())  # 20, 28.27...
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python Polymorphism Demo</h2>
<div id="demo"></div>
<script>
class Shape {
  area() { return 0; }
  name() { return "Shape"; }
}
class Rectangle extends Shape {
  constructor(w, h) { super(); this.w = w; this.h = h; }
  area() { return this.w * this.h; }
  name() { return "Rectangle"; }
}
class Circle extends Shape {
  constructor(r) { super(); this.r = r; }
  area() { return Math.PI * this.r ** 2; }
  name() { return "Circle"; }
}

const shapes = [new Rectangle(4, 5), new Circle(3)];

let html = "<h3>Same Method, Different Results</h3>";
html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Shape</th><th>.area()</th></tr>";

shapes.forEach((s, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'>" + s.name() + "</td>";
  html += "<td style='padding:10px;'><b>" + s.area().toFixed(2) + "</b></td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'encapsulation': {
      title: 'Python Encapsulation',
      content: `# Python Encapsulation 

Think of encapsulation as a **safe** - protecting valuable data from unauthorized access!

## Naming Conventions

\`\`\`python
class BankAccount:
    def __init__(self, owner, balance):
        self.owner = owner        # Public
        self._balance = balance   # Protected (convention)
        self.__pin = "1234"       # Private (name mangling)
\`\`\`

## Public Members

\`\`\`python
class Person:
    def __init__(self, name):
        self.name = name  # Anyone can access

person = Person("Alice")
print(person.name)  # Alice
person.name = "Bob" # Can modify freely
\`\`\`

## Protected Members (_single underscore)

\`\`\`python
class Account:
    def __init__(self, balance):
        self._balance = balance  # "Please don't touch"
    
    def deposit(self, amount):
        self._balance += amount
    
    def get_balance(self):
        return self._balance

acc = Account(1000)
print(acc._balance)  # Works, but discouraged
\`\`\`

## Private Members (__double underscore)

\`\`\`python
class BankAccount:
    def __init__(self):
        self.__balance = 0  # Truly private
        self.__pin = "1234"
    
    def deposit(self, amount, pin):
        if pin == self.__pin:
            self.__balance += amount
        else:
            raise ValueError("Invalid PIN")
    
    def get_balance(self, pin):
        if pin == self.__pin:
            return self.__balance
        raise ValueError("Invalid PIN")

acc = BankAccount()
# acc.__balance  # AttributeError!
# acc.__pin      # AttributeError!

# Still accessible via name mangling (but don't!)
# acc._BankAccount__balance
\`\`\`

## Getters and Setters

\`\`\`python
class Temperature:
    def __init__(self, celsius):
        self._celsius = celsius
    
    @property
    def celsius(self):
        return self._celsius
    
    @celsius.setter
    def celsius(self, value):
        if value < -273.15:
            raise ValueError("Below absolute zero!")
        self._celsius = value
    
    @property
    def fahrenheit(self):
        return self._celsius * 9/5 + 32

temp = Temperature(25)
print(temp.celsius)     # 25
print(temp.fahrenheit)  # 77
temp.celsius = -300     # ValueError!
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python Encapsulation Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Naming Convention Levels</h3>";
html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Prefix</th><th>Access</th><th>Meaning</th></tr>";

const levels = [
  { prefix: "name", access: "Public", meaning: "Anyone can use" },
  { prefix: "_name", access: "Protected", meaning: "Internal use (convention)" },
  { prefix: "__name", access: "Private", meaning: "Name mangled, hard to access" }
];

levels.forEach((l, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + l.prefix + "</code></td>";
  html += "<td style='padding:10px;'>" + l.access + "</td>";
  html += "<td style='padding:10px;'>" + l.meaning + "</td></tr>";
});
html += "</table>";

html += "<h3>Best Practice: Use Properties</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "@property\\n";
html += "def balance(self):\\n";
html += "    return self._balance\\n\\n";
html += "@balance.setter\\n";
html += "def balance(self, value):\\n";
html += "    if value >= 0:\\n";
html += "        self._balance = value</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'decorators': {
      title: 'Python Decorators',
      content: `# Python Decorators 

Think of decorators as **gift wrapping** - they add features to functions without changing them!

## Basic Decorator

\`\`\`python
def my_decorator(func):
    def wrapper():
        print("Before the function")
        func()
        print("After the function")
    return wrapper

@my_decorator
def say_hello():
    print("Hello!")

say_hello()
# Before the function
# Hello!
# After the function
\`\`\`

## Real-World Example: Timer

\`\`\`python
import time

def timer(func):
    def wrapper(*args, **kwargs):
        start = time.time()
        result = func(*args, **kwargs)
        end = time.time()
        print(f"{func.__name__} took {end-start:.2f}s")
        return result
    return wrapper

@timer
def slow_function():
    time.sleep(1)

slow_function()  # slow_function took 1.00s
\`\`\`

## Decorator with Arguments

\`\`\`python
def repeat(times):
    def decorator(func):
        def wrapper(*args, **kwargs):
            for _ in range(times):
                func(*args, **kwargs)
        return wrapper
    return decorator

@repeat(3)
def greet(name):
    print(f"Hello, {name}!")

greet("Alice")
# Hello, Alice!
# Hello, Alice!
# Hello, Alice!
\`\`\`

## Built-in Decorators

\`\`\`python
class MyClass:
    class_var = "shared"
    
    def __init__(self, value):
        self.value = value
    
    @property
    def doubled(self):
        return self.value * 2
    
    @staticmethod
    def utility():
        return "I don't need self"
    
    @classmethod
    def create_default(cls):
        return cls(0)
\`\`\`

## Stacking Decorators

\`\`\`python
@decorator1
@decorator2
@decorator3
def my_function():
    pass

# Same as:
my_function = decorator1(decorator2(decorator3(my_function)))
\`\`\`

## functools.wraps

\`\`\`python
from functools import wraps

def my_decorator(func):
    @wraps(func)  # Preserves function metadata
    def wrapper(*args, **kwargs):
        return func(*args, **kwargs)
    return wrapper
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python Decorators Demo</h2>
<div id="demo"></div>
<script>
// Decorator simulation
function timer(fn) {
  return function(...args) {
    const start = performance.now();
    const result = fn(...args);
    const end = performance.now();
    console.log(fn.name + " took " + (end - start).toFixed(2) + "ms");
    return result;
  };
}

function slowSum(n) {
  let sum = 0;
  for (let i = 0; i < n; i++) sum += i;
  return sum;
}

const timedSum = timer(slowSum);

let html = "<h3>Common Decorators</h3>";
const decorators = [
  { name: "@property", use: "Create getter/setter" },
  { name: "@staticmethod", use: "Method without self" },
  { name: "@classmethod", use: "Method with cls" },
  { name: "@functools.lru_cache", use: "Cache results" },
  { name: "@dataclass", use: "Auto __init__, __repr__" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Decorator</th><th>Purpose</th></tr>";

decorators.forEach((d, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + d.name + "</code></td>";
  html += "<td style='padding:10px;'>" + d.use + "</td></tr>";
});
html += "</table>";

html += "<h3>Timer Decorator Example</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "@timer\\n";
html += "def slow_function():\\n";
html += "    time.sleep(1)\\n\\n";
html += "slow_function()\\n";
html += "# Output: slow_function took 1.00s</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // File Handling
    'file-read': {
      title: 'Python Read Files',
      content: `# Python Read Files 

Think of reading files like **opening a book** - you can read it page by page!

## Open and Read

\`\`\`python
# Basic read
f = open("myfile.txt", "r")
content = f.read()
print(content)
f.close()

# Better: with statement (auto-closes!)
with open("myfile.txt", "r") as f:
    content = f.read()
    print(content)
# File automatically closed here
\`\`\`

## Reading Methods

\`\`\`python
with open("myfile.txt", "r") as f:
    # Read entire file
    content = f.read()
    
    # Read one line
    line = f.readline()
    
    # Read all lines as list
    lines = f.readlines()
    
    # Read specific characters
    chunk = f.read(100)  # First 100 chars
\`\`\`

## Reading Line by Line

\`\`\`python
# Memory efficient for large files
with open("large_file.txt", "r") as f:
    for line in f:
        print(line.strip())  # Remove newline
\`\`\`

## Reading Different Encodings

\`\`\`python
# UTF-8 (default on most systems)
with open("file.txt", "r", encoding="utf-8") as f:
    content = f.read()

# Other encodings
with open("file.txt", "r", encoding="latin-1") as f:
    content = f.read()
\`\`\`

## File Modes

| Mode | Description |
|------|-------------|
| "r" | Read (default) |
| "w" | Write (overwrites) |
| "a" | Append |
| "x" | Create (fails if exists) |
| "b" | Binary mode |
| "+" | Read and write |

## Check if File Exists

\`\`\`python
import os

if os.path.exists("myfile.txt"):
    with open("myfile.txt", "r") as f:
        print(f.read())
else:
    print("File not found!")
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python File Reading Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Reading Methods</h3>";
html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Method</th><th>Returns</th><th>Use Case</th></tr>";

const methods = [
  { method: "read()", returns: "Entire file as string", use: "Small files" },
  { method: "read(n)", returns: "First n characters", use: "Streaming" },
  { method: "readline()", returns: "One line", use: "Line by line" },
  { method: "readlines()", returns: "List of all lines", use: "Process all lines" },
  { method: "for line in f:", returns: "Iterator", use: "Large files" }
];

methods.forEach((m, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + m.method + "</code></td>";
  html += "<td style='padding:10px;'>" + m.returns + "</td>";
  html += "<td style='padding:10px;'>" + m.use + "</td></tr>";
});
html += "</table>";

html += "<h3>Best Practice</h3>";
html += "<pre style='background:#e8f5e9;padding:15px;border-radius:8px;'>";
html += "# Always use 'with' statement!\\n";
html += "with open('file.txt', 'r') as f:\\n";
html += "    content = f.read()\\n";
html += "# File auto-closes here</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'file-write': {
      title: 'Python Write Files',
      content: `# Python Write Files 

Think of writing files like **writing in a notebook** - you can add or replace content!

## Write Mode (Overwrites!)

\`\`\`python
# This REPLACES the entire file!
with open("myfile.txt", "w") as f:
    f.write("Hello, World!")
\`\`\`

## Append Mode (Adds)

\`\`\`python
# This ADDS to the end
with open("myfile.txt", "a") as f:
    f.write("\\nNew line added!")
\`\`\`

## Write Multiple Lines

\`\`\`python
lines = ["Line 1", "Line 2", "Line 3"]

with open("myfile.txt", "w") as f:
    for line in lines:
        f.write(line + "\\n")

# Or use writelines
with open("myfile.txt", "w") as f:
    f.writelines(line + "\\n" for line in lines)
\`\`\`

## Write Binary

\`\`\`python
# Writing bytes
data = b"Binary data here"
with open("binary.dat", "wb") as f:
    f.write(data)

# Copy an image
with open("source.jpg", "rb") as src:
    with open("copy.jpg", "wb") as dst:
        dst.write(src.read())
\`\`\`

## Write JSON

\`\`\`python
import json

data = {
    "name": "Alice",
    "age": 25,
    "hobbies": ["reading", "coding"]
}

with open("data.json", "w") as f:
    json.dump(data, f, indent=2)
\`\`\`

## Write CSV

\`\`\`python
import csv

data = [
    ["Name", "Age", "City"],
    ["Alice", 25, "NYC"],
    ["Bob", 30, "LA"]
]

with open("data.csv", "w", newline="") as f:
    writer = csv.writer(f)
    writer.writerows(data)
\`\`\`

## Safety: Create If Not Exists

\`\`\`python
import os

if not os.path.exists("newfile.txt"):
    with open("newfile.txt", "x") as f:
        f.write("Created!")
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python File Writing Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Write Modes Comparison</h3>";
html += "<div style='display:flex;gap:20px;'>";

html += "<div style='flex:1;background:#ffebee;padding:20px;border-radius:8px;'>";
html += "<h4>\"w\" Mode </h4>";
html += "<p><b>OVERWRITES</b> entire file</p>";
html += "<code>open('f.txt', 'w')</code>";
html += "</div>";

html += "<div style='flex:1;background:#e8f5e9;padding:20px;border-radius:8px;'>";
html += "<h4>\"a\" Mode </h4>";
html += "<p><b>APPENDS</b> to end</p>";
html += "<code>open('f.txt', 'a')</code>";
html += "</div>";

html += "<div style='flex:1;background:#e3f2fd;padding:20px;border-radius:8px;'>";
html += "<h4>\"x\" Mode </h4>";
html += "<p><b>CREATE</b> new only</p>";
html += "<code>open('f.txt', 'x')</code>";
html += "</div>";

html += "</div>";

html += "<h3>Common Patterns</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "# Write text\\n";
html += "with open('file.txt', 'w') as f:\\n";
html += "    f.write('Hello!')\\n\\n";
html += "# Write JSON\\n";
html += "import json\\n";
html += "with open('data.json', 'w') as f:\\n";
html += "    json.dump(data, f, indent=2)</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'file-create': {
      title: 'Python Create/Delete Files',
      content: `# Python Create & Delete Files 

Think of this as **file management** - organizing your digital filing cabinet!

## Create File

\`\`\`python
# Method 1: write mode creates if not exists
with open("newfile.txt", "w") as f:
    f.write("New content")

# Method 2: exclusive creation (fails if exists)
try:
    with open("newfile.txt", "x") as f:
        f.write("New content")
except FileExistsError:
    print("File already exists!")
\`\`\`

## Create Empty File

\`\`\`python
from pathlib import Path

# Touch - create empty file
Path("empty.txt").touch()
\`\`\`

## Delete File

\`\`\`python
import os

# Check before delete
if os.path.exists("myfile.txt"):
    os.remove("myfile.txt")
    print("File deleted!")
else:
    print("File not found!")

# Or use pathlib
from pathlib import Path
Path("myfile.txt").unlink(missing_ok=True)
\`\`\`

## Create Directory

\`\`\`python
import os

# Create single directory
os.mkdir("new_folder")

# Create nested directories
os.makedirs("path/to/new/folder", exist_ok=True)
\`\`\`

## Delete Directory

\`\`\`python
import os
import shutil

# Delete empty directory
os.rmdir("empty_folder")

# Delete directory with contents (be careful!)
shutil.rmtree("folder_with_stuff")
\`\`\`

## Rename/Move

\`\`\`python
import os

# Rename file
os.rename("old_name.txt", "new_name.txt")

# Move file
shutil.move("file.txt", "new_folder/file.txt")
\`\`\`

## Copy File

\`\`\`python
import shutil

# Copy file
shutil.copy("source.txt", "destination.txt")

# Copy with metadata
shutil.copy2("source.txt", "destination.txt")

# Copy entire directory
shutil.copytree("source_folder", "dest_folder")
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python File Operations Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Common File Operations</h3>";
html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Operation</th><th>Code</th></tr>";

const ops = [
  { op: "Create file", code: "open('f.txt', 'w').close()" },
  { op: "Delete file", code: "os.remove('f.txt')" },
  { op: "Rename", code: "os.rename('old.txt', 'new.txt')" },
  { op: "Copy", code: "shutil.copy('a.txt', 'b.txt')" },
  { op: "Create folder", code: "os.makedirs('path', exist_ok=True)" },
  { op: "Delete folder", code: "shutil.rmtree('folder')" },
  { op: "Move", code: "shutil.move('a.txt', 'folder/')" }
];

ops.forEach((o, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'>" + o.op + "</td>";
  html += "<td style='padding:10px;'><code>" + o.code + "</code></td></tr>";
});
html += "</table>";

html += "<p style='background:#fff3e0;padding:15px;border-radius:8px;margin-top:20px;'>";
html += " <b>Warning:</b> <code>shutil.rmtree()</code> deletes everything permanently!</p>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'context-managers': {
      title: 'Python Context Managers',
      content: `# Python Context Managers 

Think of context managers as **automatic doors** - they open, you walk through, they close behind you!

## The 'with' Statement

\`\`\`python
# Without context manager (risky!)
f = open("file.txt", "r")
content = f.read()
f.close()  # What if error before close?

# With context manager (safe!)
with open("file.txt", "r") as f:
    content = f.read()
# File auto-closes, even if error!
\`\`\`

## How It Works

\`\`\`python
# Context managers have __enter__ and __exit__
class MyContextManager:
    def __enter__(self):
        print("Entering...")
        return self
    
    def __exit__(self, exc_type, exc_val, exc_tb):
        print("Exiting...")
        return False  # Don't suppress exceptions

with MyContextManager() as cm:
    print("Inside")
# Output:
# Entering...
# Inside
# Exiting...
\`\`\`

## Creating with @contextmanager

\`\`\`python
from contextlib import contextmanager

@contextmanager
def timer():
    import time
    start = time.time()
    yield  # Code inside 'with' runs here
    end = time.time()
    print(f"Elapsed: {end - start:.2f}s")

with timer():
    # Do slow work
    time.sleep(1)
# Output: Elapsed: 1.00s
\`\`\`

## Multiple Context Managers

\`\`\`python
# Multiple resources
with open("source.txt") as src, open("dest.txt", "w") as dst:
    dst.write(src.read())

# Or use parentheses (Python 3.9+)
with (
    open("file1.txt") as f1,
    open("file2.txt") as f2,
):
    pass
\`\`\`

## Common Context Managers

\`\`\`python
# Database connection
with db.connect() as conn:
    conn.execute("SELECT * FROM users")

# Lock (threading)
with threading.Lock():
    # Thread-safe code
    pass

# Suppress exceptions
from contextlib import suppress
with suppress(FileNotFoundError):
    os.remove("maybe_missing.txt")
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python Context Managers Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>How 'with' Works</h3>";
html += "<div style='background:#e8f5e9;padding:20px;border-radius:8px;'>";
html += "<ol>";
html += "<li>Call <code>__enter__()</code>  Get resource</li>";
html += "<li>Execute your code inside 'with'</li>";
html += "<li>Call <code>__exit__()</code>  Cleanup (always!)</li>";
html += "</ol></div>";

html += "<h3>Common Use Cases</h3>";
const cases = [
  { resource: "Files", code: "with open('f.txt') as f:" },
  { resource: "Database", code: "with db.connect() as conn:" },
  { resource: "Locks", code: "with threading.Lock():" },
  { resource: "Timer", code: "with Timer() as t:" },
  { resource: "Temp file", code: "with tempfile.NamedTemporaryFile() as f:" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Resource</th><th>Usage</th></tr>";
cases.forEach((c, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'>" + c.resource + "</td>";
  html += "<td style='padding:10px;'><code>" + c.code + "</code></td></tr>";
});
html += "</table>";

html += "<p style='background:#e3f2fd;padding:15px;border-radius:8px;margin-top:20px;'>";
html += " <b>Key benefit:</b> Resources are ALWAYS cleaned up, even if exceptions occur!</p>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // Lists
    'lists': {
      title: 'Python Lists',
      content: `# Python Lists 

Think of lists like **shopping lists** - you can add, remove, and rearrange items!

## Creating Lists

\`\`\`python
# Empty list
empty = []

# List with values
fruits = ["apple", "banana", "cherry"]
numbers = [1, 2, 3, 4, 5]
mixed = [1, "hello", True, 3.14]  # Mixed types OK!

# From other iterables
from_string = list("hello")  # ['h', 'e', 'l', 'l', 'o']
from_range = list(range(5))  # [0, 1, 2, 3, 4]
\`\`\`

## Accessing Elements

\`\`\`python
fruits = ["apple", "banana", "cherry", "date"]

print(fruits[0])    # apple (first)
print(fruits[-1])   # date (last)
print(fruits[1:3])  # ['banana', 'cherry']
print(fruits[:2])   # ['apple', 'banana']
print(fruits[2:])   # ['cherry', 'date']
\`\`\`

## Modifying Lists

\`\`\`python
fruits = ["apple", "banana"]

# Add
fruits.append("cherry")      # End: ['apple', 'banana', 'cherry']
fruits.insert(1, "blueberry") # At index: ['apple', 'blueberry', ...]
fruits.extend(["date", "fig"]) # Multiple

# Remove
fruits.remove("banana")      # By value
popped = fruits.pop()        # Last item
popped = fruits.pop(0)       # At index
del fruits[0]                # By index
fruits.clear()               # All items

# Modify
fruits[0] = "apricot"        # Replace
\`\`\`

## List Operations

\`\`\`python
a = [1, 2, 3]
b = [4, 5, 6]

# Concatenate
c = a + b  # [1, 2, 3, 4, 5, 6]

# Repeat
d = a * 3  # [1, 2, 3, 1, 2, 3, 1, 2, 3]

# Length
print(len(a))  # 3

# Check membership
print(2 in a)  # True

# Count
nums = [1, 1, 2, 2, 2, 3]
print(nums.count(2))  # 3

# Sort
nums.sort()           # In place
sorted_nums = sorted(nums)  # New list
nums.reverse()        # Reverse in place
\`\`\`

## List Comprehension

\`\`\`python
# Traditional
squares = []
for x in range(5):
    squares.append(x ** 2)

# Comprehension (Pythonic!)
squares = [x ** 2 for x in range(5)]
# [0, 1, 4, 9, 16]

# With condition
evens = [x for x in range(10) if x % 2 == 0]
# [0, 2, 4, 6, 8]

# Nested
matrix = [[j for j in range(3)] for i in range(3)]
# [[0, 1, 2], [0, 1, 2], [0, 1, 2]]
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Lists Demo</h2>
<div id="demo"></div>

<script>
let fruits = ["apple", "banana", "cherry"];

let html = "<h3>List: " + JSON.stringify(fruits) + "</h3>";

// Indexing
html += "<div style='background: #e8f5e9; padding: 15px; margin: 10px 0; border-radius: 8px;'>";
html += "<b>Indexing:</b><br>";
html += "<code>fruits[0]</code>  '" + fruits[0] + "'<br>";
html += "<code>fruits[-1]</code>  '" + fruits[fruits.length - 1] + "'<br>";
html += "<code>fruits[1:3]</code>  " + JSON.stringify(fruits.slice(1, 3));
html += "</div>";

// Methods
const methods = [
  { method: "append('date')", effect: "Adds to end" },
  { method: "insert(1, 'blueberry')", effect: "Adds at index" },
  { method: "remove('banana')", effect: "Removes by value" },
  { method: "pop()", effect: "Removes & returns last" },
  { method: "sort()", effect: "Sorts in place" },
  { method: "reverse()", effect: "Reverses in place" }
];

html += "<h3>Common Methods</h3>";
html += "<table style='width: 100%; border-collapse: collapse;'>";
html += "<tr style='background: #3776AB; color: white;'>";
html += "<th style='padding: 10px;'>Method</th><th style='padding: 10px;'>Effect</th></tr>";

methods.forEach((m, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background: " + bg + ";'>";
  html += "<td style='padding: 10px;'><code>" + m.method + "</code></td>";
  html += "<td style='padding: 10px;'>" + m.effect + "</td></tr>";
});
html += "</table>";

// Comprehension
html += "<h3>List Comprehension </h3>";
html += "<div style='background: #fff3e0; padding: 15px; border-radius: 8px;'>";
html += "<code>[x ** 2 for x in range(5)]</code><br>";
const squares = [];
for (let i = 0; i < 5; i++) squares.push(i * i);
html += "Result: " + JSON.stringify(squares) + "</div>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    'dictionaries': {
      title: 'Python Dictionaries',
      content: `# Python Dictionaries 

Think of dictionaries like a **real dictionary** - look up a word (key) to find its definition (value)!

## Creating Dictionaries

\`\`\`python
# Empty
empty = {}

# With values
person = {
    "name": "Alice",
    "age": 25,
    "city": "NYC"
}

# From keys
keys = ["a", "b", "c"]
d = dict.fromkeys(keys, 0)  # {'a': 0, 'b': 0, 'c': 0}

# From pairs
pairs = [("a", 1), ("b", 2)]
d = dict(pairs)  # {'a': 1, 'b': 2}
\`\`\`

## Accessing Values

\`\`\`python
person = {"name": "Alice", "age": 25}

# Direct access (raises KeyError if missing)
print(person["name"])  # Alice

# Safe access with .get()
print(person.get("name"))        # Alice
print(person.get("salary"))      # None
print(person.get("salary", 0))   # 0 (default)

# Check if key exists
if "name" in person:
    print("Name exists!")
\`\`\`

## Modifying Dictionaries

\`\`\`python
person = {"name": "Alice"}

# Add/Update
person["age"] = 25          # Add new key
person["name"] = "Bob"      # Update existing
person.update({"city": "NYC", "age": 26})

# Remove
del person["age"]           # By key
popped = person.pop("city") # Returns value
person.popitem()            # Last item
person.clear()              # All items
\`\`\`

## Iterating

\`\`\`python
person = {"name": "Alice", "age": 25, "city": "NYC"}

# Keys (default)
for key in person:
    print(key)

# Values
for value in person.values():
    print(value)

# Both (most common)
for key, value in person.items():
    print(f"{key}: {value}")
\`\`\`

## Dictionary Comprehension

\`\`\`python
# Create from list
names = ["alice", "bob", "charlie"]
name_lengths = {name: len(name) for name in names}
# {'alice': 5, 'bob': 3, 'charlie': 7}

# With condition
nums = range(5)
squares = {x: x**2 for x in nums if x % 2 == 0}
# {0: 0, 2: 4, 4: 16}

# Swap keys/values
original = {"a": 1, "b": 2}
swapped = {v: k for k, v in original.items()}
# {1: 'a', 2: 'b'}
\`\`\`

## Nested Dictionaries

\`\`\`python
users = {
    "user1": {"name": "Alice", "age": 25},
    "user2": {"name": "Bob", "age": 30}
}

print(users["user1"]["name"])  # Alice

# Safely access nested
from collections import defaultdict
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Python Dictionaries Demo</h2>
<div id="demo"></div>

<script>
const person = {
  name: "Alice",
  age: 25,
  city: "NYC"
};

let html = "<h3>Dictionary: person</h3>";
html += "<pre style='background: #1a1a2e; color: #0f0; padding: 15px; border-radius: 8px;'>";
html += JSON.stringify(person, null, 2);
html += "</pre>";

// Accessing
html += "<h3>Accessing Values</h3>";
html += "<div style='background: #e8f5e9; padding: 15px; border-radius: 8px;'>";
html += "<code>person['name']</code>  '" + person.name + "'<br>";
html += "<code>person.get('salary', 0)</code>  0 (default)<br>";
html += "<code>'age' in person</code>  true</div>";

// Iteration
html += "<h3>Iterating with .items()</h3>";
html += "<div style='background: #e3f2fd; padding: 15px; border-radius: 8px;'>";
for (const [key, value] of Object.entries(person)) {
  html += key + ": " + value + "<br>";
}
html += "</div>";

// Comprehension
html += "<h3>Dict Comprehension</h3>";
html += "<div style='background: #fff3e0; padding: 15px; border-radius: 8px;'>";
html += "<code>{x: x**2 for x in range(5)}</code><br>";
const squares = {};
for (let i = 0; i < 5; i++) squares[i] = i * i;
html += "Result: " + JSON.stringify(squares) + "</div>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    // More lessons continue...
    'try-except': {
      title: 'Python Try...Except',
      content: `# Python Error Handling 

Think of try-except like a **safety net** - it catches errors before they crash your program!

## Basic Try-Except

\`\`\`python
try:
    result = 10 / 0
except:
    print("An error occurred!")
\`\`\`

## Catching Specific Errors

\`\`\`python
try:
    number = int(input("Enter a number: "))
    result = 10 / number
except ValueError:
    print("That's not a valid number!")
except ZeroDivisionError:
    print("Cannot divide by zero!")
except Exception as e:
    print(f"Unexpected error: {e}")
\`\`\`

## Try-Except-Else-Finally

\`\`\`python
try:
    file = open("data.txt")
    data = file.read()
except FileNotFoundError:
    print("File not found!")
else:
    print("File read successfully!")
    print(data)
finally:
    print("Cleanup done!")  # Always runs!
\`\`\`

## Raising Exceptions

\`\`\`python
def validate_age(age):
    if age < 0:
        raise ValueError("Age cannot be negative!")
    if age > 150:
        raise ValueError("Age seems too high!")
    return age

try:
    validate_age(-5)
except ValueError as e:
    print(f"Invalid: {e}")
\`\`\`

## Common Exception Types

| Exception | When It Occurs |
|-----------|----------------|
| \`ValueError\` | Wrong value type |
| \`TypeError\` | Wrong operation for type |
| \`KeyError\` | Dict key not found |
| \`IndexError\` | List index out of range |
| \`FileNotFoundError\` | File doesn't exist |
| \`ZeroDivisionError\` | Division by zero |
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Error Handling Demo</h2>
<div id="demo"></div>

<script>
const examples = [
  { 
    code: "10 / 0", 
    error: "ZeroDivisionError",
    message: "division by zero"
  },
  { 
    code: 'int("hello")', 
    error: "ValueError",
    message: "invalid literal for int()"
  },
  { 
    code: "my_list[100]", 
    error: "IndexError",
    message: "list index out of range"
  },
  { 
    code: 'my_dict["missing"]', 
    error: "KeyError",
    message: "'missing'"
  }
];

let html = "<h3>Common Python Errors</h3>";
html += "<table style='width: 100%; border-collapse: collapse;'>";
html += "<tr style='background: #c0392b; color: white;'>";
html += "<th style='padding: 10px;'>Code</th>";
html += "<th style='padding: 10px;'>Exception</th>";
html += "<th style='padding: 10px;'>Message</th></tr>";

examples.forEach((ex, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background: " + bg + ";'>";
  html += "<td style='padding: 10px;'><code>" + ex.code + "</code></td>";
  html += "<td style='padding: 10px; color: #c0392b;'><b>" + ex.error + "</b></td>";
  html += "<td style='padding: 10px;'>" + ex.message + "</td></tr>";
});
html += "</table>";

html += "<h3>Try-Except Pattern</h3>";
html += "<pre style='background: #1a1a2e; color: #0f0; padding: 15px; border-radius: 8px;'>";
html += "try:\\n";
html += "    result = risky_operation()\\n";
html += "except SomeError:\\n";
html += "    handle_error()\\n";
html += "else:\\n";
html += "    success_path()\\n";
html += "finally:\\n";
html += "    cleanup()  # Always runs!</pre>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },

    // Functions Track
    'arguments': {
      title: 'Python Arguments & Returns',
      content: `# Python Arguments & Returns 

Think of arguments like **ingredients for a recipe** - you pass them in, and get a delicious result back!

## Positional Arguments

\`\`\`python
def greet(name, greeting):
    return f"{greeting}, {name}!"

# Must be in order
print(greet("Alice", "Hello"))  # Hello, Alice!
\`\`\`

## Keyword Arguments

\`\`\`python
def greet(name, greeting):
    return f"{greeting}, {name}!"

# Can be in any order
print(greet(greeting="Hi", name="Bob"))  # Hi, Bob!
\`\`\`

## Default Arguments

\`\`\`python
def greet(name, greeting="Hello"):
    return f"{greeting}, {name}!"

print(greet("Alice"))           # Hello, Alice!
print(greet("Alice", "Hi"))     # Hi, Alice!
\`\`\`

## *args - Variable Positional

\`\`\`python
def add_all(*numbers):
    """Add any number of values"""
    return sum(numbers)

print(add_all(1, 2))           # 3
print(add_all(1, 2, 3, 4, 5))  # 15
\`\`\`

## **kwargs - Variable Keyword

\`\`\`python
def print_info(**kwargs):
    """Accept any keyword arguments"""
    for key, value in kwargs.items():
        print(f"{key}: {value}")

print_info(name="Alice", age=25, city="NYC")
\`\`\`

## Combined Parameters

\`\`\`python
def func(a, b, *args, default="x", **kwargs):
    print(f"a={a}, b={b}")
    print(f"args={args}")
    print(f"default={default}")
    print(f"kwargs={kwargs}")

func(1, 2, 3, 4, default="y", extra="value")
\`\`\`

## Multiple Return Values

\`\`\`python
def get_stats(numbers):
    """Return multiple values as tuple"""
    return min(numbers), max(numbers), sum(numbers)

low, high, total = get_stats([1, 5, 3, 9, 2])
print(f"Min: {low}, Max: {high}, Sum: {total}")
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>
<h2> Python Arguments Demo</h2>
<div id="demo"></div>
<script>
function addAll(...numbers) {
  return numbers.reduce((a, b) => a + b, 0);
}

function getStats(numbers) {
  return [Math.min(...numbers), Math.max(...numbers), numbers.reduce((a,b) => a+b, 0)];
}

let html = "<h3>*args Example</h3>";
html += "<code>add_all(1, 2, 3, 4, 5)</code>  " + addAll(1, 2, 3, 4, 5);

html += "<h3>Multiple Returns</h3>";
const [low, high, total] = getStats([1, 5, 3, 9, 2]);
html += "<code>get_stats([1, 5, 3, 9, 2])</code><br>";
html += "Min: " + low + ", Max: " + high + ", Sum: " + total;

document.getElementById("demo").innerHTML = html;
</script>
</body>
</html>`,
    },

    'lambda': {
      title: 'Python Lambda',
      content: `# Python Lambda 

Think of lambda as a **mini function** you create on the spot - no name needed!

## Basic Lambda

\`\`\`python
# Regular function
def square(x):
    return x ** 2

# Lambda equivalent
square = lambda x: x ** 2

print(square(5))  # 25
\`\`\`

## Lambda with Multiple Arguments

\`\`\`python
add = lambda a, b: a + b
print(add(3, 5))  # 8

full_name = lambda first, last: f"{first} {last}"
print(full_name("Alice", "Smith"))  # Alice Smith
\`\`\`

## Lambda with map()

\`\`\`python
numbers = [1, 2, 3, 4, 5]

# Square all numbers
squared = list(map(lambda x: x ** 2, numbers))
print(squared)  # [1, 4, 9, 16, 25]

# Convert to strings
strings = list(map(lambda x: str(x), numbers))
\`\`\`

## Lambda with filter()

\`\`\`python
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

# Keep only even numbers
evens = list(filter(lambda x: x % 2 == 0, numbers))
print(evens)  # [2, 4, 6, 8, 10]

# Keep numbers > 5
big = list(filter(lambda x: x > 5, numbers))
print(big)  # [6, 7, 8, 9, 10]
\`\`\`

## Lambda with sorted()

\`\`\`python
students = [
    {"name": "Alice", "grade": 85},
    {"name": "Bob", "grade": 92},
    {"name": "Charlie", "grade": 78}
]

# Sort by grade
by_grade = sorted(students, key=lambda s: s["grade"])

# Sort by name
by_name = sorted(students, key=lambda s: s["name"])
\`\`\`

## When NOT to Use Lambda

\`\`\`python
#  Too complex for lambda
process = lambda x: x**2 if x > 0 else abs(x) * 2

#  Use regular function instead
def process(x):
    if x > 0:
        return x ** 2
    else:
        return abs(x) * 2
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>
<h2> Python Lambda Demo</h2>
<div id="demo"></div>
<script>
const numbers = [1, 2, 3, 4, 5];

let html = "<h3>map with lambda</h3>";
const squared = numbers.map(x => x ** 2);
html += "<code>map(lambda x: x ** 2, [1,2,3,4,5])</code><br>";
html += "Result: [" + squared.join(", ") + "]";

html += "<h3>filter with lambda</h3>";
const evens = numbers.filter(x => x % 2 === 0);
html += "<code>filter(lambda x: x % 2 == 0, [1,2,3,4,5])</code><br>";
html += "Result: [" + evens.join(", ") + "]";

html += "<h3>sorted with lambda</h3>";
const items = [{name: "Bob", age: 30}, {name: "Alice", age: 25}];
const sorted = [...items].sort((a, b) => a.age - b.age);
html += "<code>sorted(items, key=lambda x: x['age'])</code><br>";
html += "Result: " + sorted.map(x => x.name + "(" + x.age + ")").join(", ");

document.getElementById("demo").innerHTML = html;
</script>
</body>
</html>`,
    },

    'modules': {
      title: 'Python Modules',
      content: `# Python Modules 

Think of modules like **LEGO sets** - pre-built pieces you can snap together!

## What is a Module?

A module is simply a Python file with functions, classes, and variables.

\`\`\`python
# mymodule.py
def greet(name):
    return f"Hello, {name}!"

PI = 3.14159
\`\`\`

## Importing Modules

\`\`\`python
# Import entire module
import mymodule
print(mymodule.greet("Alice"))
print(mymodule.PI)

# Import with alias
import mymodule as mm
print(mm.greet("Bob"))

# Import specific items
from mymodule import greet, PI
print(greet("Charlie"))

# Import everything (not recommended)
from mymodule import *
\`\`\`

## Built-in Modules

\`\`\`python
import math
print(math.sqrt(16))   # 4.0
print(math.pi)         # 3.14159...

import random
print(random.randint(1, 10))
print(random.choice(["a", "b", "c"]))

import datetime
print(datetime.datetime.now())

import os
print(os.getcwd())
print(os.listdir())
\`\`\`

## The dir() Function

\`\`\`python
import math

# List all names in module
print(dir(math))
# ['acos', 'asin', 'atan', 'ceil', 'cos', ...]
\`\`\`

## __name__ and __main__

\`\`\`python
# mymodule.py
def main():
    print("Running as main program")

# Only runs when executed directly
if __name__ == "__main__":
    main()
\`\`\`

## Creating Packages

\`\`\`
mypackage/
 __init__.py
 module1.py
 module2.py
\`\`\`

\`\`\`python
from mypackage import module1
from mypackage.module2 import some_function
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>
<h2> Python Modules Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Common Built-in Modules</h3>";

const modules = [
  { name: "math", funcs: "sqrt, pi, sin, cos, floor, ceil" },
  { name: "random", funcs: "randint, choice, shuffle" },
  { name: "datetime", funcs: "datetime, date, time, timedelta" },
  { name: "os", funcs: "getcwd, listdir, path, mkdir" },
  { name: "json", funcs: "loads, dumps, load, dump" },
  { name: "re", funcs: "match, search, findall, sub" }
];

html += "<table style='width:100%; border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th style='padding:10px;'>Module</th>";
html += "<th style='padding:10px;'>Key Functions</th></tr>";

modules.forEach((m, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + m.name + "</code></td>";
  html += "<td style='padding:10px;'>" + m.funcs + "</td></tr>";
});
html += "</table>";

html += "<h3>Import Examples</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "import math\\n";
html += "from random import randint\\n";
html += "import datetime as dt\\n";
html += "from os.path import join, exists</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body>
</html>`,
    },

    'pip': {
      title: 'Python PIP',
      content: `# Python PIP 

Think of PIP as an **app store** for Python - download and install any package!

## What is PIP?

PIP = **P**ackage **I**nstaller for **P**ython

\`\`\`bash
# Check PIP version
pip --version
pip3 --version
\`\`\`

## Installing Packages

\`\`\`bash
# Install a package
pip install requests

# Install specific version
pip install requests==2.28.0

# Install minimum version
pip install requests>=2.25.0

# Install multiple packages
pip install requests flask pandas
\`\`\`

## Managing Packages

\`\`\`bash
# List installed packages
pip list

# Show package info
pip show requests

# Uninstall package
pip uninstall requests

# Upgrade package
pip install --upgrade requests
\`\`\`

## Requirements File

\`\`\`bash
# Create requirements.txt
pip freeze > requirements.txt

# Install from requirements.txt
pip install -r requirements.txt
\`\`\`

\`\`\`txt
# requirements.txt
requests==2.28.0
flask>=2.0.0
pandas
numpy
\`\`\`

## Virtual Environments (Best Practice!)

\`\`\`bash
# Create virtual environment
python -m venv myenv

# Activate (Windows)
myenv\\Scripts\\activate

# Activate (Mac/Linux)
source myenv/bin/activate

# Install packages (isolated!)
pip install requests

# Deactivate
deactivate
\`\`\`

## Popular Packages

| Package | Purpose |
|---------|---------|
| requests | HTTP requests |
| flask | Web framework |
| django | Full-stack web |
| pandas | Data analysis |
| numpy | Numerical computing |
| matplotlib | Plotting |
| scikit-learn | Machine learning |
| pytest | Testing |
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>
<h2> Python PIP Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Essential PIP Commands</h3>";

const commands = [
  { cmd: "pip install <package>", desc: "Install a package" },
  { cmd: "pip uninstall <package>", desc: "Remove a package" },
  { cmd: "pip list", desc: "List all packages" },
  { cmd: "pip freeze > requirements.txt", desc: "Export packages" },
  { cmd: "pip install -r requirements.txt", desc: "Install from file" },
  { cmd: "pip install --upgrade <package>", desc: "Upgrade package" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th style='padding:10px;'>Command</th>";
html += "<th style='padding:10px;'>Description</th></tr>";

commands.forEach((c, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + c.cmd + "</code></td>";
  html += "<td style='padding:10px;'>" + c.desc + "</td></tr>";
});
html += "</table>";

html += "<h3>Top 10 Packages</h3>";
const packages = ["requests", "numpy", "pandas", "flask", "django", "pytest", "matplotlib", "scikit-learn", "tensorflow", "beautifulsoup4"];
html += "<div style='display:flex;flex-wrap:wrap;gap:10px;'>";
packages.forEach(p => {
  html += "<span style='background:#e8f5e9;padding:8px 15px;border-radius:20px;'>" + p + "</span>";
});
html += "</div>";

document.getElementById("demo").innerHTML = html;
</script>
</body>
</html>`,
    },

    'json': {
      title: 'Python JSON',
      content: `# Python JSON 

Think of JSON as a **universal language** - everyone (every programming language) understands it!

## What is JSON?

JSON = **J**ava**S**cript **O**bject **N**otation

\`\`\`json
{
  "name": "Alice",
  "age": 25,
  "hobbies": ["reading", "coding"],
  "active": true
}
\`\`\`

## Python to JSON

\`\`\`python
import json

# Python dictionary
person = {
    "name": "Alice",
    "age": 25,
    "hobbies": ["reading", "coding"]
}

# Convert to JSON string
json_string = json.dumps(person)
print(json_string)
# {"name": "Alice", "age": 25, "hobbies": ["reading", "coding"]}

# Pretty print
pretty = json.dumps(person, indent=2)
print(pretty)
\`\`\`

## JSON to Python

\`\`\`python
import json

json_string = '{"name": "Alice", "age": 25}'

# Convert to Python dict
data = json.loads(json_string)
print(data["name"])  # Alice
print(type(data))    # <class 'dict'>
\`\`\`

## Reading/Writing JSON Files

\`\`\`python
import json

# Write to file
with open("data.json", "w") as f:
    json.dump(person, f, indent=2)

# Read from file
with open("data.json", "r") as f:
    loaded = json.load(f)
\`\`\`

## Type Conversion

| Python | JSON |
|--------|------|
| dict | object |
| list | array |
| str | string |
| int, float | number |
| True | true |
| False | false |
| None | null |

## Custom Objects

\`\`\`python
import json
from datetime import datetime

class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age

# Custom encoder
def encode_person(obj):
    if isinstance(obj, Person):
        return {"name": obj.name, "age": obj.age}
    raise TypeError(f"Cannot serialize {type(obj)}")

person = Person("Alice", 25)
json_str = json.dumps(person, default=encode_person)
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>
<h2> Python JSON Demo</h2>
<div id="demo"></div>
<script>
const person = {
  name: "Alice",
  age: 25,
  hobbies: ["reading", "coding"],
  active: true
};

let html = "<h3>Python Dict  JSON String</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += JSON.stringify(person, null, 2) + "</pre>";

html += "<h3>Type Conversion Table</h3>";
const types = [
  { python: "dict", json: "object {}" },
  { python: "list", json: "array []" },
  { python: "str", json: "string" },
  { python: "int/float", json: "number" },
  { python: "True/False", json: "true/false" },
  { python: "None", json: "null" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th style='padding:10px;'>Python</th><th style='padding:10px;'>JSON</th></tr>";
types.forEach((t, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'>" + t.python + "</td>";
  html += "<td style='padding:10px;'>" + t.json + "</td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body>
</html>`,
    },

    'regex': {
      title: 'Python RegEx',
      content: `# Python Regular Expressions 

Think of RegEx as a **super-powered search** that can find patterns, not just exact text!

## Import the re Module

\`\`\`python
import re
\`\`\`

## Basic Functions

\`\`\`python
import re

text = "The rain in Spain"

# search - find first match
match = re.search("rain", text)
if match:
    print(match.group())  # rain
    print(match.start())  # 4

# findall - find all matches
matches = re.findall("a.n", text)
print(matches)  # ['ain', 'ain']

# sub - replace
new_text = re.sub("rain", "snow", text)
print(new_text)  # The snow in Spain
\`\`\`

## Special Characters

| Pattern | Meaning |
|---------|---------|
| \\d | Any digit (0-9) |
| \\w | Any word character |
| \\s | Any whitespace |
| . | Any character |
| ^ | Start of string |
| $ | End of string |

## Quantifiers

\`\`\`python
import re

# + = one or more
re.findall("\\d+", "I have 25 apples")  # ['25']

# * = zero or more
re.findall("ab*", "a ab abb")  # ['a', 'ab', 'abb']

# ? = zero or one
re.findall("colou?r", "color colour")  # ['color', 'colour']

# {n} = exactly n times
re.findall("\\d{3}", "123 4567")  # ['123', '456']
\`\`\`

## Groups

\`\`\`python
import re

# Capture groups with ()
text = "My email is alice@gmail.com"
match = re.search(r"(\\w+)@(\\w+)\\.(\\w+)", text)
if match:
    print(match.group(0))  # alice@gmail.com
    print(match.group(1))  # alice
    print(match.group(2))  # gmail
\`\`\`

## Common Patterns

\`\`\`python
# Email
email = r"[\\w.-]+@[\\w.-]+\\.\\w+"

# Phone
phone = r"\\d{3}-\\d{3}-\\d{4}"

# URL
url = r"https?://[\\w.-]+\\.\\w+"
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>
<h2> Python RegEx Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>RegEx Pattern Reference</h3>";

const patterns = [
  { pattern: "\\\\d", meaning: "Any digit (0-9)", example: "\\\\d+ matches '123'" },
  { pattern: "\\\\w", meaning: "Any word character", example: "\\\\w+ matches 'hello'" },
  { pattern: "\\\\s", meaning: "Any whitespace", example: "\\\\s+ matches spaces" },
  { pattern: ".", meaning: "Any character", example: "a.b matches 'axb'" },
  { pattern: "^", meaning: "Start of string", example: "^Hello" },
  { pattern: "$", meaning: "End of string", example: "world$" },
  { pattern: "+", meaning: "One or more", example: "\\\\d+ matches '123'" },
  { pattern: "*", meaning: "Zero or more", example: "ab* matches 'a', 'ab', 'abb'" },
  { pattern: "?", meaning: "Zero or one", example: "colou?r matches both" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Pattern</th><th>Meaning</th><th>Example</th></tr>";

patterns.forEach((p, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:8px;'><code>" + p.pattern + "</code></td>";
  html += "<td style='padding:8px;'>" + p.meaning + "</td>";
  html += "<td style='padding:8px;'><code>" + p.example + "</code></td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body>
</html>`,
    },

    'dates': {
      title: 'Python Dates & Math',
      content: `# Python Dates & Math 

Think of datetime as your **time machine** - work with any date or time!

## datetime Module

\`\`\`python
from datetime import datetime, date, time, timedelta

# Current date/time
now = datetime.now()
print(now)  # 2024-01-15 14:30:45.123456

# Today's date
today = date.today()
print(today)  # 2024-01-15

# Create specific date
my_date = datetime(2024, 12, 25, 10, 30)
print(my_date)  # 2024-12-25 10:30:00
\`\`\`

## Accessing Components

\`\`\`python
now = datetime.now()

print(now.year)      # 2024
print(now.month)     # 1
print(now.day)       # 15
print(now.hour)      # 14
print(now.minute)    # 30
print(now.weekday()) # 0 = Monday
\`\`\`

## Formatting Dates

\`\`\`python
now = datetime.now()

# strftime - datetime to string
formatted = now.strftime("%Y-%m-%d %H:%M")
print(formatted)  # 2024-01-15 14:30

# Common format codes
# %Y = Year (2024)
# %m = Month (01-12)
# %d = Day (01-31)
# %H = Hour (00-23)
# %M = Minute (00-59)
# %A = Weekday name
\`\`\`

## Parsing Strings

\`\`\`python
# strptime - string to datetime
date_string = "2024-12-25"
parsed = datetime.strptime(date_string, "%Y-%m-%d")
print(parsed)  # 2024-12-25 00:00:00
\`\`\`

## Date Arithmetic

\`\`\`python
from datetime import timedelta

now = datetime.now()

# Add days
future = now + timedelta(days=30)

# Subtract hours
past = now - timedelta(hours=5)

# Difference between dates
date1 = datetime(2024, 1, 1)
date2 = datetime(2024, 12, 31)
diff = date2 - date1
print(diff.days)  # 365
\`\`\`

## Math Module

\`\`\`python
import math

print(math.pi)      # 3.14159...
print(math.e)       # 2.71828...
print(math.sqrt(16))  # 4.0
print(math.floor(3.7))  # 3
print(math.ceil(3.2))   # 4
print(math.pow(2, 3))   # 8.0
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>
<h2> Python Date & Math Demo</h2>
<div id="demo"></div>
<script>
const now = new Date();

let html = "<h3>Current Date/Time</h3>";
html += "<p>" + now.toLocaleString() + "</p>";

html += "<h3>Date Components</h3>";
html += "<table style='border-collapse:collapse;'>";
html += "<tr><td style='padding:5px;'>Year:</td><td>" + now.getFullYear() + "</td></tr>";
html += "<tr><td style='padding:5px;'>Month:</td><td>" + (now.getMonth() + 1) + "</td></tr>";
html += "<tr><td style='padding:5px;'>Day:</td><td>" + now.getDate() + "</td></tr>";
html += "<tr><td style='padding:5px;'>Hour:</td><td>" + now.getHours() + "</td></tr>";
html += "<tr><td style='padding:5px;'>Minute:</td><td>" + now.getMinutes() + "</td></tr>";
html += "</table>";

html += "<h3>Format Codes</h3>";
const codes = [
  { code: "%Y", meaning: "Year (2024)" },
  { code: "%m", meaning: "Month (01-12)" },
  { code: "%d", meaning: "Day (01-31)" },
  { code: "%H", meaning: "Hour 24h (00-23)" },
  { code: "%M", meaning: "Minute (00-59)" },
  { code: "%A", meaning: "Weekday name" }
];
html += "<table style='border-collapse:collapse;'>";
codes.forEach(c => {
  html += "<tr><td style='padding:5px;'><code>" + c.code + "</code></td>";
  html += "<td style='padding:5px;'>" + c.meaning + "</td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body>
</html>`,
    },

    'formatting': {
      title: 'Python String Formatting',
      content: `# Python String Formatting 

Think of string formatting like **Mad Libs** - fill in the blanks with values!

## f-Strings (Best Way! Python 3.6+)

\`\`\`python
name = "Alice"
age = 25

# Basic
message = f"Hello, {name}!"
print(message)  # Hello, Alice!

# Expressions
print(f"Next year: {age + 1}")  # Next year: 26

# Methods
print(f"Name: {name.upper()}")  # Name: ALICE
\`\`\`

## f-String Formatting

\`\`\`python
# Numbers
price = 49.99
print(f"Price: {price:.2f}")  # Price: 49.99

# Width and alignment
print(f"|{name:10}|")   # |Alice     |
print(f"|{name:>10}|")  # |     Alice|
print(f"|{name:^10}|")  # |  Alice   |

# Thousands separator
big = 1000000
print(f"{big:,}")  # 1,000,000

# Percentage
ratio = 0.856
print(f"{ratio:.1%}")  # 85.6%
\`\`\`

## .format() Method

\`\`\`python
# Positional
msg = "Hello, {}!".format("Alice")

# Named
msg = "Hello, {name}!".format(name="Alice")

# Numbered
msg = "{0} and {1}".format("Alice", "Bob")

# Formatting
msg = "Price: {:.2f}".format(49.99)
\`\`\`

## % Operator (Old Style)

\`\`\`python
name = "Alice"
age = 25

# %s for strings
msg = "Hello, %s!" % name

# %d for integers
msg = "Age: %d" % age

# Multiple values
msg = "%s is %d" % (name, age)

# %f for floats
msg = "Price: %.2f" % 49.99
\`\`\`

## Format Specifiers

| Specifier | Meaning | Example |
|-----------|---------|---------|
| :d | Integer | {42:d}  42 |
| :f | Float | {3.14:.2f}  3.14 |
| :s | String | {name:s} |
| :, | Thousands | {1000:,}  1,000 |
| :% | Percentage | {0.5:.0%}  50% |
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>
<h2> Python String Formatting Demo</h2>
<div id="demo"></div>
<script>
const name = "Alice";
const age = 25;
const price = 49.99;
const bigNum = 1000000;
const ratio = 0.856;

let html = "<h3>f-String Examples</h3>";
html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th style='padding:10px;'>Code</th><th style='padding:10px;'>Output</th></tr>";

const examples = [
  { code: 'f"Hello, {name}!"', output: "Hello, " + name + "!" },
  { code: 'f"Next year: {age + 1}"', output: "Next year: " + (age + 1) },
  { code: 'f"Price: {price:.2f}"', output: "Price: " + price.toFixed(2) },
  { code: 'f"{bigNum:,}"', output: bigNum.toLocaleString() },
  { code: 'f"{ratio:.1%}"', output: (ratio * 100).toFixed(1) + "%" },
  { code: 'f"|{name:^10}|"', output: "|  Alice   |" }
];

examples.forEach((e, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + e.code + "</code></td>";
  html += "<td style='padding:10px;'><b>" + e.output + "</b></td></tr>";
});
html += "</table>";

html += "<p style='background:#e8f5e9;padding:15px;border-radius:8px;margin-top:20px;'>";
html += " <b>Tip:</b> Always use f-strings in Python 3.6+ - they're the fastest and most readable!</p>";

document.getElementById("demo").innerHTML = html;
</script>
</body>
</html>`,
    },

    // Libraries
    'builtin-modules': {
      title: 'Python Built-in Modules',
      content: `# Python Built-in Modules 

Python comes with **batteries included** - powerful modules ready to use!

## os Module

\`\`\`python
import os

# Current directory
print(os.getcwd())

# List files
print(os.listdir())

# Create/remove directories
os.mkdir("new_folder")
os.makedirs("nested/folder", exist_ok=True)
os.rmdir("empty_folder")

# Path operations
print(os.path.exists("file.txt"))
print(os.path.join("folder", "file.txt"))
\`\`\`

## sys Module

\`\`\`python
import sys

# Python version
print(sys.version)

# Command line arguments
print(sys.argv)

# Exit program
sys.exit(0)

# Module search path
print(sys.path)
\`\`\`

## collections Module

\`\`\`python
from collections import Counter, defaultdict, deque

# Counter
c = Counter("hello")  # {'l': 2, 'h': 1, 'e': 1, 'o': 1}

# defaultdict
d = defaultdict(list)
d["key"].append("value")

# deque (double-ended queue)
dq = deque([1, 2, 3])
dq.appendleft(0)
\`\`\`

## itertools Module

\`\`\`python
import itertools

# Combinations
list(itertools.combinations([1,2,3], 2))
# [(1,2), (1,3), (2,3)]

# Permutations
list(itertools.permutations([1,2], 2))
# [(1,2), (2,1)]

# Infinite counter
counter = itertools.count(start=1)
\`\`\`

## pathlib Module

\`\`\`python
from pathlib import Path

p = Path("folder/file.txt")
print(p.name)      # file.txt
print(p.stem)      # file
print(p.suffix)    # .txt
print(p.parent)    # folder
p.mkdir(parents=True, exist_ok=True)
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python Built-in Modules Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Essential Modules</h3>";
const modules = [
  { name: "os", purpose: "File system operations" },
  { name: "sys", purpose: "System-specific functions" },
  { name: "datetime", purpose: "Date/time handling" },
  { name: "json", purpose: "JSON encode/decode" },
  { name: "re", purpose: "Regular expressions" },
  { name: "collections", purpose: "Special containers" },
  { name: "itertools", purpose: "Iterator functions" },
  { name: "functools", purpose: "Higher-order functions" },
  { name: "pathlib", purpose: "Object-oriented paths" },
  { name: "math", purpose: "Mathematical functions" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Module</th><th>Purpose</th></tr>";
modules.forEach((m, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + m.name + "</code></td>";
  html += "<td style='padding:10px;'>" + m.purpose + "</td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'random': {
      title: 'Python Random',
      content: `# Python Random 

Generate random numbers and make random choices!

## Basic Random Numbers

\`\`\`python
import random

# Random float [0.0, 1.0)
print(random.random())  # 0.7431...

# Random integer [a, b] (inclusive)
print(random.randint(1, 10))  # 7

# Random float [a, b]
print(random.uniform(1.0, 10.0))  # 5.34...
\`\`\`

## Random Choices

\`\`\`python
import random

# Pick one
items = ["apple", "banana", "cherry"]
print(random.choice(items))  # banana

# Pick multiple (with replacement)
print(random.choices(items, k=3))  # ['apple', 'cherry', 'apple']

# Pick multiple (without replacement)
print(random.sample(items, k=2))  # ['cherry', 'banana']
\`\`\`

## Shuffle and Seed

\`\`\`python
import random

# Shuffle in place
deck = list(range(1, 53))
random.shuffle(deck)
print(deck[:5])  # [23, 7, 41, 3, 15]

# Set seed for reproducibility
random.seed(42)
print(random.randint(1, 100))  # Always 82
\`\`\`

## Weighted Choices

\`\`\`python
import random

# Choose with weights
options = ["rare", "common", "epic"]
weights = [10, 80, 10]  # 10%, 80%, 10%

result = random.choices(options, weights=weights, k=1)
print(result)
\`\`\`

## Random Ranges

\`\`\`python
import random

# Random from range
print(random.randrange(0, 100, 5))  # 45 (0, 5, 10, ... 95)

# Random float in normal distribution
print(random.gauss(0, 1))  # Around 0, std dev 1
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python Random Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Random Functions</h3>";

// Simulate random results
const results = {
  "random.random()": Math.random().toFixed(4),
  "random.randint(1, 10)": Math.floor(Math.random() * 10) + 1,
  "random.choice(['a','b','c'])": ["a", "b", "c"][Math.floor(Math.random() * 3)],
  "random.uniform(1, 10)": (Math.random() * 9 + 1).toFixed(4)
};

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Function</th><th>Result</th></tr>";
Object.entries(results).forEach(([fn, result], i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + fn + "</code></td>";
  html += "<td style='padding:10px;'><b>" + result + "</b></td></tr>";
});
html += "</table>";

// Dice roll simulator
html += "<h3>Dice Roll Simulator </h3>";
const dice = [];
for (let i = 0; i < 5; i++) dice.push(Math.floor(Math.random() * 6) + 1);
html += "<div style='display:flex;gap:10px;'>";
dice.forEach(d => {
  html += "<div style='width:50px;height:50px;background:#3776AB;color:white;display:flex;align-items:center;justify-content:center;border-radius:8px;font-size:24px;'>" + d + "</div>";
});
html += "</div>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'math': {
      title: 'Python Math',
      content: `# Python Math Module 

Mathematical functions for serious calculations!

## Constants

\`\`\`python
import math

print(math.pi)   # 3.141592653589793
print(math.e)    # 2.718281828459045
print(math.inf)  # Infinity
print(math.nan)  # Not a Number
\`\`\`

## Basic Functions

\`\`\`python
import math

# Square root
print(math.sqrt(16))  # 4.0

# Power
print(math.pow(2, 3))  # 8.0

# Absolute value
print(abs(-5))  # 5

# Floor and ceiling
print(math.floor(3.7))  # 3
print(math.ceil(3.2))   # 4
\`\`\`

## Rounding

\`\`\`python
import math

# Round to nearest
print(round(3.5))  # 4
print(round(2.5))  # 2 (banker's rounding)

# Truncate (remove decimals)
print(math.trunc(3.7))  # 3
print(math.trunc(-3.7)) # -3
\`\`\`

## Trigonometry

\`\`\`python
import math

# Convert degrees to radians
angle = math.radians(90)

# Trig functions (use radians)
print(math.sin(angle))   # 1.0
print(math.cos(angle))   # ~0
print(math.tan(math.radians(45)))  # 1.0

# Inverse trig
print(math.degrees(math.asin(1)))  # 90
\`\`\`

## Logarithms

\`\`\`python
import math

# Natural log (base e)
print(math.log(math.e))   # 1.0

# Log base 10
print(math.log10(100))    # 2.0

# Log base 2
print(math.log2(8))       # 3.0

# Custom base
print(math.log(8, 2))     # 3.0
\`\`\`

## Factorial and Combinations

\`\`\`python
import math

print(math.factorial(5))  # 120 (5!)
print(math.comb(5, 2))    # 10 (5 choose 2)
print(math.perm(5, 2))    # 20 (permutations)
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python Math Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Math Constants</h3>";
html += "<p> = " + Math.PI.toFixed(10) + "</p>";
html += "<p>e = " + Math.E.toFixed(10) + "</p>";

html += "<h3>Common Functions</h3>";
const functions = [
  { fn: "sqrt(16)", result: Math.sqrt(16) },
  { fn: "pow(2, 8)", result: Math.pow(2, 8) },
  { fn: "floor(3.7)", result: Math.floor(3.7) },
  { fn: "ceil(3.2)", result: Math.ceil(3.2) },
  { fn: "sin(/2)", result: Math.sin(Math.PI/2).toFixed(4) },
  { fn: "cos(0)", result: Math.cos(0) },
  { fn: "log10(100)", result: Math.log10(100) },
  { fn: "log2(8)", result: Math.log2(8) }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Function</th><th>Result</th></tr>";
functions.forEach((f, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>math." + f.fn + "</code></td>";
  html += "<td style='padding:10px;'><b>" + f.result + "</b></td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'statistics': {
      title: 'Python Statistics',
      content: `# Python Statistics Module 

Analyze data like a pro!

## Central Tendency

\`\`\`python
import statistics

data = [1, 2, 3, 4, 5, 5, 6, 7, 8, 9, 10]

# Mean (average)
print(statistics.mean(data))  # 5.45...

# Median (middle value)
print(statistics.median(data))  # 5

# Mode (most common)
print(statistics.mode(data))  # 5
\`\`\`

## Spread

\`\`\`python
import statistics

data = [2, 4, 6, 8, 10]

# Variance
print(statistics.variance(data))  # 10

# Standard deviation
print(statistics.stdev(data))  # 3.16...

# Population versions (when you have ALL data)
print(statistics.pvariance(data))
print(statistics.pstdev(data))
\`\`\`

## Quantiles

\`\`\`python
import statistics

data = list(range(1, 101))

# Quantiles (split into n equal groups)
quartiles = statistics.quantiles(data, n=4)
print(quartiles)  # [25.75, 50.5, 75.25]

# Median (same as 2nd quartile)
print(statistics.median(data))  # 50.5
\`\`\`

## Correlation

\`\`\`python
import statistics

x = [1, 2, 3, 4, 5]
y = [2, 4, 5, 4, 5]

# Correlation coefficient (-1 to 1)
print(statistics.correlation(x, y))  # 0.77...

# Linear regression
slope, intercept = statistics.linear_regression(x, y)
print(f"y = {slope}x + {intercept}")
\`\`\`

## Harmonic and Geometric Means

\`\`\`python
import statistics

data = [1, 2, 4, 8]

# Harmonic mean (good for rates)
print(statistics.harmonic_mean(data))  # 2.13...

# Geometric mean (good for growth rates)
print(statistics.geometric_mean(data))  # 2.82...
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python Statistics Demo</h2>
<div id="demo"></div>
<script>
const data = [1, 2, 3, 4, 5, 5, 6, 7, 8, 9, 10];

// Calculate statistics
const mean = data.reduce((a, b) => a + b) / data.length;
const sorted = [...data].sort((a, b) => a - b);
const median = sorted[Math.floor(sorted.length / 2)];
const mode = 5; // Most common

let html = "<h3>Data: [" + data.join(", ") + "]</h3>";

html += "<div style='display:flex;gap:20px;'>";
html += "<div style='flex:1;background:#e8f5e9;padding:20px;border-radius:8px;text-align:center;'>";
html += "<h4>Mean</h4><p style='font-size:32px;'>" + mean.toFixed(2) + "</p></div>";

html += "<div style='flex:1;background:#e3f2fd;padding:20px;border-radius:8px;text-align:center;'>";
html += "<h4>Median</h4><p style='font-size:32px;'>" + median + "</p></div>";

html += "<div style='flex:1;background:#fff3e0;padding:20px;border-radius:8px;text-align:center;'>";
html += "<h4>Mode</h4><p style='font-size:32px;'>" + mode + "</p></div>";
html += "</div>";

html += "<h3>Common Functions</h3>";
const fns = [
  { fn: "mean()", desc: "Average of values" },
  { fn: "median()", desc: "Middle value" },
  { fn: "mode()", desc: "Most common value" },
  { fn: "stdev()", desc: "Standard deviation" },
  { fn: "variance()", desc: "Variance" },
  { fn: "quantiles()", desc: "Split into groups" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
fns.forEach((f, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>statistics." + f.fn + "</code></td>";
  html += "<td style='padding:10px;'>" + f.desc + "</td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'requests': {
      title: 'Python Requests',
      content: `# Python Requests 

Make HTTP requests easily - the backbone of API interactions!

## Installation

\`\`\`bash
pip install requests
\`\`\`

## GET Request

\`\`\`python
import requests

# Basic GET
response = requests.get("https://api.github.com")
print(response.status_code)  # 200
print(response.json())  # Parse JSON response

# With parameters
params = {"q": "python", "page": 1}
response = requests.get(
    "https://api.github.com/search/repos",
    params=params
)
\`\`\`

## POST Request

\`\`\`python
import requests

# Send JSON data
data = {"name": "Alice", "email": "alice@example.com"}
response = requests.post(
    "https://api.example.com/users",
    json=data
)
print(response.status_code)  # 201
print(response.json())
\`\`\`

## Headers and Authentication

\`\`\`python
import requests

# Custom headers
headers = {
    "Authorization": "Bearer YOUR_TOKEN",
    "Content-Type": "application/json"
}

response = requests.get(
    "https://api.example.com/me",
    headers=headers
)

# Basic auth
response = requests.get(
    "https://api.example.com/secure",
    auth=("username", "password")
)
\`\`\`

## Response Object

\`\`\`python
import requests

r = requests.get("https://api.github.com")

print(r.status_code)  # 200
print(r.headers)      # Response headers
print(r.text)         # Raw text
print(r.json())       # Parsed JSON
print(r.content)      # Raw bytes
print(r.url)          # Final URL
\`\`\`

## Error Handling

\`\`\`python
import requests

try:
    r = requests.get("https://api.example.com", timeout=5)
    r.raise_for_status()  # Raise exception for 4xx/5xx
except requests.exceptions.HTTPError as e:
    print(f"HTTP Error: {e}")
except requests.exceptions.Timeout:
    print("Request timed out")
except requests.exceptions.RequestException as e:
    print(f"Request failed: {e}")
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python Requests Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>HTTP Methods</h3>";
const methods = [
  { method: "GET", code: "requests.get(url)", use: "Fetch data" },
  { method: "POST", code: "requests.post(url, json=data)", use: "Create data" },
  { method: "PUT", code: "requests.put(url, json=data)", use: "Update data" },
  { method: "DELETE", code: "requests.delete(url)", use: "Delete data" },
  { method: "PATCH", code: "requests.patch(url, json=data)", use: "Partial update" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Method</th><th>Code</th><th>Use Case</th></tr>";
methods.forEach((m, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><b>" + m.method + "</b></td>";
  html += "<td style='padding:10px;'><code>" + m.code + "</code></td>";
  html += "<td style='padding:10px;'>" + m.use + "</td></tr>";
});
html += "</table>";

html += "<h3>Response Properties</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "r = requests.get(url)\\n\\n";
html += "r.status_code  # 200, 404, 500...\\n";
html += "r.json()       # Parsed JSON\\n";
html += "r.text         # Raw text\\n";
html += "r.headers      # Response headers\\n";
html += "r.ok           # True if 2xx</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // NumPy
    'numpy-intro': {
      title: 'NumPy Introduction',
      content: `# NumPy Introduction 

NumPy is the **foundation of scientific Python** - 50-100x faster than lists!

## What is NumPy?

\`\`\`python
import numpy as np

# NumPy array vs Python list
py_list = [1, 2, 3, 4, 5]
np_array = np.array([1, 2, 3, 4, 5])

# NumPy is MUCH faster for math
np_array * 2  # [2, 4, 6, 8, 10] - instant!
\`\`\`

## Why NumPy?

1. **Speed** - Written in C, vectorized operations
2. **Memory** - Efficient storage
3. **Broadcasting** - Smart operations on different shapes
4. **Foundation** - Pandas, SciPy, scikit-learn all use NumPy

## Creating Arrays

\`\`\`python
import numpy as np

# From list
arr = np.array([1, 2, 3])

# Zeros and ones
zeros = np.zeros(5)        # [0, 0, 0, 0, 0]
ones = np.ones((3, 3))     # 3x3 matrix of 1s

# Range
range_arr = np.arange(0, 10, 2)  # [0, 2, 4, 6, 8]

# Linspace (evenly spaced)
lin = np.linspace(0, 1, 5)  # [0, 0.25, 0.5, 0.75, 1]

# Random
rand = np.random.rand(3, 3)     # 3x3 random [0, 1)
randn = np.random.randn(3, 3)   # Normal distribution
\`\`\`

## Array Properties

\`\`\`python
arr = np.array([[1, 2, 3], [4, 5, 6]])

print(arr.shape)   # (2, 3) - 2 rows, 3 cols
print(arr.ndim)    # 2 - dimensions
print(arr.size)    # 6 - total elements
print(arr.dtype)   # int64 - data type
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> NumPy Introduction Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>NumPy vs Python List Speed</h3>";
html += "<div style='display:flex;gap:20px;'>";

html += "<div style='flex:1;background:#ffebee;padding:20px;border-radius:8px;'>";
html += "<h4>Python List </h4>";
html += "<pre>result = []\\nfor x in list:\\n    result.append(x * 2)</pre>";
html += "<p>Slow for large data</p></div>";

html += "<div style='flex:1;background:#e8f5e9;padding:20px;border-radius:8px;'>";
html += "<h4>NumPy Array </h4>";
html += "<pre>result = arr * 2</pre>";
html += "<p>50-100x faster!</p></div>";

html += "</div>";

html += "<h3>Array Creation Functions</h3>";
const fns = [
  { fn: "np.array([1,2,3])", result: "[1, 2, 3]" },
  { fn: "np.zeros(3)", result: "[0, 0, 0]" },
  { fn: "np.ones(3)", result: "[1, 1, 1]" },
  { fn: "np.arange(0, 5)", result: "[0, 1, 2, 3, 4]" },
  { fn: "np.linspace(0, 1, 3)", result: "[0, 0.5, 1]" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Function</th><th>Result</th></tr>";
fns.forEach((f, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + f.fn + "</code></td>";
  html += "<td style='padding:10px;'>" + f.result + "</td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'numpy-arrays': {
      title: 'NumPy Arrays',
      content: `# NumPy Arrays 

Master the ndarray - NumPy's core data structure!

## Array Operations

\`\`\`python
import numpy as np

arr = np.array([1, 2, 3, 4, 5])

# Element-wise operations
print(arr + 10)   # [11, 12, 13, 14, 15]
print(arr * 2)    # [2, 4, 6, 8, 10]
print(arr ** 2)   # [1, 4, 9, 16, 25]
print(np.sqrt(arr))  # [1, 1.41, 1.73, 2, 2.24]

# Array with array
a = np.array([1, 2, 3])
b = np.array([4, 5, 6])
print(a + b)  # [5, 7, 9]
print(a * b)  # [4, 10, 18]
\`\`\`

## Indexing and Slicing

\`\`\`python
arr = np.array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])

print(arr[3])      # 3
print(arr[2:5])    # [2, 3, 4]
print(arr[:3])     # [0, 1, 2]
print(arr[-3:])    # [7, 8, 9]
print(arr[::2])    # [0, 2, 4, 6, 8] (every 2nd)

# 2D array
arr2d = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])
print(arr2d[0, 1])     # 2
print(arr2d[:2, :2])   # [[1, 2], [4, 5]]
\`\`\`

## Boolean Indexing

\`\`\`python
arr = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])

# Create mask
mask = arr > 5
print(mask)  # [False, False, ..., True, True, ...]

# Apply mask
print(arr[mask])  # [6, 7, 8, 9, 10]

# Direct filtering
print(arr[arr % 2 == 0])  # [2, 4, 6, 8, 10]
\`\`\`

## Reshaping

\`\`\`python
arr = np.arange(12)

# Reshape to 2D
reshaped = arr.reshape(3, 4)  # 3 rows, 4 cols
reshaped = arr.reshape(4, -1)  # 4 rows, auto cols

# Flatten back to 1D
flat = reshaped.flatten()

# Transpose
transposed = reshaped.T  # Swap rows and cols
\`\`\`

## Common Operations

\`\`\`python
arr = np.array([[1, 2, 3], [4, 5, 6]])

print(arr.sum())      # 21
print(arr.mean())     # 3.5
print(arr.std())      # 1.70...
print(arr.min())      # 1
print(arr.max())      # 6

# Along axis
print(arr.sum(axis=0))  # [5, 7, 9] (column sums)
print(arr.sum(axis=1))  # [6, 15] (row sums)
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> NumPy Arrays Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Array Operations</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "arr = np.array([1, 2, 3, 4, 5])\\n\\n";
html += "arr + 10   [11, 12, 13, 14, 15]\\n";
html += "arr * 2    [2, 4, 6, 8, 10]\\n";
html += "arr ** 2   [1, 4, 9, 16, 25]\\n";
html += "arr > 3    [False, False, False, True, True]</pre>";

html += "<h3>Aggregation Functions</h3>";
const aggs = [
  { fn: "arr.sum()", desc: "Sum of all elements" },
  { fn: "arr.mean()", desc: "Average" },
  { fn: "arr.std()", desc: "Standard deviation" },
  { fn: "arr.min() / max()", desc: "Min/Max values" },
  { fn: "arr.argmin() / argmax()", desc: "Index of min/max" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
aggs.forEach((a, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + a.fn + "</code></td>";
  html += "<td style='padding:10px;'>" + a.desc + "</td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'vectorization': {
      title: 'NumPy Vectorization',
      content: `# NumPy Vectorization 

Replace slow loops with fast vectorized operations!

## The Problem with Loops

\`\`\`python
#  SLOW: Python loops
def slow_square(data):
    result = []
    for x in data:
        result.append(x ** 2)
    return result

#  FAST: NumPy vectorization
def fast_square(data):
    return data ** 2  # Works on entire array!
\`\`\`

## Speed Comparison

\`\`\`python
import numpy as np
import time

size = 1_000_000
data = list(range(size))
arr = np.array(data)

# Python loop: ~200ms
start = time.time()
result = [x ** 2 for x in data]
print(f"Python: {time.time() - start:.3f}s")

# NumPy vectorized: ~2ms
start = time.time()
result = arr ** 2
print(f"NumPy: {time.time() - start:.3f}s")
# 100x faster!
\`\`\`

## Universal Functions (ufuncs)

\`\`\`python
import numpy as np

arr = np.array([1, 4, 9, 16, 25])

# Math ufuncs
np.sqrt(arr)    # [1, 2, 3, 4, 5]
np.exp(arr)     # Exponential
np.log(arr)     # Natural log
np.sin(arr)     # Sine

# Comparison ufuncs
np.greater(arr, 10)  # [False, False, False, True, True]
np.maximum(arr, 10)  # [10, 10, 10, 16, 25]
\`\`\`

## Vectorized Conditionals

\`\`\`python
import numpy as np

arr = np.array([1, 2, 3, 4, 5])

# Instead of if-else loops:
result = np.where(arr > 3, arr * 2, arr)
# [1, 2, 3, 8, 10]

# Multiple conditions
result = np.select(
    [arr < 2, arr < 4],
    ["small", "medium"],
    default="large"
)
# ['small', 'medium', 'medium', 'large', 'large']
\`\`\`

## Custom Vectorized Functions

\`\`\`python
import numpy as np

# Create vectorized version of any function
def my_func(x):
    if x < 0:
        return 0
    return x ** 2

vectorized = np.vectorize(my_func)
arr = np.array([-2, -1, 0, 1, 2])
print(vectorized(arr))  # [0, 0, 0, 1, 4]
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> NumPy Vectorization Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Speed Comparison</h3>";
html += "<div style='display:flex;gap:20px;'>";

html += "<div style='flex:1;background:#ffebee;padding:20px;border-radius:8px;text-align:center;'>";
html += "<h4>Python Loop </h4>";
html += "<p style='font-size:32px;'>~200ms</p>";
html += "<code>[x**2 for x in data]</code></div>";

html += "<div style='flex:1;background:#e8f5e9;padding:20px;border-radius:8px;text-align:center;'>";
html += "<h4>NumPy Vectorized </h4>";
html += "<p style='font-size:32px;'>~2ms</p>";
html += "<code>arr ** 2</code></div>";

html += "</div>";
html += "<p style='text-align:center;margin-top:20px;'><b>100x faster!</b></p>";

html += "<h3>Common Vectorized Operations</h3>";
const ops = [
  { loop: "for x: result.append(x+1)", vec: "arr + 1" },
  { loop: "for x: result.append(x**2)", vec: "arr ** 2" },
  { loop: "for x: result.append(sqrt(x))", vec: "np.sqrt(arr)" },
  { loop: "for x: if x>0 then x else 0", vec: "np.where(arr>0, arr, 0)" },
  { loop: "for x: result.append(max(x, 10))", vec: "np.maximum(arr, 10)" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Loop (Slow)</th><th>Vectorized (Fast)</th></tr>";
ops.forEach((o, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + o.loop + "</code></td>";
  html += "<td style='padding:10px;'><code>" + o.vec + "</code></td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'broadcasting': {
      title: 'NumPy Broadcasting',
      content: `# NumPy Broadcasting 

Operations on arrays with different shapes - NumPy figures it out!

## Basic Broadcasting

\`\`\`python
import numpy as np

# Scalar broadcasts to all elements
arr = np.array([1, 2, 3])
print(arr + 10)  # [11, 12, 13]

# 1D broadcasts across rows
matrix = np.array([[1, 2, 3],
                   [4, 5, 6]])
row = np.array([10, 20, 30])
print(matrix + row)
# [[11, 22, 33],
#  [14, 25, 36]]
\`\`\`

## Broadcasting Rules

\`\`\`
1. Compare shapes right-to-left
2. Dimensions must be equal OR one must be 1
3. If dimension is 1, stretch to match

(3, 4) + (4,)    works! (4,) stretches to (3, 4)
(3, 4) + (3, 1)  works! (3, 1) stretches to (3, 4)
(3, 4) + (2, 4)  ERROR! 3  2 and neither is 1
\`\`\`

## Examples

\`\`\`python
import numpy as np

# Add column to each column
matrix = np.ones((3, 3))
column = np.array([[1], [2], [3]])  # Shape (3, 1)
print(matrix + column)
# [[2, 2, 2],
#  [3, 3, 3],
#  [4, 4, 4]]

# Outer product
a = np.array([1, 2, 3])
b = np.array([10, 20])
print(a.reshape(-1, 1) * b)
# [[10, 20],
#  [20, 40],
#  [30, 60]]
\`\`\`

## Practical Use Cases

\`\`\`python
import numpy as np

# Normalize data (subtract mean, divide by std)
data = np.random.randn(100, 5)  # 100 samples, 5 features
means = data.mean(axis=0)        # Shape (5,)
stds = data.std(axis=0)          # Shape (5,)
normalized = (data - means) / stds  # Broadcasting!

# Distance calculation
points = np.array([[0, 0], [1, 1], [2, 2]])  # 3 points
center = np.array([1, 1])                     # 1 point
distances = np.sqrt(((points - center) ** 2).sum(axis=1))
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> NumPy Broadcasting Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Broadcasting in Action</h3>";
html += "<div style='background:#e8f5e9;padding:20px;border-radius:8px;'>";
html += "<pre>";
html += "matrix = [[1, 2, 3],    row = [10, 20, 30]\\n";
html += "         [4, 5, 6]]\\n\\n";
html += "matrix + row =\\n";
html += "         [[11, 22, 33],\\n";
html += "          [14, 25, 36]]</pre>";
html += "</div>";

html += "<h3>Broadcasting Rules</h3>";
const rules = [
  { shapes: "(3, 4) + (4,)", result: " Works", reason: "(4,) stretches to (3,4)" },
  { shapes: "(3, 4) + (3, 1)", result: " Works", reason: "(3,1) stretches to (3,4)" },
  { shapes: "(3, 4) + (1, 4)", result: " Works", reason: "(1,4) stretches to (3,4)" },
  { shapes: "(3, 4) + (2, 4)", result: " Error", reason: "3  2 and neither is 1" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Shapes</th><th>Result</th><th>Reason</th></tr>";
rules.forEach((r, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + r.shapes + "</code></td>";
  html += "<td style='padding:10px;'>" + r.result + "</td>";
  html += "<td style='padding:10px;'>" + r.reason + "</td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // Pandas - abbreviated for space
    'pandas-intro': {
      title: 'Pandas Introduction',
      content: `# Pandas Introduction 

Pandas is **THE library** for data analysis in Python!

## What is Pandas?

- Built on NumPy
- DataFrame = 2D table (like Excel)
- Series = 1D column

## Creating DataFrames

\`\`\`python
import pandas as pd

# From dictionary
df = pd.DataFrame({
    "name": ["Alice", "Bob", "Charlie"],
    "age": [25, 30, 35],
    "city": ["NYC", "LA", "Chicago"]
})

# From CSV
df = pd.read_csv("data.csv")

# From Excel
df = pd.read_excel("data.xlsx")
\`\`\`

## Basic Operations

\`\`\`python
# View data
df.head()       # First 5 rows
df.tail()       # Last 5 rows
df.info()       # Column info
df.describe()   # Statistics

# Select columns
df["name"]           # Single column (Series)
df[["name", "age"]]  # Multiple columns (DataFrame)

# Select rows
df.iloc[0]      # First row by index
df.loc[0:2]     # Rows 0-2 by label
\`\`\`

## Key Features

1. **Data loading** - CSV, Excel, SQL, JSON
2. **Cleaning** - Handle missing data
3. **Filtering** - Select rows/columns
4. **Grouping** - Aggregate data
5. **Joining** - Merge datasets
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Pandas Introduction Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>DataFrame Example</h3>";
html += "<table style='width:100%;border-collapse:collapse;border:1px solid #ddd;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th style='padding:10px;'>name</th>";
html += "<th style='padding:10px;'>age</th>";
html += "<th style='padding:10px;'>city</th></tr>";

const data = [
  { name: "Alice", age: 25, city: "NYC" },
  { name: "Bob", age: 30, city: "LA" },
  { name: "Charlie", age: 35, city: "Chicago" }
];

data.forEach((row, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;border:1px solid #ddd;'>" + row.name + "</td>";
  html += "<td style='padding:10px;border:1px solid #ddd;'>" + row.age + "</td>";
  html += "<td style='padding:10px;border:1px solid #ddd;'>" + row.city + "</td></tr>";
});
html += "</table>";

html += "<h3>Common Methods</h3>";
const methods = [
  "df.head()  First 5 rows",
  "df.tail()  Last 5 rows",
  "df.info()  Column info",
  "df.describe()  Statistics",
  "df['column']  Select column"
];
html += "<ul>";
methods.forEach(m => html += "<li><code>" + m + "</code></li>");
html += "</ul>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // Pandas continued
    'pandas-indexing': {
      title: 'Pandas Indexing',
      content: `# Pandas Indexing 

Master selecting data like a pro - loc, iloc, and more!

## loc vs iloc

\`\`\`python
import pandas as pd

df = pd.DataFrame({
    'name': ['Alice', 'Bob', 'Charlie'],
    'age': [25, 30, 35],
    'city': ['NYC', 'LA', 'Chicago']
}, index=['a', 'b', 'c'])

# loc - Label-based (uses index labels)
df.loc['a']           # Row with label 'a'
df.loc['a':'b']       # Rows 'a' to 'b' (inclusive!)
df.loc['a', 'name']   # Single cell

# iloc - Integer-based (uses position)
df.iloc[0]            # First row
df.iloc[0:2]          # First 2 rows (exclusive!)
df.iloc[0, 0]         # First cell
\`\`\`

## Selecting Columns

\`\`\`python
# Single column (returns Series)
df['name']
df.name  # Shorthand (not recommended)

# Multiple columns (returns DataFrame)
df[['name', 'age']]

# loc/iloc for columns
df.loc[:, 'name']           # All rows, 'name' column
df.iloc[:, 0]               # All rows, first column
df.loc[:, 'name':'age']     # Columns from 'name' to 'age'
\`\`\`

## Boolean Indexing

\`\`\`python
# Filter rows
df[df['age'] > 25]          # Age > 25
df[df['city'] == 'NYC']     # City is NYC

# Multiple conditions
df[(df['age'] > 25) & (df['city'] == 'LA')]
df[(df['age'] < 30) | (df['city'] == 'Chicago')]

# isin for multiple values
df[df['city'].isin(['NYC', 'LA'])]

# String methods
df[df['name'].str.startswith('A')]
df[df['name'].str.contains('li')]
\`\`\`

## Setting Values

\`\`\`python
# Set single value
df.loc['a', 'age'] = 26

# Set entire column
df['new_col'] = 0

# Set with condition
df.loc[df['age'] > 30, 'category'] = 'Senior'

# Set multiple values
df.loc['a', ['age', 'city']] = [27, 'Boston']
\`\`\`

## at and iat (Fast Single Value)

\`\`\`python
# Fast single value access
df.at['a', 'name']    # Label-based
df.iat[0, 0]          # Integer-based

# Faster than loc/iloc for single values!
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Pandas Indexing Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>loc vs iloc</h3>";
html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Method</th><th>Uses</th><th>Slicing</th></tr>";

const methods = [
  { method: "loc", uses: "Labels/Names", slicing: "Inclusive [a:b]" },
  { method: "iloc", uses: "Integer positions", slicing: "Exclusive [0:2]" },
  { method: "at", uses: "Single label value", slicing: "N/A (fastest)" },
  { method: "iat", uses: "Single integer value", slicing: "N/A (fastest)" }
];

methods.forEach((m, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>df." + m.method + "</code></td>";
  html += "<td style='padding:10px;'>" + m.uses + "</td>";
  html += "<td style='padding:10px;'>" + m.slicing + "</td></tr>";
});
html += "</table>";

html += "<h3>Examples</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "df.loc['a']           # Row by label\\n";
html += "df.iloc[0]            # Row by position\\n";
html += "df.loc[:, 'name']     # Column by label\\n";
html += "df[df['age'] > 25]    # Boolean filter</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'pandas-filtering': {
      title: 'Pandas Filtering',
      content: `# Pandas Filtering 

Filter your data to find exactly what you need!

## Basic Filtering

\`\`\`python
import pandas as pd

df = pd.DataFrame({
    'name': ['Alice', 'Bob', 'Charlie', 'Diana'],
    'age': [25, 30, 35, 28],
    'dept': ['Sales', 'IT', 'IT', 'Sales'],
    'salary': [50000, 60000, 70000, 55000]
})

# Single condition
df[df['age'] > 30]
df[df['dept'] == 'IT']
df[df['salary'] >= 55000]
\`\`\`

## Multiple Conditions

\`\`\`python
# AND condition (&)
df[(df['age'] > 25) & (df['dept'] == 'IT')]

# OR condition (|)
df[(df['dept'] == 'Sales') | (df['salary'] > 65000)]

# NOT condition (~)
df[~(df['dept'] == 'IT')]
\`\`\`

## isin() for Multiple Values

\`\`\`python
# Check if in list
df[df['dept'].isin(['IT', 'HR'])]
df[df['age'].isin([25, 30, 35])]

# Exclude values
df[~df['dept'].isin(['IT'])]
\`\`\`

## String Filtering

\`\`\`python
# Contains
df[df['name'].str.contains('li')]

# Starts/ends with
df[df['name'].str.startswith('A')]
df[df['name'].str.endswith('e')]

# Case insensitive
df[df['name'].str.lower().str.contains('alice')]

# Regex
df[df['name'].str.match(r'^[A-C]')]
\`\`\`

## query() Method

\`\`\`python
# More readable syntax
df.query('age > 25')
df.query('dept == "IT" and salary > 60000')
df.query('name.str.contains("li")', engine='python')

# With variables
min_age = 25
df.query('age > @min_age')
\`\`\`

## between() for Ranges

\`\`\`python
# Value in range
df[df['age'].between(25, 30)]
df[df['salary'].between(50000, 60000)]
\`\`\`

## Null Filtering

\`\`\`python
# Find nulls
df[df['name'].isna()]
df[df['name'].isnull()]

# Find non-nulls
df[df['name'].notna()]
df[df['name'].notnull()]
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Pandas Filtering Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Filter Operators</h3>";
const ops = [
  { op: "&", name: "AND", example: "(df['a'] > 5) & (df['b'] < 10)" },
  { op: "|", name: "OR", example: "(df['a'] > 5) | (df['b'] < 10)" },
  { op: "~", name: "NOT", example: "~(df['a'] > 5)" },
  { op: ".isin()", name: "IN LIST", example: "df['a'].isin([1, 2, 3])" },
  { op: ".between()", name: "RANGE", example: "df['a'].between(5, 10)" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Operator</th><th>Name</th><th>Example</th></tr>";
ops.forEach((o, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + o.op + "</code></td>";
  html += "<td style='padding:10px;'>" + o.name + "</td>";
  html += "<td style='padding:10px;'><code>" + o.example + "</code></td></tr>";
});
html += "</table>";

html += "<h3>String Methods</h3>";
html += "<ul>";
html += "<li><code>.str.contains('text')</code> - Contains substring</li>";
html += "<li><code>.str.startswith('A')</code> - Starts with</li>";
html += "<li><code>.str.endswith('z')</code> - Ends with</li>";
html += "<li><code>.str.match(r'regex')</code> - Regex match</li>";
html += "</ul>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'pandas-groupby': {
      title: 'Pandas GroupBy',
      content: `# Pandas GroupBy 

Split, apply, combine - the power of aggregation!

## Basic GroupBy

\`\`\`python
import pandas as pd

df = pd.DataFrame({
    'dept': ['Sales', 'IT', 'IT', 'Sales', 'HR'],
    'name': ['Alice', 'Bob', 'Charlie', 'Diana', 'Eve'],
    'salary': [50000, 60000, 70000, 55000, 45000],
    'years': [2, 5, 3, 4, 1]
})

# Group by single column
grouped = df.groupby('dept')

# Aggregate
grouped['salary'].mean()     # Average salary per dept
grouped['salary'].sum()      # Total salary per dept
grouped['salary'].count()    # Count per dept
\`\`\`

## Multiple Aggregations

\`\`\`python
# agg() for multiple functions
df.groupby('dept')['salary'].agg(['mean', 'min', 'max', 'count'])

# Different functions for different columns
df.groupby('dept').agg({
    'salary': ['mean', 'sum'],
    'years': 'max'
})

# Custom names
df.groupby('dept').agg(
    avg_salary=('salary', 'mean'),
    total_salary=('salary', 'sum'),
    employees=('name', 'count')
)
\`\`\`

## Group by Multiple Columns

\`\`\`python
df.groupby(['dept', 'years'])['salary'].mean()

# Reset index to get DataFrame
df.groupby(['dept', 'years'])['salary'].mean().reset_index()
\`\`\`

## Transform (Keep Same Shape)

\`\`\`python
# Add column with group mean
df['dept_avg'] = df.groupby('dept')['salary'].transform('mean')

# Normalize within groups
df['salary_pct'] = df.groupby('dept')['salary'].transform(
    lambda x: x / x.sum()
)
\`\`\`

## Filter Groups

\`\`\`python
# Keep only groups with mean > 55000
df.groupby('dept').filter(lambda x: x['salary'].mean() > 55000)
\`\`\`

## Apply Custom Functions

\`\`\`python
def top_earner(group):
    return group.loc[group['salary'].idxmax()]

df.groupby('dept').apply(top_earner)
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Pandas GroupBy Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>GroupBy Flow</h3>";
html += "<div style='display:flex;align-items:center;gap:20px;justify-content:center;'>";
html += "<div style='background:#e3f2fd;padding:20px;border-radius:8px;text-align:center;'>";
html += "<b>Split</b><br>Group by key</div>";
html += "<span style='font-size:24px;'></span>";
html += "<div style='background:#fff3e0;padding:20px;border-radius:8px;text-align:center;'>";
html += "<b>Apply</b><br>Calculate stats</div>";
html += "<span style='font-size:24px;'></span>";
html += "<div style='background:#e8f5e9;padding:20px;border-radius:8px;text-align:center;'>";
html += "<b>Combine</b><br>Merge results</div>";
html += "</div>";

html += "<h3>Common Aggregations</h3>";
const aggs = [
  { method: "mean()", desc: "Average" },
  { method: "sum()", desc: "Total" },
  { method: "count()", desc: "Count" },
  { method: "min() / max()", desc: "Min/Max" },
  { method: "first() / last()", desc: "First/Last value" },
  { method: "std()", desc: "Standard deviation" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
aggs.forEach((a, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>." + a.method + "</code></td>";
  html += "<td style='padding:10px;'>" + a.desc + "</td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'pandas-joins': {
      title: 'Pandas Joins',
      content: `# Pandas Joins & Merging 

Combine DataFrames like a database pro!

## merge() - SQL-style Joins

\`\`\`python
import pandas as pd

employees = pd.DataFrame({
    'id': [1, 2, 3],
    'name': ['Alice', 'Bob', 'Charlie'],
    'dept_id': [10, 20, 10]
})

departments = pd.DataFrame({
    'dept_id': [10, 20, 30],
    'dept_name': ['Sales', 'IT', 'HR']
})

# Inner join (default)
merged = pd.merge(employees, departments, on='dept_id')

# Left join
merged = pd.merge(employees, departments, on='dept_id', how='left')

# Right join
merged = pd.merge(employees, departments, on='dept_id', how='right')

# Outer join
merged = pd.merge(employees, departments, on='dept_id', how='outer')
\`\`\`

## Different Column Names

\`\`\`python
# When columns have different names
pd.merge(
    employees, 
    departments,
    left_on='dept_id',
    right_on='id'
)
\`\`\`

## Multiple Keys

\`\`\`python
pd.merge(df1, df2, on=['key1', 'key2'])
\`\`\`

## concat() - Stack DataFrames

\`\`\`python
# Stack vertically (rows)
df_combined = pd.concat([df1, df2])

# Stack horizontally (columns)
df_combined = pd.concat([df1, df2], axis=1)

# Reset index
df_combined = pd.concat([df1, df2], ignore_index=True)
\`\`\`

## join() - Index-based

\`\`\`python
# Join on index
df1.join(df2)
df1.join(df2, how='outer')

# Join on key column
df1.set_index('id').join(df2.set_index('dept_id'))
\`\`\`

## Join Types Visual

\`\`\`
Inner: Only matching rows
Left:  All from left + matching from right
Right: Matching from left + all from right
Outer: All from both
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Pandas Joins Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Join Types</h3>";
html += "<div style='display:grid;grid-template-columns:1fr 1fr;gap:15px;'>";

const joins = [
  { type: "inner", desc: "Only matching rows", color: "#e8f5e9" },
  { type: "left", desc: "All left + matching right", color: "#e3f2fd" },
  { type: "right", desc: "Matching left + all right", color: "#fff3e0" },
  { type: "outer", desc: "All from both tables", color: "#fce4ec" }
];

joins.forEach(j => {
  html += "<div style='background:" + j.color + ";padding:15px;border-radius:8px;'>";
  html += "<h4 style='margin:0;'>" + j.type.toUpperCase() + "</h4>";
  html += "<p style='margin:5px 0 0 0;'>" + j.desc + "</p></div>";
});
html += "</div>";

html += "<h3>Quick Reference</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "# Merge (SQL-style)\\n";
html += "pd.merge(df1, df2, on='key', how='left')\\n\\n";
html += "# Concat (stack)\\n";
html += "pd.concat([df1, df2])  # Vertical\\n";
html += "pd.concat([df1, df2], axis=1)  # Horizontal\\n\\n";
html += "# Join (on index)\\n";
html += "df1.join(df2)</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'pandas-cleaning': {
      title: 'Pandas Data Cleaning',
      content: `# Pandas Data Cleaning 

Real data is messy - here's how to fix it!

## Handling Missing Data

\`\`\`python
import pandas as pd
import numpy as np

df = pd.DataFrame({
    'name': ['Alice', 'Bob', None, 'Diana'],
    'age': [25, np.nan, 35, 28],
    'city': ['NYC', 'LA', 'Chicago', None]
})

# Find missing values
df.isna()           # Boolean mask
df.isna().sum()     # Count per column

# Drop rows with any null
df.dropna()

# Drop rows where specific column is null
df.dropna(subset=['name'])

# Fill missing values
df.fillna(0)                      # Fill with 0
df.fillna('Unknown')              # Fill with string
df['age'].fillna(df['age'].mean()) # Fill with mean
df.fillna(method='ffill')         # Forward fill
df.fillna(method='bfill')         # Backward fill
\`\`\`

## Removing Duplicates

\`\`\`python
# Check for duplicates
df.duplicated()             # Boolean mask
df.duplicated().sum()       # Count

# Remove duplicates
df.drop_duplicates()                    # All columns
df.drop_duplicates(subset=['name'])     # Specific columns
df.drop_duplicates(keep='last')         # Keep last occurrence
\`\`\`

## Data Type Conversion

\`\`\`python
# Check types
df.dtypes

# Convert types
df['age'] = df['age'].astype(int)
df['date'] = pd.to_datetime(df['date'])
df['category'] = df['category'].astype('category')

# Convert with errors='coerce' (invalid  NaN)
df['age'] = pd.to_numeric(df['age'], errors='coerce')
\`\`\`

## String Cleaning

\`\`\`python
# Strip whitespace
df['name'] = df['name'].str.strip()

# Lowercase/uppercase
df['name'] = df['name'].str.lower()
df['name'] = df['name'].str.upper()
df['name'] = df['name'].str.title()

# Replace text
df['name'] = df['name'].str.replace('old', 'new')
\`\`\`

## Renaming

\`\`\`python
# Rename columns
df.rename(columns={'old_name': 'new_name'})
df.columns = ['col1', 'col2', 'col3']

# Rename index
df.rename(index={0: 'first'})
\`\`\`

## Apply Custom Cleaning

\`\`\`python
# Apply function to column
df['age'] = df['age'].apply(lambda x: x if x > 0 else None)

# Apply to entire DataFrame
df = df.apply(lambda col: col.fillna(col.mode()[0]))
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Pandas Data Cleaning Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Handling Missing Values</h3>";
const methods = [
  { method: "df.isna()", desc: "Find nulls (boolean)" },
  { method: "df.dropna()", desc: "Remove rows with nulls" },
  { method: "df.fillna(0)", desc: "Replace nulls with value" },
  { method: "df.fillna(method='ffill')", desc: "Forward fill" },
  { method: "df['col'].interpolate()", desc: "Interpolate values" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Method</th><th>Description</th></tr>";
methods.forEach((m, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + m.method + "</code></td>";
  html += "<td style='padding:10px;'>" + m.desc + "</td></tr>";
});
html += "</table>";

html += "<h3>Data Cleaning Pipeline</h3>";
html += "<pre style='background:#e8f5e9;padding:15px;border-radius:8px;'>";
html += "def clean_data(df):\\n";
html += "    df = df.drop_duplicates()\\n";
html += "    df = df.dropna(subset=['id'])\\n";
html += "    df['name'] = df['name'].str.strip().str.title()\\n";
html += "    df['age'] = pd.to_numeric(df['age'], errors='coerce')\\n";
html += "    df['age'] = df['age'].fillna(df['age'].median())\\n";
html += "    return df</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // Visualization
    'matplotlib-intro': {
      title: 'Matplotlib Introduction',
      content: `# Matplotlib Introduction 

Create beautiful visualizations with Python's most popular plotting library!

## Basic Setup

\`\`\`python
import matplotlib.pyplot as plt
import numpy as np

# Simple line plot
x = [1, 2, 3, 4, 5]
y = [2, 4, 6, 8, 10]

plt.plot(x, y)
plt.xlabel('X axis')
plt.ylabel('Y axis')
plt.title('My First Plot')
plt.show()
\`\`\`

## Figure and Axes

\`\`\`python
# Create figure and axis
fig, ax = plt.subplots()

ax.plot(x, y)
ax.set_xlabel('X axis')
ax.set_ylabel('Y axis')
ax.set_title('Using Axes')

plt.show()
\`\`\`

## Styling Lines

\`\`\`python
plt.plot(x, y, 'r--')   # Red dashed
plt.plot(x, y, 'b-o')   # Blue solid with circles
plt.plot(x, y, 'g^')    # Green triangles

# More options
plt.plot(x, y, 
         color='blue',
         linestyle='--',
         linewidth=2,
         marker='o',
         markersize=8,
         label='My Data')
plt.legend()
\`\`\`

## Multiple Lines

\`\`\`python
plt.plot(x, y1, label='Line 1')
plt.plot(x, y2, label='Line 2')
plt.legend()
plt.show()
\`\`\`

## Saving Figures

\`\`\`python
plt.savefig('plot.png', dpi=300, bbox_inches='tight')
plt.savefig('plot.pdf')
plt.savefig('plot.svg')
\`\`\`

## Common Customizations

\`\`\`python
plt.figure(figsize=(10, 6))  # Size in inches
plt.grid(True)                # Add grid
plt.xlim(0, 10)               # X axis limits
plt.ylim(0, 100)              # Y axis limits
plt.xticks([0, 5, 10])        # X tick positions
plt.tight_layout()            # Adjust spacing
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Matplotlib Introduction Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Line Style Shortcuts</h3>";
const styles = [
  { code: "'r-'", desc: "Red solid line" },
  { code: "'b--'", desc: "Blue dashed line" },
  { code: "'g:'", desc: "Green dotted line" },
  { code: "'k-.'", desc: "Black dash-dot" },
  { code: "'ro'", desc: "Red circles" },
  { code: "'bs'", desc: "Blue squares" },
  { code: "'g^'", desc: "Green triangles" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Code</th><th>Description</th></tr>";
styles.forEach((s, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + s.code + "</code></td>";
  html += "<td style='padding:10px;'>" + s.desc + "</td></tr>";
});
html += "</table>";

html += "<h3>Essential Plot Types</h3>";
html += "<div style='display:grid;grid-template-columns:repeat(4,1fr);gap:10px;'>";
const types = ["Line", "Bar", "Scatter", "Histogram", "Pie", "Box", "Heatmap", "Area"];
types.forEach(t => {
  html += "<div style='background:#e8f5e9;padding:10px;border-radius:8px;text-align:center;'>" + t + "</div>";
});
html += "</div>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'chart-types': {
      title: 'Chart Types',
      content: `# Chart Types 

Choose the right chart for your data!

## Line Chart

\`\`\`python
import matplotlib.pyplot as plt

x = [1, 2, 3, 4, 5]
y = [10, 25, 15, 30, 20]

plt.plot(x, y, marker='o')
plt.title('Line Chart')
plt.show()
\`\`\`

## Bar Chart

\`\`\`python
categories = ['A', 'B', 'C', 'D']
values = [25, 40, 30, 55]

plt.bar(categories, values, color='skyblue')
plt.title('Bar Chart')

# Horizontal bars
plt.barh(categories, values)
\`\`\`

## Scatter Plot

\`\`\`python
x = np.random.rand(50)
y = np.random.rand(50)
sizes = np.random.rand(50) * 500
colors = np.random.rand(50)

plt.scatter(x, y, s=sizes, c=colors, alpha=0.5)
plt.colorbar()
plt.title('Scatter Plot')
\`\`\`

## Histogram

\`\`\`python
data = np.random.randn(1000)

plt.hist(data, bins=30, edgecolor='black')
plt.title('Histogram')
plt.xlabel('Value')
plt.ylabel('Frequency')
\`\`\`

## Pie Chart

\`\`\`python
sizes = [35, 25, 20, 20]
labels = ['A', 'B', 'C', 'D']
explode = [0.1, 0, 0, 0]  # Explode first slice

plt.pie(sizes, labels=labels, explode=explode, 
        autopct='%1.1f%%', startangle=90)
plt.title('Pie Chart')
\`\`\`

## Box Plot

\`\`\`python
data = [np.random.randn(100) for _ in range(4)]
plt.boxplot(data, labels=['A', 'B', 'C', 'D'])
plt.title('Box Plot')
\`\`\`

## When to Use What

| Chart | Use When |
|-------|----------|
| Line | Trends over time |
| Bar | Comparing categories |
| Scatter | Relationships between variables |
| Histogram | Distribution of values |
| Pie | Parts of a whole |
| Box | Statistical distribution |
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Chart Types Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Chart Selection Guide</h3>";
const charts = [
  { type: "Line", when: "Trends over time", icon: "" },
  { type: "Bar", when: "Compare categories", icon: "" },
  { type: "Scatter", when: "Variable relationships", icon: "" },
  { type: "Histogram", when: "Data distribution", icon: "" },
  { type: "Pie", when: "Parts of whole", icon: "" },
  { type: "Box", when: "Statistical summary", icon: "" },
  { type: "Heatmap", when: "2D value density", icon: "" },
  { type: "Area", when: "Cumulative trends", icon: "" }
];

html += "<div style='display:grid;grid-template-columns:repeat(2,1fr);gap:10px;'>";
charts.forEach(c => {
  html += "<div style='background:#f8f9fa;padding:15px;border-radius:8px;'>";
  html += "<b>" + c.icon + " " + c.type + "</b><br>";
  html += "<small>" + c.when + "</small></div>";
});
html += "</div>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // DSA basics
    'dsa-lists': {
      title: 'DSA: Lists & Arrays',
      content: `# Lists & Arrays in DSA 

The foundation of all data structures!

## Python List as Array

\`\`\`python
# List is dynamic array
arr = [1, 2, 3, 4, 5]

# Access: O(1)
print(arr[0])    # 1
print(arr[-1])   # 5

# Append: O(1) amortized
arr.append(6)

# Insert: O(n) - shifts elements
arr.insert(0, 0)

# Delete: O(n) - shifts elements
arr.pop(0)      # Remove first
arr.remove(3)   # Remove value 3
\`\`\`

## Time Complexities

| Operation | Time |
|-----------|------|
| Access by index | O(1) |
| Append | O(1) |
| Insert at position | O(n) |
| Delete by index | O(n) |
| Search (unsorted) | O(n) |
| Search (sorted) | O(log n) |

## Common Patterns

\`\`\`python
# Two pointers
def two_sum_sorted(arr, target):
    left, right = 0, len(arr) - 1
    while left < right:
        total = arr[left] + arr[right]
        if total == target:
            return [left, right]
        elif total < target:
            left += 1
        else:
            right -= 1
    return None

# Sliding window
def max_sum_subarray(arr, k):
    window_sum = sum(arr[:k])
    max_sum = window_sum
    for i in range(k, len(arr)):
        window_sum += arr[i] - arr[i-k]
        max_sum = max(max_sum, window_sum)
    return max_sum
\`\`\`

## Array vs List

\`\`\`python
import array

# array module - typed, more efficient
arr = array.array('i', [1, 2, 3, 4])  # 'i' = integer

# NumPy array - best for numerical
import numpy as np
arr = np.array([1, 2, 3, 4])
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Lists & Arrays Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Time Complexity</h3>";
const ops = [
  { op: "Access arr[i]", time: "O(1)", note: "Instant!" },
  { op: "Append", time: "O(1)", note: "Usually fast" },
  { op: "Insert at i", time: "O(n)", note: "Shifts elements" },
  { op: "Delete at i", time: "O(n)", note: "Shifts elements" },
  { op: "Search", time: "O(n)", note: "Linear scan" },
  { op: "Binary Search", time: "O(log n)", note: "Sorted only" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Operation</th><th>Time</th><th>Note</th></tr>";
ops.forEach((o, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'>" + o.op + "</td>";
  html += "<td style='padding:10px;'><code>" + o.time + "</code></td>";
  html += "<td style='padding:10px;'>" + o.note + "</td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'dsa-stacks': {
      title: 'DSA: Stacks',
      content: `# Stacks 

LIFO - Last In, First Out. Like a stack of plates!

## Stack Operations

\`\`\`python
# Using list as stack
stack = []

# Push - add to top
stack.append(1)
stack.append(2)
stack.append(3)  # [1, 2, 3]

# Pop - remove from top
top = stack.pop()  # 3, stack = [1, 2]

# Peek - view top without removing
top = stack[-1]    # 2

# Is empty?
is_empty = len(stack) == 0
\`\`\`

## Stack Class

\`\`\`python
class Stack:
    def __init__(self):
        self.items = []
    
    def push(self, item):
        self.items.append(item)
    
    def pop(self):
        if not self.is_empty():
            return self.items.pop()
        raise IndexError("Stack is empty")
    
    def peek(self):
        if not self.is_empty():
            return self.items[-1]
        return None
    
    def is_empty(self):
        return len(self.items) == 0
    
    def size(self):
        return len(self.items)
\`\`\`

## Classic Problems

\`\`\`python
# Valid Parentheses
def is_valid(s):
    stack = []
    pairs = {')': '(', '}': '{', ']': '['}
    
    for char in s:
        if char in '({[':
            stack.append(char)
        elif char in ')}]':
            if not stack or stack[-1] != pairs[char]:
                return False
            stack.pop()
    
    return len(stack) == 0

print(is_valid("()[]{}"))  # True
print(is_valid("([)]"))    # False
\`\`\`

## Time Complexity

| Operation | Time |
|-----------|------|
| Push | O(1) |
| Pop | O(1) |
| Peek | O(1) |
| Search | O(n) |
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Stack Demo</h2>
<div id="demo"></div>
<script>
class Stack {
  constructor() { this.items = []; }
  push(item) { this.items.push(item); }
  pop() { return this.items.pop(); }
  peek() { return this.items[this.items.length - 1]; }
  isEmpty() { return this.items.length === 0; }
}

const stack = new Stack();
stack.push(1);
stack.push(2);
stack.push(3);

let html = "<h3>Stack Operations</h3>";
html += "<div style='display:flex;gap:20px;align-items:flex-end;'>";

// Visual stack
html += "<div style='background:#e8f5e9;padding:20px;border-radius:8px;'>";
html += "<div style='display:flex;flex-direction:column-reverse;'>";
[1, 2, 3].forEach((n, i) => {
  const top = i === 2 ? "  TOP" : "";
  html += "<div style='background:#3776AB;color:white;padding:10px 30px;margin:2px;text-align:center;'>" + n + top + "</div>";
});
html += "</div></div>";

// Operations
html += "<div>";
html += "<p><code>stack.push(1)</code></p>";
html += "<p><code>stack.push(2)</code></p>";
html += "<p><code>stack.push(3)</code></p>";
html += "<p><code>stack.pop()</code>  3</p>";
html += "<p><code>stack.peek()</code>  2</p>";
html += "</div></div>";

html += "<p style='margin-top:20px;background:#fff3e0;padding:15px;border-radius:8px;'>";
html += " <b>LIFO:</b> Last In, First Out - like a stack of plates!</p>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'dsa-queues': {
      title: 'DSA: Queues',
      content: `# Queues 

FIFO - First In, First Out. Like a line at a store!

## Queue Operations

\`\`\`python
from collections import deque

# Using deque as queue (efficient!)
queue = deque()

# Enqueue - add to back
queue.append(1)
queue.append(2)
queue.append(3)  # deque([1, 2, 3])

# Dequeue - remove from front
front = queue.popleft()  # 1, queue = deque([2, 3])

# Peek front
front = queue[0]  # 2

# Is empty?
is_empty = len(queue) == 0
\`\`\`

## Queue Class

\`\`\`python
from collections import deque

class Queue:
    def __init__(self):
        self.items = deque()
    
    def enqueue(self, item):
        self.items.append(item)
    
    def dequeue(self):
        if not self.is_empty():
            return self.items.popleft()
        raise IndexError("Queue is empty")
    
    def front(self):
        if not self.is_empty():
            return self.items[0]
        return None
    
    def is_empty(self):
        return len(self.items) == 0
    
    def size(self):
        return len(self.items)
\`\`\`

## Priority Queue

\`\`\`python
import heapq

# Min heap (smallest first)
pq = []
heapq.heappush(pq, 3)
heapq.heappush(pq, 1)
heapq.heappush(pq, 2)

smallest = heapq.heappop(pq)  # 1

# Max heap (negate values)
heapq.heappush(pq, -5)  # Store -5
largest = -heapq.heappop(pq)  # Get 5
\`\`\`

## Time Complexity

| Operation | deque | list |
|-----------|-------|------|
| Enqueue (back) | O(1) | O(1) |
| Dequeue (front) | O(1) | O(n)  |
| Peek | O(1) | O(1) |
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Queue Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Queue Operations</h3>";
html += "<div style='background:#e8f5e9;padding:20px;border-radius:8px;'>";
html += "<div style='display:flex;align-items:center;gap:10px;'>";
html += "<span>FRONT </span>";
[1, 2, 3].forEach((n, i) => {
  html += "<div style='background:#3776AB;color:white;padding:15px 25px;border-radius:4px;'>" + n + "</div>";
});
html += "<span> BACK</span>";
html += "</div></div>";

html += "<h3>deque vs list for Queues</h3>";
html += "<div style='display:flex;gap:20px;'>";
html += "<div style='flex:1;background:#e8f5e9;padding:15px;border-radius:8px;'>";
html += "<h4> deque</h4>";
html += "<p>O(1) for both ends</p>";
html += "<code>from collections import deque</code></div>";
html += "<div style='flex:1;background:#ffebee;padding:15px;border-radius:8px;'>";
html += "<h4> list</h4>";
html += "<p>O(n) for pop(0)</p>";
html += "<p>Don't use for queues!</p></div>";
html += "</div>";

html += "<p style='margin-top:20px;background:#fff3e0;padding:15px;border-radius:8px;'>";
html += " <b>FIFO:</b> First In, First Out - like waiting in line!</p>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // ML Statistics
    'ml-mean': {
      title: 'Mean, Median, Mode',
      content: `# Mean, Median, Mode 

The three M's of central tendency - find the "center" of your data!

## Mean (Average)

\`\`\`python
import numpy as np
import statistics

data = [2, 4, 6, 8, 10]

# NumPy
mean = np.mean(data)  # 6.0

# Statistics module
mean = statistics.mean(data)  # 6

# Manual
mean = sum(data) / len(data)  # 6.0
\`\`\`

## Median (Middle Value)

\`\`\`python
data = [1, 3, 5, 7, 9]
median = np.median(data)  # 5

# Even number of elements: average of middle two
data = [1, 3, 5, 7]
median = np.median(data)  # 4.0 = (3+5)/2
\`\`\`

## Mode (Most Common)

\`\`\`python
from statistics import mode, multimode

data = [1, 2, 2, 3, 3, 3, 4]

mode_val = mode(data)  # 3 (appears most)

# Multiple modes
data = [1, 1, 2, 2, 3]
modes = multimode(data)  # [1, 2]
\`\`\`

## When to Use What

| Measure | Use When | Sensitive To |
|---------|----------|--------------|
| Mean | Symmetric data | Outliers  |
| Median | Skewed data | Not sensitive |
| Mode | Categorical data | N/A |

## Example: Salaries

\`\`\`python
salaries = [50000, 55000, 60000, 65000, 500000]  # CEO!

print(np.mean(salaries))    # 146,000 (misleading!)
print(np.median(salaries))  # 60,000 (more representative)
\`\`\`

## Practical Tips

- **Mean**: Use for normally distributed data
- **Median**: Use when you have outliers
- **Mode**: Use for categorical/frequency data
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Mean, Median, Mode Demo</h2>
<div id="demo"></div>
<script>
const data = [2, 4, 6, 6, 8, 10];

// Calculate
const mean = data.reduce((a, b) => a + b) / data.length;
const sorted = [...data].sort((a, b) => a - b);
const median = (sorted[2] + sorted[3]) / 2;
const mode = 6;

let html = "<h3>Data: [" + data.join(", ") + "]</h3>";
html += "<div style='display:flex;gap:20px;'>";

html += "<div style='flex:1;background:#e3f2fd;padding:20px;border-radius:8px;text-align:center;'>";
html += "<h4>Mean</h4><p style='font-size:36px;'>" + mean.toFixed(1) + "</p>";
html += "<small>Sum  Count</small></div>";

html += "<div style='flex:1;background:#e8f5e9;padding:20px;border-radius:8px;text-align:center;'>";
html += "<h4>Median</h4><p style='font-size:36px;'>" + median.toFixed(1) + "</p>";
html += "<small>Middle value</small></div>";

html += "<div style='flex:1;background:#fff3e0;padding:20px;border-radius:8px;text-align:center;'>";
html += "<h4>Mode</h4><p style='font-size:36px;'>" + mode + "</p>";
html += "<small>Most frequent</small></div>";

html += "</div>";

html += "<h3 style='margin-top:20px;'>Outlier Example</h3>";
html += "<p>Salaries: [50K, 55K, 60K, 65K, <b>500K</b>]</p>";
html += "<p>Mean: <b>146K</b>  (CEO skews it!)</p>";
html += "<p>Median: <b>60K</b>  (more representative)</p>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // More DSA
    'dsa-linked': {
      title: 'DSA: Linked Lists',
      content: `# Linked Lists 

Nodes connected by pointers - dynamic and flexible!

## Node Structure

\`\`\`python
class Node:
    def __init__(self, data):
        self.data = data
        self.next = None

class LinkedList:
    def __init__(self):
        self.head = None
\`\`\`

## Basic Operations

\`\`\`python
class LinkedList:
    def __init__(self):
        self.head = None
    
    def append(self, data):
        new_node = Node(data)
        if not self.head:
            self.head = new_node
            return
        current = self.head
        while current.next:
            current = current.next
        current.next = new_node
    
    def prepend(self, data):
        new_node = Node(data)
        new_node.next = self.head
        self.head = new_node
    
    def delete(self, data):
        if not self.head:
            return
        if self.head.data == data:
            self.head = self.head.next
            return
        current = self.head
        while current.next:
            if current.next.data == data:
                current.next = current.next.next
                return
            current = current.next
    
    def display(self):
        elements = []
        current = self.head
        while current:
            elements.append(current.data)
            current = current.next
        return elements
\`\`\`

## Time Complexity

| Operation | Time |
|-----------|------|
| Access | O(n) |
| Prepend | O(1) |
| Append | O(n) |
| Insert | O(n) |
| Delete | O(n) |
| Search | O(n) |

## Array vs Linked List

| Feature | Array | Linked List |
|---------|-------|-------------|
| Access | O(1)  | O(n) |
| Insert at start | O(n) | O(1)  |
| Memory | Contiguous | Scattered |
| Cache | Friendly  | Not friendly |
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Linked List Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Linked List Structure</h3>";
html += "<div style='display:flex;align-items:center;gap:10px;background:#e8f5e9;padding:20px;border-radius:8px;'>";
html += "<span>HEAD </span>";
[10, 20, 30].forEach((n, i) => {
  html += "<div style='display:flex;align-items:center;'>";
  html += "<div style='background:#3776AB;color:white;padding:15px;border-radius:4px;'>";
  html += n + "</div>";
  if (i < 2) html += "<span style='margin:0 5px;'></span>";
});
html += "<span> NULL</span></div>";

html += "<h3>Array vs Linked List</h3>";
html += "<div style='display:flex;gap:20px;'>";
html += "<div style='flex:1;background:#e3f2fd;padding:15px;border-radius:8px;'>";
html += "<h4>Array</h4>";
html += "<p> Fast access O(1)</p>";
html += "<p> Slow insert at start</p>";
html += "<p> Cache friendly</p></div>";
html += "<div style='flex:1;background:#fff3e0;padding:15px;border-radius:8px;'>";
html += "<h4>Linked List</h4>";
html += "<p> Slow access O(n)</p>";
html += "<p> Fast insert at start</p>";
html += "<p> Dynamic size</p></div></div>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'dsa-hash': {
      title: 'DSA: Hash Tables',
      content: `# Hash Tables 

Key-value storage with O(1) average access!

## Python Dictionary = Hash Table

\`\`\`python
# Dictionary is a hash table
hash_table = {}

# Insert: O(1)
hash_table['name'] = 'Alice'
hash_table['age'] = 25

# Lookup: O(1)
print(hash_table['name'])  # Alice

# Delete: O(1)
del hash_table['age']

# Check existence: O(1)
if 'name' in hash_table:
    print("Found!")
\`\`\`

## How Hashing Works

\`\`\`python
# 1. Key  Hash function  Index
# 2. Store value at that index

def simple_hash(key, size):
    return hash(key) % size

# Example
size = 10
key = "hello"
index = simple_hash(key, size)  # Maybe 7
\`\`\`

## Handling Collisions

\`\`\`python
# Two keys  same index (collision!)

# Method 1: Chaining (linked list at each index)
table = [[] for _ in range(10)]

def insert_chain(key, value):
    index = hash(key) % 10
    table[index].append((key, value))

# Method 2: Open Addressing (find next empty)
def insert_open(key, value, table):
    index = hash(key) % len(table)
    while table[index] is not None:
        index = (index + 1) % len(table)
    table[index] = (key, value)
\`\`\`

## Time Complexity

| Operation | Average | Worst |
|-----------|---------|-------|
| Insert | O(1) | O(n) |
| Lookup | O(1) | O(n) |
| Delete | O(1) | O(n) |

## Common Uses

- Caching
- Counting frequencies
- Finding duplicates
- Two-sum problems
- Database indexing
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Hash Table Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>How Hashing Works</h3>";
html += "<div style='background:#e8f5e9;padding:20px;border-radius:8px;'>";
html += "<div style='display:flex;align-items:center;gap:20px;justify-content:center;'>";
html += "<div style='background:#3776AB;color:white;padding:15px;border-radius:8px;'>'name'</div>";
html += "<span> hash() </span>";
html += "<div style='background:#ff9800;color:white;padding:15px;border-radius:8px;'>7</div>";
html += "<span> store at </span>";
html += "<div style='background:#4caf50;color:white;padding:15px;border-radius:8px;'>table[7]</div>";
html += "</div></div>";

html += "<h3>O(1) Operations</h3>";
const ops = [
  { op: "dict['key'] = value", desc: "Insert/Update" },
  { op: "value = dict['key']", desc: "Lookup" },
  { op: "del dict['key']", desc: "Delete" },
  { op: "'key' in dict", desc: "Existence check" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
ops.forEach((o, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + o.op + "</code></td>";
  html += "<td style='padding:10px;'>" + o.desc + "</td>";
  html += "<td style='padding:10px;'><b>O(1)</b></td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'dsa-trees': {
      title: 'DSA: Binary Trees',
      content: `# Binary Trees 

Hierarchical data structure with parent-child relationships!

## Tree Node

\`\`\`python
class TreeNode:
    def __init__(self, value):
        self.value = value
        self.left = None
        self.right = None
\`\`\`

## Tree Traversals

\`\`\`python
# Inorder: Left  Root  Right
def inorder(node):
    if node:
        inorder(node.left)
        print(node.value)
        inorder(node.right)

# Preorder: Root  Left  Right
def preorder(node):
    if node:
        print(node.value)
        preorder(node.left)
        preorder(node.right)

# Postorder: Left  Right  Root
def postorder(node):
    if node:
        postorder(node.left)
        postorder(node.right)
        print(node.value)

# Level Order (BFS)
from collections import deque

def level_order(root):
    if not root:
        return []
    result = []
    queue = deque([root])
    while queue:
        node = queue.popleft()
        result.append(node.value)
        if node.left:
            queue.append(node.left)
        if node.right:
            queue.append(node.right)
    return result
\`\`\`

## Common Properties

\`\`\`python
# Height of tree
def height(node):
    if not node:
        return 0
    return 1 + max(height(node.left), height(node.right))

# Count nodes
def count_nodes(node):
    if not node:
        return 0
    return 1 + count_nodes(node.left) + count_nodes(node.right)

# Is balanced?
def is_balanced(node):
    if not node:
        return True
    left_h = height(node.left)
    right_h = height(node.right)
    return abs(left_h - right_h) <= 1 and \\
           is_balanced(node.left) and \\
           is_balanced(node.right)
\`\`\`

## Tree Types

| Type | Property |
|------|----------|
| Binary | Max 2 children |
| BST | Left < Root < Right |
| Complete | All levels full except last |
| Perfect | All levels completely full |
| Balanced | Height difference  1 |
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Binary Tree Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Tree Structure</h3>";
html += "<div style='text-align:center;background:#e8f5e9;padding:20px;border-radius:8px;'>";
html += "<div style='margin-bottom:10px;'>";
html += "<span style='background:#3776AB;color:white;padding:10px 20px;border-radius:50%;'>10</span></div>";
html += "<div style='margin-bottom:10px;'> </div>";
html += "<div style='display:flex;justify-content:center;gap:60px;'>";
html += "<span style='background:#4caf50;color:white;padding:10px 20px;border-radius:50%;'>5</span>";
html += "<span style='background:#4caf50;color:white;padding:10px 20px;border-radius:50%;'>15</span></div>";
html += "</div>";

html += "<h3>Traversal Orders</h3>";
const traversals = [
  { name: "Inorder", order: "Left  Root  Right", result: "5, 10, 15" },
  { name: "Preorder", order: "Root  Left  Right", result: "10, 5, 15" },
  { name: "Postorder", order: "Left  Right  Root", result: "5, 15, 10" },
  { name: "Level", order: "Level by level", result: "10, 5, 15" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Traversal</th><th>Order</th><th>Result</th></tr>";
traversals.forEach((t, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><b>" + t.name + "</b></td>";
  html += "<td style='padding:10px;'>" + t.order + "</td>";
  html += "<td style='padding:10px;'>" + t.result + "</td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'dsa-graphs': {
      title: 'DSA: Graph Traversal',
      content: `# Graph Traversal 

Navigate through connected nodes!

## Graph Representation

\`\`\`python
# Adjacency List (most common)
graph = {
    'A': ['B', 'C'],
    'B': ['A', 'D', 'E'],
    'C': ['A', 'F'],
    'D': ['B'],
    'E': ['B', 'F'],
    'F': ['C', 'E']
}
\`\`\`

## BFS - Breadth First Search

\`\`\`python
from collections import deque

def bfs(graph, start):
    visited = set()
    queue = deque([start])
    result = []
    
    while queue:
        node = queue.popleft()
        if node not in visited:
            visited.add(node)
            result.append(node)
            for neighbor in graph[node]:
                if neighbor not in visited:
                    queue.append(neighbor)
    
    return result

# Use: Shortest path (unweighted)
print(bfs(graph, 'A'))  # ['A', 'B', 'C', 'D', 'E', 'F']
\`\`\`

## DFS - Depth First Search

\`\`\`python
def dfs(graph, start, visited=None):
    if visited is None:
        visited = set()
    
    visited.add(start)
    print(start)
    
    for neighbor in graph[start]:
        if neighbor not in visited:
            dfs(graph, neighbor, visited)

# Iterative version
def dfs_iterative(graph, start):
    visited = set()
    stack = [start]
    result = []
    
    while stack:
        node = stack.pop()
        if node not in visited:
            visited.add(node)
            result.append(node)
            for neighbor in reversed(graph[node]):
                if neighbor not in visited:
                    stack.append(neighbor)
    
    return result
\`\`\`

## BFS vs DFS

| Aspect | BFS | DFS |
|--------|-----|-----|
| Data Structure | Queue | Stack |
| Memory | More (level) | Less |
| Shortest Path | Yes (unweighted) | No |
| Use Case | Level order, shortest path | Cycles, paths, connectivity |
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Graph Traversal Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>BFS vs DFS</h3>";
html += "<div style='display:flex;gap:20px;'>";

html += "<div style='flex:1;background:#e3f2fd;padding:20px;border-radius:8px;'>";
html += "<h4>BFS (Queue)</h4>";
html += "<p>Explores <b>level by level</b></p>";
html += "<p> Shortest path</p>";
html += "<p> More memory</p>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:10px;border-radius:4px;'>A  B,C  D,E,F</pre></div>";

html += "<div style='flex:1;background:#fff3e0;padding:20px;border-radius:8px;'>";
html += "<h4>DFS (Stack)</h4>";
html += "<p>Explores <b>deep first</b></p>";
html += "<p> Not shortest path</p>";
html += "<p> Less memory</p>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:10px;border-radius:4px;'>A  B  D  E  F  C</pre></div>";

html += "</div>";

html += "<h3>Time Complexity: O(V + E)</h3>";
html += "<p>V = vertices (nodes), E = edges (connections)</p>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'search-algorithms': {
      title: 'Search Algorithms',
      content: `# Search Algorithms 

Find elements efficiently!

## Linear Search - O(n)

\`\`\`python
def linear_search(arr, target):
    for i, val in enumerate(arr):
        if val == target:
            return i
    return -1

# Works on any array
arr = [3, 1, 4, 1, 5, 9, 2, 6]
print(linear_search(arr, 5))  # 4
\`\`\`

## Binary Search - O(log n)

\`\`\`python
def binary_search(arr, target):
    left, right = 0, len(arr) - 1
    
    while left <= right:
        mid = (left + right) // 2
        if arr[mid] == target:
            return mid
        elif arr[mid] < target:
            left = mid + 1
        else:
            right = mid - 1
    
    return -1

# MUST be sorted!
arr = [1, 2, 3, 4, 5, 6, 7, 8, 9]
print(binary_search(arr, 5))  # 4
\`\`\`

## Binary Search Variations

\`\`\`python
# Find first occurrence
def find_first(arr, target):
    left, right = 0, len(arr) - 1
    result = -1
    while left <= right:
        mid = (left + right) // 2
        if arr[mid] == target:
            result = mid
            right = mid - 1  # Keep searching left
        elif arr[mid] < target:
            left = mid + 1
        else:
            right = mid - 1
    return result

# Find insertion point
import bisect
arr = [1, 3, 5, 7]
pos = bisect.bisect_left(arr, 4)  # 2
\`\`\`

## Comparison

| Algorithm | Time | Space | Requires |
|-----------|------|-------|----------|
| Linear | O(n) | O(1) | Nothing |
| Binary | O(log n) | O(1) | Sorted |
| Hash | O(1) | O(n) | Hash table |
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Search Algorithms Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Linear vs Binary Search</h3>";
html += "<div style='display:flex;gap:20px;'>";

html += "<div style='flex:1;background:#ffebee;padding:20px;border-radius:8px;'>";
html += "<h4>Linear O(n)</h4>";
html += "<p>Check every element</p>";
html += "<p>1000 elements  1000 checks max</p>";
html += "<p>Works on unsorted arrays</p></div>";

html += "<div style='flex:1;background:#e8f5e9;padding:20px;border-radius:8px;'>";
html += "<h4>Binary O(log n)</h4>";
html += "<p>Divide and conquer</p>";
html += "<p>1000 elements  10 checks max</p>";
html += "<p>Requires sorted array</p></div>";

html += "</div>";

html += "<h3>Binary Search Steps</h3>";
html += "<div style='background:#f8f9fa;padding:15px;border-radius:8px;'>";
html += "<p>Array: [1, 2, 3, 4, <b>5</b>, 6, 7, 8, 9], Target: 5</p>";
html += "<ol>";
html += "<li>Mid = 5, Found! </li>";
html += "</ol>";
html += "<p>Array: [1, 2, 3, 4, 5, 6, 7, 8, 9], Target: 2</p>";
html += "<ol>";
html += "<li>Mid = 5, 2 < 5  go left</li>";
html += "<li>Mid = 2, Found! </li>";
html += "</ol></div>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'sort-basic': {
      title: 'Basic Sorting',
      content: `# Basic Sorting Algorithms 

Simple but important algorithms to understand!

## Bubble Sort - O(n)

\`\`\`python
def bubble_sort(arr):
    n = len(arr)
    for i in range(n):
        for j in range(0, n - i - 1):
            if arr[j] > arr[j + 1]:
                arr[j], arr[j + 1] = arr[j + 1], arr[j]
    return arr

# Bubbles largest to end each pass
\`\`\`

## Selection Sort - O(n)

\`\`\`python
def selection_sort(arr):
    n = len(arr)
    for i in range(n):
        min_idx = i
        for j in range(i + 1, n):
            if arr[j] < arr[min_idx]:
                min_idx = j
        arr[i], arr[min_idx] = arr[min_idx], arr[i]
    return arr

# Selects minimum and places at start
\`\`\`

## Insertion Sort - O(n)

\`\`\`python
def insertion_sort(arr):
    for i in range(1, len(arr)):
        key = arr[i]
        j = i - 1
        while j >= 0 and arr[j] > key:
            arr[j + 1] = arr[j]
            j -= 1
        arr[j + 1] = key
    return arr

# Good for nearly sorted arrays!
\`\`\`

## Comparison

| Algorithm | Best | Average | Worst | Space |
|-----------|------|---------|-------|-------|
| Bubble | O(n) | O(n) | O(n) | O(1) |
| Selection | O(n) | O(n) | O(n) | O(1) |
| Insertion | O(n) | O(n) | O(n) | O(1) |

## When to Use

- **Bubble**: Teaching purposes only
- **Selection**: When memory writes are expensive
- **Insertion**: Small or nearly sorted arrays
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Basic Sorting Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Sorting Algorithms Comparison</h3>";
const algos = [
  { name: "Bubble Sort", time: "O(n)", best: "O(n)", idea: "Swap adjacent pairs" },
  { name: "Selection Sort", time: "O(n)", best: "O(n)", idea: "Find min, place at start" },
  { name: "Insertion Sort", time: "O(n)", best: "O(n)", idea: "Insert into sorted portion" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Algorithm</th><th>Average</th><th>Best</th><th>Idea</th></tr>";
algos.forEach((a, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><b>" + a.name + "</b></td>";
  html += "<td style='padding:10px;'>" + a.time + "</td>";
  html += "<td style='padding:10px;'>" + a.best + "</td>";
  html += "<td style='padding:10px;'>" + a.idea + "</td></tr>";
});
html += "</table>";

html += "<p style='background:#fff3e0;padding:15px;border-radius:8px;margin-top:20px;'>";
html += " <b>Tip:</b> These are O(n) - use Merge/Quick sort for large data!</p>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'sort-advanced': {
      title: 'Advanced Sorting',
      content: `# Advanced Sorting 

Efficient algorithms used in production!

## Merge Sort - O(n log n)

\`\`\`python
def merge_sort(arr):
    if len(arr) <= 1:
        return arr
    
    mid = len(arr) // 2
    left = merge_sort(arr[:mid])
    right = merge_sort(arr[mid:])
    
    return merge(left, right)

def merge(left, right):
    result = []
    i = j = 0
    while i < len(left) and j < len(right):
        if left[i] <= right[j]:
            result.append(left[i])
            i += 1
        else:
            result.append(right[j])
            j += 1
    result.extend(left[i:])
    result.extend(right[j:])
    return result
\`\`\`

## Quick Sort - O(n log n) average

\`\`\`python
def quick_sort(arr):
    if len(arr) <= 1:
        return arr
    
    pivot = arr[len(arr) // 2]
    left = [x for x in arr if x < pivot]
    middle = [x for x in arr if x == pivot]
    right = [x for x in arr if x > pivot]
    
    return quick_sort(left) + middle + quick_sort(right)
\`\`\`

## Python's Built-in Sort

\`\`\`python
# Timsort - hybrid of merge and insertion
arr = [3, 1, 4, 1, 5, 9]

arr.sort()              # In-place
sorted_arr = sorted(arr) # Returns new list

# Custom key
arr.sort(key=lambda x: -x)  # Descending
arr.sort(key=len)           # By length
\`\`\`

## Comparison

| Algorithm | Average | Worst | Space | Stable |
|-----------|---------|-------|-------|--------|
| Merge | O(n log n) | O(n log n) | O(n) | Yes |
| Quick | O(n log n) | O(n) | O(log n) | No |
| Tim | O(n log n) | O(n log n) | O(n) | Yes |

## When to Use

- **Merge**: When stability matters, linked lists
- **Quick**: General purpose, in-place
- **Timsort**: Use Python's built-in!
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Advanced Sorting Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Divide and Conquer</h3>";
html += "<div style='display:flex;gap:20px;'>";

html += "<div style='flex:1;background:#e3f2fd;padding:20px;border-radius:8px;'>";
html += "<h4>Merge Sort</h4>";
html += "<ol style='margin:0;padding-left:20px;'>";
html += "<li>Divide array in half</li>";
html += "<li>Sort each half (recursively)</li>";
html += "<li>Merge sorted halves</li>";
html += "</ol>";
html += "<p> Always O(n log n)</p>";
html += "<p> Stable sort</p></div>";

html += "<div style='flex:1;background:#e8f5e9;padding:20px;border-radius:8px;'>";
html += "<h4>Quick Sort</h4>";
html += "<ol style='margin:0;padding-left:20px;'>";
html += "<li>Choose pivot</li>";
html += "<li>Partition around pivot</li>";
html += "<li>Sort partitions (recursively)</li>";
html += "</ol>";
html += "<p> Fast in practice</p>";
html += "<p> O(n) worst case</p></div>";

html += "</div>";

html += "<h3 style='margin-top:20px;'>Just Use Python's sort()!</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "arr.sort()              # In-place\\n";
html += "sorted(arr)             # Returns new list\\n";
html += "sorted(arr, reverse=True)  # Descending\\n";
html += "sorted(arr, key=len)    # By length</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // ML
    'ml-std': {
      title: 'Standard Deviation',
      content: `# Standard Deviation 

Measure how spread out your data is!

## What is Standard Deviation?

- **Low std**: Data points close to mean
- **High std**: Data points spread out

\`\`\`python
import numpy as np
import statistics

data = [2, 4, 6, 8, 10]

# NumPy (population)
std = np.std(data)  # 2.83

# Statistics (sample)
std = statistics.stdev(data)  # 3.16

# Population vs Sample
pop_std = np.std(data, ddof=0)   # Population
sample_std = np.std(data, ddof=1) # Sample
\`\`\`

## Formula

\`\`\`
Standard Deviation = ((x - mean) / n)

1. Find mean
2. Subtract mean from each value
3. Square each difference
4. Find average of squares (variance)
5. Take square root
\`\`\`

## Manual Calculation

\`\`\`python
import math

data = [2, 4, 6, 8, 10]

# 1. Mean
mean = sum(data) / len(data)  # 6

# 2-3. Squared differences
sq_diff = [(x - mean) ** 2 for x in data]
# [16, 4, 0, 4, 16]

# 4. Variance
variance = sum(sq_diff) / len(data)  # 8

# 5. Standard deviation
std = math.sqrt(variance)  # 2.83
\`\`\`

## Interpretation

| Std Dev | Meaning |
|---------|---------|
| 0 | All values identical |
| Small | Data clustered near mean |
| Large | Data widely spread |

## 68-95-99.7 Rule (Normal Distribution)

- 68% within 1 std dev
- 95% within 2 std devs
- 99.7% within 3 std devs
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Standard Deviation Demo</h2>
<div id="demo"></div>
<script>
const data = [2, 4, 6, 8, 10];
const mean = data.reduce((a, b) => a + b) / data.length;
const variance = data.reduce((sum, x) => sum + (x - mean) ** 2, 0) / data.length;
const std = Math.sqrt(variance);

let html = "<h3>Data: [" + data.join(", ") + "]</h3>";
html += "<p>Mean: " + mean + "</p>";
html += "<p>Variance: " + variance + "</p>";
html += "<p><b>Standard Deviation: " + std.toFixed(2) + "</b></p>";

html += "<h3>68-95-99.7 Rule</h3>";
html += "<div style='background:linear-gradient(90deg, #e3f2fd 0%, #3776AB 50%, #e3f2fd 100%);padding:20px;border-radius:8px;text-align:center;color:white;'>";
html += "<p>68% within 1</p>";
html += "<p>95% within 2</p>";
html += "<p>99.7% within 3</p></div>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'ml-percentiles': {
      title: 'Percentiles',
      content: `# Percentiles 

Understand where values fall in your data distribution!

## What are Percentiles?

- **25th percentile (Q1)**: 25% of data below
- **50th percentile (Q2)**: Median
- **75th percentile (Q3)**: 75% of data below

\`\`\`python
import numpy as np

data = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

# Single percentile
p50 = np.percentile(data, 50)  # 5.5 (median)
p25 = np.percentile(data, 25)  # 3.25
p75 = np.percentile(data, 75)  # 7.75

# Multiple percentiles
percentiles = np.percentile(data, [25, 50, 75])
\`\`\`

## Quartiles

\`\`\`python
import numpy as np

data = list(range(1, 101))

Q1 = np.percentile(data, 25)   # 25.75
Q2 = np.percentile(data, 50)   # 50.5 (median)
Q3 = np.percentile(data, 75)   # 75.25

# Interquartile Range (IQR)
IQR = Q3 - Q1  # 49.5
\`\`\`

## Detecting Outliers

\`\`\`python
def find_outliers(data):
    Q1 = np.percentile(data, 25)
    Q3 = np.percentile(data, 75)
    IQR = Q3 - Q1
    
    lower_bound = Q1 - 1.5 * IQR
    upper_bound = Q3 + 1.5 * IQR
    
    outliers = [x for x in data if x < lower_bound or x > upper_bound]
    return outliers

data = [1, 2, 3, 4, 5, 100]  # 100 is outlier
print(find_outliers(data))   # [100]
\`\`\`

## Percentile Rank

\`\`\`python
from scipy import stats

data = [10, 20, 30, 40, 50]

# What percentile is 35?
rank = stats.percentileofscore(data, 35)  # 60.0
# 35 is higher than 60% of data
\`\`\`

## Use Cases

- Test scores (90th percentile = top 10%)
- Income distribution
- Response time (99th percentile latency)
- Growth charts (child height/weight)
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Percentiles Demo</h2>
<div id="demo"></div>
<script>
function percentile(arr, p) {
  const sorted = [...arr].sort((a, b) => a - b);
  const idx = (p / 100) * (sorted.length - 1);
  const lower = Math.floor(idx);
  const upper = Math.ceil(idx);
  if (lower === upper) return sorted[lower];
  return sorted[lower] * (upper - idx) + sorted[upper] * (idx - lower);
}

const data = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
const q1 = percentile(data, 25);
const q2 = percentile(data, 50);
const q3 = percentile(data, 75);

let html = "<h3>Quartiles</h3>";
html += "<div style='display:flex;gap:20px;'>";
["Q1 (25%)", "Q2 (50%)", "Q3 (75%)"].forEach((label, i) => {
  const val = [q1, q2, q3][i];
  const colors = ["#e3f2fd", "#e8f5e9", "#fff3e0"];
  html += "<div style='flex:1;background:" + colors[i] + ";padding:20px;border-radius:8px;text-align:center;'>";
  html += "<h4>" + label + "</h4><p style='font-size:32px;'>" + val.toFixed(2) + "</p></div>";
});
html += "</div>";

html += "<h3>IQR (Interquartile Range)</h3>";
html += "<p>IQR = Q3 - Q1 = " + (q3 - q1).toFixed(2) + "</p>";
html += "<p>Used to detect outliers!</p>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // Enterprise
    'exceptions': {
      title: 'Exception Handling',
      content: `# Exception Handling 

Handle errors gracefully in production!

## Basic Try-Except

\`\`\`python
try:
    result = 10 / 0
except ZeroDivisionError:
    print("Cannot divide by zero!")
\`\`\`

## Multiple Exceptions

\`\`\`python
try:
    value = int(input("Enter number: "))
    result = 10 / value
except ValueError:
    print("Invalid number!")
except ZeroDivisionError:
    print("Cannot divide by zero!")
except Exception as e:
    print(f"Unexpected error: {e}")
\`\`\`

## Try-Except-Else-Finally

\`\`\`python
try:
    file = open("data.txt", "r")
    data = file.read()
except FileNotFoundError:
    print("File not found!")
else:
    # Runs if NO exception
    print("File read successfully!")
finally:
    # ALWAYS runs
    if 'file' in locals():
        file.close()
\`\`\`

## Raising Exceptions

\`\`\`python
def validate_age(age):
    if age < 0:
        raise ValueError("Age cannot be negative")
    if age > 150:
        raise ValueError("Age seems unrealistic")
    return age

try:
    validate_age(-5)
except ValueError as e:
    print(e)  # Age cannot be negative
\`\`\`

## Custom Exceptions

\`\`\`python
class InsufficientFundsError(Exception):
    def __init__(self, balance, amount):
        self.balance = balance
        self.amount = amount
        super().__init__(
            f"Cannot withdraw {amount}. Balance: {balance}"
        )

def withdraw(balance, amount):
    if amount > balance:
        raise InsufficientFundsError(balance, amount)
    return balance - amount
\`\`\`

## Common Exceptions

| Exception | Cause |
|-----------|-------|
| ValueError | Wrong value type |
| TypeError | Wrong operation for type |
| KeyError | Dict key not found |
| IndexError | List index out of range |
| FileNotFoundError | File doesn't exist |
| AttributeError | Object has no attribute |
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Exception Handling Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Try-Except Flow</h3>";
html += "<pre style='background:#e8f5e9;padding:15px;border-radius:8px;'>";
html += "try:\\n";
html += "    # Code that might fail\\n";
html += "except SpecificError:\\n";
html += "    # Handle specific error\\n";
html += "except Exception as e:\\n";
html += "    # Handle any error\\n";
html += "else:\\n";
html += "    # Runs if NO error\\n";
html += "finally:\\n";
html += "    # ALWAYS runs (cleanup)</pre>";

html += "<h3>Common Exceptions</h3>";
const exceptions = [
  { exc: "ValueError", cause: "Wrong value type" },
  { exc: "TypeError", cause: "Wrong type operation" },
  { exc: "KeyError", cause: "Dict key missing" },
  { exc: "IndexError", cause: "List index out of range" },
  { exc: "FileNotFoundError", cause: "File doesn't exist" },
  { exc: "ZeroDivisionError", cause: "Division by zero" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
exceptions.forEach((e, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + e.exc + "</code></td>";
  html += "<td style='padding:10px;'>" + e.cause + "</td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'logging': {
      title: 'Python Logging',
      content: `# Python Logging 

Professional logging for production systems!

## Basic Logging

\`\`\`python
import logging

# Configure logging
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(levelname)s - %(message)s'
)

# Log messages
logging.debug("Debug message")
logging.info("Info message")
logging.warning("Warning message")
logging.error("Error message")
logging.critical("Critical message")
\`\`\`

## Log Levels

| Level | Value | Use Case |
|-------|-------|----------|
| DEBUG | 10 | Development details |
| INFO | 20 | Normal operations |
| WARNING | 30 | Something unexpected |
| ERROR | 40 | Serious problem |
| CRITICAL | 50 | System failure |

## Log to File

\`\`\`python
logging.basicConfig(
    filename='app.log',
    filemode='a',  # Append mode
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)
\`\`\`

## Logger Objects

\`\`\`python
import logging

# Create named logger
logger = logging.getLogger(__name__)
logger.setLevel(logging.DEBUG)

# Console handler
console = logging.StreamHandler()
console.setLevel(logging.INFO)

# File handler
file = logging.FileHandler('app.log')
file.setLevel(logging.DEBUG)

# Formatter
formatter = logging.Formatter(
    '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)
console.setFormatter(formatter)
file.setFormatter(formatter)

# Add handlers
logger.addHandler(console)
logger.addHandler(file)

logger.info("Application started")
\`\`\`

## Log with Context

\`\`\`python
user_id = 12345
logger.info(f"User {user_id} logged in")

# Exception logging
try:
    1 / 0
except Exception:
    logger.exception("Error occurred!")
    # Includes full traceback
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python Logging Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Log Levels</h3>";
const levels = [
  { level: "DEBUG", value: 10, color: "#e0e0e0", use: "Development" },
  { level: "INFO", value: 20, color: "#e8f5e9", use: "Normal operations" },
  { level: "WARNING", value: 30, color: "#fff3e0", use: "Unexpected" },
  { level: "ERROR", value: 40, color: "#ffebee", use: "Serious problem" },
  { level: "CRITICAL", value: 50, color: "#ffcdd2", use: "System failure" }
];

html += "<div style='display:flex;flex-direction:column;gap:5px;'>";
levels.forEach(l => {
  html += "<div style='background:" + l.color + ";padding:10px;border-radius:4px;display:flex;justify-content:space-between;'>";
  html += "<span><b>" + l.level + "</b> (" + l.value + ")</span>";
  html += "<span>" + l.use + "</span></div>";
});
html += "</div>";

html += "<h3>Basic Setup</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "import logging\\n\\n";
html += "logging.basicConfig(\\n";
html += "    level=logging.INFO,\\n";
html += "    format='%(asctime)s - %(levelname)s - %(message)s'\\n";
html += ")\\n\\n";
html += "logging.info('Application started')</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // Reference
    'ref-builtins': {
      title: 'Built-in Functions',
      content: `# Python Built-in Functions 

All functions available without importing!

## Common Functions

\`\`\`python
# Length
len([1, 2, 3])  # 3
len("hello")   # 5

# Type
type(42)       # <class 'int'>
type([])       # <class 'list'>

# Range
range(5)       # 0, 1, 2, 3, 4
range(2, 5)    # 2, 3, 4
range(0, 10, 2) # 0, 2, 4, 6, 8

# Print
print("Hello", "World", sep=", ")  # Hello, World
print("End", end="\\n\\n")
\`\`\`

## Conversion Functions

\`\`\`python
int("42")      # 42
float("3.14")  # 3.14
str(42)        # "42"
bool(1)        # True
list("abc")    # ['a', 'b', 'c']
tuple([1,2,3]) # (1, 2, 3)
set([1,1,2])   # {1, 2}
dict(a=1, b=2) # {'a': 1, 'b': 2}
\`\`\`

## Math Functions

\`\`\`python
abs(-5)        # 5
round(3.7)     # 4
round(3.14159, 2) # 3.14
min(1, 2, 3)   # 1
max(1, 2, 3)   # 3
sum([1, 2, 3]) # 6
pow(2, 3)      # 8
divmod(17, 5)  # (3, 2) - quotient, remainder
\`\`\`

## Iteration Functions

\`\`\`python
# enumerate - add index
for i, val in enumerate(['a', 'b', 'c']):
    print(i, val)

# zip - combine
for a, b in zip([1, 2], ['a', 'b']):
    print(a, b)

# map - apply function
list(map(str.upper, ['a', 'b']))  # ['A', 'B']

# filter - keep matching
list(filter(lambda x: x > 0, [-1, 0, 1, 2]))  # [1, 2]

# sorted - return sorted
sorted([3, 1, 2])  # [1, 2, 3]
sorted([3, 1, 2], reverse=True)  # [3, 2, 1]

# reversed - reverse iterator
list(reversed([1, 2, 3]))  # [3, 2, 1]

# all/any
all([True, True, False])  # False
any([True, False, False]) # True
\`\`\`

## Object Functions

\`\`\`python
id(obj)        # Object's unique ID
hash("key")    # Hash value
callable(func) # Is it callable?
isinstance(5, int)  # True
issubclass(bool, int) # True
getattr(obj, 'attr') # Get attribute
setattr(obj, 'attr', value)
hasattr(obj, 'attr') # Has attribute?
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Built-in Functions Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Essential Built-ins</h3>";
const funcs = [
  { fn: "len()", desc: "Get length" },
  { fn: "type()", desc: "Get type" },
  { fn: "range()", desc: "Generate sequence" },
  { fn: "print()", desc: "Output to console" },
  { fn: "input()", desc: "Get user input" },
  { fn: "int/float/str()", desc: "Type conversion" },
  { fn: "list/tuple/set/dict()", desc: "Collection conversion" },
  { fn: "min/max/sum()", desc: "Aggregation" },
  { fn: "enumerate()", desc: "Add index to iteration" },
  { fn: "zip()", desc: "Combine iterables" },
  { fn: "map/filter()", desc: "Transform/filter data" },
  { fn: "sorted()", desc: "Sort iterable" }
];

html += "<div style='display:grid;grid-template-columns:repeat(3,1fr);gap:10px;'>";
funcs.forEach(f => {
  html += "<div style='background:#f8f9fa;padding:10px;border-radius:8px;'>";
  html += "<code>" + f.fn + "</code><br>";
  html += "<small>" + f.desc + "</small></div>";
});
html += "</div>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // Practice
    'examples': {
      title: 'Python Examples',
      content: `# Python Examples 

Real-world code patterns and examples!

## Fibonacci Sequence

\`\`\`python
def fibonacci(n):
    if n <= 1:
        return n
    a, b = 0, 1
    for _ in range(2, n + 1):
        a, b = b, a + b
    return b

print([fibonacci(i) for i in range(10)])
# [0, 1, 1, 2, 3, 5, 8, 13, 21, 34]
\`\`\`

## Factorial

\`\`\`python
def factorial(n):
    if n <= 1:
        return 1
    return n * factorial(n - 1)

# Or iterative
import math
math.factorial(5)  # 120
\`\`\`

## Prime Checker

\`\`\`python
def is_prime(n):
    if n < 2:
        return False
    for i in range(2, int(n ** 0.5) + 1):
        if n % i == 0:
            return False
    return True

primes = [n for n in range(2, 50) if is_prime(n)]
\`\`\`

## Palindrome Checker

\`\`\`python
def is_palindrome(s):
    s = s.lower().replace(" ", "")
    return s == s[::-1]

print(is_palindrome("A man a plan a canal Panama"))  # True
\`\`\`

## FizzBuzz

\`\`\`python
for i in range(1, 101):
    if i % 15 == 0:
        print("FizzBuzz")
    elif i % 3 == 0:
        print("Fizz")
    elif i % 5 == 0:
        print("Buzz")
    else:
        print(i)
\`\`\`

## Word Frequency Counter

\`\`\`python
from collections import Counter

text = "hello world hello python world"
words = text.split()
freq = Counter(words)
print(freq.most_common(2))
# [('hello', 2), ('world', 2)]
\`\`\`

## File Word Count

\`\`\`python
def count_words(filename):
    with open(filename, 'r') as f:
        text = f.read()
    words = text.split()
    lines = text.splitlines()
    return {
        'words': len(words),
        'lines': len(lines),
        'chars': len(text)
    }
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python Examples Demo</h2>
<div id="demo"></div>
<script>
// Fibonacci
function fibonacci(n) {
  if (n <= 1) return n;
  let a = 0, b = 1;
  for (let i = 2; i <= n; i++) {
    [a, b] = [b, a + b];
  }
  return b;
}

// Prime
function isPrime(n) {
  if (n < 2) return false;
  for (let i = 2; i <= Math.sqrt(n); i++) {
    if (n % i === 0) return false;
  }
  return true;
}

// Palindrome
function isPalindrome(s) {
  s = s.toLowerCase().replace(/\\s/g, '');
  return s === s.split('').reverse().join('');
}

let html = "<h3>Fibonacci Sequence</h3>";
const fib = [];
for (let i = 0; i < 10; i++) fib.push(fibonacci(i));
html += "<p>[" + fib.join(", ") + "]</p>";

html += "<h3>Primes < 50</h3>";
const primes = [];
for (let i = 2; i < 50; i++) if (isPrime(i)) primes.push(i);
html += "<p>[" + primes.join(", ") + "]</p>";

html += "<h3>Palindrome Check</h3>";
html += "<p>'A man a plan a canal Panama'  " + isPalindrome("A man a plan a canal Panama") + "</p>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'exercises': {
      title: 'Python Exercises',
      content: `# Python Exercises 

Practice makes perfect!

## Beginner

### 1. Sum of List
\`\`\`python
def sum_list(numbers):
    # Return sum of all numbers
    pass

# Test
assert sum_list([1, 2, 3, 4, 5]) == 15
\`\`\`

### 2. Find Maximum
\`\`\`python
def find_max(numbers):
    # Return largest number (don't use max())
    pass

# Test
assert find_max([3, 1, 4, 1, 5, 9]) == 9
\`\`\`

### 3. Count Vowels
\`\`\`python
def count_vowels(s):
    # Count a, e, i, o, u in string
    pass

# Test
assert count_vowels("hello world") == 3
\`\`\`

## Intermediate

### 4. Two Sum
\`\`\`python
def two_sum(nums, target):
    # Return indices of two numbers that add to target
    pass

# Test
assert two_sum([2, 7, 11, 15], 9) == [0, 1]
\`\`\`

### 5. Reverse Words
\`\`\`python
def reverse_words(s):
    # Reverse word order (not letters)
    pass

# Test
assert reverse_words("hello world") == "world hello"
\`\`\`

### 6. Anagram Check
\`\`\`python
def is_anagram(s1, s2):
    # Check if s1 and s2 are anagrams
    pass

# Test
assert is_anagram("listen", "silent") == True
\`\`\`

## Advanced

### 7. Flatten Nested List
\`\`\`python
def flatten(nested):
    # Flatten [[1, 2], [3, [4, 5]]]  [1, 2, 3, 4, 5]
    pass
\`\`\`

### 8. Group Anagrams
\`\`\`python
def group_anagrams(words):
    # Group words that are anagrams
    pass

# Test
# ["eat", "tea", "ate", "tan", "nat"]
#  [["eat", "tea", "ate"], ["tan", "nat"]]
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python Exercises</h2>
<div id="demo"></div>
<script>
let html = "<h3>Try These Exercises!</h3>";
const exercises = [
  { level: "Beginner", problems: ["Sum of List", "Find Maximum", "Count Vowels", "Reverse String"] },
  { level: "Intermediate", problems: ["Two Sum", "Reverse Words", "Anagram Check", "Palindrome Number"] },
  { level: "Advanced", problems: ["Flatten Nested List", "Group Anagrams", "LRU Cache", "Binary Search Tree"] }
];

exercises.forEach(e => {
  const colors = { Beginner: "#e8f5e9", Intermediate: "#fff3e0", Advanced: "#ffebee" };
  html += "<div style='background:" + colors[e.level] + ";padding:15px;margin:10px 0;border-radius:8px;'>";
  html += "<h4>" + e.level + "</h4>";
  html += "<ul style='margin:0;'>";
  e.problems.forEach(p => html += "<li>" + p + "</li>");
  html += "</ul></div>";
});

html += "<p style='margin-top:20px;'>";
html += " <b>Tip:</b> Write the solution, then test with the assert statements!</p>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'interview': {
      title: 'Python Interview Q&A',
      content: `# Python Interview Questions 

Common questions and answers!

## Q1: Difference between list and tuple?

**Answer:**
- **List**: Mutable, [], can change after creation
- **Tuple**: Immutable, (), fixed after creation
- Tuples are faster and can be dict keys

## Q2: What is *args and **kwargs?

**Answer:**
- **\*args**: Variable positional arguments (tuple)
- **\*\*kwargs**: Variable keyword arguments (dict)

\`\`\`python
def func(*args, **kwargs):
    print(args)    # (1, 2, 3)
    print(kwargs)  # {'a': 1, 'b': 2}

func(1, 2, 3, a=1, b=2)
\`\`\`

## Q3: What is a decorator?

**Answer:** A function that wraps another function to extend its behavior without modifying it.

\`\`\`python
def timer(func):
    def wrapper(*args, **kwargs):
        start = time.time()
        result = func(*args, **kwargs)
        print(f"Took {time.time() - start}s")
        return result
    return wrapper

@timer
def slow_function():
    time.sleep(1)
\`\`\`

## Q4: What is GIL?

**Answer:** Global Interpreter Lock - only one thread executes Python bytecode at a time. Use multiprocessing for CPU-bound tasks.

## Q5: List comprehension vs generator?

**Answer:**
- **List**: Creates full list in memory \`[x**2 for x in range(1000000)]\`
- **Generator**: Creates values on demand \`(x**2 for x in range(1000000))\`
- Generator is memory efficient

## Q6: Deep copy vs shallow copy?

\`\`\`python
import copy

original = [[1, 2], [3, 4]]

shallow = copy.copy(original)      # Copies outer list
deep = copy.deepcopy(original)     # Copies everything

original[0][0] = 99
print(shallow[0][0])  # 99 (affected!)
print(deep[0][0])     # 1 (independent)
\`\`\`

## Q7: What is __init__?

**Answer:** Constructor method that initializes object attributes when an instance is created.
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python Interview Q&A</h2>
<div id="demo"></div>
<script>
const qa = [
  { q: "list vs tuple?", a: "List mutable, tuple immutable" },
  { q: "*args vs **kwargs?", a: "*args=tuple, **kwargs=dict" },
  { q: "What is GIL?", a: "Global Interpreter Lock" },
  { q: "Deep vs shallow copy?", a: "Deep=full copy, shallow=references" },
  { q: "What is __init__?", a: "Constructor method" },
  { q: "What is self?", a: "Reference to current instance" },
  { q: "Generator vs list?", a: "Generator=lazy, memory efficient" },
  { q: "What is decorator?", a: "Function that wraps another" }
];

let html = "<h3>Quick Q&A</h3>";
html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th style='padding:10px;text-align:left;'>Question</th>";
html += "<th style='padding:10px;text-align:left;'>Key Answer</th></tr>";

qa.forEach((item, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'>" + item.q + "</td>";
  html += "<td style='padding:10px;'>" + item.a + "</td></tr>";
});
html += "</table>";

html += "<p style='background:#e8f5e9;padding:15px;border-radius:8px;margin-top:20px;'>";
html += " <b>Tip:</b> Practice explaining these concepts out loud!</p>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'bootcamp': {
      title: 'Python Bootcamp',
      content: `# Python Bootcamp 

Intensive capstone project to solidify your skills!

## Project: Build a CLI Task Manager

Create a command-line todo application with:

### Features
1. Add tasks
2. List all tasks
3. Mark task complete
4. Delete task
5. Save to JSON file
6. Load from JSON file

### Starter Code

\`\`\`python
import json
import sys
from datetime import datetime

class TaskManager:
    def __init__(self, filename="tasks.json"):
        self.filename = filename
        self.tasks = self.load()
    
    def load(self):
        try:
            with open(self.filename, 'r') as f:
                return json.load(f)
        except FileNotFoundError:
            return []
    
    def save(self):
        with open(self.filename, 'w') as f:
            json.dump(self.tasks, f, indent=2)
    
    def add(self, title):
        task = {
            'id': len(self.tasks) + 1,
            'title': title,
            'completed': False,
            'created': datetime.now().isoformat()
        }
        self.tasks.append(task)
        self.save()
        print(f"Added: {title}")
    
    def list_tasks(self):
        for task in self.tasks:
            status = "" if task['completed'] else ""
            print(f"{status} [{task['id']}] {task['title']}")
    
    def complete(self, task_id):
        for task in self.tasks:
            if task['id'] == task_id:
                task['completed'] = True
                self.save()
                print(f"Completed: {task['title']}")
                return
        print("Task not found")
    
    def delete(self, task_id):
        self.tasks = [t for t in self.tasks if t['id'] != task_id]
        self.save()
        print(f"Deleted task {task_id}")

# Usage
if __name__ == "__main__":
    tm = TaskManager()
    
    if len(sys.argv) < 2:
        tm.list_tasks()
    elif sys.argv[1] == "add":
        tm.add(" ".join(sys.argv[2:]))
    elif sys.argv[1] == "done":
        tm.complete(int(sys.argv[2]))
    elif sys.argv[1] == "delete":
        tm.delete(int(sys.argv[2]))
\`\`\`

### Run Commands
\`\`\`bash
python tasks.py add "Learn Python"
python tasks.py add "Build project"
python tasks.py              # List all
python tasks.py done 1       # Complete task 1
python tasks.py delete 2     # Delete task 2
\`\`\`

## Challenge Extensions

1. Add due dates
2. Add priorities
3. Add categories/tags
4. Add search functionality
5. Add recurring tasks
6. Export to CSV
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python Bootcamp</h2>
<div id="demo"></div>
<script>
let html = "<h3>Capstone Project: Task Manager</h3>";

html += "<div style='background:#e8f5e9;padding:20px;border-radius:8px;'>";
html += "<h4>Core Features</h4>";
html += "<ul>";
html += "<li> Add tasks</li>";
html += "<li> List all tasks</li>";
html += "<li> Mark complete</li>";
html += "<li> Delete tasks</li>";
html += "<li> Save/Load JSON</li>";
html += "</ul></div>";

html += "<h3>Challenge Extensions</h3>";
html += "<div style='display:grid;grid-template-columns:repeat(2,1fr);gap:10px;'>";
const challenges = ["Due dates", "Priorities", "Categories", "Search", "Recurring tasks", "CSV export"];
challenges.forEach(c => {
  html += "<div style='background:#fff3e0;padding:10px;border-radius:8px;'> " + c + "</div>";
});
html += "</div>";

html += "<h3 style='margin-top:20px;'>Skills Applied</h3>";
html += "<p>Classes, File I/O, JSON, CLI args, DateTime, List operations</p>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // More Visualization
    'subplots': {
      title: 'Subplots & Layouts',
      content: `# Subplots & Layouts 

Create multiple plots in one figure!

## Basic Subplots

\`\`\`python
import matplotlib.pyplot as plt
import numpy as np

# Create 2x2 grid
fig, axes = plt.subplots(2, 2, figsize=(10, 8))

# Plot in each subplot
axes[0, 0].plot([1, 2, 3], [1, 2, 3])
axes[0, 0].set_title('Plot 1')

axes[0, 1].scatter([1, 2, 3], [3, 1, 2])
axes[0, 1].set_title('Plot 2')

axes[1, 0].bar(['A', 'B', 'C'], [3, 7, 5])
axes[1, 0].set_title('Plot 3')

axes[1, 1].hist(np.random.randn(100))
axes[1, 1].set_title('Plot 4')

plt.tight_layout()
plt.show()
\`\`\`

## Sharing Axes

\`\`\`python
fig, axes = plt.subplots(2, 2, sharex=True, sharey=True)
# All subplots share the same x and y axis scales
\`\`\`

## Different Sizes with GridSpec

\`\`\`python
import matplotlib.gridspec as gridspec

fig = plt.figure(figsize=(12, 8))
gs = gridspec.GridSpec(2, 3)

ax1 = fig.add_subplot(gs[0, :])  # Top row, all columns
ax2 = fig.add_subplot(gs[1, 0])  # Bottom left
ax3 = fig.add_subplot(gs[1, 1:]) # Bottom right (2 columns)
\`\`\`

## Figure-level Titles

\`\`\`python
fig, axes = plt.subplots(2, 2)
fig.suptitle('Main Title', fontsize=16)
plt.tight_layout()
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Subplots Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Subplot Grid Patterns</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "fig, axes = plt.subplots(2, 2)\\n\\n";
html += "axes[0, 0].plot(...)  # Top left\\n";
html += "axes[0, 1].plot(...)  # Top right\\n";
html += "axes[1, 0].plot(...)  # Bottom left\\n";
html += "axes[1, 1].plot(...)  # Bottom right</pre>";

html += "<h3>Common Patterns</h3>";
const patterns = [
  { code: "plt.subplots(1, 2)", desc: "2 plots side by side" },
  { code: "plt.subplots(2, 1)", desc: "2 plots stacked" },
  { code: "plt.subplots(2, 2)", desc: "2x2 grid" },
  { code: "plt.subplots(3, 3)", desc: "3x3 grid" }
];
html += "<table style='width:100%;border-collapse:collapse;'>";
patterns.forEach((p, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + p.code + "</code></td>";
  html += "<td style='padding:10px;'>" + p.desc + "</td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'enterprise-visuals': {
      title: 'Enterprise Reporting',
      content: `# Enterprise Reporting 

Production-ready charts for business!

## Professional Styling

\`\`\`python
import matplotlib.pyplot as plt
import numpy as np

# Use a professional style
plt.style.use('seaborn-whitegrid')

# Create figure with specific size for reports
fig, ax = plt.subplots(figsize=(10, 6), dpi=100)

# Plot with professional colors
colors = ['#2ecc71', '#3498db', '#e74c3c', '#9b59b6']
ax.bar(['Q1', 'Q2', 'Q3', 'Q4'], [25, 32, 28, 35], color=colors)

# Add title and labels with proper formatting
ax.set_title('Quarterly Revenue 2024', fontsize=16, fontweight='bold')
ax.set_ylabel('Revenue (Million $)', fontsize=12)

# Add data labels
for i, v in enumerate([25, 32, 28, 35]):
    ax.text(i, v + 0.5, f'\${v}M', ha='center', fontsize=10)

# Clean up
ax.spines['top'].set_visible(False)
ax.spines['right'].set_visible(False)

plt.tight_layout()
plt.savefig('report.png', dpi=300, bbox_inches='tight')
\`\`\`

## Export Formats

\`\`\`python
# High-quality PNG for presentations
plt.savefig('chart.png', dpi=300, bbox_inches='tight')

# Vector format for printing
plt.savefig('chart.pdf', format='pdf')
plt.savefig('chart.svg', format='svg')

# Transparent background
plt.savefig('chart.png', transparent=True)
\`\`\`

## Adding Annotations

\`\`\`python
ax.annotate('Peak', xy=(2, 35), xytext=(3, 40),
            arrowprops=dict(arrowstyle='->', color='red'),
            fontsize=12)
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Enterprise Reporting Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Export Formats</h3>";
const formats = [
  { format: "PNG (dpi=300)", use: "Presentations, web" },
  { format: "PDF", use: "Print, reports" },
  { format: "SVG", use: "Scalable web graphics" },
  { format: "EPS", use: "LaTeX documents" }
];
html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Format</th><th>Best For</th></tr>";
formats.forEach((f, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'>" + f.format + "</td>";
  html += "<td style='padding:10px;'>" + f.use + "</td></tr>";
});
html += "</table>";

html += "<h3>Pro Tips</h3>";
html += "<ul>";
html += "<li>Use <code>dpi=300</code> for print quality</li>";
html += "<li>Use <code>bbox_inches='tight'</code> to remove whitespace</li>";
html += "<li>Use <code>plt.style.use()</code> for consistent styling</li>";
html += "</ul>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // MySQL
    'mysql-intro': {
      title: 'MySQL Introduction',
      content: `# MySQL + Python 

Connect Python to MySQL databases!

## Install Connector

\`\`\`bash
pip install mysql-connector-python
\`\`\`

## Connect to Database

\`\`\`python
import mysql.connector

# Create connection
conn = mysql.connector.connect(
    host="localhost",
    user="root",
    password="password",
    database="mydb"
)

# Create cursor
cursor = conn.cursor()

# Execute query
cursor.execute("SELECT * FROM users")

# Fetch results
results = cursor.fetchall()
for row in results:
    print(row)

# Close connection
cursor.close()
conn.close()
\`\`\`

## Using Context Manager

\`\`\`python
import mysql.connector
from contextlib import contextmanager

@contextmanager
def get_db_connection():
    conn = mysql.connector.connect(
        host="localhost",
        user="root",
        password="password",
        database="mydb"
    )
    try:
        yield conn
    finally:
        conn.close()

# Usage
with get_db_connection() as conn:
    cursor = conn.cursor()
    cursor.execute("SELECT * FROM users")
    results = cursor.fetchall()
\`\`\`

## Connection Parameters

| Parameter | Description |
|-----------|-------------|
| host | Server address |
| user | Username |
| password | Password |
| database | Database name |
| port | Port (default 3306) |
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> MySQL Introduction Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Connection Flow</h3>";
html += "<div style='display:flex;align-items:center;gap:15px;'>";
const steps = ["Connect", "Cursor", "Execute", "Fetch", "Close"];
steps.forEach((s, i) => {
  html += "<div style='background:#3776AB;color:white;padding:10px 20px;border-radius:8px;'>" + s + "</div>";
  if (i < steps.length - 1) html += "<span></span>";
});
html += "</div>";

html += "<h3>Basic Pattern</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "import mysql.connector\\n\\n";
html += "conn = mysql.connector.connect(...)\\n";
html += "cursor = conn.cursor()\\n";
html += "cursor.execute('SELECT * FROM users')\\n";
html += "results = cursor.fetchall()\\n";
html += "conn.close()</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'mysql-crud': {
      title: 'MySQL CRUD',
      content: `# MySQL CRUD Operations 

Create, Read, Update, Delete!

## CREATE - Insert Data

\`\`\`python
cursor = conn.cursor()

# Insert one row
sql = "INSERT INTO users (name, email) VALUES (%s, %s)"
values = ("Alice", "alice@email.com")
cursor.execute(sql, values)
conn.commit()

# Insert many rows
sql = "INSERT INTO users (name, email) VALUES (%s, %s)"
values = [
    ("Bob", "bob@email.com"),
    ("Charlie", "charlie@email.com")
]
cursor.executemany(sql, values)
conn.commit()

print(f"Inserted {cursor.rowcount} rows")
\`\`\`

## READ - Select Data

\`\`\`python
# Select all
cursor.execute("SELECT * FROM users")
results = cursor.fetchall()

# Select with condition
cursor.execute("SELECT * FROM users WHERE age > %s", (25,))
results = cursor.fetchall()

# Fetch methods
cursor.fetchone()   # One row
cursor.fetchmany(5) # 5 rows
cursor.fetchall()   # All rows
\`\`\`

## UPDATE - Modify Data

\`\`\`python
sql = "UPDATE users SET email = %s WHERE name = %s"
values = ("newemail@email.com", "Alice")
cursor.execute(sql, values)
conn.commit()

print(f"Updated {cursor.rowcount} rows")
\`\`\`

## DELETE - Remove Data

\`\`\`python
sql = "DELETE FROM users WHERE name = %s"
values = ("Alice",)
cursor.execute(sql, values)
conn.commit()

print(f"Deleted {cursor.rowcount} rows")
\`\`\`

## Always Use Parameterized Queries!

\`\`\`python
#  NEVER do this (SQL injection risk!)
cursor.execute(f"SELECT * FROM users WHERE name = '{name}'")

#  Always use parameters
cursor.execute("SELECT * FROM users WHERE name = %s", (name,))
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> MySQL CRUD Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>CRUD Operations</h3>";
const ops = [
  { op: "CREATE", sql: "INSERT INTO users (name) VALUES (%s)", color: "#4caf50" },
  { op: "READ", sql: "SELECT * FROM users WHERE id = %s", color: "#2196f3" },
  { op: "UPDATE", sql: "UPDATE users SET name = %s WHERE id = %s", color: "#ff9800" },
  { op: "DELETE", sql: "DELETE FROM users WHERE id = %s", color: "#f44336" }
];

html += "<div style='display:grid;grid-template-columns:repeat(2,1fr);gap:15px;'>";
ops.forEach(o => {
  html += "<div style='background:" + o.color + ";color:white;padding:15px;border-radius:8px;'>";
  html += "<h4 style='margin:0;'>" + o.op + "</h4>";
  html += "<code style='font-size:11px;'>" + o.sql + "</code></div>";
});
html += "</div>";

html += "<h3 style='margin-top:20px;'> Security Warning</h3>";
html += "<p style='background:#ffebee;padding:15px;border-radius:8px;'>";
html += "<b>NEVER</b> use f-strings or string concatenation with SQL!<br>";
html += "Always use <code>%s</code> parameters to prevent SQL injection.</p>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // MongoDB
    'mongo-intro': {
      title: 'MongoDB Introduction',
      content: `# MongoDB + Python 

Connect Python to MongoDB!

## Install PyMongo

\`\`\`bash
pip install pymongo
\`\`\`

## Connect to MongoDB

\`\`\`python
from pymongo import MongoClient

# Connect to MongoDB
client = MongoClient("mongodb://localhost:27017/")

# Access database
db = client["mydb"]

# Access collection
collection = db["users"]
\`\`\`

## MongoDB Concepts

| SQL | MongoDB |
|-----|---------|
| Database | Database |
| Table | Collection |
| Row | Document |
| Column | Field |

## Insert Document

\`\`\`python
# Insert one
user = {"name": "Alice", "age": 25, "city": "NYC"}
result = collection.insert_one(user)
print(f"Inserted ID: {result.inserted_id}")

# Insert many
users = [
    {"name": "Bob", "age": 30},
    {"name": "Charlie", "age": 35}
]
result = collection.insert_many(users)
\`\`\`

## Find Documents

\`\`\`python
# Find one
user = collection.find_one({"name": "Alice"})

# Find all
for user in collection.find():
    print(user)

# Find with filter
for user in collection.find({"age": {"$gt": 25}}):
    print(user)
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> MongoDB Introduction Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>SQL vs MongoDB Terms</h3>";
const terms = [
  { sql: "Database", mongo: "Database" },
  { sql: "Table", mongo: "Collection" },
  { sql: "Row", mongo: "Document" },
  { sql: "Column", mongo: "Field" },
  { sql: "Index", mongo: "Index" },
  { sql: "JOIN", mongo: "$lookup" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>SQL</th><th>MongoDB</th></tr>";
terms.forEach((t, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'>" + t.sql + "</td>";
  html += "<td style='padding:10px;'>" + t.mongo + "</td></tr>";
});
html += "</table>";

html += "<h3>Document Example</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "{\\n";
html += '  "_id": ObjectId("..."),\\n';
html += '  "name": "Alice",\\n';
html += '  "age": 25,\\n';
html += '  "hobbies": ["reading", "coding"]\\n';
html += "}</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'mongo-crud': {
      title: 'MongoDB CRUD',
      content: `# MongoDB CRUD Operations 

Create, Read, Update, Delete with PyMongo!

## CREATE - Insert

\`\`\`python
# Insert one
doc = {"name": "Alice", "age": 25}
result = collection.insert_one(doc)
print(result.inserted_id)

# Insert many
docs = [{"name": "Bob"}, {"name": "Charlie"}]
result = collection.insert_many(docs)
print(result.inserted_ids)
\`\`\`

## READ - Find

\`\`\`python
# Find one
user = collection.find_one({"name": "Alice"})

# Find all
for doc in collection.find():
    print(doc)

# Find with filter
collection.find({"age": {"$gt": 25}})   # age > 25
collection.find({"age": {"$gte": 25}})  # age >= 25
collection.find({"age": {"$in": [25, 30]}})

# Projection (select fields)
collection.find({}, {"name": 1, "age": 1})

# Sort and limit
collection.find().sort("age", -1).limit(10)
\`\`\`

## UPDATE

\`\`\`python
# Update one
collection.update_one(
    {"name": "Alice"},
    {"$set": {"age": 26}}
)

# Update many
collection.update_many(
    {"city": "NYC"},
    {"$set": {"country": "USA"}}
)

# Increment
collection.update_one(
    {"name": "Alice"},
    {"$inc": {"age": 1}}
)
\`\`\`

## DELETE

\`\`\`python
# Delete one
collection.delete_one({"name": "Alice"})

# Delete many
collection.delete_many({"age": {"$lt": 18}})

# Delete all
collection.delete_many({})
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> MongoDB CRUD Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Query Operators</h3>";
const ops = [
  { op: "$gt", desc: "Greater than" },
  { op: "$gte", desc: "Greater than or equal" },
  { op: "$lt", desc: "Less than" },
  { op: "$lte", desc: "Less than or equal" },
  { op: "$in", desc: "In array" },
  { op: "$ne", desc: "Not equal" },
  { op: "$exists", desc: "Field exists" },
  { op: "$regex", desc: "Pattern match" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#4caf50;color:white;'>";
html += "<th>Operator</th><th>Description</th></tr>";
ops.forEach((o, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + o.op + "</code></td>";
  html += "<td style='padding:10px;'>" + o.desc + "</td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // Django
    'django-intro': {
      title: 'Django Introduction',
      content: `# Django Framework 

The web framework for perfectionists with deadlines!

## What is Django?

- Full-stack Python web framework
- "Batteries included" - everything you need
- MVT architecture (Model-View-Template)
- Admin interface out of the box
- ORM for database operations

## Install Django

\`\`\`bash
pip install django
\`\`\`

## Create Project

\`\`\`bash
django-admin startproject myproject
cd myproject
python manage.py runserver
\`\`\`

## Project Structure

\`\`\`
myproject/
 manage.py           # CLI tool
 myproject/
    __init__.py
    settings.py     # Configuration
    urls.py         # URL routing
    asgi.py
    wsgi.py
\`\`\`

## Create App

\`\`\`bash
python manage.py startapp myapp
\`\`\`

## MVT Pattern

| Component | Purpose |
|-----------|---------|
| Model | Database structure |
| View | Business logic |
| Template | HTML presentation |

## First View

\`\`\`python
# myapp/views.py
from django.http import HttpResponse

def hello(request):
    return HttpResponse("Hello, Django!")

# myproject/urls.py
from myapp.views import hello

urlpatterns = [
    path('hello/', hello),
]
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Django Introduction Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Django MVT Pattern</h3>";
html += "<div style='display:flex;justify-content:center;gap:30px;margin:20px 0;'>";
const mvt = [
  { name: "Model", desc: "Data & Database", color: "#4caf50" },
  { name: "View", desc: "Logic & Processing", color: "#2196f3" },
  { name: "Template", desc: "HTML & Display", color: "#ff9800" }
];
mvt.forEach(m => {
  html += "<div style='background:" + m.color + ";color:white;padding:20px;border-radius:8px;text-align:center;'>";
  html += "<h4>" + m.name + "</h4>";
  html += "<p>" + m.desc + "</p></div>";
});
html += "</div>";

html += "<h3>Quick Start Commands</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "pip install django\\n";
html += "django-admin startproject mysite\\n";
html += "cd mysite\\n";
html += "python manage.py runserver</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'django-models': {
      title: 'Django Models',
      content: `# Django Models 

Define your database with Python classes!

## Basic Model

\`\`\`python
# models.py
from django.db import models

class User(models.Model):
    name = models.CharField(max_length=100)
    email = models.EmailField(unique=True)
    age = models.IntegerField(default=0)
    created_at = models.DateTimeField(auto_now_add=True)
    
    def __str__(self):
        return self.name
\`\`\`

## Field Types

\`\`\`python
# Common fields
CharField(max_length=255)   # Short text
TextField()                  # Long text
IntegerField()              # Integer
FloatField()                # Decimal
BooleanField(default=False)
DateField()
DateTimeField()
EmailField()
URLField()
FileField(upload_to='files/')
ImageField(upload_to='images/')
\`\`\`

## Relationships

\`\`\`python
class Author(models.Model):
    name = models.CharField(max_length=100)

class Book(models.Model):
    title = models.CharField(max_length=200)
    # ForeignKey = Many-to-One
    author = models.ForeignKey(Author, on_delete=models.CASCADE)
    
class Tag(models.Model):
    name = models.CharField(max_length=50)
    # ManyToMany
    books = models.ManyToManyField(Book)
\`\`\`

## Migrations

\`\`\`bash
python manage.py makemigrations
python manage.py migrate
\`\`\`

## Querying

\`\`\`python
# Create
user = User.objects.create(name="Alice", email="a@b.com")

# Read
users = User.objects.all()
user = User.objects.get(id=1)
users = User.objects.filter(age__gte=25)

# Update
User.objects.filter(id=1).update(name="Bob")

# Delete
User.objects.filter(id=1).delete()
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Django Models Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Common Field Types</h3>";
const fields = [
  { type: "CharField", use: "Short text (max 255)" },
  { type: "TextField", use: "Long text" },
  { type: "IntegerField", use: "Numbers" },
  { type: "BooleanField", use: "True/False" },
  { type: "DateTimeField", use: "Date + Time" },
  { type: "ForeignKey", use: "Many-to-One relation" },
  { type: "ManyToManyField", use: "Many-to-Many" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#092e20;color:white;'>";
html += "<th>Field Type</th><th>Use Case</th></tr>";
fields.forEach((f, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + f.type + "</code></td>";
  html += "<td style='padding:10px;'>" + f.use + "</td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // ML Advanced
    'ml-poly': {
      title: 'Polynomial Regression',
      content: `# Polynomial Regression 

Fit curves, not just lines!

## When to Use

Linear regression fits a line, but what if your data is curved?

\`\`\`python
import numpy as np
from sklearn.preprocessing import PolynomialFeatures
from sklearn.linear_model import LinearRegression

# Original data
X = np.array([1, 2, 3, 4, 5]).reshape(-1, 1)
y = np.array([1, 4, 9, 16, 25])  # y = x

# Create polynomial features (degree 2)
poly = PolynomialFeatures(degree=2)
X_poly = poly.fit_transform(X)
# X_poly now has: [1, x, x]

# Fit linear regression on polynomial features
model = LinearRegression()
model.fit(X_poly, y)

# Predict
X_new = np.array([[6]])
X_new_poly = poly.transform(X_new)
prediction = model.predict(X_new_poly)  # 36
\`\`\`

## Choosing Degree

\`\`\`python
# Too low = underfitting
# Too high = overfitting

# Use cross-validation to find best degree
from sklearn.model_selection import cross_val_score

for degree in range(1, 10):
    poly = PolynomialFeatures(degree=degree)
    X_poly = poly.fit_transform(X)
    scores = cross_val_score(LinearRegression(), X_poly, y, cv=5)
    print(f"Degree {degree}: {scores.mean():.3f}")
\`\`\`

## Key Points

- Degree 1 = Linear
- Degree 2 = Quadratic (parabola)
- Degree 3 = Cubic
- Higher degrees = more flexibility but risk overfitting
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Polynomial Regression Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Polynomial Degrees</h3>";
html += "<div style='display:grid;grid-template-columns:repeat(3,1fr);gap:15px;'>";
const degrees = [
  { deg: 1, name: "Linear", shape: "Straight line" },
  { deg: 2, name: "Quadratic", shape: "Parabola" },
  { deg: 3, name: "Cubic", shape: "S-curve" }
];
degrees.forEach(d => {
  html += "<div style='background:#e8f5e9;padding:15px;border-radius:8px;text-align:center;'>";
  html += "<h4>Degree " + d.deg + "</h4>";
  html += "<p>" + d.name + "</p>";
  html += "<small>" + d.shape + "</small></div>";
});
html += "</div>";

html += "<h3>Overfitting Warning</h3>";
html += "<p style='background:#fff3e0;padding:15px;border-radius:8px;'>";
html += " Higher degree = more flexible but risks <b>overfitting</b>!<br>";
html += "Use cross-validation to find the right degree.</p>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'ml-logistic': {
      title: 'Logistic Regression',
      content: `# Logistic Regression 

Classification, not regression!

## Binary Classification

\`\`\`python
from sklearn.linear_model import LogisticRegression
from sklearn.model_selection import train_test_split

# Data: predict if email is spam
X = [[...features...]]
y = [0, 1, 0, 1, ...]  # 0=not spam, 1=spam

# Split data
X_train, X_test, y_train, y_test = train_test_split(
    X, y, test_size=0.2, random_state=42
)

# Train model
model = LogisticRegression()
model.fit(X_train, y_train)

# Predict class
predictions = model.predict(X_test)

# Predict probability
probabilities = model.predict_proba(X_test)
\`\`\`

## How It Works

1. Calculates weighted sum of features
2. Passes through sigmoid function
3. Output: probability between 0 and 1
4. Threshold (usually 0.5) determines class

## Evaluation

\`\`\`python
from sklearn.metrics import accuracy_score, classification_report

accuracy = accuracy_score(y_test, predictions)
print(classification_report(y_test, predictions))
\`\`\`

## Multi-class Classification

\`\`\`python
# Works with multiple classes automatically
model = LogisticRegression(multi_class='multinomial')
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Logistic Regression Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Linear vs Logistic</h3>";
html += "<div style='display:flex;gap:20px;'>";
html += "<div style='flex:1;background:#e3f2fd;padding:15px;border-radius:8px;'>";
html += "<h4>Linear Regression</h4>";
html += "<p>Predicts <b>continuous</b> values</p>";
html += "<p>Output: Any number</p>";
html += "<p>Example: Price, Age</p></div>";

html += "<div style='flex:1;background:#e8f5e9;padding:15px;border-radius:8px;'>";
html += "<h4>Logistic Regression</h4>";
html += "<p>Predicts <b>categories</b></p>";
html += "<p>Output: Probability (0-1)</p>";
html += "<p>Example: Spam/Not Spam</p></div>";
html += "</div>";

html += "<h3>Sigmoid Function</h3>";
html += "<p>Converts any number to probability between 0 and 1</p>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "(x) = 1 / (1 + e^(-x))\\n\\n";
html += "x = -    (x) = 0\\n";
html += "x = 0     (x) = 0.5\\n";
html += "x = +    (x) = 1</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'ml-knn': {
      title: 'K-Nearest Neighbors',
      content: `# K-Nearest Neighbors 

Predict based on nearest neighbors!

## How KNN Works

1. Choose K (number of neighbors)
2. Find K closest points to new data
3. Majority vote for classification
4. Average for regression

\`\`\`python
from sklearn.neighbors import KNeighborsClassifier

# Create and train
knn = KNeighborsClassifier(n_neighbors=5)
knn.fit(X_train, y_train)

# Predict
predictions = knn.predict(X_test)

# Accuracy
accuracy = knn.score(X_test, y_test)
\`\`\`

## Choosing K

\`\`\`python
# Test different K values
for k in range(1, 21, 2):
    knn = KNeighborsClassifier(n_neighbors=k)
    knn.fit(X_train, y_train)
    score = knn.score(X_test, y_test)
    print(f"K={k}: {score:.3f}")

# K too small = overfitting
# K too large = underfitting
\`\`\`

## Distance Metrics

\`\`\`python
# Euclidean (default)
knn = KNeighborsClassifier(metric='euclidean')

# Manhattan
knn = KNeighborsClassifier(metric='manhattan')

# Minkowski
knn = KNeighborsClassifier(metric='minkowski', p=3)
\`\`\`

## Pros and Cons

| Pros | Cons |
|------|------|
| Simple to understand | Slow on large data |
| No training needed | Sensitive to scale |
| Works for multi-class | Memory intensive |
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> KNN Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>How KNN Works</h3>";
html += "<div style='background:#e8f5e9;padding:20px;border-radius:8px;text-align:center;'>";
html += "<p>New point: </p>";
html += "<p>Find K=3 nearest neighbors</p>";
html += "<p>  Majority is </p>";
html += "<p>Prediction: </p></div>";

html += "<h3>Choosing K</h3>";
html += "<ul>";
html += "<li>K too small (1-3): Overfitting, noisy</li>";
html += "<li>K too large: Underfitting, ignores local patterns</li>";
html += "<li>Use odd K for binary classification</li>";
html += "<li>Try sqrt(n) as starting point</li>";
html += "</ul>";

html += "<h3> Important: Scale Your Data!</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "from sklearn.preprocessing import StandardScaler\\n\\n";
html += "scaler = StandardScaler()\\n";
html += "X_scaled = scaler.fit_transform(X)</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'ml-trees': {
      title: 'Decision Trees',
      content: `# Decision Trees 

Make decisions by asking questions!

## How It Works

\`\`\`
Is age > 30?
 Yes: Is income > 50k?
    Yes: Approve 
    No: Deny 
 No: Is employed?
     Yes: Approve 
     No: Deny 
\`\`\`

## Implementation

\`\`\`python
from sklearn.tree import DecisionTreeClassifier

# Create and train
tree = DecisionTreeClassifier(max_depth=5, random_state=42)
tree.fit(X_train, y_train)

# Predict
predictions = tree.predict(X_test)

# Feature importance
importances = tree.feature_importances_
for name, imp in zip(feature_names, importances):
    print(f"{name}: {imp:.3f}")
\`\`\`

## Hyperparameters

\`\`\`python
tree = DecisionTreeClassifier(
    max_depth=5,          # Limit tree depth
    min_samples_split=10, # Min samples to split
    min_samples_leaf=5,   # Min samples in leaf
    max_features='sqrt'   # Features to consider
)
\`\`\`

## Visualize Tree

\`\`\`python
from sklearn.tree import plot_tree
import matplotlib.pyplot as plt

plt.figure(figsize=(20, 10))
plot_tree(tree, feature_names=feature_names, 
          class_names=class_names, filled=True)
plt.show()
\`\`\`

## Pros and Cons

| Pros | Cons |
|------|------|
| Easy to interpret | Overfits easily |
| No scaling needed | Unstable |
| Handles mixed types | Biased to dominant class |
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Decision Trees Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Decision Tree Example</h3>";
html += "<div style='background:#e8f5e9;padding:20px;border-radius:8px;font-family:monospace;'>";
html += "Is age > 30?<br>";
html += " Yes: Is income > 50k?<br>";
html += "    Yes:  Approve<br>";
html += "    No:  Deny<br>";
html += " No: Is employed?<br>";
html += "     Yes:  Approve<br>";
html += "     No:  Deny</div>";

html += "<h3>Key Parameters</h3>";
const params = [
  { param: "max_depth", desc: "Limit tree depth to prevent overfitting" },
  { param: "min_samples_split", desc: "Minimum samples needed to split" },
  { param: "min_samples_leaf", desc: "Minimum samples in leaf node" }
];
html += "<table style='width:100%;border-collapse:collapse;'>";
params.forEach((p, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + p.param + "</code></td>";
  html += "<td style='padding:10px;'>" + p.desc + "</td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'ml-kmeans': {
      title: 'K-Means Clustering',
      content: `# K-Means Clustering 

Group similar data points!

## How It Works

1. Choose K clusters
2. Initialize K random centroids
3. Assign points to nearest centroid
4. Recalculate centroids
5. Repeat until stable

\`\`\`python
from sklearn.cluster import KMeans

# Create and fit
kmeans = KMeans(n_clusters=3, random_state=42)
kmeans.fit(X)

# Get cluster labels
labels = kmeans.labels_

# Get centroids
centroids = kmeans.cluster_centers_

# Predict new data
new_labels = kmeans.predict(X_new)
\`\`\`

## Finding Optimal K (Elbow Method)

\`\`\`python
inertias = []
for k in range(1, 11):
    kmeans = KMeans(n_clusters=k, random_state=42)
    kmeans.fit(X)
    inertias.append(kmeans.inertia_)

plt.plot(range(1, 11), inertias, 'bo-')
plt.xlabel('K')
plt.ylabel('Inertia')
plt.title('Elbow Method')
plt.show()
# Look for the "elbow" point
\`\`\`

## Silhouette Score

\`\`\`python
from sklearn.metrics import silhouette_score

score = silhouette_score(X, labels)
# Closer to 1 = better clustering
\`\`\`

## Use Cases

- Customer segmentation
- Image compression
- Anomaly detection
- Document clustering
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> K-Means Clustering Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>K-Means Algorithm</h3>";
html += "<div style='background:#e8f5e9;padding:20px;border-radius:8px;'>";
html += "<ol>";
html += "<li>Choose K (number of clusters)</li>";
html += "<li>Place K random centroids</li>";
html += "<li>Assign each point to nearest centroid</li>";
html += "<li>Move centroids to cluster center</li>";
html += "<li>Repeat steps 3-4 until stable</li>";
html += "</ol></div>";

html += "<h3>Elbow Method</h3>";
html += "<p>Plot inertia vs K and look for the 'elbow' where adding more clusters doesn't help much.</p>";

html += "<h3>Common Use Cases</h3>";
const uses = ["Customer Segmentation", "Image Compression", "Anomaly Detection", "Document Clustering"];
html += "<div style='display:flex;flex-wrap:wrap;gap:10px;'>";
uses.forEach(u => {
  html += "<span style='background:#3776AB;color:white;padding:8px 15px;border-radius:20px;'>" + u + "</span>";
});
html += "</div>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // Reference
    'ref-string': {
      title: 'String Methods',
      content: `# Python String Methods 

Quick reference for string operations!

## Case Methods
\`\`\`python
s = "Hello World"
s.upper()      # "HELLO WORLD"
s.lower()      # "hello world"
s.title()      # "Hello World"
s.capitalize() # "Hello world"
s.swapcase()   # "hELLO wORLD"
\`\`\`

## Search Methods
\`\`\`python
s = "Hello World"
s.find("World")     # 6 (-1 if not found)
s.index("World")    # 6 (error if not found)
s.count("l")        # 3
s.startswith("He")  # True
s.endswith("ld")    # True
"World" in s        # True
\`\`\`

## Modify Methods
\`\`\`python
s = "  Hello World  "
s.strip()           # "Hello World"
s.lstrip()          # "Hello World  "
s.rstrip()          # "  Hello World"
s.replace("o", "0") # "Hell0 W0rld"
\`\`\`

## Split/Join
\`\`\`python
"a,b,c".split(",")  # ["a", "b", "c"]
" ".join(["a", "b"]) # "a b"
"Hello\\nWorld".splitlines() # ["Hello", "World"]
\`\`\`

## Check Methods
\`\`\`python
"123".isdigit()     # True
"abc".isalpha()     # True
"abc123".isalnum()  # True
"   ".isspace()     # True
"Hello".isupper()   # False
\`\`\`

## Format
\`\`\`python
"{} {}".format("Hello", "World")
f"Value: {value}"
"Hello".center(20)
"5".zfill(3)  # "005"
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> String Methods Reference</h2>
<div id="demo"></div>
<script>
let html = "<h3>Most Used Methods</h3>";
const methods = [
  { m: ".upper() / .lower()", desc: "Change case" },
  { m: ".strip()", desc: "Remove whitespace" },
  { m: ".split()", desc: "String to list" },
  { m: ".join()", desc: "List to string" },
  { m: ".replace()", desc: "Replace substring" },
  { m: ".find()", desc: "Find index" },
  { m: ".startswith() / .endswith()", desc: "Check prefix/suffix" },
  { m: ".format() / f-string", desc: "String formatting" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Method</th><th>Description</th></tr>";
methods.forEach((m, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + m.m + "</code></td>";
  html += "<td style='padding:10px;'>" + m.desc + "</td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'ref-list': {
      title: 'List Methods',
      content: `# Python List Methods 

Quick reference for list operations!

## Add Elements
\`\`\`python
lst = [1, 2, 3]
lst.append(4)        # [1, 2, 3, 4]
lst.insert(0, 0)     # [0, 1, 2, 3, 4]
lst.extend([5, 6])   # [0, 1, 2, 3, 4, 5, 6]
\`\`\`

## Remove Elements
\`\`\`python
lst = [1, 2, 3, 2, 4]
lst.remove(2)        # [1, 3, 2, 4] (first 2)
lst.pop()            # [1, 3, 2] returns 4
lst.pop(0)           # [3, 2] returns 1
lst.clear()          # []
\`\`\`

## Search & Count
\`\`\`python
lst = [1, 2, 3, 2, 4]
lst.index(2)         # 1 (first occurrence)
lst.count(2)         # 2
2 in lst             # True
\`\`\`

## Sort & Reverse
\`\`\`python
lst = [3, 1, 4, 1, 5]
lst.sort()           # [1, 1, 3, 4, 5] in-place
lst.sort(reverse=True) # [5, 4, 3, 1, 1]
lst.reverse()        # Reverses in-place
sorted(lst)          # Returns new sorted list
\`\`\`

## Copy
\`\`\`python
lst = [1, [2, 3]]
lst.copy()           # Shallow copy
import copy
copy.deepcopy(lst)   # Deep copy
\`\`\`

## Other
\`\`\`python
len(lst)             # Length
min(lst), max(lst)   # Min/Max
sum(lst)             # Sum
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> List Methods Reference</h2>
<div id="demo"></div>
<script>
let html = "<h3>List Operations</h3>";
const ops = [
  { cat: "Add", methods: "append(), insert(), extend()" },
  { cat: "Remove", methods: "remove(), pop(), clear()" },
  { cat: "Search", methods: "index(), count(), in" },
  { cat: "Order", methods: "sort(), reverse(), sorted()" },
  { cat: "Copy", methods: "copy(), list(), deepcopy()" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Category</th><th>Methods</th></tr>";
ops.forEach((o, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><b>" + o.cat + "</b></td>";
  html += "<td style='padding:10px;'><code>" + o.methods + "</code></td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'ref-dict': {
      title: 'Dict Methods',
      content: `# Python Dict Methods 

Quick reference for dictionary operations!

## Access
\`\`\`python
d = {"a": 1, "b": 2}
d["a"]               # 1 (error if missing)
d.get("a")           # 1 (None if missing)
d.get("c", 0)        # 0 (default if missing)
\`\`\`

## Add/Update
\`\`\`python
d = {"a": 1}
d["b"] = 2           # {"a": 1, "b": 2}
d.update({"c": 3})   # {"a": 1, "b": 2, "c": 3}
d.setdefault("d", 4) # Set if missing
\`\`\`

## Remove
\`\`\`python
d = {"a": 1, "b": 2, "c": 3}
d.pop("a")           # Returns 1, removes "a"
d.popitem()          # Removes last item
del d["b"]           # Remove by key
d.clear()            # Empty dict
\`\`\`

## Iterate
\`\`\`python
d = {"a": 1, "b": 2}
d.keys()             # dict_keys(['a', 'b'])
d.values()           # dict_values([1, 2])
d.items()            # dict_items([('a', 1), ('b', 2)])

for key in d:
    print(key)
for key, value in d.items():
    print(key, value)
\`\`\`

## Copy
\`\`\`python
d.copy()             # Shallow copy
dict(d)              # Another shallow copy
import copy
copy.deepcopy(d)     # Deep copy
\`\`\`

## Other
\`\`\`python
len(d)               # Number of keys
"key" in d           # Check if key exists
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Dict Methods Reference</h2>
<div id="demo"></div>
<script>
let html = "<h3>Dictionary Operations</h3>";
const ops = [
  { cat: "Access", methods: "d['key'], get(), setdefault()" },
  { cat: "Modify", methods: "d['key']=val, update()" },
  { cat: "Remove", methods: "pop(), popitem(), del, clear()" },
  { cat: "Iterate", methods: "keys(), values(), items()" },
  { cat: "Copy", methods: "copy(), dict(), deepcopy()" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Category</th><th>Methods</th></tr>";
ops.forEach((o, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><b>" + o.cat + "</b></td>";
  html += "<td style='padding:10px;'><code>" + o.methods + "</code></td></tr>";
});
html += "</table>";

html += "<h3>Safe Access Pattern</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "# Don't do this (may error)\\n";
html += "value = d['key']\\n\\n";
html += "# Do this instead\\n";
html += "value = d.get('key', default_value)</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'ref-keywords': {
      title: 'Python Keywords',
      content: `# Python Keywords 

Reserved words you cannot use as variable names!

## Control Flow
\`\`\`python
if, elif, else      # Conditionals
for, while          # Loops
break, continue     # Loop control
pass                # Do nothing
\`\`\`

## Boolean
\`\`\`python
True, False         # Boolean values
and, or, not        # Boolean operators
is, is not          # Identity operators
in, not in          # Membership operators
\`\`\`

## Functions/Classes
\`\`\`python
def                 # Define function
return              # Return from function
lambda              # Anonymous function
class               # Define class
\`\`\`

## Exception Handling
\`\`\`python
try, except         # Handle exceptions
finally             # Always execute
raise               # Raise exception
assert              # Debugging assertions
\`\`\`

## Variables
\`\`\`python
global              # Global variable
nonlocal            # Enclosing scope variable
None                # Null value
\`\`\`

## Import
\`\`\`python
import              # Import module
from                # Import from module
as                  # Alias
\`\`\`

## Other
\`\`\`python
with                # Context manager
yield               # Generator
async, await        # Async programming
del                 # Delete
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python Keywords Reference</h2>
<div id="demo"></div>
<script>
let html = "<h3>All 35 Python Keywords</h3>";
const keywords = [
  "False", "None", "True", "and", "as", "assert", "async",
  "await", "break", "class", "continue", "def", "del", "elif",
  "else", "except", "finally", "for", "from", "global", "if",
  "import", "in", "is", "lambda", "nonlocal", "not", "or",
  "pass", "raise", "return", "try", "while", "with", "yield"
];

html += "<div style='display:flex;flex-wrap:wrap;gap:8px;'>";
keywords.forEach(k => {
  html += "<span style='background:#3776AB;color:white;padding:5px 12px;border-radius:4px;font-family:monospace;'>" + k + "</span>";
});
html += "</div>";

html += "<h3 style='margin-top:20px;'>Check Keywords</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "import keyword\\n\\n";
html += "print(keyword.kwlist)  # All keywords\\n";
html += "keyword.iskeyword('if')  # True</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'quiz': {
      title: 'Python Quiz',
      content: `# Python Quiz 

Test your Python knowledge!

## Quiz Instructions

- Answer all questions
- Score 80%+ to pass
- Review incorrect answers

## Sample Questions

### Q1: What is the output?
\`\`\`python
x = [1, 2, 3]
y = x
y.append(4)
print(x)
\`\`\`
A) [1, 2, 3]
B) [1, 2, 3, 4]
C) Error

**Answer: B** - Lists are mutable and y references the same list as x.

### Q2: Which is immutable?
A) List
B) Dictionary
C) Tuple
D) Set

**Answer: C** - Tuples are immutable.

### Q3: What does \`*args\` do?
A) Required arguments
B) Keyword arguments
C) Variable positional arguments
D) Default arguments

**Answer: C**

### Q4: Output of \`bool([])\`?
A) True
B) False
C) Error

**Answer: B** - Empty containers are falsy.

### Q5: How to copy a list?
\`\`\`python
original = [1, 2, 3]
# Which creates a copy?
\`\`\`
A) \`copy = original\`
B) \`copy = original[:]\`
C) Both

**Answer: B** - Assignment creates a reference, slicing creates a copy.

## Take the Full Quiz

Click "Start Quiz" below to begin the comprehensive assessment!
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python Quiz</h2>
<div id="demo"></div>
<script>
let html = "<h3>Sample Questions</h3>";

const questions = [
  { q: "What is the output of print(type([]))?", a: "<class 'list'>" },
  { q: "Is Python case-sensitive?", a: "Yes" },
  { q: "What does len() return for 'hello'?", a: "5" },
  { q: "Which keyword defines a function?", a: "def" },
  { q: "What is 10 // 3?", a: "3 (floor division)" }
];

html += "<div style='display:flex;flex-direction:column;gap:10px;'>";
questions.forEach((q, i) => {
  html += "<div style='background:#f8f9fa;padding:15px;border-radius:8px;'>";
  html += "<p><b>Q" + (i+1) + ":</b> " + q.q + "</p>";
  html += "<p style='color:#4caf50;'>Answer: " + q.a + "</p></div>";
});
html += "</div>";

html += "<div style='text-align:center;margin-top:20px;'>";
html += "<button style='background:#3776AB;color:white;padding:15px 30px;border:none;border-radius:8px;font-size:18px;cursor:pointer;'>";
html += "Start Full Quiz</button></div>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // More ML lessons
    'ml-distribution': {
      title: 'Data Distribution',
      content: `# Data Distribution 

Understand how your data is shaped!

## Normal Distribution (Gaussian)

\`\`\`python
import numpy as np
import matplotlib.pyplot as plt

# Generate normal data
data = np.random.normal(loc=0, scale=1, size=1000)
# loc = mean, scale = std deviation

plt.hist(data, bins=30, density=True)
plt.title('Normal Distribution')
plt.show()
\`\`\`

## Key Properties

- Bell-shaped curve
- Symmetric around mean
- 68% within 1 std dev
- 95% within 2 std devs
- 99.7% within 3 std devs

## Check Normality

\`\`\`python
from scipy import stats

# Shapiro-Wilk test
stat, p_value = stats.shapiro(data)
if p_value > 0.05:
    print("Data is normally distributed")
\`\`\`

## Other Distributions

\`\`\`python
# Uniform - equal probability
np.random.uniform(0, 10, 1000)

# Binomial - success/failure
np.random.binomial(n=10, p=0.5, size=1000)

# Poisson - count events
np.random.poisson(lam=5, size=1000)

# Exponential - time between events
np.random.exponential(scale=1, size=1000)
\`\`\`

## Why It Matters

- Many ML algorithms assume normal distribution
- Helps choose the right algorithm
- Guides data preprocessing
- Affects model performance
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Data Distribution Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Common Distributions</h3>";
const dists = [
  { name: "Normal", shape: "Bell curve", use: "Natural phenomena" },
  { name: "Uniform", shape: "Flat", use: "Random selection" },
  { name: "Binomial", shape: "Discrete peaks", use: "Success/failure" },
  { name: "Poisson", shape: "Right-skewed", use: "Count events" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Distribution</th><th>Shape</th><th>Use Case</th></tr>";
dists.forEach((d, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'>" + d.name + "</td>";
  html += "<td style='padding:10px;'>" + d.shape + "</td>";
  html += "<td style='padding:10px;'>" + d.use + "</td></tr>";
});
html += "</table>";

html += "<h3>68-95-99.7 Rule</h3>";
html += "<p>For normal distribution:</p>";
html += "<ul>";
html += "<li>68% of data within 1</li>";
html += "<li>95% of data within 2</li>";
html += "<li>99.7% of data within 3</li>";
html += "</ul>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'ml-multiple': {
      title: 'Multiple Regression',
      content: `# Multiple Regression 

Predict using multiple features!

## Single vs Multiple

\`\`\`python
# Single: y = mx + b
# Multiple: y = b0 + b1*x1 + b2*x2 + ... + bn*xn
\`\`\`

## Implementation

\`\`\`python
from sklearn.linear_model import LinearRegression
import pandas as pd

# Multiple features
df = pd.DataFrame({
    'sqft': [1000, 1500, 2000, 2500],
    'bedrooms': [2, 3, 3, 4],
    'age': [10, 5, 15, 8],
    'price': [200000, 300000, 280000, 400000]
})

X = df[['sqft', 'bedrooms', 'age']]
y = df['price']

# Train model
model = LinearRegression()
model.fit(X, y)

# Coefficients
print("Intercept:", model.intercept_)
print("Coefficients:", model.coef_)
# [price_per_sqft, price_per_bedroom, price_per_year]

# Predict
new_house = [[1800, 3, 12]]
predicted_price = model.predict(new_house)
\`\`\`

## Feature Importance

\`\`\`python
# Standardize to compare coefficients
from sklearn.preprocessing import StandardScaler

scaler = StandardScaler()
X_scaled = scaler.fit_transform(X)

model.fit(X_scaled, y)
# Now coefficients are comparable
\`\`\`

## R Score

\`\`\`python
score = model.score(X, y)
# 0 to 1, higher is better
# Adjusted R accounts for number of features
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Multiple Regression Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Single vs Multiple</h3>";
html += "<div style='display:flex;gap:20px;'>";
html += "<div style='flex:1;background:#e3f2fd;padding:15px;border-radius:8px;'>";
html += "<h4>Simple</h4>";
html += "<p>y = mx + b</p>";
html += "<p>One feature predicts y</p></div>";

html += "<div style='flex:1;background:#e8f5e9;padding:15px;border-radius:8px;'>";
html += "<h4>Multiple</h4>";
html += "<p>y = b + bx + bx + ...</p>";
html += "<p>Many features predict y</p></div>";
html += "</div>";

html += "<h3>House Price Example</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "price = 50000 +\\n";
html += "        150  sqft +\\n";
html += "        10000  bedrooms +\\n";
html += "        -2000  age</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'ml-split': {
      title: 'Train/Test Split',
      content: `# Train/Test Split 

Never test on training data!

## Why Split?

- Training data: Model learns patterns
- Test data: Evaluate on unseen data
- Prevents overfitting detection

## Basic Split

\`\`\`python
from sklearn.model_selection import train_test_split

X_train, X_test, y_train, y_test = train_test_split(
    X, y, 
    test_size=0.2,      # 20% for testing
    random_state=42     # Reproducibility
)

print(f"Train: {len(X_train)}, Test: {len(X_test)}")
\`\`\`

## Stratified Split (Classification)

\`\`\`python
# Maintains class proportions
X_train, X_test, y_train, y_test = train_test_split(
    X, y,
    test_size=0.2,
    stratify=y,         # Maintain class balance
    random_state=42
)
\`\`\`

## Train/Validation/Test

\`\`\`python
# First split: train+val vs test
X_temp, X_test, y_temp, y_test = train_test_split(
    X, y, test_size=0.2
)

# Second split: train vs validation
X_train, X_val, y_train, y_val = train_test_split(
    X_temp, y_temp, test_size=0.25  # 25% of 80% = 20%
)

# Result: 60% train, 20% val, 20% test
\`\`\`

## Common Ratios

| Split | Train | Test |
|-------|-------|------|
| 80/20 | 80% | 20% |
| 70/30 | 70% | 30% |
| 90/10 | 90% | 10% |
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Train/Test Split Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Why Split Data?</h3>";
html += "<div style='background:#e8f5e9;padding:20px;border-radius:8px;'>";
html += "<p> <b>Training:</b> Model learns from this data</p>";
html += "<p> <b>Testing:</b> Evaluate on unseen data</p>";
html += "<p> Prevents overfitting!</p></div>";

html += "<h3>Common Split Ratios</h3>";
html += "<div style='display:flex;gap:15px;'>";
["80/20", "70/30", "60/20/20"].forEach(r => {
  html += "<div style='flex:1;background:#3776AB;color:white;padding:15px;text-align:center;border-radius:8px;'>";
  html += "<h4>" + r + "</h4></div>";
});
html += "</div>";

html += "<h3>Code Example</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "X_train, X_test, y_train, y_test = train_test_split(\\n";
html += "    X, y,\\n";
html += "    test_size=0.2,\\n";
html += "    random_state=42\\n";
html += ")</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'ml-cv': {
      title: 'Cross Validation',
      content: `# Cross Validation 

More robust model evaluation!

## K-Fold Cross Validation

\`\`\`python
from sklearn.model_selection import cross_val_score

# 5-fold CV
scores = cross_val_score(model, X, y, cv=5)
print(f"Scores: {scores}")
print(f"Mean: {scores.mean():.3f} (+/- {scores.std()*2:.3f})")
\`\`\`

## How It Works

1. Split data into K folds
2. Train on K-1 folds, test on 1 fold
3. Repeat K times
4. Average all scores

## K-Fold Implementation

\`\`\`python
from sklearn.model_selection import KFold

kf = KFold(n_splits=5, shuffle=True, random_state=42)

scores = []
for train_idx, test_idx in kf.split(X):
    X_train, X_test = X[train_idx], X[test_idx]
    y_train, y_test = y[train_idx], y[test_idx]
    
    model.fit(X_train, y_train)
    score = model.score(X_test, y_test)
    scores.append(score)
\`\`\`

## Stratified K-Fold (Classification)

\`\`\`python
from sklearn.model_selection import StratifiedKFold

skf = StratifiedKFold(n_splits=5, shuffle=True)
for train_idx, test_idx in skf.split(X, y):
    # Maintains class balance in each fold
    pass
\`\`\`

## Benefits

- Uses all data for training and testing
- More reliable performance estimate
- Reduces variance in evaluation
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Cross Validation Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>K-Fold Cross Validation</h3>";
html += "<div style='background:#e8f5e9;padding:20px;border-radius:8px;'>";
html += "<p>Split data into K folds (e.g., K=5)</p>";
html += "<table style='width:100%;margin-top:10px;'>";
for (let i = 1; i <= 5; i++) {
  html += "<tr>";
  for (let j = 1; j <= 5; j++) {
    const bg = j === i ? "#f44336" : "#4caf50";
    const text = j === i ? "Test" : "Train";
    html += "<td style='background:" + bg + ";color:white;padding:10px;text-align:center;'>" + text + "</td>";
  }
  html += "</tr>";
}
html += "</table>";
html += "<p style='margin-top:10px;'>Each fold gets to be test set once!</p></div>";

html += "<h3>Why Use Cross Validation?</h3>";
html += "<ul>";
html += "<li>More reliable than single train/test split</li>";
html += "<li>Uses all data for training and testing</li>";
html += "<li>Reduces luck factor in evaluation</li>";
html += "</ul>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'ml-confusion': {
      title: 'Confusion Matrix',
      content: `# Confusion Matrix 

Understanding classification performance!

## What It Shows

\`\`\`
                Predicted
              Neg    Pos
Actual  Neg   TN     FP
        Pos   FN     TP

TN = True Negative (Correct rejection)
TP = True Positive (Correct detection)
FN = False Negative (Missed)
FP = False Positive (False alarm)
\`\`\`

## Implementation

\`\`\`python
from sklearn.metrics import confusion_matrix, classification_report

# Get predictions
y_pred = model.predict(X_test)

# Confusion matrix
cm = confusion_matrix(y_test, y_pred)
print(cm)

# Detailed report
print(classification_report(y_test, y_pred))
\`\`\`

## Metrics from Confusion Matrix

\`\`\`python
from sklearn.metrics import accuracy_score, precision_score, recall_score, f1_score

# Accuracy = (TP + TN) / Total
accuracy = accuracy_score(y_test, y_pred)

# Precision = TP / (TP + FP)
precision = precision_score(y_test, y_pred)

# Recall = TP / (TP + FN)
recall = recall_score(y_test, y_pred)

# F1 = 2 * (Precision * Recall) / (Precision + Recall)
f1 = f1_score(y_test, y_pred)
\`\`\`

## Visualization

\`\`\`python
import seaborn as sns
import matplotlib.pyplot as plt

plt.figure(figsize=(8, 6))
sns.heatmap(cm, annot=True, fmt='d', cmap='Blues')
plt.xlabel('Predicted')
plt.ylabel('Actual')
plt.show()
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Confusion Matrix Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Confusion Matrix</h3>";
html += "<table style='width:100%;border-collapse:collapse;max-width:400px;margin:0 auto;'>";
html += "<tr><td></td><td></td><td colspan='2' style='text-align:center;background:#3776AB;color:white;padding:10px;'><b>Predicted</b></td></tr>";
html += "<tr><td></td><td></td><td style='text-align:center;background:#e0e0e0;padding:10px;'>Negative</td><td style='text-align:center;background:#e0e0e0;padding:10px;'>Positive</td></tr>";
html += "<tr><td rowspan='2' style='background:#3776AB;color:white;padding:10px;writing-mode:vertical-rl;'><b>Actual</b></td>";
html += "<td style='background:#e0e0e0;padding:10px;'>Negative</td>";
html += "<td style='background:#c8e6c9;padding:20px;text-align:center;'><b>TN</b><br>True Negative</td>";
html += "<td style='background:#ffcdd2;padding:20px;text-align:center;'><b>FP</b><br>False Positive</td></tr>";
html += "<tr><td style='background:#e0e0e0;padding:10px;'>Positive</td>";
html += "<td style='background:#ffcdd2;padding:20px;text-align:center;'><b>FN</b><br>False Negative</td>";
html += "<td style='background:#c8e6c9;padding:20px;text-align:center;'><b>TP</b><br>True Positive</td></tr>";
html += "</table>";

html += "<h3>Key Metrics</h3>";
const metrics = [
  { m: "Accuracy", f: "(TP+TN)/Total" },
  { m: "Precision", f: "TP/(TP+FP)" },
  { m: "Recall", f: "TP/(TP+FN)" },
  { m: "F1 Score", f: "2(PR)/(P+R)" }
];
html += "<table style='width:100%;border-collapse:collapse;'>";
metrics.forEach((m, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><b>" + m.m + "</b></td>";
  html += "<td style='padding:10px;'><code>" + m.f + "</code></td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'ml-roc': {
      title: 'AUC-ROC Curve',
      content: `# AUC-ROC Curve 

Evaluate classification at all thresholds!

## What is ROC?

- ROC = Receiver Operating Characteristic
- Plots TPR vs FPR at various thresholds
- AUC = Area Under the Curve (0.5 to 1.0)

## Implementation

\`\`\`python
from sklearn.metrics import roc_curve, auc, roc_auc_score
import matplotlib.pyplot as plt

# Get probabilities
y_prob = model.predict_proba(X_test)[:, 1]

# Calculate ROC
fpr, tpr, thresholds = roc_curve(y_test, y_prob)
roc_auc = auc(fpr, tpr)

# Plot
plt.plot(fpr, tpr, label=f'ROC (AUC = {roc_auc:.2f})')
plt.plot([0, 1], [0, 1], 'k--', label='Random')
plt.xlabel('False Positive Rate')
plt.ylabel('True Positive Rate')
plt.title('ROC Curve')
plt.legend()
plt.show()

# Quick AUC score
auc_score = roc_auc_score(y_test, y_prob)
\`\`\`

## Interpretation

| AUC | Interpretation |
|-----|---------------|
| 1.0 | Perfect |
| 0.9 | Excellent |
| 0.8 | Good |
| 0.7 | Fair |
| 0.5 | Random |

## Key Terms

- **TPR (Sensitivity)**: True Positive Rate = TP/(TP+FN)
- **FPR**: False Positive Rate = FP/(FP+TN)
- Higher AUC = Better model
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> AUC-ROC Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>AUC Interpretation</h3>";
const scores = [
  { auc: "0.9-1.0", meaning: "Excellent", color: "#4caf50" },
  { auc: "0.8-0.9", meaning: "Good", color: "#8bc34a" },
  { auc: "0.7-0.8", meaning: "Fair", color: "#ffc107" },
  { auc: "0.6-0.7", meaning: "Poor", color: "#ff9800" },
  { auc: "0.5-0.6", meaning: "Fail (Random)", color: "#f44336" }
];

html += "<div style='display:flex;gap:10px;flex-wrap:wrap;'>";
scores.forEach(s => {
  html += "<div style='background:" + s.color + ";color:white;padding:10px 15px;border-radius:8px;text-align:center;'>";
  html += "<b>" + s.auc + "</b><br><small>" + s.meaning + "</small></div>";
});
html += "</div>";

html += "<h3>Key Terms</h3>";
html += "<ul>";
html += "<li><b>TPR (Sensitivity)</b>: How many positives did we catch?</li>";
html += "<li><b>FPR</b>: How many negatives did we falsely flag?</li>";
html += "<li><b>AUC</b>: Overall model quality (area under curve)</li>";
html += "</ul>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'ml-grid': {
      title: 'Grid Search',
      content: `# Grid Search 

Find the best hyperparameters!

## What is Grid Search?

- Try all combinations of parameters
- Cross-validate each combination
- Pick the best

## Implementation

\`\`\`python
from sklearn.model_selection import GridSearchCV
from sklearn.svm import SVC

# Define parameter grid
param_grid = {
    'C': [0.1, 1, 10, 100],
    'gamma': [1, 0.1, 0.01, 0.001],
    'kernel': ['rbf', 'linear']
}

# Create grid search
grid_search = GridSearchCV(
    estimator=SVC(),
    param_grid=param_grid,
    cv=5,
    scoring='accuracy',
    n_jobs=-1,  # Use all CPU cores
    verbose=2
)

# Fit (searches all combinations)
grid_search.fit(X_train, y_train)

# Best parameters
print("Best params:", grid_search.best_params_)
print("Best score:", grid_search.best_score_)

# Best model (already fitted)
best_model = grid_search.best_estimator_
\`\`\`

## Randomized Search (Faster)

\`\`\`python
from sklearn.model_selection import RandomizedSearchCV
from scipy.stats import uniform, randint

param_dist = {
    'C': uniform(0.1, 100),
    'gamma': uniform(0.001, 1)
}

random_search = RandomizedSearchCV(
    SVC(), param_dist, 
    n_iter=50,  # Number of random samples
    cv=5
)
\`\`\`

## Tips

- Start with coarse grid, then refine
- Use RandomizedSearch for many parameters
- Consider computation time
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Grid Search Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Grid Search Process</h3>";
html += "<div style='background:#e8f5e9;padding:20px;border-radius:8px;'>";
html += "<ol>";
html += "<li>Define parameter combinations to try</li>";
html += "<li>For each combination, run cross-validation</li>";
html += "<li>Track the best score and parameters</li>";
html += "<li>Return best model</li>";
html += "</ol></div>";

html += "<h3>Example Parameter Grid</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "param_grid = {\\n";
html += "    'C': [0.1, 1, 10, 100],    # 4 values\\n";
html += "    'gamma': [1, 0.1, 0.01],    # 3 values\\n";
html += "    'kernel': ['rbf', 'linear'] # 2 values\\n";
html += "}\\n\\n";
html += "# Total: 4  3  2 = 24 combinations\\n";
html += "# With 5-fold CV = 120 fits!</pre>";

html += "<h3>Grid vs Random Search</h3>";
html += "<div style='display:flex;gap:20px;'>";
html += "<div style='flex:1;background:#e3f2fd;padding:15px;border-radius:8px;'>";
html += "<h4>Grid Search</h4>";
html += "<p> Thorough</p>";
html += "<p> Slow with many params</p></div>";
html += "<div style='flex:1;background:#fff3e0;padding:15px;border-radius:8px;'>";
html += "<h4>Random Search</h4>";
html += "<p> Fast</p>";
html += "<p> Might miss optimal</p></div>";
html += "</div>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'ml-hierarchical': {
      title: 'Hierarchical Clustering',
      content: `# Hierarchical Clustering 

Build a tree of clusters!

## How It Works

1. Start with each point as its own cluster
2. Merge two closest clusters
3. Repeat until one cluster remains
4. Cut tree at desired level

## Implementation

\`\`\`python
from sklearn.cluster import AgglomerativeClustering
import scipy.cluster.hierarchy as sch

# Agglomerative clustering
model = AgglomerativeClustering(n_clusters=3)
labels = model.fit_predict(X)

# Create dendrogram
plt.figure(figsize=(10, 7))
dendrogram = sch.dendrogram(
    sch.linkage(X, method='ward')
)
plt.title('Dendrogram')
plt.show()
\`\`\`

## Linkage Methods

| Method | Description |
|--------|-------------|
| ward | Minimize variance |
| complete | Maximum distance |
| average | Average distance |
| single | Minimum distance |

## Choosing Clusters

\`\`\`python
# Look at dendrogram
# Cut where there's a large vertical gap
\`\`\`

## vs K-Means

| K-Means | Hierarchical |
|---------|--------------|
| Faster | Slower |
| Need K upfront | Can decide K later |
| Spherical clusters | Any shape |
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Hierarchical Clustering Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Dendrogram</h3>";
html += "<div style='background:#e8f5e9;padding:20px;border-radius:8px;text-align:center;font-family:monospace;'>";
html += "        <br>";
html += "         <br>";
html += "        <br>";
html += "  A   B   C   D   E<br>";
html += "<p style='margin-top:10px;'>Cut at different heights for different number of clusters</p></div>";

html += "<h3>Linkage Methods</h3>";
const methods = [
  { m: "ward", d: "Minimize variance (most common)" },
  { m: "complete", d: "Use maximum distance" },
  { m: "average", d: "Use average distance" },
  { m: "single", d: "Use minimum distance" }
];
html += "<table style='width:100%;border-collapse:collapse;'>";
methods.forEach((m, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><b>" + m.m + "</b></td>";
  html += "<td style='padding:10px;'>" + m.d + "</td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'ml-bagging': {
      title: 'Bagging',
      content: `# Bagging (Bootstrap Aggregation) 

Combine multiple models for better predictions!

## How It Works

1. Create multiple bootstrap samples
2. Train a model on each sample
3. Combine predictions (vote/average)

## Implementation

\`\`\`python
from sklearn.ensemble import BaggingClassifier
from sklearn.tree import DecisionTreeClassifier

# Create bagging classifier
bagging = BaggingClassifier(
    estimator=DecisionTreeClassifier(),
    n_estimators=100,    # Number of trees
    max_samples=0.8,     # Sample size
    bootstrap=True,      # With replacement
    random_state=42,
    n_jobs=-1
)

bagging.fit(X_train, y_train)
accuracy = bagging.score(X_test, y_test)
\`\`\`

## Random Forest = Bagging + Feature Randomness

\`\`\`python
from sklearn.ensemble import RandomForestClassifier

rf = RandomForestClassifier(
    n_estimators=100,
    max_depth=10,
    random_state=42
)
rf.fit(X_train, y_train)

# Feature importance
importances = rf.feature_importances_
\`\`\`

## Benefits

- Reduces overfitting
- More stable predictions
- Handles noise better
- Works with any base model
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Bagging Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Bagging Process</h3>";
html += "<div style='background:#e8f5e9;padding:20px;border-radius:8px;'>";
html += "<div style='display:flex;justify-content:space-around;'>";
["Sample 1", "Sample 2", "Sample 3"].forEach(s => {
  html += "<div style='background:#3776AB;color:white;padding:10px;border-radius:4px;'>" + s + "</div>";
});
html += "</div>";
html += "<div style='text-align:center;margin:10px 0;'> Train models </div>";
html += "<div style='display:flex;justify-content:space-around;'>";
["Model 1", "Model 2", "Model 3"].forEach(s => {
  html += "<div style='background:#4caf50;color:white;padding:10px;border-radius:4px;'>" + s + "</div>";
});
html += "</div>";
html += "<div style='text-align:center;margin:10px 0;'> Combine (Vote/Average) </div>";
html += "<div style='text-align:center;'>";
html += "<div style='display:inline-block;background:#ff9800;color:white;padding:15px 30px;border-radius:8px;'><b>Final Prediction</b></div>";
html += "</div></div>";

html += "<h3>Benefits</h3>";
html += "<ul>";
html += "<li>Reduces variance (overfitting)</li>";
html += "<li>More stable predictions</li>";
html += "<li>Works with any base model</li>";
html += "</ul>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'ml-ensemble': {
      title: 'Ensemble Methods',
      content: `# Ensemble Methods 

Combine models for super predictions!

## Types of Ensembles

### 1. Bagging (Parallel)
\`\`\`python
# Random Forest
from sklearn.ensemble import RandomForestClassifier
rf = RandomForestClassifier(n_estimators=100)
\`\`\`

### 2. Boosting (Sequential)
\`\`\`python
# Gradient Boosting
from sklearn.ensemble import GradientBoostingClassifier
gb = GradientBoostingClassifier(n_estimators=100)

# XGBoost
import xgboost as xgb
xgb_model = xgb.XGBClassifier()

# LightGBM
import lightgbm as lgb
lgb_model = lgb.LGBMClassifier()
\`\`\`

### 3. Stacking
\`\`\`python
from sklearn.ensemble import StackingClassifier
from sklearn.linear_model import LogisticRegression

stacking = StackingClassifier(
    estimators=[
        ('rf', RandomForestClassifier()),
        ('gb', GradientBoostingClassifier())
    ],
    final_estimator=LogisticRegression()
)
\`\`\`

### 4. Voting
\`\`\`python
from sklearn.ensemble import VotingClassifier

voting = VotingClassifier(
    estimators=[
        ('rf', RandomForestClassifier()),
        ('svc', SVC(probability=True))
    ],
    voting='soft'  # Use probabilities
)
\`\`\`

## Comparison

| Method | Parallel | Reduces |
|--------|----------|---------|
| Bagging | Yes | Variance |
| Boosting | No | Bias |
| Stacking | Yes | Both |
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Ensemble Methods Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Ensemble Types</h3>";
const types = [
  { name: "Bagging", how: "Train in parallel", example: "Random Forest" },
  { name: "Boosting", how: "Train sequentially", example: "XGBoost, LightGBM" },
  { name: "Stacking", how: "Stack model outputs", example: "Meta-learner" },
  { name: "Voting", how: "Vote on predictions", example: "Hard/Soft voting" }
];

html += "<div style='display:grid;grid-template-columns:repeat(2,1fr);gap:15px;'>";
types.forEach(t => {
  html += "<div style='background:#e8f5e9;padding:15px;border-radius:8px;'>";
  html += "<h4>" + t.name + "</h4>";
  html += "<p><b>How:</b> " + t.how + "</p>";
  html += "<p><b>Example:</b> " + t.example + "</p></div>";
});
html += "</div>";

html += "<h3>Popular Libraries</h3>";
html += "<div style='display:flex;gap:15px;'>";
["XGBoost", "LightGBM", "CatBoost"].forEach(lib => {
  html += "<span style='background:#3776AB;color:white;padding:10px 20px;border-radius:20px;'>" + lib + "</span>";
});
html += "</div>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // Enterprise lessons
    'defensive': {
      title: 'Defensive Programming',
      content: `# Defensive Programming 

Write code that fails fast and clearly!

## Input Validation

\`\`\`python
def process_age(age):
    if not isinstance(age, int):
        raise TypeError("Age must be an integer")
    if age < 0 or age > 150:
        raise ValueError("Age must be between 0 and 150")
    return age

# With type hints
def process_age(age: int) -> int:
    assert 0 <= age <= 150, "Invalid age"
    return age
\`\`\`

## Assertions (Development)

\`\`\`python
def divide(a, b):
    assert b != 0, "Divisor cannot be zero"
    return a / b

# Assertions can be disabled with -O flag
# Use for development checks, not production validation
\`\`\`

## Guard Clauses

\`\`\`python
# Instead of nested ifs
def process_user(user):
    if user is None:
        return None
    if not user.is_active:
        return None
    if user.is_banned:
        return None
    
    # Main logic here
    return user.process()
\`\`\`

## Type Checking

\`\`\`python
from typing import Optional, List

def get_user(user_id: int) -> Optional[dict]:
    if user_id < 0:
        return None
    return {"id": user_id, "name": "User"}

# Runtime type checking with pydantic
from pydantic import BaseModel, validator

class User(BaseModel):
    name: str
    age: int
    
    @validator('age')
    def age_must_be_positive(cls, v):
        if v < 0:
            raise ValueError('Age must be positive')
        return v
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Defensive Programming Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Defensive Patterns</h3>";
const patterns = [
  { name: "Input Validation", desc: "Check all inputs at boundaries" },
  { name: "Guard Clauses", desc: "Return early for invalid cases" },
  { name: "Assertions", desc: "Check assumptions during development" },
  { name: "Type Hints", desc: "Document and check expected types" },
  { name: "Fail Fast", desc: "Raise errors immediately" }
];

html += "<div style='display:flex;flex-direction:column;gap:10px;'>";
patterns.forEach((p, i) => {
  const bg = i % 2 === 0 ? "#e8f5e9" : "#e3f2fd";
  html += "<div style='background:" + bg + ";padding:15px;border-radius:8px;'>";
  html += "<b>" + p.name + "</b>: " + p.desc + "</div>";
});
html += "</div>";

html += "<h3>Guard Clause Example</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "def process(user):\\n";
html += "    if user is None: return None\\n";
html += "    if not user.active: return None\\n";
html += "    # Main logic here\\n";
html += "    return user.process()</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'performance': {
      title: 'Performance & Memory',
      content: `# Performance & Memory 

Make your Python code fast!

## Profiling

\`\`\`python
import cProfile
import pstats

# Profile a function
cProfile.run('my_function()', 'output.prof')

# Analyze results
stats = pstats.Stats('output.prof')
stats.sort_stats('cumulative')
stats.print_stats(10)  # Top 10
\`\`\`

## Line Profiler

\`\`\`python
# pip install line_profiler
@profile
def slow_function():
    result = []
    for i in range(10000):
        result.append(i ** 2)
    return result

# Run with: kernprof -l -v script.py
\`\`\`

## Memory Profiling

\`\`\`python
# pip install memory_profiler
from memory_profiler import profile

@profile
def memory_hungry():
    big_list = [i for i in range(1000000)]
    return sum(big_list)
\`\`\`

## Optimization Tips

\`\`\`python
# Use generators instead of lists
sum(x**2 for x in range(1000000))

# Use set for membership testing
my_set = set(big_list)
if item in my_set:  # O(1) vs O(n)

# Use local variables
def fast():
    local_func = expensive_function
    for i in range(1000):
        local_func()  # Faster than global lookup

# Use built-ins (C-optimized)
sum(list)  # Faster than manual loop
\`\`\`

## Measuring Time

\`\`\`python
import time

start = time.perf_counter()
# code here
elapsed = time.perf_counter() - start
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Performance Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Optimization Tips</h3>";
const tips = [
  { tip: "Use generators", why: "Less memory than lists" },
  { tip: "Use sets for lookup", why: "O(1) vs O(n)" },
  { tip: "Use local variables", why: "Faster than global" },
  { tip: "Use built-in functions", why: "C-optimized" },
  { tip: "Avoid repeated calculations", why: "Cache results" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Tip</th><th>Why</th></tr>";
tips.forEach((t, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'>" + t.tip + "</td>";
  html += "<td style='padding:10px;'>" + t.why + "</td></tr>";
});
html += "</table>";

html += "<h3>Profiling Tools</h3>";
html += "<ul>";
html += "<li><code>cProfile</code> - Function-level profiling</li>";
html += "<li><code>line_profiler</code> - Line-by-line timing</li>";
html += "<li><code>memory_profiler</code> - Memory usage</li>";
html += "</ul>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'config': {
      title: 'Configuration Management',
      content: `# Configuration Management 

Manage settings like a pro!

## Environment Variables

\`\`\`python
import os

# Get environment variable
database_url = os.getenv('DATABASE_URL')
debug = os.getenv('DEBUG', 'False').lower() == 'true'

# Required variable
api_key = os.environ['API_KEY']  # Raises error if missing
\`\`\`

## .env Files

\`\`\`python
# pip install python-dotenv
from dotenv import load_dotenv

load_dotenv()  # Load from .env file

database_url = os.getenv('DATABASE_URL')
\`\`\`

## Config Class

\`\`\`python
from pydantic import BaseSettings

class Settings(BaseSettings):
    database_url: str
    api_key: str
    debug: bool = False
    max_connections: int = 10
    
    class Config:
        env_file = '.env'

settings = Settings()
print(settings.database_url)
\`\`\`

## Config Files

\`\`\`python
# config.yaml
import yaml

with open('config.yaml') as f:
    config = yaml.safe_load(f)

# config.json
import json

with open('config.json') as f:
    config = json.load(f)
\`\`\`

## Best Practices

1. Never commit secrets to git
2. Use .env for local development
3. Use environment variables in production
4. Validate configuration at startup
5. Use type hints for config values
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Configuration Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Configuration Hierarchy</h3>";
html += "<div style='display:flex;flex-direction:column;gap:10px;'>";
const levels = [
  { level: "Environment Variables", priority: "Highest" },
  { level: ".env File", priority: "High" },
  { level: "Config File", priority: "Medium" },
  { level: "Default Values", priority: "Lowest" }
];
levels.forEach((l, i) => {
  const colors = ["#4caf50", "#8bc34a", "#ffc107", "#e0e0e0"];
  html += "<div style='background:" + colors[i] + ";padding:15px;border-radius:8px;display:flex;justify-content:space-between;'>";
  html += "<span>" + l.level + "</span>";
  html += "<span><b>" + l.priority + "</b></span></div>";
});
html += "</div>";

html += "<h3>Best Practices</h3>";
html += "<ul>";
html += "<li> Never commit secrets to git</li>";
html += "<li> Use .env for local development</li>";
html += "<li> Use env vars in production</li>";
html += "<li> Validate config at startup</li>";
html += "</ul>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'packaging': {
      title: 'Python Packaging',
      content: `# Python Packaging 

Distribute your Python code!

## Project Structure

\`\`\`
mypackage/
 pyproject.toml
 README.md
 LICENSE
 src/
    mypackage/
        __init__.py
        main.py
 tests/
     test_main.py
\`\`\`

## pyproject.toml

\`\`\`toml
[build-system]
requires = ["setuptools>=61.0"]
build-backend = "setuptools.build_meta"

[project]
name = "mypackage"
version = "0.1.0"
authors = [
    { name="Your Name", email="you@email.com" }
]
description = "A small example package"
requires-python = ">=3.8"
dependencies = [
    "requests>=2.25.0",
    "pandas>=1.3.0"
]

[project.scripts]
mycommand = "mypackage.main:main"
\`\`\`

## Build & Upload

\`\`\`bash
# Install build tools
pip install build twine

# Build package
python -m build

# Upload to PyPI
twine upload dist/*
\`\`\`

## Install from GitHub

\`\`\`bash
pip install git+https://github.com/user/repo.git
\`\`\`

## Virtual Environments

\`\`\`bash
# Create
python -m venv venv

# Activate
source venv/bin/activate  # Linux/Mac
venv\\Scripts\\activate     # Windows

# Install requirements
pip install -r requirements.txt
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python Packaging Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Package Structure</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "mypackage/\\n";
html += " pyproject.toml  # Config\\n";
html += " README.md       # Docs\\n";
html += " src/\\n";
html += "    mypackage/\\n";
html += "        __init__.py\\n";
html += " tests/</pre>";

html += "<h3>Publishing Steps</h3>";
html += "<ol>";
html += "<li>Create pyproject.toml</li>";
html += "<li>Build: <code>python -m build</code></li>";
html += "<li>Upload: <code>twine upload dist/*</code></li>";
html += "<li>Install: <code>pip install mypackage</code></li>";
html += "</ol>";

html += "<h3>Essential Files</h3>";
const files = [
  { file: "pyproject.toml", purpose: "Package metadata & dependencies" },
  { file: "README.md", purpose: "Documentation" },
  { file: "LICENSE", purpose: "Legal terms" },
  { file: "__init__.py", purpose: "Makes directory a package" }
];
html += "<table style='width:100%;border-collapse:collapse;'>";
files.forEach((f, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + f.file + "</code></td>";
  html += "<td style='padding:10px;'>" + f.purpose + "</td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // More MySQL
    'mysql-joins': {
      title: 'MySQL Joins',
      content: `# MySQL Joins in Python 

Combine data from multiple tables!

## JOIN Types

\`\`\`sql
-- INNER JOIN: Only matching rows
SELECT * FROM users u
INNER JOIN orders o ON u.id = o.user_id

-- LEFT JOIN: All from left + matching
SELECT * FROM users u
LEFT JOIN orders o ON u.id = o.user_id

-- RIGHT JOIN: Matching + all from right
SELECT * FROM users u
RIGHT JOIN orders o ON u.id = o.user_id
\`\`\`

## Python Implementation

\`\`\`python
import mysql.connector

conn = mysql.connector.connect(...)
cursor = conn.cursor(dictionary=True)

# Inner join
query = """
SELECT u.name, o.product, o.amount
FROM users u
INNER JOIN orders o ON u.id = o.user_id
WHERE u.city = %s
"""
cursor.execute(query, ('NYC',))
results = cursor.fetchall()

for row in results:
    print(f"{row['name']} ordered {row['product']}")
\`\`\`

## Multiple Joins

\`\`\`python
query = """
SELECT u.name, o.product, p.price
FROM users u
JOIN orders o ON u.id = o.user_id
JOIN products p ON o.product_id = p.id
"""
cursor.execute(query)
\`\`\`

## With Pandas

\`\`\`python
import pandas as pd

df = pd.read_sql(query, conn)
print(df.head())
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> MySQL Joins Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>JOIN Types</h3>";
const joins = [
  { type: "INNER JOIN", result: "Only matching rows", color: "#4caf50" },
  { type: "LEFT JOIN", result: "All left + matching right", color: "#2196f3" },
  { type: "RIGHT JOIN", result: "Matching left + all right", color: "#ff9800" },
  { type: "FULL JOIN", result: "All from both tables", color: "#9c27b0" }
];

html += "<div style='display:grid;grid-template-columns:repeat(2,1fr);gap:15px;'>";
joins.forEach(j => {
  html += "<div style='background:" + j.color + ";color:white;padding:15px;border-radius:8px;'>";
  html += "<h4>" + j.type + "</h4>";
  html += "<p>" + j.result + "</p></div>";
});
html += "</div>";

html += "<h3>Example</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "SELECT u.name, o.product\\n";
html += "FROM users u\\n";
html += "INNER JOIN orders o\\n";
html += "ON u.id = o.user_id</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'mysql-transactions': {
      title: 'MySQL Transactions',
      content: `# MySQL Transactions 

Keep your data consistent!

## ACID Properties

- **A**tomicity: All or nothing
- **C**onsistency: Valid state to valid state
- **I**solation: Transactions don't interfere
- **D**urability: Committed = permanent

## Basic Transaction

\`\`\`python
import mysql.connector

conn = mysql.connector.connect(...)
cursor = conn.cursor()

try:
    # Start transaction (automatic in Python)
    
    # Debit from account A
    cursor.execute(
        "UPDATE accounts SET balance = balance - %s WHERE id = %s",
        (100, 1)
    )
    
    # Credit to account B
    cursor.execute(
        "UPDATE accounts SET balance = balance + %s WHERE id = %s",
        (100, 2)
    )
    
    # Commit if both succeed
    conn.commit()
    print("Transfer successful!")
    
except Exception as e:
    # Rollback on error
    conn.rollback()
    print(f"Transfer failed: {e}")
    
finally:
    cursor.close()
    conn.close()
\`\`\`

## Context Manager Pattern

\`\`\`python
from contextlib import contextmanager

@contextmanager
def transaction(conn):
    cursor = conn.cursor()
    try:
        yield cursor
        conn.commit()
    except Exception:
        conn.rollback()
        raise
    finally:
        cursor.close()

# Usage
with transaction(conn) as cursor:
    cursor.execute(...)
    cursor.execute(...)
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> MySQL Transactions Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>ACID Properties</h3>";
const acid = [
  { letter: "A", prop: "Atomicity", desc: "All or nothing" },
  { letter: "C", prop: "Consistency", desc: "Valid state to valid state" },
  { letter: "I", prop: "Isolation", desc: "Transactions don't interfere" },
  { letter: "D", prop: "Durability", desc: "Committed = permanent" }
];

html += "<div style='display:flex;gap:15px;'>";
acid.forEach(a => {
  html += "<div style='flex:1;background:#3776AB;color:white;padding:15px;border-radius:8px;text-align:center;'>";
  html += "<h2 style='margin:0;'>" + a.letter + "</h2>";
  html += "<p style='margin:5px 0;'><b>" + a.prop + "</b></p>";
  html += "<small>" + a.desc + "</small></div>";
});
html += "</div>";

html += "<h3>Transaction Pattern</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "try:\\n";
html += "    cursor.execute(...)  # Operation 1\\n";
html += "    cursor.execute(...)  # Operation 2\\n";
html += "    conn.commit()        #  Save all\\n";
html += "except:\\n";
html += "    conn.rollback()      #  Undo all</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // MongoDB continued
    'mongo-queries': {
      title: 'MongoDB Queries',
      content: `# MongoDB Query Patterns 

Master MongoDB query operations!

## Comparison Operators

\`\`\`python
# Equals
collection.find({"age": 25})

# Greater than
collection.find({"age": {"$gt": 25}})
collection.find({"age": {"$gte": 25}})

# Less than
collection.find({"age": {"$lt": 30}})
collection.find({"age": {"$lte": 30}})

# Not equal
collection.find({"status": {"$ne": "inactive"}})

# In list
collection.find({"city": {"$in": ["NYC", "LA", "Chicago"]}})

# Not in list
collection.find({"city": {"$nin": ["NYC", "LA"]}})
\`\`\`

## Logical Operators

\`\`\`python
# AND (implicit)
collection.find({"age": {"$gt": 25}, "city": "NYC"})

# OR
collection.find({
    "$or": [
        {"age": {"$lt": 25}},
        {"city": "NYC"}
    ]
})

# NOT
collection.find({"age": {"$not": {"$gt": 30}}})
\`\`\`

## Array Queries

\`\`\`python
# Contains element
collection.find({"tags": "python"})

# Contains all
collection.find({"tags": {"$all": ["python", "data"]}})

# Array size
collection.find({"tags": {"$size": 3}})
\`\`\`

## Projection

\`\`\`python
# Include fields
collection.find({}, {"name": 1, "age": 1, "_id": 0})

# Exclude fields
collection.find({}, {"password": 0})
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> MongoDB Queries Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Query Operators</h3>";
const ops = [
  { op: "$eq", desc: "Equals", ex: '{"age": {"$eq": 25}}' },
  { op: "$gt / $gte", desc: "Greater than", ex: '{"age": {"$gt": 25}}' },
  { op: "$lt / $lte", desc: "Less than", ex: '{"age": {"$lt": 30}}' },
  { op: "$in", desc: "In array", ex: '{"city": {"$in": [...]}}' },
  { op: "$or", desc: "Logical OR", ex: '{"$or": [{...}, {...}]}' },
  { op: "$regex", desc: "Pattern match", ex: '{"name": {"$regex": "^A"}}' }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#4caf50;color:white;'>";
html += "<th>Operator</th><th>Description</th><th>Example</th></tr>";
ops.forEach((o, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + o.op + "</code></td>";
  html += "<td style='padding:10px;'>" + o.desc + "</td>";
  html += "<td style='padding:10px;font-size:11px;'><code>" + o.ex + "</code></td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'mongo-indexing': {
      title: 'MongoDB Indexing',
      content: `# MongoDB Indexing 

Speed up your queries!

## Why Index?

- Without index: Scan every document (slow!)
- With index: Jump directly to matches (fast!)

## Create Index

\`\`\`python
# Single field index
collection.create_index("email")
collection.create_index([("email", 1)])  # 1 = ascending

# Compound index
collection.create_index([("city", 1), ("age", -1)])

# Unique index
collection.create_index("email", unique=True)

# Text index (for search)
collection.create_index([("description", "text")])
\`\`\`

## List Indexes

\`\`\`python
for index in collection.list_indexes():
    print(index)
\`\`\`

## Query Explanation

\`\`\`python
# See if index is used
result = collection.find({"email": "test@test.com"}).explain()
print(result['executionStats'])
\`\`\`

## Drop Index

\`\`\`python
collection.drop_index("email_1")
collection.drop_indexes()  # Drop all
\`\`\`

## Index Types

| Type | Use Case |
|------|----------|
| Single | One field queries |
| Compound | Multi-field queries |
| Text | Full-text search |
| Geospatial | Location queries |
| TTL | Auto-expire documents |
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> MongoDB Indexing Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Index Types</h3>";
const types = [
  { type: "Single Field", use: "One field queries", ex: 'create_index("email")' },
  { type: "Compound", use: "Multi-field queries", ex: 'create_index([("a", 1), ("b", -1)])' },
  { type: "Text", use: "Full-text search", ex: 'create_index([("desc", "text")])' },
  { type: "Unique", use: "Prevent duplicates", ex: 'create_index("email", unique=True)' }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#4caf50;color:white;'>";
html += "<th>Type</th><th>Use Case</th></tr>";
types.forEach((t, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><b>" + t.type + "</b></td>";
  html += "<td style='padding:10px;'>" + t.use + "</td></tr>";
});
html += "</table>";

html += "<h3>Performance Impact</h3>";
html += "<div style='display:flex;gap:20px;'>";
html += "<div style='flex:1;background:#ffebee;padding:15px;border-radius:8px;'>";
html += "<h4>Without Index</h4>";
html += "<p>Scans ALL documents </p></div>";
html += "<div style='flex:1;background:#e8f5e9;padding:15px;border-radius:8px;'>";
html += "<h4>With Index</h4>";
html += "<p>Jumps to matches </p></div>";
html += "</div>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // Django continued
    'django-views': {
      title: 'Django Views',
      content: `# Django Views 

Handle requests and return responses!

## Function-Based Views

\`\`\`python
from django.http import HttpResponse, JsonResponse
from django.shortcuts import render, get_object_or_404

def hello(request):
    return HttpResponse("Hello, World!")

def user_list(request):
    users = User.objects.all()
    return render(request, 'users/list.html', {'users': users})

def user_detail(request, user_id):
    user = get_object_or_404(User, pk=user_id)
    return render(request, 'users/detail.html', {'user': user})
\`\`\`

## Class-Based Views

\`\`\`python
from django.views.generic import ListView, DetailView, CreateView

class UserListView(ListView):
    model = User
    template_name = 'users/list.html'
    context_object_name = 'users'

class UserDetailView(DetailView):
    model = User
    template_name = 'users/detail.html'

class UserCreateView(CreateView):
    model = User
    fields = ['name', 'email']
    success_url = '/users/'
\`\`\`

## URL Configuration

\`\`\`python
# urls.py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.home, name='home'),
    path('users/', views.UserListView.as_view(), name='user-list'),
    path('users/<int:pk>/', views.UserDetailView.as_view(), name='user-detail'),
]
\`\`\`

## Request Object

\`\`\`python
def my_view(request):
    # Method
    if request.method == 'POST':
        data = request.POST.get('name')
    
    # Query params
    page = request.GET.get('page', 1)
    
    # User
    if request.user.is_authenticated:
        username = request.user.username
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Django Views Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>View Types</h3>";
html += "<div style='display:flex;gap:20px;'>";
html += "<div style='flex:1;background:#e3f2fd;padding:15px;border-radius:8px;'>";
html += "<h4>Function-Based (FBV)</h4>";
html += "<p> Simple, explicit</p>";
html += "<p> Full control</p>";
html += "<p> More code</p></div>";
html += "<div style='flex:1;background:#e8f5e9;padding:15px;border-radius:8px;'>";
html += "<h4>Class-Based (CBV)</h4>";
html += "<p> Less code</p>";
html += "<p> Reusable mixins</p>";
html += "<p> More abstract</p></div>";
html += "</div>";

html += "<h3>Common Generic Views</h3>";
const views = ["ListView", "DetailView", "CreateView", "UpdateView", "DeleteView"];
html += "<div style='display:flex;flex-wrap:wrap;gap:10px;'>";
views.forEach(v => {
  html += "<span style='background:#092e20;color:white;padding:8px 15px;border-radius:20px;'>" + v + "</span>";
});
html += "</div>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'django-api': {
      title: 'Django REST APIs',
      content: `# Django REST APIs 

Build APIs with Django REST Framework!

## Install

\`\`\`bash
pip install djangorestframework
\`\`\`

## Serializers

\`\`\`python
from rest_framework import serializers
from .models import User

class UserSerializer(serializers.ModelSerializer):
    class Meta:
        model = User
        fields = ['id', 'name', 'email', 'created_at']
        read_only_fields = ['id', 'created_at']
\`\`\`

## API Views

\`\`\`python
from rest_framework import viewsets
from rest_framework.decorators import api_view
from rest_framework.response import Response

# Function-based
@api_view(['GET', 'POST'])
def user_list(request):
    if request.method == 'GET':
        users = User.objects.all()
        serializer = UserSerializer(users, many=True)
        return Response(serializer.data)
    
    elif request.method == 'POST':
        serializer = UserSerializer(data=request.data)
        if serializer.is_valid():
            serializer.save()
            return Response(serializer.data, status=201)
        return Response(serializer.errors, status=400)

# ViewSet (full CRUD)
class UserViewSet(viewsets.ModelViewSet):
    queryset = User.objects.all()
    serializer_class = UserSerializer
\`\`\`

## URLs

\`\`\`python
from rest_framework.routers import DefaultRouter

router = DefaultRouter()
router.register(r'users', UserViewSet)

urlpatterns = router.urls
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Django REST APIs Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>REST API Endpoints</h3>";
const endpoints = [
  { method: "GET", path: "/api/users/", action: "List all" },
  { method: "POST", path: "/api/users/", action: "Create new" },
  { method: "GET", path: "/api/users/1/", action: "Get one" },
  { method: "PUT", path: "/api/users/1/", action: "Update" },
  { method: "DELETE", path: "/api/users/1/", action: "Delete" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#092e20;color:white;'>";
html += "<th>Method</th><th>Endpoint</th><th>Action</th></tr>";
endpoints.forEach((e, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  const methodColor = { GET: "#4caf50", POST: "#2196f3", PUT: "#ff9800", DELETE: "#f44336" };
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><span style='background:" + methodColor[e.method] + ";color:white;padding:2px 8px;border-radius:4px;'>" + e.method + "</span></td>";
  html += "<td style='padding:10px;'><code>" + e.path + "</code></td>";
  html += "<td style='padding:10px;'>" + e.action + "</td></tr>";
});
html += "</table>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'django-admin': {
      title: 'Django Admin',
      content: `# Django Admin 

Free admin interface for your models!

## Register Model

\`\`\`python
# admin.py
from django.contrib import admin
from .models import User, Post

admin.site.register(User)
admin.site.register(Post)
\`\`\`

## Custom Admin

\`\`\`python
@admin.register(User)
class UserAdmin(admin.ModelAdmin):
    list_display = ['name', 'email', 'created_at', 'is_active']
    list_filter = ['is_active', 'created_at']
    search_fields = ['name', 'email']
    ordering = ['-created_at']
    readonly_fields = ['created_at']
    
    fieldsets = (
        ('Basic Info', {
            'fields': ('name', 'email')
        }),
        ('Status', {
            'fields': ('is_active', 'created_at')
        }),
    )
\`\`\`

## Inline Models

\`\`\`python
class PostInline(admin.TabularInline):
    model = Post
    extra = 1

@admin.register(User)
class UserAdmin(admin.ModelAdmin):
    inlines = [PostInline]
\`\`\`

## Custom Actions

\`\`\`python
@admin.register(User)
class UserAdmin(admin.ModelAdmin):
    actions = ['make_active', 'make_inactive']
    
    @admin.action(description='Mark selected as active')
    def make_active(self, request, queryset):
        queryset.update(is_active=True)
\`\`\`

## Create Superuser

\`\`\`bash
python manage.py createsuperuser
\`\`\`
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Django Admin Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Admin Features</h3>";
const features = [
  { feature: "list_display", desc: "Columns to show in list" },
  { feature: "list_filter", desc: "Sidebar filters" },
  { feature: "search_fields", desc: "Search bar fields" },
  { feature: "ordering", desc: "Default sort order" },
  { feature: "readonly_fields", desc: "Non-editable fields" },
  { feature: "fieldsets", desc: "Group fields in sections" },
  { feature: "inlines", desc: "Edit related models inline" },
  { feature: "actions", desc: "Bulk actions" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#092e20;color:white;'>";
html += "<th>Option</th><th>Description</th></tr>";
features.forEach((f, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><code>" + f.feature + "</code></td>";
  html += "<td style='padding:10px;'>" + f.desc + "</td></tr>";
});
html += "</table>";

html += "<h3>Quick Setup</h3>";
html += "<pre style='background:#1a1a2e;color:#0f0;padding:15px;border-radius:8px;'>";
html += "# admin.py\\n";
html += "from django.contrib import admin\\n";
html += "from .models import User\\n\\n";
html += "admin.site.register(User)</pre>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // DSA continued
    'dsa-bst': {
      title: 'Binary Search Trees',
      content: `# Binary Search Trees 

Ordered trees for fast operations!

## BST Property

- Left subtree < Node < Right subtree
- All operations: O(log n) average

## Implementation

\`\`\`python
class TreeNode:
    def __init__(self, value):
        self.value = value
        self.left = None
        self.right = None

class BST:
    def __init__(self):
        self.root = None
    
    def insert(self, value):
        if not self.root:
            self.root = TreeNode(value)
        else:
            self._insert(self.root, value)
    
    def _insert(self, node, value):
        if value < node.value:
            if node.left:
                self._insert(node.left, value)
            else:
                node.left = TreeNode(value)
        else:
            if node.right:
                self._insert(node.right, value)
            else:
                node.right = TreeNode(value)
    
    def search(self, value):
        return self._search(self.root, value)
    
    def _search(self, node, value):
        if not node:
            return False
        if value == node.value:
            return True
        elif value < node.value:
            return self._search(node.left, value)
        else:
            return self._search(node.right, value)
\`\`\`

## Time Complexity

| Operation | Average | Worst |
|-----------|---------|-------|
| Insert | O(log n) | O(n) |
| Search | O(log n) | O(n) |
| Delete | O(log n) | O(n) |
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> BST Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>BST Property</h3>";
html += "<div style='text-align:center;background:#e8f5e9;padding:20px;border-radius:8px;'>";
html += "<p style='margin-bottom:10px;'><b>Left < Node < Right</b></p>";
html += "<span style='background:#3776AB;color:white;padding:10px 20px;border-radius:50%;'>10</span>";
html += "<div style='margin-top:10px;'> </div>";
html += "<div style='display:flex;justify-content:center;gap:60px;'>";
html += "<span style='background:#4caf50;color:white;padding:10px 20px;border-radius:50%;'>5</span>";
html += "<span style='background:#4caf50;color:white;padding:10px 20px;border-radius:50%;'>15</span></div>";
html += "<p style='margin-top:10px;'>5 < 10 < 15 </p></div>";

html += "<h3>Operations: O(log n)</h3>";
html += "<ul>";
html += "<li><b>Insert:</b> Follow left/right until empty spot</li>";
html += "<li><b>Search:</b> Follow left/right until found</li>";
html += "<li><b>Delete:</b> Replace with successor/predecessor</li>";
html += "</ul>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'dsa-avl': {
      title: 'AVL Trees',
      content: `# AVL Trees 

Self-balancing BST!

## Balance Factor

\`\`\`python
balance = height(left) - height(right)
# Must be -1, 0, or 1 for all nodes
\`\`\`

## Rotations

\`\`\`python
# Right Rotation (Left-Left case)
def rotate_right(y):
    x = y.left
    T2 = x.right
    x.right = y
    y.left = T2
    return x

# Left Rotation (Right-Right case)
def rotate_left(x):
    y = x.right
    T2 = y.left
    y.left = x
    x.right = T2
    return y
\`\`\`

## Cases

| Case | Condition | Solution |
|------|-----------|----------|
| Left-Left | Insert in left of left | Right rotate |
| Right-Right | Insert in right of right | Left rotate |
| Left-Right | Insert in right of left | Left then Right |
| Right-Left | Insert in left of right | Right then Left |

## Why AVL?

- BST can become O(n) if unbalanced
- AVL guarantees O(log n)
- Height is always approximately log(n)

## Trade-offs

| Feature | AVL | Red-Black |
|---------|-----|-----------|
| Balance | Stricter | Relaxed |
| Search | Faster | Slower |
| Insert/Delete | More rotations | Fewer rotations |
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> AVL Trees Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Balance Factor</h3>";
html += "<p style='background:#e8f5e9;padding:15px;border-radius:8px;'>";
html += "<code>balance = height(left) - height(right)</code><br>";
html += "Must be <b>-1, 0, or 1</b> for every node!</p>";

html += "<h3>Rotation Cases</h3>";
const cases = [
  { case: "Left-Left", fix: "Right Rotate" },
  { case: "Right-Right", fix: "Left Rotate" },
  { case: "Left-Right", fix: "Left  Right Rotate" },
  { case: "Right-Left", fix: "Right  Left Rotate" }
];

html += "<div style='display:grid;grid-template-columns:repeat(2,1fr);gap:10px;'>";
cases.forEach(c => {
  html += "<div style='background:#f8f9fa;padding:15px;border-radius:8px;'>";
  html += "<b>" + c.case + "</b><br>";
  html += "Fix: " + c.fix + "</div>";
});
html += "</div>";

html += "<h3>Why AVL?</h3>";
html += "<p>Regular BST can become unbalanced  O(n)<br>";
html += "AVL maintains balance  <b>Always O(log n)</b></p>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'sort-special': {
      title: 'Special Sorting',
      content: `# Special Sorting Algorithms 

Non-comparison based sorting!

## Counting Sort - O(n + k)

\`\`\`python
def counting_sort(arr):
    if not arr:
        return arr
    
    max_val = max(arr)
    count = [0] * (max_val + 1)
    
    # Count occurrences
    for num in arr:
        count[num] += 1
    
    # Build sorted array
    result = []
    for i, c in enumerate(count):
        result.extend([i] * c)
    
    return result

# Best for: Small range of integers
\`\`\`

## Radix Sort - O(d * (n + k))

\`\`\`python
def radix_sort(arr):
    if not arr:
        return arr
    
    max_val = max(arr)
    exp = 1
    
    while max_val // exp > 0:
        counting_sort_by_digit(arr, exp)
        exp *= 10
    
    return arr

# Best for: Large integers with similar digit counts
\`\`\`

## Bucket Sort - O(n + k)

\`\`\`python
def bucket_sort(arr):
    if not arr:
        return arr
    
    n = len(arr)
    buckets = [[] for _ in range(n)]
    
    # Distribute into buckets
    for num in arr:
        index = int(num * n)
        buckets[index].append(num)
    
    # Sort each bucket and concatenate
    result = []
    for bucket in buckets:
        result.extend(sorted(bucket))
    
    return result

# Best for: Uniformly distributed floats [0, 1)
\`\`\`

## Comparison

| Algorithm | Time | Space | Best For |
|-----------|------|-------|----------|
| Counting | O(n+k) | O(k) | Small integers |
| Radix | O(d(n+k)) | O(n+k) | Large integers |
| Bucket | O(n+k) | O(n) | Uniform floats |
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Special Sorting Demo</h2>
<div id="demo"></div>
<script>
let html = "<h3>Non-Comparison Sorts</h3>";
const sorts = [
  { name: "Counting Sort", time: "O(n + k)", best: "Small range integers" },
  { name: "Radix Sort", time: "O(d  n)", best: "Large integers" },
  { name: "Bucket Sort", time: "O(n + k)", best: "Uniform distribution" }
];

html += "<table style='width:100%;border-collapse:collapse;'>";
html += "<tr style='background:#3776AB;color:white;'>";
html += "<th>Algorithm</th><th>Time</th><th>Best For</th></tr>";
sorts.forEach((s, i) => {
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background:" + bg + ";'>";
  html += "<td style='padding:10px;'><b>" + s.name + "</b></td>";
  html += "<td style='padding:10px;'>" + s.time + "</td>";
  html += "<td style='padding:10px;'>" + s.best + "</td></tr>";
});
html += "</table>";

html += "<h3>Key Insight</h3>";
html += "<p style='background:#e8f5e9;padding:15px;border-radius:8px;'>";
html += "These algorithms don't compare elements!<br>";
html += "They use the <b>values themselves</b> to determine position.<br>";
html += "Can beat O(n log n) for specific data types.</p>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    'certificate': {
      title: 'Python Certificate',
      content: `# Python Certificate 

Congratulations on completing the Python course!

## Your Achievement

You have mastered:

### Core Python
- Variables, data types, operators
- Control flow, loops, functions
- Object-oriented programming
- File handling and exceptions

### Data Science
- NumPy for numerical computing
- Pandas for data analysis
- Matplotlib for visualization

### Databases
- MySQL integration
- MongoDB with PyMongo

### Web Development
- Django framework basics
- REST API development

### Data Structures & Algorithms
- Lists, stacks, queues
- Trees and graphs
- Sorting and searching

### Machine Learning
- Regression and classification
- Model evaluation
- Clustering and ensembles

## Certificate Requirements

 Complete all lessons
 Pass quizzes with 80%+
 Complete the capstone project

## Next Steps

1. Build real projects
2. Contribute to open source
3. Learn advanced topics
4. Get certified officially

## Share Your Achievement!

Download your certificate and share on LinkedIn!
`,
      tryItCode: `<!DOCTYPE html>
<html><body>
<h2> Python Certificate</h2>
<div id="demo"></div>
<script>
let html = "<div style='background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);color:white;padding:40px;border-radius:16px;text-align:center;'>";
html += "<h1 style='margin:0;'>Certificate of Completion</h1>";
html += "<p style='font-size:20px;'>Python 0  Hero  SME</p>";
html += "<div style='background:white;color:#333;padding:20px;border-radius:8px;margin:20px 0;'>";
html += "<h2 style='margin:0;'> Python Mastery</h2>";
html += "<p>This certifies that</p>";
html += "<h3 style='color:#667eea;'>Your Name Here</h3>";
html += "<p>has successfully completed the comprehensive<br>Python Programming Course</p>";
html += "<p style='font-size:12px;color:#666;'>Including: Core Python  Data Science  Web Development  ML</p>";
html += "</div>";
html += "<button style='background:white;color:#667eea;border:none;padding:15px 30px;border-radius:8px;font-size:16px;cursor:pointer;'>Download Certificate</button>";
html += "</div>";

html += "<h3 style='margin-top:20px;'>Topics Mastered</h3>";
const topics = ["Core Python", "OOP", "NumPy", "Pandas", "Matplotlib", "MySQL", "MongoDB", "Django", "DSA", "Machine Learning"];
html += "<div style='display:flex;flex-wrap:wrap;gap:10px;'>";
topics.forEach(t => {
  html += "<span style='background:#4caf50;color:white;padding:8px 15px;border-radius:20px;'> " + t + "</span>";
});
html += "</div>";

document.getElementById("demo").innerHTML = html;
</script>
</body></html>`,
    },

    // ML basics
    'ml-linear': {
      title: 'Linear Regression',
      content: `# Linear Regression 

Think of linear regression like drawing the **best straight line** through a scatter of points!

## What is Linear Regression?

Linear regression finds the relationship between:
- **X** (input/feature)
- **Y** (output/target)

\`\`\`
Y = mx + b
where:
  m = slope (how steep)
  b = intercept (where line crosses Y-axis)
\`\`\`

## Simple Example

\`\`\`python
import numpy as np
from sklearn.linear_model import LinearRegression

# Data: Study hours  Test scores
X = np.array([1, 2, 3, 4, 5]).reshape(-1, 1)
y = np.array([50, 55, 65, 70, 85])

# Train model
model = LinearRegression()
model.fit(X, y)

# Get coefficients
print(f"Slope: {model.coef_[0]:.2f}")
print(f"Intercept: {model.intercept_:.2f}")

# Predict
hours = 6
predicted = model.predict([[hours]])
print(f"{hours} hours  {predicted[0]:.1f} score")
\`\`\`

## With Real Data

\`\`\`python
import pandas as pd
from sklearn.model_selection import train_test_split
from sklearn.metrics import mean_squared_error, r2_score

# Load data
df = pd.read_csv("housing.csv")
X = df[["sqft", "bedrooms"]]
y = df["price"]

# Split data
X_train, X_test, y_train, y_test = train_test_split(
    X, y, test_size=0.2, random_state=42
)

# Train
model = LinearRegression()
model.fit(X_train, y_train)

# Evaluate
predictions = model.predict(X_test)
rmse = np.sqrt(mean_squared_error(y_test, predictions))
r2 = r2_score(y_test, predictions)

print(f"RMSE: \${rmse:,.2f}")
print(f"R Score: {r2:.3f}")
\`\`\`

## Key Metrics

| Metric | Meaning | Goal |
|--------|---------|------|
| **RMSE** | Average error | Lower is better |
| **R** | Variance explained | Closer to 1 is better |
| **MAE** | Average absolute error | Lower is better |
`,
      tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2> Linear Regression Demo</h2>
<div id="demo"></div>
<canvas id="chart" width="400" height="300"></canvas>

<script>
// Simple linear regression demo
const studyHours = [1, 2, 3, 4, 5, 6, 7, 8];
const testScores = [52, 58, 65, 70, 78, 82, 88, 95];

// Calculate linear regression
function linearRegression(x, y) {
  const n = x.length;
  const sumX = x.reduce((a, b) => a + b, 0);
  const sumY = y.reduce((a, b) => a + b, 0);
  const sumXY = x.reduce((total, xi, i) => total + xi * y[i], 0);
  const sumX2 = x.reduce((total, xi) => total + xi * xi, 0);
  
  const slope = (n * sumXY - sumX * sumY) / (n * sumX2 - sumX * sumX);
  const intercept = (sumY - slope * sumX) / n;
  
  return { slope, intercept };
}

const { slope, intercept } = linearRegression(studyHours, testScores);

let html = "<h3>Study Hours vs Test Score</h3>";
html += "<p><b>Equation:</b> Score = " + slope.toFixed(2) + "  Hours + " + intercept.toFixed(2) + "</p>";

// Predictions
html += "<table style='width: 100%; border-collapse: collapse;'>";
html += "<tr style='background: #3776AB; color: white;'>";
html += "<th style='padding: 10px;'>Hours</th>";
html += "<th style='padding: 10px;'>Actual</th>";
html += "<th style='padding: 10px;'>Predicted</th></tr>";

studyHours.forEach((h, i) => {
  const predicted = slope * h + intercept;
  const bg = i % 2 === 0 ? "#f8f9fa" : "white";
  html += "<tr style='background: " + bg + ";'>";
  html += "<td style='padding: 10px;'>" + h + "</td>";
  html += "<td style='padding: 10px;'>" + testScores[i] + "</td>";
  html += "<td style='padding: 10px;'>" + predicted.toFixed(1) + "</td></tr>";
});
html += "</table>";

// Predict new value
const newHours = 10;
const prediction = slope * newHours + intercept;
html += "<h3>Prediction</h3>";
html += "<p>" + newHours + " hours of study  <b>" + prediction.toFixed(1) + "</b> predicted score</p>";

document.getElementById("demo").innerHTML = html;
</script>

</body>
</html>`,
    },
  };

  return pythonLessons[lessonSlug] || {
    title: 'Coming Soon',
    content: '## This lesson is coming soon!\n\nWe are preparing comprehensive content for this Python lesson. Check back soon!',
    tryItCode: `<!DOCTYPE html>
<html>
<body>
<h2> Python Lesson Coming Soon!</h2>
<p>This lesson content is being prepared with kid-friendly explanations and interactive examples.</p>
</body>
</html>`,
  };
};

// Sample lesson content (would come from API in production)
const getLessonContent = (tutorialSlug: string, lessonSlug: string) => {
  const contents: Record<string, Record<string, any>> = {
    html: {
      home: {
        title: 'HTML Tutorial',
        content: `
# Welcome to HTML Tutorial

HTML is the standard markup language for creating Web pages.

## What is HTML?

- HTML stands for **Hyper Text Markup Language**
- HTML is the standard markup language for creating Web pages
- HTML describes the structure of a Web page
- HTML consists of a series of elements
- HTML elements tell the browser how to display the content

## A Simple HTML Document

<pre><code class="html">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Page Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;My First Heading&lt;/h1&gt;
    &lt;p&gt;My first paragraph.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
        `,
        tryItCode: `<!DOCTYPE html>
<html>
<head>
    <title>Page Title</title>
</head>
<body>
    <h1>My First Heading</h1>
    <p>My first paragraph.</p>
</body>
</html>`,
      },
      intro: {
        title: 'HTML Introduction',
        content: `
# HTML Introduction

HTML is the standard markup language for Web pages.

## What You Will Learn

In this tutorial, you will learn:

- How to create and structure web pages
- How to add headings, paragraphs, and lists
- How to add links and images
- How to create forms
- How to use semantic HTML5 elements

## HTML Documents

All HTML documents must start with a document type declaration: <code><!DOCTYPE html></code>

The HTML document itself begins with <code><html></code> and ends with <code></html></code>

The visible part of the HTML document is between <code><body></code> and <code></body></code>
        `,
        tryItCode: `<!DOCTYPE html>
<html>
<body>

<h1>This is a Heading</h1>
<p>This is a paragraph.</p>
<p>This is another paragraph.</p>

</body>
</html>`,
      },
      elements: {
        title: 'HTML Elements',
        content: `
# HTML Elements

An HTML element is defined by a start tag, some content, and an end tag.

## HTML Element Syntax

<pre><code class="">
&lt;tagname&gt;Content goes here...&lt;/tagname&gt;
</code></pre>

## Examples of HTML Elements

| Start tag | Element content | End tag |
|-----------|-----------------|---------|
| <code><h1></code> | My First Heading | <code></h1></code> |
| <code><p></code> | My first paragraph. | <code></p></code> |
| <code><br></code> | none | none |

## Nested HTML Elements

HTML elements can be nested (elements can contain other elements).

<pre><code class="html">
&lt;html&gt;
&lt;body&gt;
    &lt;h1&gt;My First Heading&lt;/h1&gt;
    &lt;p&gt;My first paragraph.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
        `,
        tryItCode: `<!DOCTYPE html>
<html>
<body>

<h1>My First Heading</h1>
<p>My first paragraph.</p>

<div style="background-color: #f0f0f0; padding: 20px;">
    <h2>Nested Elements</h2>
    <p>This paragraph is inside a div.</p>
</div>

</body>
</html>`,
      },
    },
    css: {
      home: {
        title: 'CSS Tutorial',
        content: `
# CSS Tutorial

CSS is the language we use to style a Web page.

## What is CSS?

- CSS stands for **Cascading Style Sheets**
- CSS describes how HTML elements are to be displayed on screen
- CSS saves a lot of work by controlling layout of multiple pages at once
- External stylesheets are stored in CSS files

## CSS Example

<pre><code class="css">
body {
    background-color: lightblue;
}

h1 {
    color: white;
    text-align: center;
}

p {
    font-family: verdana;
    font-size: 20px;
}
</code></pre>
        `,
        tryItCode: `<!DOCTYPE html>
<html>
<head>
<style>
body {
    background-color: lightblue;
}

h1 {
    color: white;
    text-align: center;
}

p {
    font-family: verdana;
    font-size: 20px;
}
</style>
</head>
<body>

<h1>My First CSS Example</h1>
<p>This is a paragraph.</p>

</body>
</html>`,
      },
    },
    javascript: {
      home: {
        title: 'JavaScript Tutorial',
        content: `
# JavaScript Tutorial

JavaScript is the programming language of the Web.

## What is JavaScript?

- JavaScript is the world's most popular programming language
- JavaScript is the programming language of the Web
- JavaScript is easy to learn

## JavaScript Example

<pre><code class="javascript">
document.getElementById("demo").innerHTML = "Hello JavaScript!";
</code></pre>

## Why Study JavaScript?

JavaScript is one of the **3 languages** all web developers must learn:

1. **HTML** to define the content of web pages
2. **CSS** to specify the layout of web pages
3. **JavaScript** to program the behavior of web pages
        `,
        tryItCode: `<!DOCTYPE html>
<html>
<body>

<h2>My First JavaScript</h2>

<button type="button" onclick="document.getElementById('demo').innerHTML = Date()">
Click me to display Date and Time.
</button>

<p id="demo"></p>

</body>
</html>`,
      },
    },
    python: {
      home: {
        title: 'Python Tutorial',
        content: `
# Python Tutorial

Python is a popular programming language.

## What is Python?

- Python is an interpreted, high-level programming language
- Python can be used for web development, data science, AI, and more
- Python has a simple syntax similar to English

## Python Example

<pre><code class="python">
print("Hello, World!")
</code></pre>

## Why Python?

- Python works on different platforms (Windows, Mac, Linux)
- Python has a simple syntax similar to English
- Python has syntax that allows developers to write programs with fewer lines
- Python runs on an interpreter system, meaning code can be executed immediately
        `,
        tryItCode: `# This is a Python comment
print("Hello, World!")

# Variables
name = "VerTechie"
age = 2024

print(f"Welcome to {name}!")
print(f"Year: {age}")

# Simple calculation
x = 5
y = 10
print(f"Sum: {x + y}")
`,
      },
    },
  };

  // If lesson content exists, return it
  if (contents[tutorialSlug]?.[lessonSlug]) {
    return contents[tutorialSlug][lessonSlug];
  }

  // Generate dynamic content for HTML lessons that don't have explicit content
  if (tutorialSlug === 'html') {
    return generateHTMLLessonContent(lessonSlug);
  }

  // Generate dynamic content for CSS lessons
  if (tutorialSlug === 'css') {
    return generateCSSLessonContent(lessonSlug);
  }

  // Generate dynamic content for JavaScript lessons
  if (tutorialSlug === 'javascript') {
    return generateJSLessonContent(lessonSlug);
  }

  // Generate dynamic content for TypeScript lessons
  if (tutorialSlug === 'typescript') {
    return generateTSLessonContent(lessonSlug);
  }

  // Generate dynamic content for React lessons
  if (tutorialSlug === 'react') {
    return generateReactLessonContent(lessonSlug);
  }

  // Generate dynamic content for Angular lessons
  if (tutorialSlug === 'angular') {
    return generateAngularLessonContent(lessonSlug);
  }

  // Generate dynamic content for Python lessons
  if (tutorialSlug === 'python') {
    return generatePythonLessonContent(lessonSlug);
  }

  // Default fallback
  return {
    title: 'Lesson',
    content: '# Coming Soon\n\nThis lesson content is being prepared.',
    tryItCode: '<!-- Code example coming soon -->',
  };
};

const TutorialPage: React.FC = () => {
  const { tutorialSlug, lessonSlug } = useParams<{ tutorialSlug: string; lessonSlug?: string }>();
  const navigate = useNavigate();
  const theme = useTheme();
  const isMobile = useMediaQuery(theme.breakpoints.down('md'));

  const [drawerOpen, setDrawerOpen] = useState(false);
  const [sidebarVisible, setSidebarVisible] = useState(true);
  const [expandedChapters, setExpandedChapters] = useState<string[]>([]);
  const [completedLessons, setCompletedLessons] = useState<string[]>(() => {
    // Load completed lessons from localStorage on mount
    try {
      const saved = localStorage.getItem(`completedLessons_${tutorialSlug}`);
      return saved ? JSON.parse(saved) : [];
    } catch {
      return [];
    }
  });
  const [editorCode, setEditorCode] = useState('');
  const [showResult, setShowResult] = useState(false);
  const [darkMode, setDarkMode] = useState(false);
  
  // Certificate state
  const [showCertificateDialog, setShowCertificateDialog] = useState(false);
  const [certificateGenerated, setCertificateGenerated] = useState(() => {
    try {
      const certs = JSON.parse(localStorage.getItem('userCertificates') || '[]');
      return certs.some((c: any) => c.tutorialSlug === tutorialSlug);
    } catch {
      return false;
    }
  });
  
  // Quiz state
  const [showQuizDialog, setShowQuizDialog] = useState(false);
  const [quizQuestions, setQuizQuestions] = useState<any[]>([]);
  const [currentQuizIndex, setCurrentQuizIndex] = useState(0);
  const [selectedAnswer, setSelectedAnswer] = useState<string | null>(null);
  const [quizScore, setQuizScore] = useState(0);
  const [quizCompleted, setQuizCompleted] = useState(false);

  const tutorial = getTutorialBySlug(tutorialSlug || '');

  // Save completed lessons to localStorage whenever they change
  useEffect(() => {
    if (tutorialSlug && completedLessons.length > 0) {
      localStorage.setItem(`completedLessons_${tutorialSlug}`, JSON.stringify(completedLessons));
    }
  }, [completedLessons, tutorialSlug]);

  // Quiz questions bank for each tutorial
  const quizQuestionsBank: Record<string, any[]> = {
    html: [
      { q: 'What does HTML stand for?', options: ['Hyper Text Markup Language', 'High Tech Modern Language', 'Hyper Transfer Markup Language', 'Home Tool Markup Language'], answer: 'Hyper Text Markup Language' },
      { q: 'Which tag is used for the largest heading?', options: ['<h6>', '<heading>', '<h1>', '<head>'], answer: '<h1>' },
      { q: 'Which element is used for a paragraph?', options: ['<p>', '<para>', '<paragraph>', '<text>'], answer: '<p>' },
      { q: 'What is the correct HTML element for inserting a line break?', options: ['<break>', '<lb>', '<br>', '<newline>'], answer: '<br>' },
      { q: 'Which attribute is used to provide a unique identifier?', options: ['class', 'name', 'id', 'key'], answer: 'id' },
      { q: 'Which tag creates a hyperlink?', options: ['<link>', '<a>', '<href>', '<url>'], answer: '<a>' },
      { q: 'Which tag is used for an unordered list?', options: ['<ol>', '<list>', '<ul>', '<li>'], answer: '<ul>' },
      { q: 'What is the correct way to add a comment in HTML?', options: ['// comment', '/* comment */', '<!-- comment -->', '# comment'], answer: '<!-- comment -->' },
    ],
    css: [
      { q: 'What does CSS stand for?', options: ['Cascading Style Sheets', 'Creative Style Sheets', 'Computer Style Sheets', 'Colorful Style Sheets'], answer: 'Cascading Style Sheets' },
      { q: 'Which property changes the text color?', options: ['text-color', 'font-color', 'color', 'foreground'], answer: 'color' },
      { q: 'Which property is used to change the background color?', options: ['bgcolor', 'background-color', 'color-background', 'back-color'], answer: 'background-color' },
      { q: 'How do you select an element with id "demo"?', options: ['.demo', '#demo', 'demo', '*demo'], answer: '#demo' },
      { q: 'How do you select elements with class "test"?', options: ['#test', '.test', 'test', '*test'], answer: '.test' },
      { q: 'Which property controls the text size?', options: ['font-style', 'text-size', 'font-size', 'text-style'], answer: 'font-size' },
    ],
    javascript: [
      { q: 'Which keyword declares a variable?', options: ['var', 'let', 'const', 'All of the above'], answer: 'All of the above' },
      { q: 'Which method prints to the console?', options: ['print()', 'log()', 'console.log()', 'write()'], answer: 'console.log()' },
      { q: 'How do you create a function?', options: ['function myFunc()', 'create myFunc()', 'def myFunc()', 'func myFunc()'], answer: 'function myFunc()' },
      { q: 'Which operator is used for strict equality?', options: ['==', '===', '=', '!='], answer: '===' },
      { q: 'Which method adds an element to the end of an array?', options: ['push()', 'add()', 'append()', 'insert()'], answer: 'push()' },
      { q: 'What is the correct way to write an IF statement?', options: ['if i = 5', 'if (i == 5)', 'if i == 5 then', 'if i = 5 then'], answer: 'if (i == 5)' },
    ],
    python: [
      { q: 'How do you print "Hello" in Python?', options: ['echo("Hello")', 'print("Hello")', 'console.log("Hello")', 'printf("Hello")'], answer: 'print("Hello")' },
      { q: 'Which keyword is used to define a function?', options: ['function', 'func', 'def', 'define'], answer: 'def' },
      { q: 'How do you create a comment in Python?', options: ['// comment', '/* comment */', '# comment', '<!-- comment -->'], answer: '# comment' },
      { q: 'Which is the correct way to create a list?', options: ['list = (1, 2, 3)', 'list = [1, 2, 3]', 'list = {1, 2, 3}', 'list = <1, 2, 3>'], answer: 'list = [1, 2, 3]' },
    ],
    react: [
      { q: 'What is used to create a React component?', options: ['function or class', 'module', 'package', 'library'], answer: 'function or class' },
      { q: 'Which hook is used for state management?', options: ['useEffect', 'useState', 'useContext', 'useReducer'], answer: 'useState' },
      { q: 'What is JSX?', options: ['JavaScript XML', 'Java Syntax Extension', 'JSON XML', 'JavaScript Extension'], answer: 'JavaScript XML' },
      { q: 'Which method renders a React component?', options: ['ReactDOM.render()', 'React.render()', 'render()', 'component.render()'], answer: 'ReactDOM.render()' },
    ],
  };

  // Generate random quiz questions for current tutorial
  const generateQuizQuestions = () => {
    const bank = quizQuestionsBank[tutorialSlug || ''] || quizQuestionsBank['html'];
    const shuffled = [...bank].sort(() => Math.random() - 0.5);
    return shuffled.slice(0, Math.min(5, shuffled.length)); // 5 random questions
  };

  // Start quiz
  const handleStartQuiz = () => {
    setQuizQuestions(generateQuizQuestions());
    setCurrentQuizIndex(0);
    setSelectedAnswer(null);
    setQuizScore(0);
    setQuizCompleted(false);
    setShowQuizDialog(true);
  };

  // Submit quiz answer
  const handleSubmitAnswer = () => {
    if (selectedAnswer === quizQuestions[currentQuizIndex].answer) {
      setQuizScore(quizScore + 1);
    }
    
    if (currentQuizIndex < quizQuestions.length - 1) {
      setCurrentQuizIndex(currentQuizIndex + 1);
      setSelectedAnswer(null);
    } else {
      setQuizCompleted(true);
    }
  };

  // Generate certificate
  const generateCertificate = () => {
    if (certificateGenerated) return;
    
    const userData = JSON.parse(localStorage.getItem('userData') || '{}');
    const certificate = {
      id: `cert_${tutorialSlug}_${Date.now()}`,
      tutorialSlug: tutorialSlug,
      tutorialTitle: tutorial?.title || 'Tutorial',
      userName: `${userData.first_name || ''} ${userData.last_name || ''}`.trim() || userData.email || 'Student',
      completedAt: new Date().toISOString(),
      totalLessons: totalLessons,
    };
    
    // Save to localStorage
    const existingCerts = JSON.parse(localStorage.getItem('userCertificates') || '[]');
    if (!existingCerts.some((c: any) => c.tutorialSlug === tutorialSlug)) {
      existingCerts.push(certificate);
      localStorage.setItem('userCertificates', JSON.stringify(existingCerts));
      setCertificateGenerated(true);
      setShowCertificateDialog(true);
    }
  };

  // Check if all lessons completed and generate certificate
  const totalLessons = tutorial?.chapters.reduce((sum, ch) => sum + ch.lessons.length, 0) || 0;
  const currentLessonSlug = lessonSlug || tutorial?.chapters[0]?.lessons[0]?.slug || 'home';

  // Get current lesson
  const getCurrentLesson = (): { chapter: Chapter; lesson: Lesson; index: number } | null => {
    if (!tutorial) return null;
    
    let index = 0;
    for (const chapter of tutorial.chapters) {
      for (const lesson of chapter.lessons) {
        if (lesson.slug === currentLessonSlug) {
          return { chapter, lesson, index };
        }
        index++;
      }
    }
    return null;
  };

  const currentLessonData = getCurrentLesson();
  const lessonContent = getLessonContent(tutorialSlug || '', currentLessonSlug);

  // Initialize editor code and reset result when lesson changes
  useEffect(() => {
    if (lessonContent.tryItCode) {
      setEditorCode(lessonContent.tryItCode);
    } else {
      setEditorCode('');
    }
    setShowResult(false); // Reset result view for new lesson
  }, [currentLessonSlug, lessonContent.tryItCode]);

  // Expand chapter containing current lesson
  useEffect(() => {
    if (currentLessonData) {
      setExpandedChapters(prev =>
        prev.includes(currentLessonData.chapter.id)
          ? prev
          : [...prev, currentLessonData.chapter.id]
      );
    }
  }, [currentLessonData?.chapter.id]);

  const toggleChapter = (chapterId: string) => {
    setExpandedChapters(prev =>
      prev.includes(chapterId)
        ? prev.filter(id => id !== chapterId)
        : [...prev, chapterId]
    );
  };

  const navigateToLesson = (lessonSlug: string) => {
    navigate(`/techie/learn/tutorial/${tutorialSlug}/${lessonSlug}`);
    setDrawerOpen(false);
  };

  const getNextLesson = (): Lesson | null => {
    if (!tutorial || !currentLessonData) return null;
    
    let foundCurrent = false;
    for (const chapter of tutorial.chapters) {
      for (const lesson of chapter.lessons) {
        if (foundCurrent) return lesson;
        if (lesson.slug === currentLessonSlug) foundCurrent = true;
      }
    }
    return null;
  };

  const getPrevLesson = (): Lesson | null => {
    if (!tutorial || !currentLessonData) return null;
    
    let prevLesson: Lesson | null = null;
    for (const chapter of tutorial.chapters) {
      for (const lesson of chapter.lessons) {
        if (lesson.slug === currentLessonSlug) return prevLesson;
        prevLesson = lesson;
      }
    }
    return null;
  };

  const nextLesson = getNextLesson();
  const prevLesson = getPrevLesson();

  // Calculate progress
  const progress = totalLessons > 0 ? (completedLessons.length / totalLessons) * 100 : 0;

  const handleRunCode = () => {
    setShowResult(true);
  };

  const handleCopyCode = () => {
    navigator.clipboard.writeText(editorCode);
  };

  const handleResetCode = () => {
    setEditorCode(lessonContent.tryItCode);
  };

  const markComplete = () => {
    let newCompletedLessons = completedLessons;
    if (!completedLessons.includes(currentLessonSlug)) {
      newCompletedLessons = [...completedLessons, currentLessonSlug];
      setCompletedLessons(newCompletedLessons);
    }
    
    // Check if all lessons are now completed
    if (newCompletedLessons.length >= totalLessons && !certificateGenerated) {
      // All lessons completed! Generate certificate
      generateCertificate();
    } else if (nextLesson) {
      navigateToLesson(nextLesson.slug);
    }
  };

  if (!tutorial) {
    return (
      <Box sx={{ p: 4, textAlign: 'center' }}>
        <Typography variant="h4">Tutorial not found</Typography>
        <Button onClick={() => navigate('/techie/learn')} sx={{ mt: 2 }}>
          Back to Learn
        </Button>
      </Box>
    );
  }

  // Toggle sidebar visibility
  const toggleSidebar = () => {
    setSidebarVisible(!sidebarVisible);
  };

  // Sidebar content
  const sidebarContent = (
    <Sidebar tutorialColor={tutorial.color} collapsed={!sidebarVisible}>
      <Box className="sidebar-header">
        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>
          <IconButton size="small" onClick={() => navigate('/techie/learn')} sx={{ color: '#fff' }}>
            <HomeIcon />
          </IconButton>
          <Typography variant="h6" fontWeight={700}>
            {tutorial.icon} {tutorial.shortTitle}
          </Typography>
        </Box>
        <Typography variant="body2" sx={{ opacity: 0.9, mt: 0.5 }}>
          {tutorial.totalLessons} Lessons  {tutorial.totalHours}h
        </Typography>
        <ProgressBar value={progress} variant="determinate" barColor="#fff" sx={{ mt: 1.5, bgcolor: 'rgba(255,255,255,0.3)' }} />
      </Box>

      <List dense disablePadding className="sidebar-list" sx={{ py: 1 }}>
        {tutorial.chapters.map(chapter => (
          <Box key={chapter.id}>
            <ChapterItem
              onClick={() => toggleChapter(chapter.id)}
              sx={{ py: 1.5, px: 2 }}
            >
              <ListItemText
                primary={chapter.title}
                primaryTypographyProps={{ fontWeight: 600, fontSize: '0.9rem' }}
                secondary={`${chapter.lessons.length} lessons`}
                secondaryTypographyProps={{ fontSize: '0.75rem' }}
              />
              {expandedChapters.includes(chapter.id) ? <ExpandLessIcon /> : <ExpandMoreIcon />}
            </ChapterItem>

            <Collapse in={expandedChapters.includes(chapter.id)}>
              <List dense disablePadding>
                {chapter.lessons.map(lesson => (
                  <LessonItem
                    key={lesson.id}
                    active={lesson.slug === currentLessonSlug}
                    completed={completedLessons.includes(lesson.slug)}
                    color={tutorial.color}
                    onClick={() => navigateToLesson(lesson.slug)}
                  >
                    {completedLessons.includes(lesson.slug) ? (
                      <CheckCircleIcon sx={{ fontSize: 18, color: '#4CAF50', mr: 1 }} />
                    ) : (
                      <RadioButtonUncheckedIcon sx={{ fontSize: 18, color: '#ccc', mr: 1 }} />
                    )}
                    <ListItemText
                      primary={lesson.title}
                      primaryTypographyProps={{ fontSize: '0.85rem' }}
                    />
                    <Box sx={{ display: 'flex', gap: 0.5 }}>
                      {lesson.hasTryIt && (
                        <Tooltip title="Try it Yourself">
                          <CodeIcon sx={{ fontSize: 14, color: tutorial.color }} />
                        </Tooltip>
                      )}
                      {lesson.hasQuiz && (
                        <Tooltip title="Quiz">
                          <QuizIcon sx={{ fontSize: 14, color: '#FF9800' }} />
                        </Tooltip>
                      )}
                    </Box>
                  </LessonItem>
                ))}
              </List>
            </Collapse>
          </Box>
        ))}
      </List>
    </Sidebar>
  );

  // Render markdown-like content
  const renderContent = (content: string) => {
    const lines = content.split('\n');
    const elements: React.ReactNode[] = [];
    let inCodeBlock = false;
    let codeContent = '';
    let codeLanguage = '';

    lines.forEach((line, idx) => {
      if (line.startsWith('```')) {
        if (inCodeBlock) {
          elements.push(
            <CodeEditor key={`code-${idx}`} darkMode={darkMode} sx={{ mb: 3 }}>
              {codeContent.trim()}
            </CodeEditor>
          );
          codeContent = '';
          inCodeBlock = false;
        } else {
          inCodeBlock = true;
          codeLanguage = line.replace('```', '').trim();
        }
      } else if (inCodeBlock) {
        codeContent += line + '\n';
      } else if (line.startsWith('# ')) {
        elements.push(
          <Typography key={idx} variant="h4" fontWeight={700} sx={{ mb: 2, mt: 3 }}>
            {line.replace('# ', '')}
          </Typography>
        );
      } else if (line.startsWith('## ')) {
        elements.push(
          <Typography key={idx} variant="h5" fontWeight={600} sx={{ mb: 2, mt: 3 }}>
            {line.replace('## ', '')}
          </Typography>
        );
      } else if (line.startsWith('- ')) {
        elements.push(
          <Typography key={idx} variant="body1" sx={{ ml: 2, mb: 1, display: 'flex', alignItems: 'flex-start' }}>
            <Box component="span" sx={{ mr: 1, color: tutorial.color }}></Box>
            <span dangerouslySetInnerHTML={{ __html: line.replace('- ', '').replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/`(.*?)`/g, '<code style="background:#f0f0f0;padding:2px 6px;border-radius:4px;font-family:monospace;">$1</code>') }} />
          </Typography>
        );
      } else if (line.trim()) {
        elements.push(
          <Typography key={idx} variant="body1" sx={{ mb: 2, lineHeight: 1.8 }}>
            <span dangerouslySetInnerHTML={{ __html: line.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/`(.*?)`/g, '<code style="background:#f0f0f0;padding:2px 6px;border-radius:4px;font-family:monospace;">$1</code>') }} />
          </Typography>
        );
      }
    });

    return elements;
  };

  return (
    <PageContainer>
      {/* Mobile menu button */}
      {isMobile && (
        <IconButton
          onClick={() => setDrawerOpen(true)}
          sx={{ position: 'fixed', top: 16, left: 16, zIndex: 1100, bgcolor: '#fff', boxShadow: 2 }}
        >
          <MenuIcon />
        </IconButton>
      )}

      {/* Desktop Sidebar Toggle Button */}
      {!isMobile && (
        <Tooltip title={sidebarVisible ? "Hide Sidebar" : "Show Sidebar"} placement="right">
          <SidebarToggle
            onClick={toggleSidebar}
            tutorialColor={tutorial.color}
            sidebarVisible={sidebarVisible}
          >
            {sidebarVisible ? <ChevronLeftIcon /> : <ChevronRightIcon />}
          </SidebarToggle>
        </Tooltip>
      )}

      {/* Sidebar - Desktop */}
      {!isMobile && sidebarContent}

      {/* Sidebar - Mobile Drawer */}
      <Drawer
        open={drawerOpen}
        onClose={() => setDrawerOpen(false)}
        sx={{ '& .MuiDrawer-paper': { width: 280 } }}
      >
        {sidebarContent}
      </Drawer>

      {/* Main Content */}
      <MainContent sidebarVisible={sidebarVisible}>
        {/* Lesson Content */}
        <LessonContent>
          {/* Breadcrumb */}
          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 3 }}>
            <Chip
              label={tutorial.shortTitle}
              size="small"
              sx={{ bgcolor: tutorial.bgColor, color: tutorial.color, fontWeight: 600 }}
            />
            <Typography color="text.secondary">/</Typography>
            <Typography variant="body2" color="text.secondary">
              {currentLessonData?.chapter.title}
            </Typography>
          </Box>

          {/* Lesson Title */}
          <Typography variant="h3" fontWeight={800} sx={{ mb: 4, color: tutorial.color }}>
            {lessonContent.title}
          </Typography>

          {/* Content */}
          {renderContent(lessonContent.content)}

          {/* Try It Yourself Editor - Side by Side Layout */}
          {lessonContent.tryItCode && (
            <Box sx={{ mt: 5, mb: 4 }}>
              <Typography variant="h5" fontWeight={700} sx={{ mb: 2, display: 'flex', alignItems: 'center', gap: 1 }}>
                <CodeIcon sx={{ color: tutorial.color }} />
                Try it Yourself
              </Typography>

              <Grid container spacing={2}>
                {/* Left Side - Code Editor */}
                <Grid item xs={12} md={6}>
                  <TryItEditor darkMode={darkMode} sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>
                    <EditorHeader color={tutorial.color}>
                      <Typography fontWeight={600}>Code Editor</Typography>
                      <Box sx={{ display: 'flex', gap: 1 }}>
                        <Tooltip title="Copy Code">
                          <IconButton size="small" onClick={handleCopyCode} sx={{ color: '#fff' }}>
                            <ContentCopyIcon fontSize="small" />
                          </IconButton>
                        </Tooltip>
                        <Tooltip title="Reset Code">
                          <IconButton size="small" onClick={handleResetCode} sx={{ color: '#fff' }}>
                            <RefreshIcon fontSize="small" />
                          </IconButton>
                        </Tooltip>
                        <Tooltip title={darkMode ? 'Light Mode' : 'Dark Mode'}>
                          <IconButton size="small" onClick={() => setDarkMode(!darkMode)} sx={{ color: '#fff' }}>
                            {darkMode ? <LightModeIcon fontSize="small" /> : <DarkModeIcon fontSize="small" />}
                          </IconButton>
                        </Tooltip>
                      </Box>
                    </EditorHeader>

                    <TextField
                      multiline
                      fullWidth
                      value={editorCode}
                      onChange={(e) => setEditorCode(e.target.value)}
                      variant="standard"
                      InputProps={{
                        disableUnderline: true,
                        sx: {
                          fontFamily: '"Fira Code", monospace',
                          fontSize: 14,
                          p: 2,
                          bgcolor: darkMode ? '#1e1e1e' : '#fafafa',
                          color: darkMode ? '#d4d4d4' : '#333',
                          minHeight: 300,
                          flex: 1,
                        },
                      }}
                    />

                    <Box sx={{ p: 2, borderTop: '1px solid #e0e0e0', bgcolor: darkMode ? '#252525' : '#f5f5f5' }}>
                      <Button
                        variant="contained"
                        startIcon={<PlayArrowIcon />}
                        onClick={handleRunCode}
                        sx={{
                          bgcolor: '#4CAF50',
                          '&:hover': { bgcolor: '#43A047' },
                          textTransform: 'none',
                          fontWeight: 600,
                        }}
                      >
                        Run Code
                      </Button>
                    </Box>
                  </TryItEditor>
                </Grid>

                {/* Right Side - Result Preview */}
                <Grid item xs={12} md={6}>
                  <Box
                    sx={{
                      height: '100%',
                      minHeight: 400,
                      border: '2px solid #e0e0e0',
                      borderRadius: 2,
                      overflow: 'hidden',
                      display: 'flex',
                      flexDirection: 'column',
                    }}
                  >
                    <Box
                      sx={{
                        px: 2,
                        py: 1.5,
                        bgcolor: '#f8f9fa',
                        borderBottom: '1px solid #e0e0e0',
                        display: 'flex',
                        alignItems: 'center',
                        gap: 1,
                      }}
                    >
                      <Box sx={{ display: 'flex', gap: 0.5 }}>
                        <Box sx={{ width: 12, height: 12, borderRadius: '50%', bgcolor: '#ff5f57' }} />
                        <Box sx={{ width: 12, height: 12, borderRadius: '50%', bgcolor: '#febc2e' }} />
                        <Box sx={{ width: 12, height: 12, borderRadius: '50%', bgcolor: '#28c840' }} />
                      </Box>
                      <Typography variant="subtitle2" fontWeight={600} sx={{ ml: 1, color: '#666' }}>
                        Result Preview
                      </Typography>
                    </Box>
                    <Box
                      sx={{
                        flex: 1,
                        bgcolor: '#fff',
                        p: 2,
                        overflow: 'auto',
                      }}
                    >
                      {showResult ? (
                        <iframe
                          srcDoc={editorCode}
                          title="Result Preview"
                          sandbox="allow-scripts allow-same-origin"
                          style={{
                            width: '100%',
                            height: '100%',
                            minHeight: 350,
                            border: 'none',
                            backgroundColor: '#fff',
                          }}
                        />
                      ) : (
                        <Box
                          sx={{
                            height: '100%',
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center',
                            color: '#999',
                          }}
                        >
                          <Typography variant="body2">
                            Click "Run Code" to see the result
                          </Typography>
                        </Box>
                      )}
                    </Box>
                  </Box>
                </Grid>
              </Grid>
            </Box>
          )}

          {/* Quiz Section Placeholder */}
          {currentLessonData?.lesson.hasQuiz && (
            <Paper sx={{ p: 3, mt: 4, borderRadius: 3, bgcolor: alpha('#FF9800', 0.05), border: '1px solid #FF9800' }}>
              <Typography variant="h6" fontWeight={700} sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>
                <QuizIcon sx={{ color: '#FF9800' }} />
                Test Yourself
              </Typography>
              <Typography variant="body2" color="text.secondary" sx={{ mt: 1, mb: 2 }}>
                Take a quiz to test your understanding of this lesson.
              </Typography>
              <Button
                variant="contained"
                onClick={handleStartQuiz}
                sx={{ bgcolor: '#FF9800', '&:hover': { bgcolor: '#F57C00' }, textTransform: 'none' }}
              >
                Start Quiz
              </Button>
            </Paper>
          )}
        </LessonContent>

        {/* Navigation Bar */}
        <NavigationBar color={tutorial.color}>
          <Button
            variant="outlined"
            startIcon={<ArrowBackIcon />}
            disabled={!prevLesson}
            onClick={() => prevLesson && navigateToLesson(prevLesson.slug)}
            sx={{ textTransform: 'none' }}
          >
            {prevLesson?.title || 'Previous'}
          </Button>

          <Button
            variant="contained"
            endIcon={<CheckCircleIcon />}
            onClick={markComplete}
            sx={{
              bgcolor: '#4CAF50',
              '&:hover': { bgcolor: '#43A047' },
              textTransform: 'none',
              fontWeight: 600,
            }}
          >
            Complete & Continue
          </Button>

          <Button
            variant="outlined"
            endIcon={<ArrowForwardIcon />}
            disabled={!nextLesson}
            onClick={() => nextLesson && navigateToLesson(nextLesson.slug)}
            sx={{ textTransform: 'none' }}
          >
            {nextLesson?.title || 'Next'}
          </Button>
        </NavigationBar>
      </MainContent>

      {/* Certificate Dialog */}
      <Dialog open={showCertificateDialog} onClose={() => setShowCertificateDialog(false)} maxWidth="sm" fullWidth>
        <DialogContent sx={{ textAlign: 'center', py: 5 }}>
          <Box sx={{ 
            width: 100, height: 100, borderRadius: '50%', 
            bgcolor: 'linear-gradient(135deg, #FFD700 0%, #FFA500 100%)',
            background: 'linear-gradient(135deg, #FFD700 0%, #FFA500 100%)',
            display: 'flex', alignItems: 'center', justifyContent: 'center', 
            mx: 'auto', mb: 3 
          }}>
            <EmojiEventsIcon sx={{ fontSize: 50, color: '#fff' }} />
          </Box>
          <Typography variant="h4" fontWeight={700} gutterBottom sx={{ color: '#1a237e' }}>
             Congratulations!
          </Typography>
          <Typography variant="h6" gutterBottom>
            You have completed all lessons in
          </Typography>
          <Typography variant="h5" fontWeight={700} sx={{ color: tutorial?.color, mb: 2 }}>
            {tutorial?.icon} {tutorial?.title}
          </Typography>
          <Box sx={{ 
            border: '3px solid #FFD700', 
            borderRadius: 3, 
            p: 3, 
            bgcolor: alpha('#FFD700', 0.05),
            mt: 3 
          }}>
            <WorkspacePremiumIcon sx={{ fontSize: 40, color: '#FFD700', mb: 1 }} />
            <Typography variant="h6" fontWeight={600}>
              Certificate of Completion
            </Typography>
            <Typography variant="body2" color="text.secondary" sx={{ mt: 1 }}>
              This certificate is now available in your profile!
            </Typography>
          </Box>
        </DialogContent>
        <DialogActions sx={{ justifyContent: 'center', pb: 3 }}>
          <Button 
            variant="contained" 
            onClick={() => {
              setShowCertificateDialog(false);
              navigate('/techie/profile');
            }}
            sx={{ bgcolor: '#4CAF50', px: 4 }}
          >
            View in Profile
          </Button>
          <Button onClick={() => setShowCertificateDialog(false)}>
            Close
          </Button>
        </DialogActions>
      </Dialog>

      {/* Quiz Dialog */}
      <Dialog open={showQuizDialog} onClose={() => setShowQuizDialog(false)} maxWidth="sm" fullWidth>
        <DialogTitle sx={{ bgcolor: tutorial?.color, color: '#fff', display: 'flex', alignItems: 'center', gap: 1 }}>
          <QuizIcon />
          {quizCompleted ? 'Quiz Results' : `Question ${currentQuizIndex + 1} of ${quizQuestions.length}`}
        </DialogTitle>
        <DialogContent sx={{ py: 3 }}>
          {quizCompleted ? (
            <Box sx={{ textAlign: 'center', py: 3 }}>
              <Typography variant="h2" fontWeight={700} sx={{ color: quizScore >= quizQuestions.length / 2 ? '#4CAF50' : '#f44336' }}>
                {quizScore}/{quizQuestions.length}
              </Typography>
              <Typography variant="h6" sx={{ mt: 2 }}>
                {quizScore >= quizQuestions.length / 2 ? ' Great job!' : ' Keep practicing!'}
              </Typography>
              <Typography variant="body2" color="text.secondary" sx={{ mt: 1 }}>
                You answered {quizScore} out of {quizQuestions.length} questions correctly.
              </Typography>
            </Box>
          ) : quizQuestions.length > 0 && (
            <Box>
              <Typography variant="h6" fontWeight={600} sx={{ mb: 3 }}>
                {quizQuestions[currentQuizIndex]?.q}
              </Typography>
              <FormControl component="fieldset" fullWidth>
                <RadioGroup
                  value={selectedAnswer || ''}
                  onChange={(e) => setSelectedAnswer(e.target.value)}
                >
                  {quizQuestions[currentQuizIndex]?.options.map((option: string, idx: number) => (
                    <FormControlLabel
                      key={idx}
                      value={option}
                      control={<Radio sx={{ color: tutorial?.color, '&.Mui-checked': { color: tutorial?.color } }} />}
                      label={option}
                      sx={{
                        border: '1px solid #e0e0e0',
                        borderRadius: 2,
                        mb: 1,
                        mx: 0,
                        p: 1,
                        '&:hover': { bgcolor: alpha(tutorial?.color || '#0d47a1', 0.05) },
                      }}
                    />
                  ))}
                </RadioGroup>
              </FormControl>
            </Box>
          )}
        </DialogContent>
        <DialogActions sx={{ p: 2 }}>
          {quizCompleted ? (
            <>
              <Button onClick={() => {
                setQuizCompleted(false);
                setCurrentQuizIndex(0);
                setQuizQuestions(generateQuizQuestions());
                setSelectedAnswer(null);
                setQuizScore(0);
              }}>
                Try Again
              </Button>
              <Button variant="contained" onClick={() => setShowQuizDialog(false)} sx={{ bgcolor: tutorial?.color }}>
                Done
              </Button>
            </>
          ) : (
            <>
              <Button onClick={() => setShowQuizDialog(false)}>Cancel</Button>
              <Button 
                variant="contained" 
                onClick={handleSubmitAnswer}
                disabled={!selectedAnswer}
                sx={{ bgcolor: tutorial?.color }}
              >
                {currentQuizIndex < quizQuestions.length - 1 ? 'Next' : 'Finish'}
              </Button>
            </>
          )}
        </DialogActions>
      </Dialog>
    </PageContainer>
  );
};

export default TutorialPage;

